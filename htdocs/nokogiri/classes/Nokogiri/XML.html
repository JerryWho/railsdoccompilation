  <div id="C00000006">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />XML<br/>
  In:
<a href="#" onclick="jsHref('files/ext/nokogiri/html_document_c.html');">ext/nokogiri/html_document.c</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/attr_rb.html');">lib/nokogiri/ffi/xml/attr.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/attribute_decl_rb.html');">lib/nokogiri/ffi/xml/attribute_decl.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/cdata_rb.html');">lib/nokogiri/ffi/xml/cdata.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/comment_rb.html');">lib/nokogiri/ffi/xml/comment.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/document_fragment_rb.html');">lib/nokogiri/ffi/xml/document_fragment.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/entity_reference_rb.html');">lib/nokogiri/ffi/xml/entity_reference.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/namespace_rb.html');">lib/nokogiri/ffi/xml/namespace.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/node_rb.html');">lib/nokogiri/ffi/xml/node.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/node_set_rb.html');">lib/nokogiri/ffi/xml/node_set.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/processing_instruction_rb.html');">lib/nokogiri/ffi/xml/processing_instruction.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/relax_ng_rb.html');">lib/nokogiri/ffi/xml/relax_ng.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/sax/parser_rb.html');">lib/nokogiri/ffi/xml/sax/parser.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/sax/push_parser_rb.html');">lib/nokogiri/ffi/xml/sax/push_parser.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/schema_rb.html');">lib/nokogiri/ffi/xml/schema.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/text_rb.html');">lib/nokogiri/ffi/xml/text.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/xpath_rb.html');">lib/nokogiri/ffi/xml/xpath.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/ffi/xml/xpath_context_rb.html');">lib/nokogiri/ffi/xml/xpath_context.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/attribute_decl_rb.html');">lib/nokogiri/xml/attribute_decl.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/builder_rb.html');">lib/nokogiri/xml/builder.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/document_rb.html');">lib/nokogiri/xml/document.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/document_fragment_rb.html');">lib/nokogiri/xml/document_fragment.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/dtd_rb.html');">lib/nokogiri/xml/dtd.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/element_decl_rb.html');">lib/nokogiri/xml/element_decl.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/entity_decl_rb.html');">lib/nokogiri/xml/entity_decl.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/node_rb.html');">lib/nokogiri/xml/node.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/node_set_rb.html');">lib/nokogiri/xml/node_set.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/reader_rb.html');">lib/nokogiri/xml/reader.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/sax/document_rb.html');">lib/nokogiri/xml/sax/document.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/sax/push_parser_rb.html');">lib/nokogiri/xml/sax/push_parser.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/schema_rb.html');">lib/nokogiri/xml/schema.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/syntax_error_rb.html');">lib/nokogiri/xml/syntax_error.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/text_rb.html');">lib/nokogiri/xml/text.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/xpath/syntax_error_rb.html');">lib/nokogiri/xml/xpath/syntax_error.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml_rb.html');">lib/nokogiri/xml.rb</a>
<a href="#" onclick="jsHref('files/test/xml/sax/test_parser_rb.html');">test/xml/sax/test_parser.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_attr_rb.html');">test/xml/test_attr.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_attribute_decl_rb.html');">test/xml/test_attribute_decl.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_builder_rb.html');">test/xml/test_builder.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_cdata_rb.html');">test/xml/test_cdata.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_document_rb.html');">test/xml/test_document.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_document_fragment_rb.html');">test/xml/test_document_fragment.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_dtd_rb.html');">test/xml/test_dtd.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_element_content_rb.html');">test/xml/test_element_content.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_element_decl_rb.html');">test/xml/test_element_decl.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_entity_decl_rb.html');">test/xml/test_entity_decl.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_namespace_rb.html');">test/xml/test_namespace.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_node_rb.html');">test/xml/test_node.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_node_reparenting_rb.html');">test/xml/test_node_reparenting.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_node_set_rb.html');">test/xml/test_node_set.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_text_rb.html');">test/xml/test_text.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_unparented_node_rb.html');">test/xml/test_unparented_node.rb</a>
<a href="#" onclick="jsHref('files/test/xml/test_xpath_rb.html');">test/xml/test_xpath.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
<a href="index.html?a=C00000006&name=Nokogiri::XML">Nokogiri::XML</a>
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000068&name=Reader" >Reader</a></li>
  <li><a href="index.html?a=M000067&name=Schema" >Schema</a></li>
  <li><a href="index.html?a=M000148&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000150&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000070&name=fragment" >fragment</a></li>
  <li><a href="index.html?a=M000112&name=new" >new</a></li>
  <li><a href="index.html?a=M000076&name=new" >new</a></li>
  <li><a href="index.html?a=M000069&name=parse" >parse</a></li>
  <li><a href="index.html?a=M000071&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000128&name=test_XML_function" >test_XML_function</a></li>
  <li><a href="index.html?a=M000109&name=test_XML_takes_block" >test_XML_takes_block</a></li>
  <li><a href="index.html?a=M000098&name=test_add_child_fragment_with_multiple_nodes" >test_add_child_fragment_with_multiple_nodes</a></li>
  <li><a href="index.html?a=M000097&name=test_add_child_fragment_with_single_node" >test_add_child_fragment_with_single_node</a></li>
  <li><a href="index.html?a=M000099&name=test_add_child_with_multiple_roots" >test_add_child_with_multiple_roots</a></li>
  <li><a href="index.html?a=M000090&name=test_add_namespace" >test_add_namespace</a></li>
  <li><a href="index.html?a=M000119&name=test_ancestors" >test_ancestors</a></li>
  <li><a href="index.html?a=M000091&name=test_attributes" >test_attributes</a></li>
  <li><a href="index.html?a=M000134&name=test_bad_xpath_raises_syntax_error" >test_bad_xpath_raises_syntax_error</a></li>
  <li><a href="index.html?a=M000104&name=test_clone" >test_clone</a></li>
  <li><a href="index.html?a=M000074&name=test_collect_namespaces" >test_collect_namespaces</a></li>
  <li><a href="index.html?a=M000082&name=test_create_cdata" >test_create_cdata</a></li>
  <li><a href="index.html?a=M000078&name=test_create_element" >test_create_element</a></li>
  <li><a href="index.html?a=M000079&name=test_create_element_with_attributes" >test_create_element_with_attributes</a></li>
  <li><a href="index.html?a=M000081&name=test_create_element_with_content" >test_create_element_with_content</a></li>
  <li><a href="index.html?a=M000080&name=test_create_element_with_namespace" >test_create_element_with_namespace</a></li>
  <li><a href="index.html?a=M000088&name=test_create_external_subset" >test_create_external_subset</a></li>
  <li><a href="index.html?a=M000087&name=test_create_external_subset_fails_with_existing_subset" >test_create_external_subset_fails_with_existing_subset</a></li>
  <li><a href="index.html?a=M000085&name=test_create_internal_subset" >test_create_internal_subset</a></li>
  <li><a href="index.html?a=M000084&name=test_create_internal_subset_on_existing_subset" >test_create_internal_subset_on_existing_subset</a></li>
  <li><a href="index.html?a=M000077&name=test_create_text_node" >test_create_text_node</a></li>
  <li><a href="index.html?a=M000149&name=test_decorator_is_applied" >test_decorator_is_applied</a></li>
  <li><a href="index.html?a=M000137&name=test_document" >test_document</a></li>
  <li><a href="index.html?a=M000126&name=test_document_has_errors" >test_document_has_errors</a></li>
  <li><a href="index.html?a=M000131&name=test_document_name" >test_document_name</a></li>
  <li><a href="index.html?a=M000130&name=test_document_parent" >test_document_parent</a></li>
  <li><a href="index.html?a=M000115&name=test_document_parse_method" >test_document_parse_method</a></li>
  <li><a href="index.html?a=M000105&name=test_document_should_not_have_default_ns" >test_document_should_not_have_default_ns</a></li>
  <li><a href="index.html?a=M000142&name=test_dump" >test_dump</a></li>
  <li><a href="index.html?a=M000143&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000095&name=test_empty_node_converted_to_html_is_not_self_closing" >test_empty_node_converted_to_html_is_not_self_closing</a></li>
  <li><a href="index.html?a=M000125&name=test_encoding" >test_encoding</a></li>
  <li><a href="index.html?a=M000116&name=test_encoding=" >test_encoding=</a></li>
  <li><a href="index.html?a=M000086&name=test_external_subset" >test_external_subset</a></li>
  <li><a href="index.html?a=M000135&name=test_find_with_namespace" >test_find_with_namespace</a></li>
  <li><a href="index.html?a=M000096&name=test_fragment" >test_fragment</a></li>
  <li><a href="index.html?a=M000094&name=test_line" >test_line</a></li>
  <li><a href="index.html?a=M000100&name=test_move_root_to_document_with_no_root" >test_move_root_to_document_with_no_root</a></li>
  <li><a href="index.html?a=M000101&name=test_move_root_with_existing_root_gets_gcd" >test_move_root_with_existing_root_gets_gcd</a></li>
  <li><a href="index.html?a=M000139&name=test_multiple_search" >test_multiple_search</a></li>
  <li><a href="index.html?a=M000092&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M000093&name=test_namespace_definitions" >test_namespace_definitions</a></li>
  <li><a href="index.html?a=M000117&name=test_namespace_should_not_exist" >test_namespace_should_not_exist</a></li>
  <li><a href="index.html?a=M000144&name=test_new" >test_new</a></li>
  <li><a href="index.html?a=M000140&name=test_node_set_index" >test_node_set_index</a></li>
  <li><a href="index.html?a=M000118&name=test_non_existant_function" >test_non_existant_function</a></li>
  <li><a href="index.html?a=M000132&name=test_parse_can_take_io" >test_parse_can_take_io</a></li>
  <li><a href="index.html?a=M000106&name=test_parse_handles_nil_gracefully" >test_parse_handles_nil_gracefully</a></li>
  <li><a href="index.html?a=M000073&name=test_parse_should_not_exist" >test_parse_should_not_exist</a></li>
  <li><a href="index.html?a=M000107&name=test_parse_takes_block" >test_parse_takes_block</a></li>
  <li><a href="index.html?a=M000108&name=test_parse_yields_parse_options" >test_parse_yields_parse_options</a></li>
  <li><a href="index.html?a=M000083&name=test_pp" >test_pp</a></li>
  <li><a href="index.html?a=M000146&name=test_remove_namespaces" >test_remove_namespaces</a></li>
  <li><a href="index.html?a=M000120&name=test_root_node_parent_is_document" >test_root_node_parent_is_document</a></li>
  <li><a href="index.html?a=M000072&name=test_root_set_to_nil" >test_root_set_to_nil</a></li>
  <li><a href="index.html?a=M000141&name=test_search" >test_search</a></li>
  <li><a href="index.html?a=M000133&name=test_search_on_empty_documents" >test_search_on_empty_documents</a></li>
  <li><a href="index.html?a=M000145&name=test_set_root" >test_set_root</a></li>
  <li><a href="index.html?a=M000138&name=test_singleton_methods" >test_singleton_methods</a></li>
  <li><a href="index.html?a=M000127&name=test_strict_document_throws_syntax_error" >test_strict_document_throws_syntax_error</a></li>
  <li><a href="index.html?a=M000110&name=test_subclass" >test_subclass</a></li>
  <li><a href="index.html?a=M000113&name=test_subclass_dup" >test_subclass_dup</a></li>
  <li><a href="index.html?a=M000111&name=test_subclass_initialize" >test_subclass_initialize</a></li>
  <li><a href="index.html?a=M000075&name=test_subclass_initialize_modify" >test_subclass_initialize_modify</a></li>
  <li><a href="index.html?a=M000114&name=test_subclass_parse" >test_subclass_parse</a></li>
  <li><a href="index.html?a=M000147&name=test_subset_is_decorated" >test_subset_is_decorated</a></li>
  <li><a href="index.html?a=M000123&name=test_to_xml_with_indent" >test_to_xml_with_indent</a></li>
  <li><a href="index.html?a=M000129&name=test_url" >test_url</a></li>
  <li><a href="index.html?a=M000102&name=test_validate" >test_validate</a></li>
  <li><a href="index.html?a=M000103&name=test_validate_no_internal_subset" >test_validate_no_internal_subset</a></li>
  <li><a href="index.html?a=M000089&name=test_version" >test_version</a></li>
  <li><a href="index.html?a=M000124&name=test_write_xml_to_with_indent" >test_write_xml_to_with_indent</a></li>
  <li><a href="index.html?a=M000136&name=test_xml?" >test_xml?</a></li>
  <li><a href="index.html?a=M000121&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  <li><a href="index.html?a=M000122&name=test_xmlns_is_registered_for_nodesets" >test_xmlns_is_registered_for_nodesets</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Module "<a href="#" onclick="jsHref('classes/Nokogiri/XML/SAX.html');" class="link">Nokogiri::XML::SAX</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Attr.html');" class="link">Nokogiri::XML::Attr</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/AttributeDecl.html');" class="link">Nokogiri::XML::AttributeDecl</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Builder.html');" class="link">Nokogiri::XML::Builder</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/CDATA.html');" class="link">Nokogiri::XML::CDATA</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/CharacterData.html');" class="link">Nokogiri::XML::CharacterData</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Comment.html');" class="link">Nokogiri::XML::Comment</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/DTD.html');" class="link">Nokogiri::XML::DTD</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Document.html');" class="link">Nokogiri::XML::Document</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/DocumentFragment.html');" class="link">Nokogiri::XML::DocumentFragment</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Element.html');" class="link">Nokogiri::XML::Element</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/ElementContent.html');" class="link">Nokogiri::XML::ElementContent</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/ElementDecl.html');" class="link">Nokogiri::XML::ElementDecl</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/EntityDecl.html');" class="link">Nokogiri::XML::EntityDecl</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/EntityReference.html');" class="link">Nokogiri::XML::EntityReference</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Namespace.html');" class="link">Nokogiri::XML::Namespace</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Node.html');" class="link">Nokogiri::XML::Node</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/NodeSet.html');" class="link">Nokogiri::XML::NodeSet</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/ProcessingInstruction.html');" class="link">Nokogiri::XML::ProcessingInstruction</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Reader.html');" class="link">Nokogiri::XML::Reader</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/RelaxNG.html');" class="link">Nokogiri::XML::RelaxNG</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Schema.html');" class="link">Nokogiri::XML::Schema</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/SyntaxError.html');" class="link">Nokogiri::XML::SyntaxError</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestAttr.html');" class="link">Nokogiri::XML::TestAttr</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestAttributeDecl.html');" class="link">Nokogiri::XML::TestAttributeDecl</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestBuilder.html');" class="link">Nokogiri::XML::TestBuilder</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestCDATA.html');" class="link">Nokogiri::XML::TestCDATA</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestDTD.html');" class="link">Nokogiri::XML::TestDTD</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestDocument.html');" class="link">Nokogiri::XML::TestDocument</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestDocumentFragment.html');" class="link">Nokogiri::XML::TestDocumentFragment</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestElementContent.html');" class="link">Nokogiri::XML::TestElementContent</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestElementDecl.html');" class="link">Nokogiri::XML::TestElementDecl</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestEntityDecl.html');" class="link">Nokogiri::XML::TestEntityDecl</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestNamespace.html');" class="link">Nokogiri::XML::TestNamespace</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestNode.html');" class="link">Nokogiri::XML::TestNode</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestNodeReparenting.html');" class="link">Nokogiri::XML::TestNodeReparenting</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestNodeSet.html');" class="link">Nokogiri::XML::TestNodeSet</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestText.html');" class="link">Nokogiri::XML::TestText</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestUnparentedNode.html');" class="link">Nokogiri::XML::TestUnparentedNode</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/TestXPath.html');" class="link">Nokogiri::XML::TestXPath</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Text.html');" class="link">Nokogiri::XML::Text</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/XPath.html');" class="link">Nokogiri::XML::XPath</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/XPathContext.html');" class="link">Nokogiri::XML::XPathContext</a>"<br />




<div class="sectiontitle">Public Class methods</div>
<div id="M000068" class="method">
  <div id="M000068_title" class="title">
    <b>Reader</b>(string_or_io, url = nil, encoding = nil, options = ParseOptions::STRICT) {|options if block_given?| ...}
  </div>
  <div class="description">
  <p>
Parse an <a href="index.html?a=C00000006&name=XML">XML</a> document using
the <a
href="index.html?a=C00000034&name=Nokogiri::XML::Reader">Nokogiri::XML::Reader</a>
API. See <a
href="index.html?a=C00000034&name=Nokogiri::XML::Reader">Nokogiri::XML::Reader</a>
for mor information
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000068_source')" id="l_M000068_source">show source</a> ]</p>
  <div id="M000068_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/nokogiri/xml.rb, line 42</span>
42:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Reader</span> <span class="ruby-identifier">string_or_io</span>, <span class="ruby-identifier">url</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = <span class="ruby-constant">ParseOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">STRICT</span>
43: 
44:         <span class="ruby-identifier">options</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">ParseOptions</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Fixnum</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span>
45:         <span class="ruby-comment cmt"># Give the options to the user</span>
46:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">options</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
47: 
48:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">string_or_io</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:read</span>
49:           <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Reader</span>.<span class="ruby-identifier">from_io</span>(<span class="ruby-identifier">string_or_io</span>, <span class="ruby-identifier">url</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">to_i</span>)
50:         <span class="ruby-keyword kw">end</span>
51:         <span class="ruby-constant">Reader</span>.<span class="ruby-identifier">from_memory</span>(<span class="ruby-identifier">string_or_io</span>, <span class="ruby-identifier">url</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">to_i</span>)
52:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000067" class="method">
  <div id="M000067_title" class="title">
    <b>Schema</b>(string_or_io)
  </div>
  <div class="description">
  <p>
Create a new <a
href="index.html?a=C00000023&name=Nokogiri::XML::Schema">Nokogiri::XML::Schema</a>
object using a <tt>string_or_io</tt> object.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000067_source')" id="l_M000067_source">show source</a> ]</p>
  <div id="M000067_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File lib/nokogiri/xml/schema.rb, line 7</span>
7:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Schema</span> <span class="ruby-identifier">string_or_io</span>
8:         <span class="ruby-constant">Schema</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">string_or_io</span>)
9:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000070" class="method">
  <div id="M000070_title" class="title">
    <b>fragment</b>(string)
  </div>
  <div class="description">
  <p>
Parse a fragment from <tt>string</tt> in to a <a
href="index.html?a=C00000026&name=NodeSet">NodeSet</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000070_source')" id="l_M000070_source">show source</a> ]</p>
  <div id="M000070_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/nokogiri/xml.rb, line 62</span>
62:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fragment</span> <span class="ruby-identifier">string</span>
63:         <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentFragment</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">string</span>)
64:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000112" class="method">
  <div id="M000112_title" class="title">
    <b>new</b>(*args)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000112_source')" id="l_M000112_source">show source</a> ]</p>
  <div id="M000112_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 298</span>
298:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
299:             <span class="ruby-ivar">@initialized_with</span> = <span class="ruby-identifier">args</span>
300:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000076" class="method">
  <div id="M000076_title" class="title">
    <b>new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000076_source')" id="l_M000076_source">show source</a> ]</p>
  <div id="M000076_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 45</span>
45:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
46:             <span class="ruby-keyword kw">super</span>
47:             <span class="ruby-identifier">body_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-value str">&quot;body&quot;</span>, <span class="ruby-keyword kw">self</span>
48:             <span class="ruby-identifier">body_node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">&quot;stuff&quot;</span>
49:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">body_node</span>
50:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000069" class="method">
  <div id="M000069_title" class="title">
    <b>parse</b>(thing, url = nil, encoding = nil, options = ParseOptions::DEFAULT_XML, &amp;block)
  </div>
  <div class="description">
  <p>
Parse <a href="index.html?a=C00000006&name=XML">XML</a>. Convenience method
for <a
href="index.html?a=M000851&name=Nokogiri::XML::Document.parse">Nokogiri::XML::Document.parse</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000069_source')" id="l_M000069_source">show source</a> ]</p>
  <div id="M000069_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/nokogiri/xml.rb, line 56</span>
56:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span> <span class="ruby-identifier">thing</span>, <span class="ruby-identifier">url</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = <span class="ruby-constant">ParseOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XML</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
57:         <span class="ruby-constant">Document</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">thing</span>, <span class="ruby-identifier">url</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
58:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000148" class="method">
  <div id="M000148_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000148_source')" id="l_M000148_source">show source</a> ]</p>
  <div id="M000148_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 642</span>
642:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
643:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000150" class="method">
  <div id="M000150_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000150_source')" id="l_M000150_source">show source</a> ]</p>
  <div id="M000150_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 658</span>
658:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
659:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000071" class="method">
  <div id="M000071_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000071_source')" id="l_M000071_source">show source</a> ]</p>
  <div id="M000071_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 14</span>
14:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
15:         <span class="ruby-keyword kw">super</span>
16:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
17:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000128" class="method">
  <div id="M000128_title" class="title">
    <b>test_XML_function</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000128_source')" id="l_M000128_source">show source</a> ]</p>
  <div id="M000128_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 455</span>
455:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_XML_function</span>
456:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
457:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xml?</span>
458:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000109" class="method">
  <div id="M000109_title" class="title">
    <b>test_XML_takes_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000109_source')" id="l_M000109_source">show source</a> ]</p>
  <div id="M000109_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 277</span>
277:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_XML_takes_block</span>
278:         <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
279:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
280:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">cfg</span>
281:           <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet</span>.<span class="ruby-identifier">nowarning</span>.<span class="ruby-identifier">dtdattr</span>
282:         <span class="ruby-keyword kw">end</span>
283:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet?</span>
284:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nowarning?</span>
285:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dtdattr?</span>
286:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000098" class="method">
  <div id="M000098_title" class="title">
    <b>test_add_child_fragment_with_multiple_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000098_source')" id="l_M000098_source">show source</a> ]</p>
  <div id="M000098_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 200</span>
200:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_fragment_with_multiple_nodes</span>
201:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
202:         <span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;hello /&gt;&lt;goodbye /&gt;'</span>)
203:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
204:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">fragment</span>
205:         <span class="ruby-keyword kw">end</span>
206:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000097" class="method">
  <div id="M000097_title" class="title">
    <b>test_add_child_fragment_with_single_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000097_source')" id="l_M000097_source">show source</a> ]</p>
  <div id="M000097_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 192</span>
192:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_fragment_with_single_node</span>
193:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
194:         <span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;hello /&gt;'</span>)
195:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">fragment</span>
196:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/hello'</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//hello'</span>).<span class="ruby-identifier">path</span>
197:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">name</span>
198:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000099" class="method">
  <div id="M000099_title" class="title">
    <b>test_add_child_with_multiple_roots</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000099_source')" id="l_M000099_source">show source</a> ]</p>
  <div id="M000099_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 208</span>
208:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_with_multiple_roots</span>
209:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
210:           <span class="ruby-ivar">@xml</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
211:         <span class="ruby-keyword kw">end</span>
212:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000090" class="method">
  <div id="M000090_title" class="title">
    <b>test_add_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show source</a> ]</p>
  <div id="M000090_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 152</span>
152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace</span>
153:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
154:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'bar'</span>)
155:         <span class="ruby-keyword kw">end</span>
156:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000119" class="method">
  <div id="M000119_title" class="title">
    <b>test_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000119_source')" id="l_M000119_source">show source</a> ]</p>
  <div id="M000119_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 353</span>
353:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ancestors</span>
354:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
355:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000091" class="method">
  <div id="M000091_title" class="title">
    <b>test_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000091_source')" id="l_M000091_source">show source</a> ]</p>
  <div id="M000091_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 158</span>
158:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attributes</span>
159:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
160:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">attributes</span>
161:         <span class="ruby-keyword kw">end</span>
162:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000134" class="method">
  <div id="M000134_title" class="title">
    <b>test_bad_xpath_raises_syntax_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000134_source')" id="l_M000134_source">show source</a> ]</p>
  <div id="M000134_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 499</span>
499:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_bad_xpath_raises_syntax_error</span>
500:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPath</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
501:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'\\'</span>)
502:         }
503:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000104" class="method">
  <div id="M000104_title" class="title">
    <b>test_clone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000104_source')" id="l_M000104_source">show source</a> ]</p>
  <div id="M000104_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 235</span>
235:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_clone</span>
236:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">clone</span>
237:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000074" class="method">
  <div id="M000074_title" class="title">
    <b>test_collect_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000074_source')" id="l_M000074_source">show source</a> ]</p>
  <div id="M000074_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 30</span>
30:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_collect_namespaces</span>
31:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;xml&gt;\n&lt;foo xmlns='hello'&gt;\n&lt;bar xmlns:foo='world' /&gt;\n&lt;/foo&gt;\n&lt;/xml&gt;\n&quot;</span>)
32:         <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value str">&quot;xmlns&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value str">&quot;xmlns:foo&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;world&quot;</span>},
33:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">collect_namespaces</span>)
34:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000082" class="method">
  <div id="M000082_title" class="title">
    <b>test_create_cdata</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000082_source')" id="l_M000082_source">show source</a> ]</p>
  <div id="M000082_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 85</span>
85:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_cdata</span>
86:         <span class="ruby-identifier">cdata</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_cdata</span>(<span class="ruby-value str">&quot;abc&quot;</span>)
87:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">CDATA</span>, <span class="ruby-identifier">cdata</span>
88:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-identifier">cdata</span>.<span class="ruby-identifier">content</span>
89:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000078" class="method">
  <div id="M000078_title" class="title">
    <b>test_create_element</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000078_source')" id="l_M000078_source">show source</a> ]</p>
  <div id="M000078_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_element</span>
62:         <span class="ruby-identifier">elm</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_element</span>(<span class="ruby-value str">'foo'</span>)
63:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">elm</span>
64:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">name</span>
65:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">document</span>
66:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000079" class="method">
  <div id="M000079_title" class="title">
    <b>test_create_element_with_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000079_source')" id="l_M000079_source">show source</a> ]</p>
  <div id="M000079_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 68</span>
68:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_element_with_attributes</span>
69:         <span class="ruby-identifier">elm</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_element</span>(<span class="ruby-value str">'foo'</span>,<span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;1&quot;</span>)
70:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">elm</span>
71:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Attr</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;a&quot;</span>]
72:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">elm</span>[<span class="ruby-value str">&quot;a&quot;</span>]
73:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000081" class="method">
  <div id="M000081_title" class="title">
    <b>test_create_element_with_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000081_source')" id="l_M000081_source">show source</a> ]</p>
  <div id="M000081_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 80</span>
80:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_element_with_content</span>
81:         <span class="ruby-identifier">elm</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_element</span>(<span class="ruby-value str">'foo'</span>,<span class="ruby-value str">&quot;needs more xml/violence&quot;</span>)
82:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;needs more xml/violence&quot;</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">content</span>
83:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000080" class="method">
  <div id="M000080_title" class="title">
    <b>test_create_element_with_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000080_source')" id="l_M000080_source">show source</a> ]</p>
  <div id="M000080_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 75</span>
75:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_element_with_namespace</span>
76:         <span class="ruby-identifier">elm</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_element</span>(<span class="ruby-value str">'foo'</span>,<span class="ruby-value str">'xmlns:foo'</span><span class="ruby-value str">'xmlns:foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
77:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:foo'</span>]
78:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000088" class="method">
  <div id="M000088_title" class="title">
    <b>test_create_external_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000088_source')" id="l_M000088_source">show source</a> ]</p>
  <div id="M000088_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 140</span>
140:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_external_subset</span>
141:         <span class="ruby-identifier">dtd</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_external_subset</span>(<span class="ruby-value str">'staff'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
142:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">dtd</span>.<span class="ruby-identifier">external_id</span>
143:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'staff.dtd'</span>, <span class="ruby-identifier">dtd</span>.<span class="ruby-identifier">system_id</span>
144:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'staff'</span>, <span class="ruby-identifier">dtd</span>.<span class="ruby-identifier">name</span>
145:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">dtd</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
146:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000087" class="method">
  <div id="M000087_title" class="title">
    <b>test_create_external_subset_fails_with_existing_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000087_source')" id="l_M000087_source">show source</a> ]</p>
  <div id="M000087_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 126</span>
126:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_external_subset_fails_with_existing_subset</span>
127:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
128:         <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-constant">ASSETS_DIR</span>) <span class="ruby-keyword kw">do</span>
129:           <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
130:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">dtdload</span>
131:           }
132:         <span class="ruby-keyword kw">end</span>
133:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
134: 
135:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
136:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_external_subset</span>(<span class="ruby-value str">'staff'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
137:         <span class="ruby-keyword kw">end</span>
138:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000085" class="method">
  <div id="M000085_title" class="title">
    <b>test_create_internal_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000085_source')" id="l_M000085_source">show source</a> ]</p>
  <div id="M000085_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 105</span>
105:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_internal_subset</span>
106:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root /&gt;'</span>)
107:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">internal_subset</span>
108: 
109:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">create_internal_subset</span>(<span class="ruby-value str">'name'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
110:         <span class="ruby-identifier">ss</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">internal_subset</span>
111:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'name'</span>, <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">name</span>
112:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">external_id</span>
113:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'staff.dtd'</span>, <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">system_id</span>
114:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000084" class="method">
  <div id="M000084_title" class="title">
    <b>test_create_internal_subset_on_existing_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000084_source')" id="l_M000084_source">show source</a> ]</p>
  <div id="M000084_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_internal_subset_on_existing_subset</span>
 99:         <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">internal_subset</span>
100:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
101:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_internal_subset</span>(<span class="ruby-value str">'staff'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
102:         <span class="ruby-keyword kw">end</span>
103:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000077" class="method">
  <div id="M000077_title" class="title">
    <b>test_create_text_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000077_source')" id="l_M000077_source">show source</a> ]</p>
  <div id="M000077_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 54</span>
54:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_text_node</span>
55:         <span class="ruby-identifier">txt</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_text_node</span> <span class="ruby-value str">'foo'</span>
56:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>, <span class="ruby-identifier">txt</span>
57:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">text</span>
58:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">document</span>
59:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000149" class="method">
  <div id="M000149_title" class="title">
    <b>test_decorator_is_applied</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000149_source')" id="l_M000149_source">show source</a> ]</p>
  <div id="M000149_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 656</span>
656:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_decorator_is_applied</span>
657:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
658:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
659:           <span class="ruby-keyword kw">end</span>
660:         <span class="ruby-keyword kw">end</span>
661:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
662: 
663:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
664:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
665:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
666:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
667:           <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>), <span class="ruby-identifier">node</span>.<span class="ruby-identifier">class</span>
668:         <span class="ruby-keyword kw">end</span>
669:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
670:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
671:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000137" class="method">
  <div id="M000137_title" class="title">
    <b>test_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show source</a> ]</p>
  <div id="M000137_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 537</span>
537:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document</span>
538:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">document</span>
539:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000126" class="method">
  <div id="M000126_title" class="title">
    <b>test_document_has_errors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000126_source')" id="l_M000126_source">show source</a> ]</p>
  <div id="M000126_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 425</span>
425:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_has_errors</span>
426:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;\n&quot;</span>)
427:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
428:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
429:           <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">inspect</span>
430:           <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">to_s</span>
431:         <span class="ruby-keyword kw">end</span>
432:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000131" class="method">
  <div id="M000131_title" class="title">
    <b>test_document_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000131_source')" id="l_M000131_source">show source</a> ]</p>
  <div id="M000131_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 472</span>
472:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_name</span>
473:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
474:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'document'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">name</span>
475:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000130" class="method">
  <div id="M000130_title" class="title">
    <b>test_document_parent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000130_source')" id="l_M000130_source">show source</a> ]</p>
  <div id="M000130_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 465</span>
465:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_parent</span>
466:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
467:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NoMethodError</span>) {
468:           <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">parent</span>
469:         }
470:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000115" class="method">
  <div id="M000115_title" class="title">
    <b>test_document_parse_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000115_source')" id="l_M000115_source">show source</a> ]</p>
  <div id="M000115_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 319</span>
319:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_parse_method</span>
320:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>))
321:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>
322:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000105" class="method">
  <div id="M000105_title" class="title">
    <b>test_document_should_not_have_default_ns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000105_source')" id="l_M000105_source">show source</a> ]</p>
  <div id="M000105_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 239</span>
239:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_should_not_have_default_ns</span>
240:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
241: 
242:         <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
243:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">default_namespace</span> = <span class="ruby-value str">'http://innernet.com/'</span>
244:         <span class="ruby-keyword kw">end</span>
245: 
246:         <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
247:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">add_namespace_definition</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'bar'</span>)
248:         <span class="ruby-keyword kw">end</span>
249:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000142" class="method">
  <div id="M000142_title" class="title">
    <b>test_dump</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show source</a> ]</p>
  <div id="M000142_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 577</span>
577:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dump</span>
578:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>
579:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>
580:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000143" class="method">
  <div id="M000143_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show source</a> ]</p>
  <div id="M000143_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 582</span>
582:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
583:         <span class="ruby-identifier">dup</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">dup</span>
584:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>, <span class="ruby-identifier">dup</span>
585:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">xml?</span>, <span class="ruby-value str">'duplicate should be xml'</span>
586:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000095" class="method">
  <div id="M000095_title" class="title">
    <b>test_empty_node_converted_to_html_is_not_self_closing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000095_source')" id="l_M000095_source">show source</a> ]</p>
  <div id="M000095_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_node_converted_to_html_is_not_self_closing</span>
183:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;a&gt;&lt;/a&gt;'</span>)
184:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a&gt;&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">inner_html</span>
185:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000125" class="method">
  <div id="M000125_title" class="title">
    <b>test_encoding</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000125_source')" id="l_M000125_source">show source</a> ]</p>
  <div id="M000125_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 419</span>
419:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encoding</span>
420:           <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>, <span class="ruby-value str">'UTF-8'</span>)
421:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'UTF-8'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">encoding</span>
422:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000116" class="method">
  <div id="M000116_title" class="title">
    <b>test_encoding=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000116_source')" id="l_M000116_source">show source</a> ]</p>
  <div id="M000116_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 324</span>
324:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encoding=</span>
325:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-value str">'UTF-8'</span>
326:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'UTF-8'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>
327: 
328:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-value str">'EUC-JP'</span>
329:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'EUC-JP'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>
330:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000086" class="method">
  <div id="M000086_title" class="title">
    <b>test_external_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000086_source')" id="l_M000086_source">show source</a> ]</p>
  <div id="M000086_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 116</span>
116:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_external_subset</span>
117:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
118:         <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-constant">ASSETS_DIR</span>) <span class="ruby-keyword kw">do</span>
119:           <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
120:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">dtdload</span>
121:           }
122:         <span class="ruby-keyword kw">end</span>
123:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
124:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000135" class="method">
  <div id="M000135_title" class="title">
    <b>test_find_with_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000135_source')" id="l_M000135_source">show source</a> ]</p>
  <div id="M000135_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 505</span>
505:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_with_namespace</span>
506:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:tenderlove='http://tenderlovemaking.com/'&gt;\n&lt;tenderlove:foo awesome='true'&gt;snuggles!&lt;/tenderlove:foo&gt;\n&lt;/x&gt;\n&quot;</span>)
507: 
508:         <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>)
509:         <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_ns</span> <span class="ruby-value str">'tenderlove'</span>, <span class="ruby-value str">'http://tenderlovemaking.com/'</span>
510:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-value str">'//tenderlove:foo'</span>)
511:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
512:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
513: 
514:         <span class="ruby-comment cmt"># It looks like only the URI is important:</span>
515:         <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>)
516:         <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_ns</span> <span class="ruby-value str">'america'</span>, <span class="ruby-value str">'http://tenderlovemaking.com/'</span>
517:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-value str">'//america:foo'</span>)
518:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
519:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
520: 
521:         <span class="ruby-comment cmt"># Its so important that a missing slash will cause it to return nothing</span>
522:         <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>)
523:         <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_ns</span> <span class="ruby-value str">'america'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>
524:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-value str">'//america:foo'</span>)
525:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
526:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000096" class="method">
  <div id="M000096_title" class="title">
    <b>test_fragment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000096_source')" id="l_M000096_source">show source</a> ]</p>
  <div id="M000096_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 187</span>
187:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fragment</span>
188:         <span class="ruby-identifier">fragment</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">fragment</span>
189:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
190:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000094" class="method">
  <div id="M000094_title" class="title">
    <b>test_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000094_source')" id="l_M000094_source">show source</a> ]</p>
  <div id="M000094_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_line</span>
177:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
178:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">line</span>
179:         <span class="ruby-keyword kw">end</span>
180:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000100" class="method">
  <div id="M000100_title" class="title">
    <b>test_move_root_to_document_with_no_root</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000100_source')" id="l_M000100_source">show source</a> ]</p>
  <div id="M000100_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 214</span>
214:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_move_root_to_document_with_no_root</span>
215:         <span class="ruby-identifier">sender</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;foo&lt;/root&gt;'</span>)
216:         <span class="ruby-identifier">newdoc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
217:         <span class="ruby-identifier">newdoc</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">sender</span>.<span class="ruby-identifier">root</span>
218:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000101" class="method">
  <div id="M000101_title" class="title">
    <b>test_move_root_with_existing_root_gets_gcd</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000101_source')" id="l_M000101_source">show source</a> ]</p>
  <div id="M000101_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 220</span>
220:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_move_root_with_existing_root_gets_gcd</span>
221:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;test&lt;/root&gt;'</span>)
222:         <span class="ruby-identifier">doc2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-node">&quot;&lt;root&gt;#{'x' * 5000000}&lt;/root&gt;&quot;</span>)
223:         <span class="ruby-identifier">doc2</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
224:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000139" class="method">
  <div id="M000139_title" class="title">
    <b>test_multiple_search</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000139_source')" id="l_M000139_source">show source</a> ]</p>
  <div id="M000139_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 552</span>
552:       <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_multiple_search</span><span class="ruby-identifier">test_multiple_search</span>
553:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>, <span class="ruby-value str">'//name'</span>)
554:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
555:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//name'</span>)
556:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
557:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000092" class="method">
  <div id="M000092_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000092_source')" id="l_M000092_source">show source</a> ]</p>
  <div id="M000092_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 164</span>
164:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
165:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
166:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">namespace</span>
167:         <span class="ruby-keyword kw">end</span>
168:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000093" class="method">
  <div id="M000093_title" class="title">
    <b>test_namespace_definitions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000093_source')" id="l_M000093_source">show source</a> ]</p>
  <div id="M000093_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 170</span>
170:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_definitions</span>
171:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
172:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">namespace_definitions</span>
173:         <span class="ruby-keyword kw">end</span>
174:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000117" class="method">
  <div id="M000117_title" class="title">
    <b>test_namespace_should_not_exist</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000117_source')" id="l_M000117_source">show source</a> ]</p>
  <div id="M000117_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 332</span>
332:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_should_not_exist</span>
333:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NoMethodError</span>) {
334:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">namespace</span>
335:         }
336:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000144" class="method">
  <div id="M000144_title" class="title">
    <b>test_new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show source</a> ]</p>
  <div id="M000144_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 588</span>
588:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new</span>
589:         <span class="ruby-identifier">doc</span> = <span class="ruby-keyword kw">nil</span>
590:         <span class="ruby-identifier">assert_nothing_raised</span> {
591:           <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
592:         }
593:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>
594:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xml?</span>
595:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
596:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000140" class="method">
  <div id="M000140_title" class="title">
    <b>test_node_set_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000140_source')" id="l_M000140_source">show source</a> ]</p>
  <div id="M000140_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 559</span>
559:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_index</span>
560:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
561: 
562:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
563:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>[<span class="ruby-value">4</span>]
564:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node_set</span>[<span class="ruby-value">5</span>]
565:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000118" class="method">
  <div id="M000118_title" class="title">
    <b>test_non_existant_function</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000118_source')" id="l_M000118_source">show source</a> ]</p>
  <div id="M000118_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 338</span>
338:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_existant_function</span>
339:         <span class="ruby-comment cmt"># WTF.  I don't know why this is different between MRI and ffi.</span>
340:         <span class="ruby-comment cmt"># They should be the same...  Either way, raising an exception</span>
341:         <span class="ruby-comment cmt"># is the correct thing to do.</span>
342:         <span class="ruby-identifier">exception</span> = <span class="ruby-constant">RuntimeError</span>
343: 
344:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION_INFO</span>[<span class="ruby-value str">'libxml'</span>][<span class="ruby-value str">'platform'</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'jruby'</span>
345:           <span class="ruby-identifier">exception</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPath</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>
346:         <span class="ruby-keyword kw">end</span>
347: 
348:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-identifier">exception</span>) {
349:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//name[foo()]'</span>)
350:         }
351:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000132" class="method">
  <div id="M000132_title" class="title">
    <b>test_parse_can_take_io</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000132_source')" id="l_M000132_source">show source</a> ]</p>
  <div id="M000132_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 477</span>
477:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_can_take_io</span>
478:         <span class="ruby-identifier">xml</span> = <span class="ruby-keyword kw">nil</span>
479:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">XML_FILE</span>, <span class="ruby-value str">'rb'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
480:           <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">f</span>)
481:         }
482:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xml?</span>
483:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
484:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
485:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000106" class="method">
  <div id="M000106_title" class="title">
    <b>test_parse_handles_nil_gracefully</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000106_source')" id="l_M000106_source">show source</a> ]</p>
  <div id="M000106_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 251</span>
251:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_handles_nil_gracefully</span>
252:         <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
253:           <span class="ruby-ivar">@doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-keyword kw">nil</span>)
254:         <span class="ruby-keyword kw">end</span>
255:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>, <span class="ruby-ivar">@doc</span>
256:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000073" class="method">
  <div id="M000073_title" class="title">
    <b>test_parse_should_not_exist</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000073_source')" id="l_M000073_source">show source</a> ]</p>
  <div id="M000073_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 24</span>
24:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_should_not_exist</span>
25:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NoMethodError</span>) <span class="ruby-keyword kw">do</span>
26:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;foo&quot;</span>)
27:         <span class="ruby-keyword kw">end</span>
28:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000107" class="method">
  <div id="M000107_title" class="title">
    <b>test_parse_takes_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000107_source')" id="l_M000107_source">show source</a> ]</p>
  <div id="M000107_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 258</span>
258:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_takes_block</span>
259:         <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
260:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
261:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">cfg</span>
262:         <span class="ruby-keyword kw">end</span>
263:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>
264:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000108" class="method">
  <div id="M000108_title" class="title">
    <b>test_parse_yields_parse_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000108_source')" id="l_M000108_source">show source</a> ]</p>
  <div id="M000108_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 266</span>
266:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_yields_parse_options</span>
267:         <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
268:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
269:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">cfg</span>
270:           <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet</span>.<span class="ruby-identifier">nowarning</span>.<span class="ruby-identifier">dtdattr</span>
271:         <span class="ruby-keyword kw">end</span>
272:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet?</span>
273:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nowarning?</span>
274:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dtdattr?</span>
275:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000083" class="method">
  <div id="M000083_title" class="title">
    <b>test_pp</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000083_source')" id="l_M000083_source">show source</a> ]</p>
  <div id="M000083_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 91</span>
91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pp</span>
92:         <span class="ruby-identifier">out</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">''</span>)
93:         <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
94:           <span class="ruby-operator">::</span><span class="ruby-constant">PP</span>.<span class="ruby-identifier">pp</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">out</span>
95:         <span class="ruby-keyword kw">end</span>
96:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000146" class="method">
  <div id="M000146_title" class="title">
    <b>test_remove_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000146_source')" id="l_M000146_source">show source</a> ]</p>
  <div id="M000146_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 614</span>
614:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_namespaces</span>
615:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root xmlns:a=\&quot;http://a.flavorjon.es/\&quot; xmlns:b=\&quot;http://b.flavorjon.es/\&quot;&gt;\n&lt;a:foo&gt;hello from a&lt;/a:foo&gt;\n&lt;b:foo&gt;hello from b&lt;/b:foo&gt;\n&lt;container xmlns:c=\&quot;http://c.flavorjon.es/\&quot;&gt;\n&lt;c:foo&gt;hello from c&lt;/c:foo&gt;\n&lt;/container&gt;\n&lt;/root&gt;\n&quot;</span>
616: 
617:         <span class="ruby-comment cmt"># assert on setup</span>
618:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//foo&quot;</span>).<span class="ruby-identifier">length</span>
619:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
620:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
621:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//x:foo&quot;</span>, <span class="ruby-value str">&quot;x&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://c.flavorjon.es/&quot;</span>).<span class="ruby-identifier">length</span>
622: 
623:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">remove_namespaces!</span>
624: 
625:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//foo&quot;</span>).<span class="ruby-identifier">length</span>
626:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
627:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
628:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//x:foo&quot;</span>, <span class="ruby-value str">&quot;x&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://c.flavorjon.es/&quot;</span>).<span class="ruby-identifier">length</span>
629:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000120" class="method">
  <div id="M000120_title" class="title">
    <b>test_root_node_parent_is_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000120_source')" id="l_M000120_source">show source</a> ]</p>
  <div id="M000120_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 357</span>
357:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_root_node_parent_is_document</span>
358:         <span class="ruby-identifier">parent</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">parent</span>
359:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">parent</span>
360:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>, <span class="ruby-identifier">parent</span>
361:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000072" class="method">
  <div id="M000072_title" class="title">
    <b>test_root_set_to_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000072_source')" id="l_M000072_source">show source</a> ]</p>
  <div id="M000072_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 19</span>
19:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_root_set_to_nil</span>
20:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span> = <span class="ruby-keyword kw">nil</span>
21:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
22:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000141" class="method">
  <div id="M000141_title" class="title">
    <b>test_search</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000141_source')" id="l_M000141_source">show source</a> ]</p>
  <div id="M000141_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 567</span>
567:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search</span>
568:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
569: 
570:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
571: 
572:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
573:           <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
574:         <span class="ruby-keyword kw">end</span>
575:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000133" class="method">
  <div id="M000133_title" class="title">
    <b>test_search_on_empty_documents</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000133_source')" id="l_M000133_source">show source</a> ]</p>
  <div id="M000133_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 487</span>
487:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_empty_documents</span>
488:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
489:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//foo'</span>)
490:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">length</span>
491: 
492:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
493:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">length</span>
494: 
495:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//foo'</span>)
496:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">length</span>
497:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000145" class="method">
  <div id="M000145_title" class="title">
    <b>test_set_root</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000145_source')" id="l_M000145_source">show source</a> ]</p>
  <div id="M000145_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 598</span>
598:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_root</span>
599:         <span class="ruby-identifier">doc</span> = <span class="ruby-keyword kw">nil</span>
600:         <span class="ruby-identifier">assert_nothing_raised</span> {
601:           <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
602:         }
603:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>
604:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xml?</span>
605:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
606:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">doc</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
607:           <span class="ruby-identifier">n</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'hello world'</span>
608:         }
609:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'hello world'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
610:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">node</span>
611:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>)
612:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000138" class="method">
  <div id="M000138_title" class="title">
    <b>test_singleton_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000138_source')" id="l_M000138_source">show source</a> ]</p>
  <div id="M000138_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 541</span>
541:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_methods</span>
542:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//name'</span>)
543:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
544:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>
545:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">test</span>
546:           <span class="ruby-value str">'test'</span>
547:         <span class="ruby-keyword kw">end</span>
548:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//name'</span>)
549:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'test'</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">test</span>
550:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000127" class="method">
  <div id="M000127_title" class="title">
    <b>test_strict_document_throws_syntax_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000127_source')" id="l_M000127_source">show source</a> ]</p>
  <div id="M000127_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 437</span>
437:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_strict_document_throws_syntax_error</span>
438:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
439:           <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">0</span>)
440:         }
441: 
442:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
443:           <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
444:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">strict</span>
445:           }
446:         }
447: 
448:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
449:           <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;'</span>)) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
450:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">strict</span>
451:           }
452:         }
453:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000110" class="method">
  <div id="M000110_title" class="title">
    <b>test_subclass</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000110_source')" id="l_M000110_source">show source</a> ]</p>
  <div id="M000110_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 288</span>
288:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass</span>
289:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>)
290:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>
291:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">doc</span>
292:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000113" class="method">
  <div id="M000113_title" class="title">
    <b>test_subclass_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000113_source')" id="l_M000113_source">show source</a> ]</p>
  <div id="M000113_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 306</span>
306:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_dup</span>
307:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>)
308:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">dup</span>
309:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">doc</span>
310:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000111" class="method">
  <div id="M000111_title" class="title">
    <b>test_subclass_initialize</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000111_source')" id="l_M000111_source">show source</a> ]</p>
  <div id="M000111_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 294</span>
294:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_initialize</span>
295:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>) <span class="ruby-keyword kw">do</span>
296:           <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:initialized_with</span>
297: 
298:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
299:             <span class="ruby-ivar">@initialized_with</span> = <span class="ruby-identifier">args</span>
300:           <span class="ruby-keyword kw">end</span>
301:         <span class="ruby-keyword kw">end</span>
302:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;1.0&quot;</span>, <span class="ruby-value">1</span>)
303:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">&quot;1.0&quot;</span>, <span class="ruby-value">1</span>], <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">initialized_with</span>
304:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000075" class="method">
  <div id="M000075_title" class="title">
    <b>test_subclass_initialize_modify</b>(
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000075_source')" id="l_M000075_source">show source</a> ]</p>
  <div id="M000075_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 43</span>
43:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_initialize_modify</span> <span class="ruby-comment cmt"># testing a segv</span>
44:         <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>) {
45:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
46:             <span class="ruby-keyword kw">super</span>
47:             <span class="ruby-identifier">body_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-value str">&quot;body&quot;</span>, <span class="ruby-keyword kw">self</span>
48:             <span class="ruby-identifier">body_node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">&quot;stuff&quot;</span>
49:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">body_node</span>
50:           <span class="ruby-keyword kw">end</span>
51:         }.<span class="ruby-identifier">new</span>
52:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000114" class="method">
  <div id="M000114_title" class="title">
    <b>test_subclass_parse</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000114_source')" id="l_M000114_source">show source</a> ]</p>
  <div id="M000114_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 312</span>
312:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_parse</span>
313:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>)
314:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>))
315:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_s</span>
316:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">doc</span>
317:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000147" class="method">
  <div id="M000147_title" class="title">
    <b>test_subset_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000147_source')" id="l_M000147_source">show source</a> ]</p>
  <div id="M000147_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 640</span>
640:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subset_is_decorated</span>
641:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
642:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
643:           <span class="ruby-keyword kw">end</span>
644:         <span class="ruby-keyword kw">end</span>
645:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
646: 
647:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
648:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//staff'</span>)
649:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
650:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">subset</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//employee'</span>)
651:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">subset</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
652:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_subset</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
653:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_subset</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
654:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000123" class="method">
  <div id="M000123_title" class="title">
    <b>test_to_xml_with_indent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000123_source')" id="l_M000123_source">show source</a> ]</p>
  <div id="M000123_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 401</span>
401:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml_with_indent</span>
402:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;&lt;/root&gt;'</span>)
403:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
404: 
405:         <span class="ruby-identifier">assert_indent</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">doc</span>
406:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000129" class="method">
  <div id="M000129_title" class="title">
    <b>test_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000129_source')" id="l_M000129_source">show source</a> ]</p>
  <div id="M000129_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 460</span>
460:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url</span>
461:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">url</span>
462:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">XML_FILE</span>, <span class="ruby-constant">URI</span>.<span class="ruby-identifier">unescape</span>(<span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">url</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'file:///'</span>, <span class="ruby-value str">''</span>)
463:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000102" class="method">
  <div id="M000102_title" class="title">
    <b>test_validate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000102_source')" id="l_M000102_source">show source</a> ]</p>
  <div id="M000102_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 226</span>
226:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_validate</span>
227:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">44</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">validate</span>.<span class="ruby-identifier">length</span>
228:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000103" class="method">
  <div id="M000103_title" class="title">
    <b>test_validate_no_internal_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000103_source')" id="l_M000103_source">show source</a> ]</p>
  <div id="M000103_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 230</span>
230:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_validate_no_internal_subset</span>
231:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;test/&gt;'</span>)
232:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">validate</span>
233:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000089" class="method">
  <div id="M000089_title" class="title">
    <b>test_version</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000089_source')" id="l_M000089_source">show source</a> ]</p>
  <div id="M000089_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 148</span>
148:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_version</span>
149:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1.0'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">version</span>
150:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000124" class="method">
  <div id="M000124_title" class="title">
    <b>test_write_xml_to_with_indent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000124_source')" id="l_M000124_source">show source</a> ]</p>
  <div id="M000124_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 408</span>
408:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_xml_to_with_indent</span>
409:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
410:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;&lt;/root&gt;'</span>)
411:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">write_xml_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>
412:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
413:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>)
414:         <span class="ruby-identifier">assert_indent</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">doc</span>
415:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000136" class="method">
  <div id="M000136_title" class="title">
    <b>test_xml?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show source</a> ]</p>
  <div id="M000136_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 533</span>
533:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml?</span>
534:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xml?</span>
535:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000121" class="method">
  <div id="M000121_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000121_source')" id="l_M000121_source">show source</a> ]</p>
  <div id="M000121_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 363</span>
363:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
364:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\nbar\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
365:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">length</span>
366:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
367:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|foo'</span>).<span class="ruby-identifier">length</span>
368:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">length</span>
369:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">length</span>
370:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">length</span>
371:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|foo'</span>)
372:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:foo'</span>)
373:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'foo'</span>)
374:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000122" class="method">
  <div id="M000122_title" class="title">
    <b>test_xmlns_is_registered_for_nodesets</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000122_source')" id="l_M000122_source">show source</a> ]</p>
  <div id="M000122_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 383</span>
383:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_registered_for_nodesets</span>
384:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar&gt;\nbaz\n&lt;/bar&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
385:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
386:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">css</span>(<span class="ruby-value str">'bar'</span>).<span class="ruby-identifier">length</span>
387:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'./xmlns:bar'</span>).<span class="ruby-identifier">length</span>
388:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
389:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-value str">'./xmlns:bar'</span>).<span class="ruby-identifier">length</span>
390:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>