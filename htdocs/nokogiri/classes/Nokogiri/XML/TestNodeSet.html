  <div id="C00000030">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNodeSet<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_set_rb.html');">test/xml/test_node_set.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000568&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000570&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000566&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000626&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000628&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000630&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000632&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000634&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000553&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000556&name=test_add_class" >test_add_class</a></li>
  <li><a href="index.html?a=M000608&name=test_array_index" >test_array_index</a></li>
  <li><a href="index.html?a=M000612&name=test_array_index_bracket_equivalence" >test_array_index_bracket_equivalence</a></li>
  <li><a href="index.html?a=M000614&name=test_array_slice_with_invalid_args" >test_array_slice_with_invalid_args</a></li>
  <li><a href="index.html?a=M000613&name=test_array_slice_with_negative_start" >test_array_slice_with_negative_start</a></li>
  <li><a href="index.html?a=M000615&name=test_array_slice_with_range" >test_array_slice_with_range</a></li>
  <li><a href="index.html?a=M000611&name=test_array_slice_with_start_and_end" >test_array_slice_with_start_and_end</a></li>
  <li><a href="index.html?a=M000588&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000563&name=test_attribute_no_args" >test_attribute_no_args</a></li>
  <li><a href="index.html?a=M000560&name=test_attribute_set" >test_attribute_set</a></li>
  <li><a href="index.html?a=M000561&name=test_attribute_set_with_block" >test_attribute_set_with_block</a></li>
  <li><a href="index.html?a=M000562&name=test_attribute_set_with_hash" >test_attribute_set_with_hash</a></li>
  <li><a href="index.html?a=M000619&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000584&name=test_children_has_document" >test_children_has_document</a></li>
  <li><a href="index.html?a=M000571&name=test_css_searches_match_self" >test_css_searches_match_self</a></li>
  <li><a href="index.html?a=M000567&name=test_css_with_custom_object" >test_css_with_custom_object</a></li>
  <li><a href="index.html?a=M000594&name=test_delete_when_not_present" >test_delete_when_not_present</a></li>
  <li><a href="index.html?a=M000593&name=test_delete_when_present" >test_delete_when_present</a></li>
  <li><a href="index.html?a=M000592&name=test_delete_with_invalid_argument" >test_delete_with_invalid_argument</a></li>
  <li><a href="index.html?a=M000573&name=test_double_equal" >test_double_equal</a></li>
  <li><a href="index.html?a=M000582&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000554&name=test_filter" >test_filter</a></li>
  <li><a href="index.html?a=M000581&name=test_first_takes_arguments" >test_first_takes_arguments</a></li>
  <li><a href="index.html?a=M000618&name=test_include?" >test_include?</a></li>
  <li><a href="index.html?a=M000587&name=test_inner_html" >test_inner_html</a></li>
  <li><a href="index.html?a=M000620&name=test_inspect" >test_inspect</a></li>
  <li><a href="index.html?a=M000617&name=test_intersection" >test_intersection</a></li>
  <li><a href="index.html?a=M000616&name=test_intersection_with_no_overlap" >test_intersection_with_no_overlap</a></li>
  <li><a href="index.html?a=M000600&name=test_large_negative_index_returns_nil" >test_large_negative_index_returns_nil</a></li>
  <li><a href="index.html?a=M000585&name=test_length_size" >test_length_size</a></li>
  <li><a href="index.html?a=M000607&name=test_minus_operator" >test_minus_operator</a></li>
  <li><a href="index.html?a=M000599&name=test_negative_index_works" >test_negative_index_works</a></li>
  <li><a href="index.html?a=M000597&name=test_new_nodeset" >test_new_nodeset</a></li>
  <li><a href="index.html?a=M000631&name=test_node_set_difference_result_has_document_and_is_decorated" >test_node_set_difference_result_has_document_and_is_decorated</a></li>
  <li><a href="index.html?a=M000625&name=test_node_set_dup_result_has_document_and_is_decorated" >test_node_set_dup_result_has_document_and_is_decorated</a></li>
  <li><a href="index.html?a=M000601&name=test_node_set_fetches_private_data" >test_node_set_fetches_private_data</a></li>
  <li><a href="index.html?a=M000629&name=test_node_set_intersection_result_has_document_and_is_decorated" >test_node_set_intersection_result_has_document_and_is_decorated</a></li>
  <li><a href="index.html?a=M000574&name=test_node_set_not_equal_to_string" >test_node_set_not_equal_to_string</a></li>
  <li><a href="index.html?a=M000602&name=test_node_set_returns_0" >test_node_set_returns_0</a></li>
  <li><a href="index.html?a=M000633&name=test_node_set_slice_result_has_document_and_is_decorated" >test_node_set_slice_result_has_document_and_is_decorated</a></li>
  <li><a href="index.html?a=M000627&name=test_node_set_union_result_has_document_and_is_decorated" >test_node_set_union_result_has_document_and_is_decorated</a></li>
  <li><a href="index.html?a=M000596&name=test_nodeset_search_takes_namespace" >test_nodeset_search_takes_namespace</a></li>
  <li><a href="index.html?a=M000575&name=test_out_of_order_not_equal" >test_out_of_order_not_equal</a></li>
  <li><a href="index.html?a=M000589&name=test_percent" >test_percent</a></li>
  <li><a href="index.html?a=M000605&name=test_plus_operator" >test_plus_operator</a></li>
  <li><a href="index.html?a=M000577&name=test_pop" >test_pop</a></li>
  <li><a href="index.html?a=M000580&name=test_pop_empty" >test_pop_empty</a></li>
  <li><a href="index.html?a=M000591&name=test_push" >test_push</a></li>
  <li><a href="index.html?a=M000555&name=test_remove_attr" >test_remove_attr</a></li>
  <li><a href="index.html?a=M000559&name=test_remove_class_completely" >test_remove_class_completely</a></li>
  <li><a href="index.html?a=M000558&name=test_remove_class_single" >test_remove_class_single</a></li>
  <li><a href="index.html?a=M000557&name=test_remove_class_with_no_class" >test_remove_class_with_no_class</a></li>
  <li><a href="index.html?a=M000624&name=test_reverse" >test_reverse</a></li>
  <li><a href="index.html?a=M000564&name=test_search_empty_node_set" >test_search_empty_node_set</a></li>
  <li><a href="index.html?a=M000598&name=test_search_on_nodeset" >test_search_on_nodeset</a></li>
  <li><a href="index.html?a=M000572&name=test_search_with_css_matches_self" >test_search_with_css_matches_self</a></li>
  <li><a href="index.html?a=M000569&name=test_search_with_custom_object" >test_search_with_custom_object</a></li>
  <li><a href="index.html?a=M000578&name=test_shift" >test_shift</a></li>
  <li><a href="index.html?a=M000579&name=test_shift_empty" >test_shift_empty</a></li>
  <li><a href="index.html?a=M000576&name=test_shorter_is_not_equal" >test_shorter_is_not_equal</a></li>
  <li><a href="index.html?a=M000621&name=test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set" >test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set</a></li>
  <li><a href="index.html?a=M000622&name=test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations" >test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations</a></li>
  <li><a href="index.html?a=M000623&name=test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations" >test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations</a></li>
  <li><a href="index.html?a=M000609&name=test_slice_too_far" >test_slice_too_far</a></li>
  <li><a href="index.html?a=M000610&name=test_slice_waaaaaay_off_the_end" >test_slice_waaaaaay_off_the_end</a></li>
  <li><a href="index.html?a=M000590&name=test_to_ary" >test_to_ary</a></li>
  <li><a href="index.html?a=M000586&name=test_to_xml" >test_to_xml</a></li>
  <li><a href="index.html?a=M000606&name=test_union" >test_union</a></li>
  <li><a href="index.html?a=M000595&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000603&name=test_wrap" >test_wrap</a></li>
  <li><a href="index.html?a=M000604&name=test_wrap_preserves_document_structure" >test_wrap_preserves_document_structure</a></li>
  <li><a href="index.html?a=M000583&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  <li><a href="index.html?a=M000565&name=test_xpath_with_custom_object" >test_xpath_with_custom_object</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000568" class="method">
  <div id="M000568_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000568_source')" id="l_M000568_source">show source</a> ]</p>
  <div id="M000568_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 110</span>
110:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
111:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
112:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000570" class="method">
  <div id="M000570_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000570_source')" id="l_M000570_source">show source</a> ]</p>
  <div id="M000570_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 121</span>
121:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
122:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
123:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000566" class="method">
  <div id="M000566_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000566_source')" id="l_M000566_source">show source</a> ]</p>
  <div id="M000566_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 99</span>
 99:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
100:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
101:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000626" class="method">
  <div id="M000626_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000626_source')" id="l_M000626_source">show source</a> ]</p>
  <div id="M000626_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 596</span>
596:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000628" class="method">
  <div id="M000628_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000628_source')" id="l_M000628_source">show source</a> ]</p>
  <div id="M000628_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 607</span>
607:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000630" class="method">
  <div id="M000630_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000630_source')" id="l_M000630_source">show source</a> ]</p>
  <div id="M000630_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 619</span>
619:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000632" class="method">
  <div id="M000632_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000632_source')" id="l_M000632_source">show source</a> ]</p>
  <div id="M000632_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 631</span>
631:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000634" class="method">
  <div id="M000634_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000634_source')" id="l_M000634_source">show source</a> ]</p>
  <div id="M000634_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 643</span>
643:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000553" class="method">
  <div id="M000553_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000553_source')" id="l_M000553_source">show source</a> ]</p>
  <div id="M000553_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 6</span>
 6:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 7:         <span class="ruby-keyword kw">super</span>
 8:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
 9:         <span class="ruby-ivar">@list</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>)
10:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000556" class="method">
  <div id="M000556_title" class="title">
    <b>test_add_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000556_source')" id="l_M000556_source">show source</a> ]</p>
  <div id="M000556_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_class</span>
24:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'bar'</span>)
25:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
26: 
27:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'bar'</span>)
28:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
29: 
30:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'baz'</span>)
31:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar baz'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
32:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000608" class="method">
  <div id="M000608_title" class="title">
    <b>test_array_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000608_source')" id="l_M000608_source">show source</a> ]</p>
  <div id="M000608_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 452</span>
452:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index</span>
453:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
454:         <span class="ruby-identifier">other</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
455: 
456:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>])
457:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">other</span>)
458:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000612" class="method">
  <div id="M000612_title" class="title">
    <b>test_array_index_bracket_equivalence</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000612_source')" id="l_M000612_source">show source</a> ]</p>
  <div id="M000612_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 480</span>
480:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index_bracket_equivalence</span>
481:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
482:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
483:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span>,<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>
484:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000614" class="method">
  <div id="M000614_title" class="title">
    <b>test_array_slice_with_invalid_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000614_source')" id="l_M000614_source">show source</a> ]</p>
  <div id="M000614_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 492</span>
492:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_invalid_args</span>
493:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
494:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">99</span>, <span class="ruby-value">1</span>] <span class="ruby-comment cmt"># large start</span>
495:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">-1</span>] <span class="ruby-comment cmt"># negative len</span>
496:         <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">0</span>].<span class="ruby-identifier">to_a</span> <span class="ruby-comment cmt"># zero len</span>
497:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000613" class="method">
  <div id="M000613_title" class="title">
    <b>test_array_slice_with_negative_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000613_source')" id="l_M000613_source">show source</a> ]</p>
  <div id="M000613_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 486</span>
486:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_negative_start</span>
487:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
488:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]],                    <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">1</span>].<span class="ruby-identifier">to_a</span>
489:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]],      <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">to_a</span>
490:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000615" class="method">
  <div id="M000615_title" class="title">
    <b>test_array_slice_with_range</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000615_source')" id="l_M000615_source">show source</a> ]</p>
  <div id="M000615_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 499</span>
499:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_range</span>
500:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
501:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
502:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
503:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000611" class="method">
  <div id="M000611_title" class="title">
    <b>test_array_slice_with_start_and_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000611_source')" id="l_M000611_source">show source</a> ]</p>
  <div id="M000611_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 475</span>
475:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_start_and_end</span>
476:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
477:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
478:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000588" class="method">
  <div id="M000588_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000588_source')" id="l_M000588_source">show source</a> ]</p>
  <div id="M000588_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 260</span>
260:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
261:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
262:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)
263:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000563" class="method">
  <div id="M000563_title" class="title">
    <b>test_attribute_no_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000563_source')" id="l_M000563_source">show source</a> ]</p>
  <div id="M000563_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 84</span>
84:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_no_args</span>
85:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value str">'foo'</span>] = <span class="ruby-value str">'bar'</span>
86:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">attribute</span>(<span class="ruby-value str">'foo'</span>), <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">attribute</span>(<span class="ruby-value str">'foo'</span>)
87:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000560" class="method">
  <div id="M000560_title" class="title">
    <b>test_attribute_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000560_source')" id="l_M000560_source">show source</a> ]</p>
  <div id="M000560_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 57</span>
57:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set</span>
58:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
59: 
60:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
61:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>)
62:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
63:         <span class="ruby-keyword kw">end</span>
64:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000561" class="method">
  <div id="M000561_title" class="title">
    <b>test_attribute_set_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000561_source')" id="l_M000561_source">show source</a> ]</p>
  <div id="M000561_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 66</span>
66:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set_with_block</span>
67:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
68: 
69:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
70:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span> }
71:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
72:         <span class="ruby-keyword kw">end</span>
73:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000562" class="method">
  <div id="M000562_title" class="title">
    <b>test_attribute_set_with_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000562_source')" id="l_M000562_source">show source</a> ]</p>
  <div id="M000562_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 75</span>
75:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set_with_hash</span>
76:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
77: 
78:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
79:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>)
80:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
81:         <span class="ruby-keyword kw">end</span>
82:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000619" class="method">
  <div id="M000619_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000619_source')" id="l_M000619_source">show source</a> ]</p>
  <div id="M000619_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 529</span>
529:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
530:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
531:         <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
532:         <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">employee</span><span class="ruby-operator">|</span>
533:           <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
534:         <span class="ruby-keyword kw">end</span>
535:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">children</span>
536:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
537:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000584" class="method">
  <div id="M000584_title" class="title">
    <b>test_children_has_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000584_source')" id="l_M000584_source">show source</a> ]</p>
  <div id="M000584_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 226</span>
226:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children_has_document</span>
227:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>
228:         <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">NodeSet</span>, <span class="ruby-identifier">set</span>)
229:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">document</span>
230:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000571" class="method">
  <div id="M000571_title" class="title">
    <b>test_css_searches_match_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000571_source')" id="l_M000571_source">show source</a> ]</p>
  <div id="M000571_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 129</span>
129:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_searches_match_self</span>
130:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
131:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
132:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
133:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000567" class="method">
  <div id="M000567_title" class="title">
    <b>test_css_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000567_source')" id="l_M000567_source">show source</a> ]</p>
  <div id="M000567_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_with_custom_object</span>
108:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
109:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'*:awesome'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
110:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
111:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
112:           <span class="ruby-keyword kw">end</span>
113:         }.<span class="ruby-identifier">new</span>)
114: 
115:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
116:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000594" class="method">
  <div id="M000594_title" class="title">
    <b>test_delete_when_not_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000594_source')" id="l_M000594_source">show source</a> ]</p>
  <div id="M000594_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 306</span>
306:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_not_present</span>
307:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
308:         <span class="ruby-identifier">phb</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
309:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">phb</span>) <span class="ruby-comment cmt"># testing setup</span>
310:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
311: 
312:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">phb</span>)
313:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">result</span>
314:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
315:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000593" class="method">
  <div id="M000593_title" class="title">
    <b>test_delete_when_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000593_source')" id="l_M000593_source">show source</a> ]</p>
  <div id="M000593_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 294</span>
294:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_present</span>
295:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
296:         <span class="ruby-identifier">wally</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
297:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>) <span class="ruby-comment cmt"># testing setup</span>
298:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
299: 
300:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">wally</span>)
301:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>, <span class="ruby-identifier">wally</span>
302:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>)
303:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
304:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000592" class="method">
  <div id="M000592_title" class="title">
    <b>test_delete_with_invalid_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000592_source')" id="l_M000592_source">show source</a> ]</p>
  <div id="M000592_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 287</span>
287:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_with_invalid_argument</span>
288:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
289:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
290: 
291:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">positions</span>) }
292:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000573" class="method">
  <div id="M000573_title" class="title">
    <b>test_double_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000573_source')" id="l_M000573_source">show source</a> ]</p>
  <div id="M000573_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 141</span>
141:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_double_equal</span>
142:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
143:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
144: 
145:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">object_id</span>
146: 
147:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
148:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000582" class="method">
  <div id="M000582_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000582_source')" id="l_M000582_source">show source</a> ]</p>
  <div id="M000582_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 197</span>
197:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
198:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
199:         <span class="ruby-identifier">dup</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">dup</span>
200:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">length</span>
201:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
202:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>
203:         <span class="ruby-keyword kw">end</span>
204:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000554" class="method">
  <div id="M000554_title" class="title">
    <b>test_filter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000554_source')" id="l_M000554_source">show source</a> ]</p>
  <div id="M000554_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 12</span>
12:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_filter</span>
13:         <span class="ruby-identifier">list</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'address'</span>).<span class="ruby-identifier">filter</span>(<span class="ruby-value str">'*[domestic=&quot;Yes&quot;]'</span>)
14:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-node">%w{ Yes }</span> <span class="ruby-operator">*</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>[<span class="ruby-value str">'domestic'</span>] })
15:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000581" class="method">
  <div id="M000581_title" class="title">
    <b>test_first_takes_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000581_source')" id="l_M000581_source">show source</a> ]</p>
  <div id="M000581_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 192</span>
192:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_first_takes_arguments</span>
193:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
194:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">length</span>
195:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000618" class="method">
  <div id="M000618_title" class="title">
    <b>test_include?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000618_source')" id="l_M000618_source">show source</a> ]</p>
  <div id="M000618_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 520</span>
520:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_include?</span>
521:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
522:         <span class="ruby-identifier">yes</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
523:         <span class="ruby-identifier">no</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
524: 
525:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">yes</span>)
526:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">no</span>)
527:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000587" class="method">
  <div id="M000587_title" class="title">
    <b>test_inner_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000587_source')" id="l_M000587_source">show source</a> ]</p>
  <div id="M000587_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 242</span>
242:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inner_html</span>
243:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;a&gt;one&lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;a&gt;two&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>)
244:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">html</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'div'</span>).<span class="ruby-identifier">inner_html</span>
245:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'&lt;a&gt;'</span>, <span class="ruby-identifier">html</span>
246:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000620" class="method">
  <div id="M000620_title" class="title">
    <b>test_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000620_source')" id="l_M000620_source">show source</a> ]</p>
  <div id="M000620_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 539</span>
539:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inspect</span>
540:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
541:         <span class="ruby-identifier">inspected</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">inspect</span>
542: 
543:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;[#{employees.map { |x| x.inspect }.join(', ')}]&quot;</span>,
544:           <span class="ruby-identifier">inspected</span>
545:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000617" class="method">
  <div id="M000617_title" class="title">
    <b>test_intersection</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000617_source')" id="l_M000617_source">show source</a> ]</p>
  <div id="M000617_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 512</span>
512:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection</span>
513:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
514:         <span class="ruby-identifier">first_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>]
515:         <span class="ruby-identifier">second_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>]
516: 
517:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]], (<span class="ruby-identifier">first_set</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">second_set</span>).<span class="ruby-identifier">to_a</span>
518:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000616" class="method">
  <div id="M000616_title" class="title">
    <b>test_intersection_with_no_overlap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000616_source')" id="l_M000616_source">show source</a> ]</p>
  <div id="M000616_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 505</span>
505:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection_with_no_overlap</span>
506:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
507:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
508: 
509:         <span class="ruby-identifier">assert_equal</span> [], (<span class="ruby-identifier">employees</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">positions</span>).<span class="ruby-identifier">to_a</span>
510:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000600" class="method">
  <div id="M000600_title" class="title">
    <b>test_large_negative_index_returns_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000600_source')" id="l_M000600_source">show source</a> ]</p>
  <div id="M000600_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 379</span>
379:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_large_negative_index_returns_nil</span>
380:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
381:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)])
382:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000585" class="method">
  <div id="M000585_title" class="title">
    <b>test_length_size</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000585_source')" id="l_M000585_source">show source</a> ]</p>
  <div id="M000585_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_length_size</span>
233:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
234:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000607" class="method">
  <div id="M000607_title" class="title">
    <b>test_minus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000607_source')" id="l_M000607_source">show source</a> ]</p>
  <div id="M000607_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 434</span>
434:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_operator</span>
435:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
436:         <span class="ruby-identifier">females</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee[gender[text()='Female']]&quot;</span>)
437: 
438:         <span class="ruby-identifier">employees_len</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
439:         <span class="ruby-identifier">females_len</span> = <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
440: 
441:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">first</span> }
442: 
443:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>
444:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees_len</span>,                     <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
445:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">females_len</span>,                       <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
446:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
447: 
448:         <span class="ruby-identifier">employees</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">females</span>
449:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
450:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000599" class="method">
  <div id="M000599_title" class="title">
    <b>test_negative_index_works</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000599_source')" id="l_M000599_source">show source</a> ]</p>
  <div id="M000599_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 374</span>
374:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_negative_index_works</span>
375:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
376:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span>]
377:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000597" class="method">
  <div id="M000597_title" class="title">
    <b>test_new_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000597_source')" id="l_M000597_source">show source</a> ]</p>
  <div id="M000597_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 359</span>
359:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_nodeset</span>
360:         <span class="ruby-identifier">node_set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
361:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
362:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
363:         <span class="ruby-identifier">node_set</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
364:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
365:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>)
366:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000631" class="method">
  <div id="M000631_title" class="title">
    <b>test_node_set_difference_result_has_document_and_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000631_source')" id="l_M000631_source">show source</a> ]</p>
  <div id="M000631_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 629</span>
629:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_difference_result_has_document_and_is_decorated</span>
630:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
631:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
632:         <span class="ruby-keyword kw">end</span>
633:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
634:         <span class="ruby-identifier">node_set1</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
635:         <span class="ruby-identifier">node_set2</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
636:         <span class="ruby-identifier">new_set</span>  = <span class="ruby-identifier">node_set1</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">node_set2</span>
637:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set1</span>.<span class="ruby-identifier">document</span>, <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">document</span>
638:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
639:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000625" class="method">
  <div id="M000625_title" class="title">
    <b>test_node_set_dup_result_has_document_and_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000625_source')" id="l_M000625_source">show source</a> ]</p>
  <div id="M000625_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 594</span>
594:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_dup_result_has_document_and_is_decorated</span>
595:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
596:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
597:         <span class="ruby-keyword kw">end</span>
598:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
599:         <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
600:         <span class="ruby-identifier">new_set</span>  = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">dup</span>
601:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">document</span>, <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">document</span>
602:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
603:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000601" class="method">
  <div id="M000601_title" class="title">
    <b>test_node_set_fetches_private_data</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000601_source')" id="l_M000601_source">show source</a> ]</p>
  <div id="M000601_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 384</span>
384:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_fetches_private_data</span>
385:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
386: 
387:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">node_set</span>
388:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>])
389:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000629" class="method">
  <div id="M000629_title" class="title">
    <b>test_node_set_intersection_result_has_document_and_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000629_source')" id="l_M000629_source">show source</a> ]</p>
  <div id="M000629_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 617</span>
617:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_intersection_result_has_document_and_is_decorated</span>
618:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
619:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
620:         <span class="ruby-keyword kw">end</span>
621:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
622:         <span class="ruby-identifier">node_set1</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
623:         <span class="ruby-identifier">node_set2</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
624:         <span class="ruby-identifier">new_set</span>  = <span class="ruby-identifier">node_set1</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">node_set2</span>
625:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set1</span>.<span class="ruby-identifier">document</span>, <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">document</span>
626:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
627:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000574" class="method">
  <div id="M000574_title" class="title">
    <b>test_node_set_not_equal_to_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000574_source')" id="l_M000574_source">show source</a> ]</p>
  <div id="M000574_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 150</span>
150:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_not_equal_to_string</span>
151:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
152:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-value str">&quot;asdfadsf&quot;</span>
153:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000602" class="method">
  <div id="M000602_title" class="title">
    <b>test_node_set_returns_0</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000602_source')" id="l_M000602_source">show source</a> ]</p>
  <div id="M000602_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 391</span>
391:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_returns_0</span>
392:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//asdkfjhasdlkfjhaldskfh'</span>)
393:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
394:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000633" class="method">
  <div id="M000633_title" class="title">
    <b>test_node_set_slice_result_has_document_and_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000633_source')" id="l_M000633_source">show source</a> ]</p>
  <div id="M000633_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 641</span>
641:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_slice_result_has_document_and_is_decorated</span>
642:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
643:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
644:         <span class="ruby-keyword kw">end</span>
645:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
646:         <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
647:         <span class="ruby-identifier">new_set</span>  = <span class="ruby-identifier">node_set</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
648:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">document</span>, <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">document</span>
649:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
650:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000627" class="method">
  <div id="M000627_title" class="title">
    <b>test_node_set_union_result_has_document_and_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000627_source')" id="l_M000627_source">show source</a> ]</p>
  <div id="M000627_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 605</span>
605:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_union_result_has_document_and_is_decorated</span>
606:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
607:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span> ; <span class="ruby-keyword kw">end</span>
608:         <span class="ruby-keyword kw">end</span>
609:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
610:         <span class="ruby-identifier">node_set1</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
611:         <span class="ruby-identifier">node_set2</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;address&quot;</span>)
612:         <span class="ruby-identifier">new_set</span>  = <span class="ruby-identifier">node_set1</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">node_set2</span>
613:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set1</span>.<span class="ruby-identifier">document</span>, <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">document</span>
614:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
615:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000596" class="method">
  <div id="M000596_title" class="title">
    <b>test_nodeset_search_takes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000596_source')" id="l_M000596_source">show source</a> ]</p>
  <div id="M000596_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 341</span>
341:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nodeset_search_takes_namespace</span>
342:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
343:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">'root'</span>
344:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
345:         <span class="ruby-identifier">bike_tire</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//bike:tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://schwinn.com/&quot;</span>)
346:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">bike_tire</span>.<span class="ruby-identifier">length</span>
347:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000575" class="method">
  <div id="M000575_title" class="title">
    <b>test_out_of_order_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000575_source')" id="l_M000575_source">show source</a> ]</p>
  <div id="M000575_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_out_of_order_not_equal</span>
156:         <span class="ruby-identifier">one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
157:         <span class="ruby-identifier">two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
158:         <span class="ruby-identifier">two</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">two</span>.<span class="ruby-identifier">shift</span>
159:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">one</span>, <span class="ruby-identifier">two</span>
160:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000589" class="method">
  <div id="M000589_title" class="title">
    <b>test_percent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000589_source')" id="l_M000589_source">show source</a> ]</p>
  <div id="M000589_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 265</span>
265:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_percent</span>
266:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
267:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span> <span class="ruby-operator">%</span> <span class="ruby-value">0</span>
268:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000605" class="method">
  <div id="M000605_title" class="title">
    <b>test_plus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000605_source')" id="l_M000605_source">show source</a> ]</p>
  <div id="M000605_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 410</span>
410:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_operator</span>
411:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
412:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;position&quot;</span>)
413: 
414:         <span class="ruby-identifier">names_len</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
415:         <span class="ruby-identifier">positions_len</span> = <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
416: 
417:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">first</span> }
418: 
419:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>
420:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names_len</span>,                         <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
421:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">positions_len</span>,                     <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
422:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>,   <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
423: 
424:         <span class="ruby-identifier">names</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">positions</span>
425:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
426:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000577" class="method">
  <div id="M000577_title" class="title">
    <b>test_pop</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000577_source')" id="l_M000577_source">show source</a> ]</p>
  <div id="M000577_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 170</span>
170:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop</span>
171:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
172:         <span class="ruby-identifier">last</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">last</span>
173:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
174:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000580" class="method">
  <div id="M000580_title" class="title">
    <b>test_pop_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000580_source')" id="l_M000580_source">show source</a> ]</p>
  <div id="M000580_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 187</span>
187:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop_empty</span>
188:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
189:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
190:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000591" class="method">
  <div id="M000591_title" class="title">
    <b>test_push</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000591_source')" id="l_M000591_source">show source</a> ]</p>
  <div id="M000591_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 277</span>
277:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_push</span>
278:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
279:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'bar'</span>
280: 
281:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
282:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">node</span>)
283: 
284:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">node</span>)
285:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000555" class="method">
  <div id="M000555_title" class="title">
    <b>test_remove_attr</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000555_source')" id="l_M000555_source">show source</a> ]</p>
  <div id="M000555_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 17</span>
17:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_attr</span>
18:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'blah'</span> }
19:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_attr</span>(<span class="ruby-value str">'class'</span>)
20:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
21:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000559" class="method">
  <div id="M000559_title" class="title">
    <b>test_remove_class_completely</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000559_source')" id="l_M000559_source">show source</a> ]</p>
  <div id="M000559_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 50</span>
50:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_completely</span>
51:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'foo'</span> }
52: 
53:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>
54:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
55:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000558" class="method">
  <div id="M000558_title" class="title">
    <b>test_remove_class_single</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000558_source')" id="l_M000558_source">show source</a> ]</p>
  <div id="M000558_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 43</span>
43:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_single</span>
44:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'foo bar'</span> }
45: 
46:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
47:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
48:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000557" class="method">
  <div id="M000557_title" class="title">
    <b>test_remove_class_with_no_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000557_source')" id="l_M000557_source">show source</a> ]</p>
  <div id="M000557_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 34</span>
34:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_with_no_class</span>
35:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
36:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
37: 
38:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">''</span> }
39:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
40:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
41:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000624" class="method">
  <div id="M000624_title" class="title">
    <b>test_reverse</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000624_source')" id="l_M000624_source">show source</a> ]</p>
  <div id="M000624_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 579</span>
579:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reverse</span>
580:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;a /&gt;b&lt;c /&gt;d&lt;e /&gt;&lt;/root&gt;&quot;</span>
581:         <span class="ruby-identifier">children</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>
582:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>, <span class="ruby-identifier">children</span>
583: 
584:         <span class="ruby-identifier">reversed</span> = <span class="ruby-identifier">children</span>.<span class="ruby-identifier">reverse</span>
585:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">4</span>]
586:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">3</span>]
587:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">2</span>]
588:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">3</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">1</span>]
589:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">4</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>]
590: 
591:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">children</span>, <span class="ruby-identifier">children</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">reverse</span>
592:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000564" class="method">
  <div id="M000564_title" class="title">
    <b>test_search_empty_node_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000564_source')" id="l_M000564_source">show source</a> ]</p>
  <div id="M000564_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 89</span>
89:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_empty_node_set</span>
90:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>)
91:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
92:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'.//foo'</span>).<span class="ruby-identifier">length</span>
93:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
94:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000598" class="method">
  <div id="M000598_title" class="title">
    <b>test_search_on_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000598_source')" id="l_M000598_source">show source</a> ]</p>
  <div id="M000598_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 368</span>
368:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_nodeset</span>
369:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
370:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_set</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
371:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">sub_set</span>.<span class="ruby-identifier">length</span>)
372:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000572" class="method">
  <div id="M000572_title" class="title">
    <b>test_search_with_css_matches_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000572_source')" id="l_M000572_source">show source</a> ]</p>
  <div id="M000572_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 135</span>
135:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_css_matches_self</span>
136:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
137:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
138:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
139:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000569" class="method">
  <div id="M000569_title" class="title">
    <b>test_search_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000569_source')" id="l_M000569_source">show source</a> ]</p>
  <div id="M000569_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 118</span>
118:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_custom_object</span>
119:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
120:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//*[awesome(.)]'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
121:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
122:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
123:           <span class="ruby-keyword kw">end</span>
124:         }.<span class="ruby-identifier">new</span>)
125: 
126:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
127:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000578" class="method">
  <div id="M000578_title" class="title">
    <b>test_shift</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000578_source')" id="l_M000578_source">show source</a> ]</p>
  <div id="M000578_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift</span>
177:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
178:         <span class="ruby-identifier">first</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
179:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
180:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000579" class="method">
  <div id="M000579_title" class="title">
    <b>test_shift_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000579_source')" id="l_M000579_source">show source</a> ]</p>
  <div id="M000579_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift_empty</span>
183:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
184:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
185:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000576" class="method">
  <div id="M000576_title" class="title">
    <b>test_shorter_is_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000576_source')" id="l_M000576_source">show source</a> ]</p>
  <div id="M000576_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 162</span>
162:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shorter_is_not_equal</span>
163:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
164:         <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
165:         <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">first</span>)
166: 
167:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
168:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000621" class="method">
  <div id="M000621_title" class="title">
    <b>test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000621_source')" id="l_M000621_source">show source</a> ]</p>
  <div id="M000621_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 547</span>
547:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set</span>
548:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span>
549:         <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//namespace::*&quot;</span>)
550:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
551:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>
552:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-comment cmt"># segfaults in 1.4.0 and earlier</span>
553: 
554:         <span class="ruby-comment cmt"># if we haven't segfaulted, let's make sure we handled it correctly</span>
555:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Namespace</span>, <span class="ruby-identifier">node</span>
556:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000622" class="method">
  <div id="M000622_title" class="title">
    <b>test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000622_source')" id="l_M000622_source">show source</a> ]</p>
  <div id="M000622_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 558</span>
558:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations</span>
559:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span>
560:         <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//namespace::*&quot;</span>)
561:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
562: 
563:         <span class="ruby-identifier">node_array</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_a</span>
564:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node_array</span>.<span class="ruby-identifier">first</span>
565:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-comment cmt"># segfaults in 1.4.0 and earlier</span>
566: 
567:         <span class="ruby-comment cmt"># if we haven't segfaulted, let's make sure we handled it correctly</span>
568:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Namespace</span>, <span class="ruby-identifier">node</span>
569:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000623" class="method">
  <div id="M000623_title" class="title">
    <b>test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000623_source')" id="l_M000623_source">show source</a> ]</p>
  <div id="M000623_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 571</span>
571:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations</span>
572:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span>
573:         <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//namespace::*&quot;</span>)
574:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
575: 
576:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">unlink</span>
577:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000609" class="method">
  <div id="M000609_title" class="title">
    <b>test_slice_too_far</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000609_source')" id="l_M000609_source">show source</a> ]</p>
  <div id="M000609_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 460</span>
460:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_too_far</span>
461:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
462:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>].<span class="ruby-identifier">length</span>
463:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>].<span class="ruby-identifier">length</span>
464:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000610" class="method">
  <div id="M000610_title" class="title">
    <b>test_slice_waaaaaay_off_the_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000610_source')" id="l_M000610_source">show source</a> ]</p>
  <div id="M000610_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 466</span>
466:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_waaaaaay_off_the_end</span>
467:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Builder</span>.<span class="ruby-identifier">new</span> {
468:           <span class="ruby-identifier">root</span> { <span class="ruby-value">100</span>.<span class="ruby-identifier">times</span> { <span class="ruby-identifier">div</span> } }
469:         }.<span class="ruby-identifier">doc</span>
470:         <span class="ruby-identifier">nodes</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span> <span class="ruby-value str">&quot;div&quot;</span>
471:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">99</span>,  <span class="ruby-value">100_000</span>).<span class="ruby-identifier">length</span>
472:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">100</span>, <span class="ruby-value">100_000</span>).<span class="ruby-identifier">length</span>
473:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000590" class="method">
  <div id="M000590_title" class="title">
    <b>test_to_ary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000590_source')" id="l_M000590_source">show source</a> ]</p>
  <div id="M000590_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 270</span>
270:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_ary</span>
271:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
272:         <span class="ruby-identifier">foo</span> = []
273:         <span class="ruby-identifier">foo</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">node_set</span>
274:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">foo</span>.<span class="ruby-identifier">length</span>
275:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000586" class="method">
  <div id="M000586_title" class="title">
    <b>test_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000586_source')" id="l_M000586_source">show source</a> ]</p>
  <div id="M000586_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 237</span>
237:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml</span>
238:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
239:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_xml</span>
240:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000606" class="method">
  <div id="M000606_title" class="title">
    <b>test_union</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000606_source')" id="l_M000606_source">show source</a> ]</p>
  <div id="M000606_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 428</span>
428:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_union</span>
429:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
430: 
431:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>, (<span class="ruby-identifier">names</span> <span class="ruby-operator">|</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)).<span class="ruby-identifier">length</span>)
432:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000595" class="method">
  <div id="M000595_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000595_source')" id="l_M000595_source">show source</a> ]</p>
  <div id="M000595_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 317</span>
317:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
318:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
319:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)
320:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">unlink</span>
321:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
322:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
323:           <span class="ruby-comment cmt">#assert !node.document</span>
324:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
325:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
326:         <span class="ruby-keyword kw">end</span>
327:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
328:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000603" class="method">
  <div id="M000603_title" class="title">
    <b>test_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000603_source')" id="l_M000603_source">show source</a> ]</p>
  <div id="M000603_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 396</span>
396:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap</span>
397:         <span class="ruby-identifier">employees</span> = (<span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
398:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'wrapper'</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">name</span>
399:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'employee'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//wrapper&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
400:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000604" class="method">
  <div id="M000604_title" class="title">
    <b>test_wrap_preserves_document_structure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000604_source')" id="l_M000604_source">show source</a> ]</p>
  <div id="M000604_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 402</span>
402:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap_preserves_document_structure</span>
403:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;employeeId&quot;</span>,
404:                      <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">text?</span> }.<span class="ruby-identifier">name</span>
405:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//employeeId[text()='EMP0001']&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
406:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;wrapper&quot;</span>,
407:                      <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">text?</span> }.<span class="ruby-identifier">name</span>
408:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000583" class="method">
  <div id="M000583_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000583_source')" id="l_M000583_source">show source</a> ]</p>
  <div id="M000583_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
207:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
208:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
209:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
210:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|bar'</span>).<span class="ruby-identifier">length</span>
211:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
212:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
213:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
214:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:bar'</span>)
215:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|bar'</span>)
216:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'bar'</span>)
217:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000565" class="method">
  <div id="M000565_title" class="title">
    <b>test_xpath_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000565_source')" id="l_M000565_source">show source</a> ]</p>
  <div id="M000565_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 96</span>
 96:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xpath_with_custom_object</span>
 97:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
 98:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//*[awesome(.)]'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
 99:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
100:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
101:           <span class="ruby-keyword kw">end</span>
102:         }.<span class="ruby-identifier">new</span>)
103: 
104:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
105:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>