  <div id="C00000052">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNodeSet<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_set_rb.html');">test/xml/test_node_set.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000526&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000530&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000528&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000514&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000516&name=test_add_class" >test_add_class</a></li>
  <li><a href="index.html?a=M000568&name=test_array_index" >test_array_index</a></li>
  <li><a href="index.html?a=M000571&name=test_array_index_bracket_equivalence" >test_array_index_bracket_equivalence</a></li>
  <li><a href="index.html?a=M000573&name=test_array_slice_with_invalid_args" >test_array_slice_with_invalid_args</a></li>
  <li><a href="index.html?a=M000572&name=test_array_slice_with_negative_start" >test_array_slice_with_negative_start</a></li>
  <li><a href="index.html?a=M000574&name=test_array_slice_with_range" >test_array_slice_with_range</a></li>
  <li><a href="index.html?a=M000570&name=test_array_slice_with_start_and_end" >test_array_slice_with_start_and_end</a></li>
  <li><a href="index.html?a=M000548&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000523&name=test_attribute_no_args" >test_attribute_no_args</a></li>
  <li><a href="index.html?a=M000520&name=test_attribute_set" >test_attribute_set</a></li>
  <li><a href="index.html?a=M000521&name=test_attribute_set_with_block" >test_attribute_set_with_block</a></li>
  <li><a href="index.html?a=M000522&name=test_attribute_set_with_hash" >test_attribute_set_with_hash</a></li>
  <li><a href="index.html?a=M000578&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000544&name=test_children_has_document" >test_children_has_document</a></li>
  <li><a href="index.html?a=M000531&name=test_css_searches_match_self" >test_css_searches_match_self</a></li>
  <li><a href="index.html?a=M000527&name=test_css_with_custom_object" >test_css_with_custom_object</a></li>
  <li><a href="index.html?a=M000554&name=test_delete_when_not_present" >test_delete_when_not_present</a></li>
  <li><a href="index.html?a=M000553&name=test_delete_when_present" >test_delete_when_present</a></li>
  <li><a href="index.html?a=M000552&name=test_delete_with_invalid_argument" >test_delete_with_invalid_argument</a></li>
  <li><a href="index.html?a=M000533&name=test_double_equal" >test_double_equal</a></li>
  <li><a href="index.html?a=M000542&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000541&name=test_first_takes_arguments" >test_first_takes_arguments</a></li>
  <li><a href="index.html?a=M000577&name=test_include?" >test_include?</a></li>
  <li><a href="index.html?a=M000547&name=test_inner_html" >test_inner_html</a></li>
  <li><a href="index.html?a=M000579&name=test_inspect" >test_inspect</a></li>
  <li><a href="index.html?a=M000576&name=test_intersection" >test_intersection</a></li>
  <li><a href="index.html?a=M000575&name=test_intersection_with_no_overlap" >test_intersection_with_no_overlap</a></li>
  <li><a href="index.html?a=M000560&name=test_large_negative_index_returns_nil" >test_large_negative_index_returns_nil</a></li>
  <li><a href="index.html?a=M000545&name=test_length_size" >test_length_size</a></li>
  <li><a href="index.html?a=M000567&name=test_minus_operator" >test_minus_operator</a></li>
  <li><a href="index.html?a=M000559&name=test_negative_index_works" >test_negative_index_works</a></li>
  <li><a href="index.html?a=M000557&name=test_new_nodeset" >test_new_nodeset</a></li>
  <li><a href="index.html?a=M000561&name=test_node_set_fetches_private_data" >test_node_set_fetches_private_data</a></li>
  <li><a href="index.html?a=M000534&name=test_node_set_not_equal_to_string" >test_node_set_not_equal_to_string</a></li>
  <li><a href="index.html?a=M000562&name=test_node_set_returns_0" >test_node_set_returns_0</a></li>
  <li><a href="index.html?a=M000556&name=test_nodeset_search_takes_namespace" >test_nodeset_search_takes_namespace</a></li>
  <li><a href="index.html?a=M000535&name=test_out_of_order_not_equal" >test_out_of_order_not_equal</a></li>
  <li><a href="index.html?a=M000549&name=test_percent" >test_percent</a></li>
  <li><a href="index.html?a=M000565&name=test_plus_operator" >test_plus_operator</a></li>
  <li><a href="index.html?a=M000537&name=test_pop" >test_pop</a></li>
  <li><a href="index.html?a=M000540&name=test_pop_empty" >test_pop_empty</a></li>
  <li><a href="index.html?a=M000551&name=test_push" >test_push</a></li>
  <li><a href="index.html?a=M000515&name=test_remove_attr" >test_remove_attr</a></li>
  <li><a href="index.html?a=M000519&name=test_remove_class_completely" >test_remove_class_completely</a></li>
  <li><a href="index.html?a=M000518&name=test_remove_class_single" >test_remove_class_single</a></li>
  <li><a href="index.html?a=M000517&name=test_remove_class_with_no_class" >test_remove_class_with_no_class</a></li>
  <li><a href="index.html?a=M000524&name=test_search_empty_node_set" >test_search_empty_node_set</a></li>
  <li><a href="index.html?a=M000558&name=test_search_on_nodeset" >test_search_on_nodeset</a></li>
  <li><a href="index.html?a=M000532&name=test_search_with_css_matches_self" >test_search_with_css_matches_self</a></li>
  <li><a href="index.html?a=M000529&name=test_search_with_custom_object" >test_search_with_custom_object</a></li>
  <li><a href="index.html?a=M000538&name=test_shift" >test_shift</a></li>
  <li><a href="index.html?a=M000539&name=test_shift_empty" >test_shift_empty</a></li>
  <li><a href="index.html?a=M000536&name=test_shorter_is_not_equal" >test_shorter_is_not_equal</a></li>
  <li><a href="index.html?a=M000569&name=test_slice_too_far" >test_slice_too_far</a></li>
  <li><a href="index.html?a=M000550&name=test_to_ary" >test_to_ary</a></li>
  <li><a href="index.html?a=M000546&name=test_to_xml" >test_to_xml</a></li>
  <li><a href="index.html?a=M000566&name=test_union" >test_union</a></li>
  <li><a href="index.html?a=M000555&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000563&name=test_wrap" >test_wrap</a></li>
  <li><a href="index.html?a=M000564&name=test_wrap_preserves_document_structure" >test_wrap_preserves_document_structure</a></li>
  <li><a href="index.html?a=M000543&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  <li><a href="index.html?a=M000525&name=test_xpath_with_custom_object" >test_xpath_with_custom_object</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000526" class="method">
  <div id="M000526_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000526_source')" id="l_M000526_source">show source</a> ]</p>
  <div id="M000526_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 94</span>
94:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
95:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
96:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000530" class="method">
  <div id="M000530_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000530_source')" id="l_M000530_source">show source</a> ]</p>
  <div id="M000530_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 116</span>
116:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
117:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
118:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000528" class="method">
  <div id="M000528_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000528_source')" id="l_M000528_source">show source</a> ]</p>
  <div id="M000528_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 105</span>
105:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
106:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
107:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000514" class="method">
  <div id="M000514_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000514_source')" id="l_M000514_source">show source</a> ]</p>
  <div id="M000514_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 6</span>
 6:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 7:         <span class="ruby-keyword kw">super</span>
 8:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
 9:         <span class="ruby-ivar">@list</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>)
10:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000516" class="method">
  <div id="M000516_title" class="title">
    <b>test_add_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000516_source')" id="l_M000516_source">show source</a> ]</p>
  <div id="M000516_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 18</span>
18:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_class</span>
19:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'bar'</span>)
20:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
21: 
22:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'bar'</span>)
23:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
24: 
25:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'baz'</span>)
26:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar baz'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
27:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000568" class="method">
  <div id="M000568_title" class="title">
    <b>test_array_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000568_source')" id="l_M000568_source">show source</a> ]</p>
  <div id="M000568_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 447</span>
447:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index</span>
448:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
449:         <span class="ruby-identifier">other</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
450: 
451:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>])
452:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">other</span>)
453:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000571" class="method">
  <div id="M000571_title" class="title">
    <b>test_array_index_bracket_equivalence</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000571_source')" id="l_M000571_source">show source</a> ]</p>
  <div id="M000571_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 466</span>
466:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index_bracket_equivalence</span>
467:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
468:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
469:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span>,<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>
470:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000573" class="method">
  <div id="M000573_title" class="title">
    <b>test_array_slice_with_invalid_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000573_source')" id="l_M000573_source">show source</a> ]</p>
  <div id="M000573_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 478</span>
478:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_invalid_args</span>
479:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
480:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">99</span>, <span class="ruby-value">1</span>] <span class="ruby-comment cmt"># large start</span>
481:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">-1</span>] <span class="ruby-comment cmt"># negative len</span>
482:         <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">0</span>].<span class="ruby-identifier">to_a</span> <span class="ruby-comment cmt"># zero len</span>
483:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000572" class="method">
  <div id="M000572_title" class="title">
    <b>test_array_slice_with_negative_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000572_source')" id="l_M000572_source">show source</a> ]</p>
  <div id="M000572_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 472</span>
472:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_negative_start</span>
473:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
474:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]],                    <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">1</span>].<span class="ruby-identifier">to_a</span>
475:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]],      <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">to_a</span>
476:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000574" class="method">
  <div id="M000574_title" class="title">
    <b>test_array_slice_with_range</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000574_source')" id="l_M000574_source">show source</a> ]</p>
  <div id="M000574_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 485</span>
485:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_range</span>
486:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
487:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
488:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
489:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000570" class="method">
  <div id="M000570_title" class="title">
    <b>test_array_slice_with_start_and_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000570_source')" id="l_M000570_source">show source</a> ]</p>
  <div id="M000570_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 461</span>
461:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_start_and_end</span>
462:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
463:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
464:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000548" class="method">
  <div id="M000548_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000548_source')" id="l_M000548_source">show source</a> ]</p>
  <div id="M000548_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
256:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
257:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)
258:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000523" class="method">
  <div id="M000523_title" class="title">
    <b>test_attribute_no_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000523_source')" id="l_M000523_source">show source</a> ]</p>
  <div id="M000523_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 79</span>
79:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_no_args</span>
80:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value str">'foo'</span>] = <span class="ruby-value str">'bar'</span>
81:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">attribute</span>(<span class="ruby-value str">'foo'</span>), <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">attribute</span>(<span class="ruby-value str">'foo'</span>)
82:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000520" class="method">
  <div id="M000520_title" class="title">
    <b>test_attribute_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000520_source')" id="l_M000520_source">show source</a> ]</p>
  <div id="M000520_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 52</span>
52:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set</span>
53:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
54: 
55:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
56:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>)
57:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
58:         <span class="ruby-keyword kw">end</span>
59:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000521" class="method">
  <div id="M000521_title" class="title">
    <b>test_attribute_set_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000521_source')" id="l_M000521_source">show source</a> ]</p>
  <div id="M000521_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set_with_block</span>
62:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
63: 
64:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
65:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span> }
66:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
67:         <span class="ruby-keyword kw">end</span>
68:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000522" class="method">
  <div id="M000522_title" class="title">
    <b>test_attribute_set_with_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000522_source')" id="l_M000522_source">show source</a> ]</p>
  <div id="M000522_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 70</span>
70:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set_with_hash</span>
71:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
72: 
73:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
74:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>)
75:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
76:         <span class="ruby-keyword kw">end</span>
77:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000578" class="method">
  <div id="M000578_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000578_source')" id="l_M000578_source">show source</a> ]</p>
  <div id="M000578_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 515</span>
515:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
516:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
517:         <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
518:         <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">employee</span><span class="ruby-operator">|</span>
519:           <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
520:         <span class="ruby-keyword kw">end</span>
521:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">children</span>
522:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
523:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000544" class="method">
  <div id="M000544_title" class="title">
    <b>test_children_has_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000544_source')" id="l_M000544_source">show source</a> ]</p>
  <div id="M000544_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 221</span>
221:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children_has_document</span>
222:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>
223:         <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">NodeSet</span>, <span class="ruby-identifier">set</span>)
224:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">document</span>
225:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000531" class="method">
  <div id="M000531_title" class="title">
    <b>test_css_searches_match_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000531_source')" id="l_M000531_source">show source</a> ]</p>
  <div id="M000531_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 124</span>
124:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_searches_match_self</span>
125:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
126:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
127:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
128:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000527" class="method">
  <div id="M000527_title" class="title">
    <b>test_css_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000527_source')" id="l_M000527_source">show source</a> ]</p>
  <div id="M000527_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 102</span>
102:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_with_custom_object</span>
103:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
104:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'*:awesome'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
105:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
106:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
107:           <span class="ruby-keyword kw">end</span>
108:         }.<span class="ruby-identifier">new</span>)
109: 
110:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
111:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000554" class="method">
  <div id="M000554_title" class="title">
    <b>test_delete_when_not_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000554_source')" id="l_M000554_source">show source</a> ]</p>
  <div id="M000554_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 301</span>
301:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_not_present</span>
302:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
303:         <span class="ruby-identifier">phb</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
304:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">phb</span>) <span class="ruby-comment cmt"># testing setup</span>
305:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
306: 
307:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">phb</span>)
308:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">result</span>
309:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
310:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000553" class="method">
  <div id="M000553_title" class="title">
    <b>test_delete_when_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000553_source')" id="l_M000553_source">show source</a> ]</p>
  <div id="M000553_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 289</span>
289:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_present</span>
290:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
291:         <span class="ruby-identifier">wally</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
292:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>) <span class="ruby-comment cmt"># testing setup</span>
293:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
294: 
295:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">wally</span>)
296:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>, <span class="ruby-identifier">wally</span>
297:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>)
298:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
299:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000552" class="method">
  <div id="M000552_title" class="title">
    <b>test_delete_with_invalid_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000552_source')" id="l_M000552_source">show source</a> ]</p>
  <div id="M000552_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 282</span>
282:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_with_invalid_argument</span>
283:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
284:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
285: 
286:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">positions</span>) }
287:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000533" class="method">
  <div id="M000533_title" class="title">
    <b>test_double_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000533_source')" id="l_M000533_source">show source</a> ]</p>
  <div id="M000533_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 136</span>
136:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_double_equal</span>
137:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
138:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
139: 
140:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">object_id</span>
141: 
142:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
143:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000542" class="method">
  <div id="M000542_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000542_source')" id="l_M000542_source">show source</a> ]</p>
  <div id="M000542_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 192</span>
192:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
193:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
194:         <span class="ruby-identifier">dup</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">dup</span>
195:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">length</span>
196:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
197:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>
198:         <span class="ruby-keyword kw">end</span>
199:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000541" class="method">
  <div id="M000541_title" class="title">
    <b>test_first_takes_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000541_source')" id="l_M000541_source">show source</a> ]</p>
  <div id="M000541_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 187</span>
187:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_first_takes_arguments</span>
188:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
189:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">length</span>
190:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000577" class="method">
  <div id="M000577_title" class="title">
    <b>test_include?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000577_source')" id="l_M000577_source">show source</a> ]</p>
  <div id="M000577_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 506</span>
506:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_include?</span>
507:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
508:         <span class="ruby-identifier">yes</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
509:         <span class="ruby-identifier">no</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
510: 
511:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">yes</span>)
512:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">no</span>)
513:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000547" class="method">
  <div id="M000547_title" class="title">
    <b>test_inner_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000547_source')" id="l_M000547_source">show source</a> ]</p>
  <div id="M000547_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 237</span>
237:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inner_html</span>
238:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;a&gt;one&lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;a&gt;two&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>)
239:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">html</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'div'</span>).<span class="ruby-identifier">inner_html</span>
240:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'&lt;a&gt;'</span>, <span class="ruby-identifier">html</span>
241:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000579" class="method">
  <div id="M000579_title" class="title">
    <b>test_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000579_source')" id="l_M000579_source">show source</a> ]</p>
  <div id="M000579_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 525</span>
525:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inspect</span>
526:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
527:         <span class="ruby-identifier">inspected</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">inspect</span>
528: 
529:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;[#{employees.map { |x| x.inspect }.join(', ')}]&quot;</span>,
530:           <span class="ruby-identifier">inspected</span>
531:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000576" class="method">
  <div id="M000576_title" class="title">
    <b>test_intersection</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000576_source')" id="l_M000576_source">show source</a> ]</p>
  <div id="M000576_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 498</span>
498:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection</span>
499:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
500:         <span class="ruby-identifier">first_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>]
501:         <span class="ruby-identifier">second_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>]
502: 
503:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]], (<span class="ruby-identifier">first_set</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">second_set</span>).<span class="ruby-identifier">to_a</span>
504:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000575" class="method">
  <div id="M000575_title" class="title">
    <b>test_intersection_with_no_overlap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000575_source')" id="l_M000575_source">show source</a> ]</p>
  <div id="M000575_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 491</span>
491:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection_with_no_overlap</span>
492:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
493:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
494: 
495:         <span class="ruby-identifier">assert_equal</span> [], (<span class="ruby-identifier">employees</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">positions</span>).<span class="ruby-identifier">to_a</span>
496:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000560" class="method">
  <div id="M000560_title" class="title">
    <b>test_large_negative_index_returns_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000560_source')" id="l_M000560_source">show source</a> ]</p>
  <div id="M000560_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 374</span>
374:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_large_negative_index_returns_nil</span>
375:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
376:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)])
377:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000545" class="method">
  <div id="M000545_title" class="title">
    <b>test_length_size</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000545_source')" id="l_M000545_source">show source</a> ]</p>
  <div id="M000545_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 227</span>
227:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_length_size</span>
228:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
229:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
230:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000567" class="method">
  <div id="M000567_title" class="title">
    <b>test_minus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000567_source')" id="l_M000567_source">show source</a> ]</p>
  <div id="M000567_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 429</span>
429:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_operator</span>
430:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
431:         <span class="ruby-identifier">females</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee[gender[text()='Female']]&quot;</span>)
432: 
433:         <span class="ruby-identifier">employees_len</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
434:         <span class="ruby-identifier">females_len</span> = <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
435: 
436:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">first</span> }
437: 
438:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>
439:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees_len</span>,                     <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
440:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">females_len</span>,                       <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
441:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
442: 
443:         <span class="ruby-identifier">employees</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">females</span>
444:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
445:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000559" class="method">
  <div id="M000559_title" class="title">
    <b>test_negative_index_works</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000559_source')" id="l_M000559_source">show source</a> ]</p>
  <div id="M000559_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 369</span>
369:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_negative_index_works</span>
370:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
371:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span>]
372:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000557" class="method">
  <div id="M000557_title" class="title">
    <b>test_new_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000557_source')" id="l_M000557_source">show source</a> ]</p>
  <div id="M000557_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 354</span>
354:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_nodeset</span>
355:         <span class="ruby-identifier">node_set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
356:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
357:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
358:         <span class="ruby-identifier">node_set</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
359:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
360:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>)
361:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000561" class="method">
  <div id="M000561_title" class="title">
    <b>test_node_set_fetches_private_data</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000561_source')" id="l_M000561_source">show source</a> ]</p>
  <div id="M000561_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 379</span>
379:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_fetches_private_data</span>
380:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
381: 
382:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">node_set</span>
383:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>])
384:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000534" class="method">
  <div id="M000534_title" class="title">
    <b>test_node_set_not_equal_to_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000534_source')" id="l_M000534_source">show source</a> ]</p>
  <div id="M000534_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 145</span>
145:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_not_equal_to_string</span>
146:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
147:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-value str">&quot;asdfadsf&quot;</span>
148:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000562" class="method">
  <div id="M000562_title" class="title">
    <b>test_node_set_returns_0</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000562_source')" id="l_M000562_source">show source</a> ]</p>
  <div id="M000562_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 386</span>
386:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_returns_0</span>
387:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//asdkfjhasdlkfjhaldskfh'</span>)
388:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
389:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000556" class="method">
  <div id="M000556_title" class="title">
    <b>test_nodeset_search_takes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000556_source')" id="l_M000556_source">show source</a> ]</p>
  <div id="M000556_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 336</span>
336:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nodeset_search_takes_namespace</span>
337:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
338:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">'root'</span>
339:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
340:         <span class="ruby-identifier">bike_tire</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//bike:tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://schwinn.com/&quot;</span>)
341:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">bike_tire</span>.<span class="ruby-identifier">length</span>
342:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000535" class="method">
  <div id="M000535_title" class="title">
    <b>test_out_of_order_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000535_source')" id="l_M000535_source">show source</a> ]</p>
  <div id="M000535_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 150</span>
150:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_out_of_order_not_equal</span>
151:         <span class="ruby-identifier">one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
152:         <span class="ruby-identifier">two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
153:         <span class="ruby-identifier">two</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">two</span>.<span class="ruby-identifier">shift</span>
154:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">one</span>, <span class="ruby-identifier">two</span>
155:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000549" class="method">
  <div id="M000549_title" class="title">
    <b>test_percent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000549_source')" id="l_M000549_source">show source</a> ]</p>
  <div id="M000549_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 260</span>
260:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_percent</span>
261:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
262:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span> <span class="ruby-operator">%</span> <span class="ruby-value">0</span>
263:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000565" class="method">
  <div id="M000565_title" class="title">
    <b>test_plus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000565_source')" id="l_M000565_source">show source</a> ]</p>
  <div id="M000565_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 405</span>
405:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_operator</span>
406:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
407:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;position&quot;</span>)
408: 
409:         <span class="ruby-identifier">names_len</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
410:         <span class="ruby-identifier">positions_len</span> = <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
411: 
412:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">first</span> }
413: 
414:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>
415:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names_len</span>,                         <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
416:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">positions_len</span>,                     <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
417:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>,   <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
418: 
419:         <span class="ruby-identifier">names</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">positions</span>
420:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
421:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000537" class="method">
  <div id="M000537_title" class="title">
    <b>test_pop</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000537_source')" id="l_M000537_source">show source</a> ]</p>
  <div id="M000537_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 165</span>
165:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop</span>
166:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
167:         <span class="ruby-identifier">last</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">last</span>
168:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
169:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000540" class="method">
  <div id="M000540_title" class="title">
    <b>test_pop_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000540_source')" id="l_M000540_source">show source</a> ]</p>
  <div id="M000540_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop_empty</span>
183:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
184:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
185:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000551" class="method">
  <div id="M000551_title" class="title">
    <b>test_push</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000551_source')" id="l_M000551_source">show source</a> ]</p>
  <div id="M000551_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 272</span>
272:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_push</span>
273:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
274:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'bar'</span>
275: 
276:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
277:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">node</span>)
278: 
279:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">node</span>)
280:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000515" class="method">
  <div id="M000515_title" class="title">
    <b>test_remove_attr</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000515_source')" id="l_M000515_source">show source</a> ]</p>
  <div id="M000515_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 12</span>
12:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_attr</span>
13:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'blah'</span> }
14:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_attr</span>(<span class="ruby-value str">'class'</span>)
15:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
16:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000519" class="method">
  <div id="M000519_title" class="title">
    <b>test_remove_class_completely</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000519_source')" id="l_M000519_source">show source</a> ]</p>
  <div id="M000519_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 45</span>
45:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_completely</span>
46:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'foo'</span> }
47: 
48:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>
49:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
50:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000518" class="method">
  <div id="M000518_title" class="title">
    <b>test_remove_class_single</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000518_source')" id="l_M000518_source">show source</a> ]</p>
  <div id="M000518_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 38</span>
38:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_single</span>
39:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'foo bar'</span> }
40: 
41:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
42:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
43:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000517" class="method">
  <div id="M000517_title" class="title">
    <b>test_remove_class_with_no_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000517_source')" id="l_M000517_source">show source</a> ]</p>
  <div id="M000517_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 29</span>
29:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_with_no_class</span>
30:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
31:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
32: 
33:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">''</span> }
34:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
35:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
36:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000524" class="method">
  <div id="M000524_title" class="title">
    <b>test_search_empty_node_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000524_source')" id="l_M000524_source">show source</a> ]</p>
  <div id="M000524_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 84</span>
84:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_empty_node_set</span>
85:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>)
86:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
87:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'.//foo'</span>).<span class="ruby-identifier">length</span>
88:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
89:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000558" class="method">
  <div id="M000558_title" class="title">
    <b>test_search_on_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000558_source')" id="l_M000558_source">show source</a> ]</p>
  <div id="M000558_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 363</span>
363:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_nodeset</span>
364:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
365:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_set</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
366:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">sub_set</span>.<span class="ruby-identifier">length</span>)
367:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000532" class="method">
  <div id="M000532_title" class="title">
    <b>test_search_with_css_matches_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000532_source')" id="l_M000532_source">show source</a> ]</p>
  <div id="M000532_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 130</span>
130:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_css_matches_self</span>
131:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
132:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
133:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
134:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000529" class="method">
  <div id="M000529_title" class="title">
    <b>test_search_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000529_source')" id="l_M000529_source">show source</a> ]</p>
  <div id="M000529_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 113</span>
113:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_custom_object</span>
114:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
115:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//*[awesome(.)]'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
116:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
117:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
118:           <span class="ruby-keyword kw">end</span>
119:         }.<span class="ruby-identifier">new</span>)
120: 
121:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
122:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000538" class="method">
  <div id="M000538_title" class="title">
    <b>test_shift</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000538_source')" id="l_M000538_source">show source</a> ]</p>
  <div id="M000538_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift</span>
172:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
173:         <span class="ruby-identifier">first</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
174:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
175:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000539" class="method">
  <div id="M000539_title" class="title">
    <b>test_shift_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000539_source')" id="l_M000539_source">show source</a> ]</p>
  <div id="M000539_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 177</span>
177:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift_empty</span>
178:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
179:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
180:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000536" class="method">
  <div id="M000536_title" class="title">
    <b>test_shorter_is_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000536_source')" id="l_M000536_source">show source</a> ]</p>
  <div id="M000536_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 157</span>
157:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shorter_is_not_equal</span>
158:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
159:         <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
160:         <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">first</span>)
161: 
162:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
163:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000569" class="method">
  <div id="M000569_title" class="title">
    <b>test_slice_too_far</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000569_source')" id="l_M000569_source">show source</a> ]</p>
  <div id="M000569_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 455</span>
455:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_too_far</span>
456:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
457:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>].<span class="ruby-identifier">length</span>
458:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>].<span class="ruby-identifier">length</span>
459:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000550" class="method">
  <div id="M000550_title" class="title">
    <b>test_to_ary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000550_source')" id="l_M000550_source">show source</a> ]</p>
  <div id="M000550_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 265</span>
265:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_ary</span>
266:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
267:         <span class="ruby-identifier">foo</span> = []
268:         <span class="ruby-identifier">foo</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">node_set</span>
269:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">foo</span>.<span class="ruby-identifier">length</span>
270:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000546" class="method">
  <div id="M000546_title" class="title">
    <b>test_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000546_source')" id="l_M000546_source">show source</a> ]</p>
  <div id="M000546_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml</span>
233:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
234:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_xml</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000566" class="method">
  <div id="M000566_title" class="title">
    <b>test_union</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000566_source')" id="l_M000566_source">show source</a> ]</p>
  <div id="M000566_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 423</span>
423:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_union</span>
424:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
425: 
426:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>, (<span class="ruby-identifier">names</span> <span class="ruby-operator">|</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)).<span class="ruby-identifier">length</span>)
427:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000555" class="method">
  <div id="M000555_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000555_source')" id="l_M000555_source">show source</a> ]</p>
  <div id="M000555_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 312</span>
312:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
313:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
314:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)
315:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">unlink</span>
316:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
317:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
318:           <span class="ruby-comment cmt">#assert !node.document</span>
319:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
320:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
321:         <span class="ruby-keyword kw">end</span>
322:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
323:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000563" class="method">
  <div id="M000563_title" class="title">
    <b>test_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000563_source')" id="l_M000563_source">show source</a> ]</p>
  <div id="M000563_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 391</span>
391:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap</span>
392:         <span class="ruby-identifier">employees</span> = (<span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
393:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'wrapper'</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">name</span>
394:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'employee'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//wrapper&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
395:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000564" class="method">
  <div id="M000564_title" class="title">
    <b>test_wrap_preserves_document_structure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000564_source')" id="l_M000564_source">show source</a> ]</p>
  <div id="M000564_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 397</span>
397:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap_preserves_document_structure</span>
398:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;employeeId&quot;</span>,
399:                      <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">text?</span> }.<span class="ruby-identifier">name</span>
400:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//employeeId[text()='EMP0001']&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
401:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;wrapper&quot;</span>,
402:                      <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">text?</span> }.<span class="ruby-identifier">name</span>
403:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000543" class="method">
  <div id="M000543_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000543_source')" id="l_M000543_source">show source</a> ]</p>
  <div id="M000543_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 201</span>
201:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
202:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
203:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
204:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
205:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|bar'</span>).<span class="ruby-identifier">length</span>
206:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
207:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
208:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
209:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:bar'</span>)
210:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|bar'</span>)
211:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'bar'</span>)
212:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000525" class="method">
  <div id="M000525_title" class="title">
    <b>test_xpath_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000525_source')" id="l_M000525_source">show source</a> ]</p>
  <div id="M000525_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 91</span>
 91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xpath_with_custom_object</span>
 92:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
 93:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//*[awesome(.)]'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
 94:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
 95:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
 96:           <span class="ruby-keyword kw">end</span>
 97:         }.<span class="ruby-identifier">new</span>)
 98: 
 99:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
100:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>