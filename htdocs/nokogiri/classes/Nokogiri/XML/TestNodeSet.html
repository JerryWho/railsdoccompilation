  <div id="C00000053">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNodeSet<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_set_rb.html');">test/xml/test_node_set.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000500&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000537&name=test_array_index" >test_array_index</a></li>
  <li><a href="index.html?a=M000539&name=test_array_index_bracket_equivalence" >test_array_index_bracket_equivalence</a></li>
  <li><a href="index.html?a=M000541&name=test_array_slice_with_invalid_args" >test_array_slice_with_invalid_args</a></li>
  <li><a href="index.html?a=M000540&name=test_array_slice_with_negative_start" >test_array_slice_with_negative_start</a></li>
  <li><a href="index.html?a=M000542&name=test_array_slice_with_range" >test_array_slice_with_range</a></li>
  <li><a href="index.html?a=M000538&name=test_array_slice_with_start_and_end" >test_array_slice_with_start_and_end</a></li>
  <li><a href="index.html?a=M000519&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000546&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000515&name=test_children_has_document" >test_children_has_document</a></li>
  <li><a href="index.html?a=M000502&name=test_css_searches_match_self" >test_css_searches_match_self</a></li>
  <li><a href="index.html?a=M000525&name=test_delete_when_not_present" >test_delete_when_not_present</a></li>
  <li><a href="index.html?a=M000524&name=test_delete_when_present" >test_delete_when_present</a></li>
  <li><a href="index.html?a=M000523&name=test_delete_with_invalid_argument" >test_delete_with_invalid_argument</a></li>
  <li><a href="index.html?a=M000504&name=test_double_equal" >test_double_equal</a></li>
  <li><a href="index.html?a=M000513&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000512&name=test_first_takes_arguments" >test_first_takes_arguments</a></li>
  <li><a href="index.html?a=M000545&name=test_include?" >test_include?</a></li>
  <li><a href="index.html?a=M000518&name=test_inner_html" >test_inner_html</a></li>
  <li><a href="index.html?a=M000544&name=test_intersection" >test_intersection</a></li>
  <li><a href="index.html?a=M000543&name=test_intersection_with_no_overlap" >test_intersection_with_no_overlap</a></li>
  <li><a href="index.html?a=M000531&name=test_large_negative_index_returns_nil" >test_large_negative_index_returns_nil</a></li>
  <li><a href="index.html?a=M000516&name=test_length_size" >test_length_size</a></li>
  <li><a href="index.html?a=M000536&name=test_minus_operator" >test_minus_operator</a></li>
  <li><a href="index.html?a=M000530&name=test_negative_index_works" >test_negative_index_works</a></li>
  <li><a href="index.html?a=M000528&name=test_new_nodeset" >test_new_nodeset</a></li>
  <li><a href="index.html?a=M000532&name=test_node_set_fetches_private_data" >test_node_set_fetches_private_data</a></li>
  <li><a href="index.html?a=M000505&name=test_node_set_not_equal_to_string" >test_node_set_not_equal_to_string</a></li>
  <li><a href="index.html?a=M000533&name=test_node_set_returns_0" >test_node_set_returns_0</a></li>
  <li><a href="index.html?a=M000527&name=test_nodeset_search_takes_namespace" >test_nodeset_search_takes_namespace</a></li>
  <li><a href="index.html?a=M000506&name=test_out_of_order_not_equal" >test_out_of_order_not_equal</a></li>
  <li><a href="index.html?a=M000520&name=test_percent" >test_percent</a></li>
  <li><a href="index.html?a=M000535&name=test_plus_operator" >test_plus_operator</a></li>
  <li><a href="index.html?a=M000508&name=test_pop" >test_pop</a></li>
  <li><a href="index.html?a=M000511&name=test_pop_empty" >test_pop_empty</a></li>
  <li><a href="index.html?a=M000522&name=test_push" >test_push</a></li>
  <li><a href="index.html?a=M000501&name=test_search_empty_node_set" >test_search_empty_node_set</a></li>
  <li><a href="index.html?a=M000529&name=test_search_on_nodeset" >test_search_on_nodeset</a></li>
  <li><a href="index.html?a=M000503&name=test_search_with_css_matches_self" >test_search_with_css_matches_self</a></li>
  <li><a href="index.html?a=M000509&name=test_shift" >test_shift</a></li>
  <li><a href="index.html?a=M000510&name=test_shift_empty" >test_shift_empty</a></li>
  <li><a href="index.html?a=M000507&name=test_shorter_is_not_equal" >test_shorter_is_not_equal</a></li>
  <li><a href="index.html?a=M000521&name=test_to_ary" >test_to_ary</a></li>
  <li><a href="index.html?a=M000517&name=test_to_xml" >test_to_xml</a></li>
  <li><a href="index.html?a=M000526&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000534&name=test_wrap" >test_wrap</a></li>
  <li><a href="index.html?a=M000514&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000500" class="method">
  <div id="M000500_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000500_source')" id="l_M000500_source">show source</a> ]</p>
  <div id="M000500_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 6</span>
6:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
7:         <span class="ruby-keyword kw">super</span>
8:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
9:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000537" class="method">
  <div id="M000537_title" class="title">
    <b>test_array_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000537_source')" id="l_M000537_source">show source</a> ]</p>
  <div id="M000537_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 327</span>
327:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index</span>
328:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
329:         <span class="ruby-identifier">other</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
330: 
331:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>])
332:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">other</span>)
333:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000539" class="method">
  <div id="M000539_title" class="title">
    <b>test_array_index_bracket_equivalence</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000539_source')" id="l_M000539_source">show source</a> ]</p>
  <div id="M000539_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 340</span>
340:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index_bracket_equivalence</span>
341:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
342:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
343:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span>,<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>
344:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000541" class="method">
  <div id="M000541_title" class="title">
    <b>test_array_slice_with_invalid_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000541_source')" id="l_M000541_source">show source</a> ]</p>
  <div id="M000541_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 352</span>
352:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_invalid_args</span>
353:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
354:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">99</span>, <span class="ruby-value">1</span>] <span class="ruby-comment cmt"># large start</span>
355:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">-1</span>] <span class="ruby-comment cmt"># negative len</span>
356:         <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">0</span>].<span class="ruby-identifier">to_a</span> <span class="ruby-comment cmt"># zero len</span>
357:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000540" class="method">
  <div id="M000540_title" class="title">
    <b>test_array_slice_with_negative_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000540_source')" id="l_M000540_source">show source</a> ]</p>
  <div id="M000540_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 346</span>
346:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_negative_start</span>
347:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
348:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]],                    <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">1</span>].<span class="ruby-identifier">to_a</span>
349:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]],      <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">to_a</span>
350:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000542" class="method">
  <div id="M000542_title" class="title">
    <b>test_array_slice_with_range</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000542_source')" id="l_M000542_source">show source</a> ]</p>
  <div id="M000542_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 359</span>
359:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_range</span>
360:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
361:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
362:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
363:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000538" class="method">
  <div id="M000538_title" class="title">
    <b>test_array_slice_with_start_and_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000538_source')" id="l_M000538_source">show source</a> ]</p>
  <div id="M000538_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 335</span>
335:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_start_and_end</span>
336:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
337:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
338:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000519" class="method">
  <div id="M000519_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000519_source')" id="l_M000519_source">show source</a> ]</p>
  <div id="M000519_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 149</span>
149:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
150:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
151:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)
152:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000546" class="method">
  <div id="M000546_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000546_source')" id="l_M000546_source">show source</a> ]</p>
  <div id="M000546_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 389</span>
389:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
390:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
391:         <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
392:         <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">employee</span><span class="ruby-operator">|</span>
393:           <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
394:         <span class="ruby-keyword kw">end</span>
395:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">children</span>
396:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
397:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000515" class="method">
  <div id="M000515_title" class="title">
    <b>test_children_has_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000515_source')" id="l_M000515_source">show source</a> ]</p>
  <div id="M000515_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children_has_document</span>
116:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>
117:         <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">NodeSet</span>, <span class="ruby-identifier">set</span>)
118:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">document</span>
119:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000502" class="method">
  <div id="M000502_title" class="title">
    <b>test_css_searches_match_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000502_source')" id="l_M000502_source">show source</a> ]</p>
  <div id="M000502_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 18</span>
18:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_searches_match_self</span>
19:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
20:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
21:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
22:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000525" class="method">
  <div id="M000525_title" class="title">
    <b>test_delete_when_not_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000525_source')" id="l_M000525_source">show source</a> ]</p>
  <div id="M000525_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 195</span>
195:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_not_present</span>
196:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
197:         <span class="ruby-identifier">phb</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
198:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">phb</span>) <span class="ruby-comment cmt"># testing setup</span>
199:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
200: 
201:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">phb</span>)
202:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">result</span>
203:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
204:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000524" class="method">
  <div id="M000524_title" class="title">
    <b>test_delete_when_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000524_source')" id="l_M000524_source">show source</a> ]</p>
  <div id="M000524_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 183</span>
183:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_present</span>
184:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
185:         <span class="ruby-identifier">wally</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
186:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>) <span class="ruby-comment cmt"># testing setup</span>
187:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
188: 
189:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">wally</span>)
190:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>, <span class="ruby-identifier">wally</span>
191:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>)
192:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
193:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000523" class="method">
  <div id="M000523_title" class="title">
    <b>test_delete_with_invalid_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000523_source')" id="l_M000523_source">show source</a> ]</p>
  <div id="M000523_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_with_invalid_argument</span>
177:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
178:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
179: 
180:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">positions</span>) }
181:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000504" class="method">
  <div id="M000504_title" class="title">
    <b>test_double_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000504_source')" id="l_M000504_source">show source</a> ]</p>
  <div id="M000504_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 30</span>
30:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_double_equal</span>
31:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
32:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
33: 
34:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">object_id</span>
35: 
36:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
37:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000513" class="method">
  <div id="M000513_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000513_source')" id="l_M000513_source">show source</a> ]</p>
  <div id="M000513_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 86</span>
86:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
87:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
88:         <span class="ruby-identifier">dup</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">dup</span>
89:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">length</span>
90:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
91:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>
92:         <span class="ruby-keyword kw">end</span>
93:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000512" class="method">
  <div id="M000512_title" class="title">
    <b>test_first_takes_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000512_source')" id="l_M000512_source">show source</a> ]</p>
  <div id="M000512_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 81</span>
81:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_first_takes_arguments</span>
82:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
83:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">length</span>
84:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000545" class="method">
  <div id="M000545_title" class="title">
    <b>test_include?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000545_source')" id="l_M000545_source">show source</a> ]</p>
  <div id="M000545_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 380</span>
380:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_include?</span>
381:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
382:         <span class="ruby-identifier">yes</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
383:         <span class="ruby-identifier">no</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
384: 
385:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">yes</span>)
386:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">no</span>)
387:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000518" class="method">
  <div id="M000518_title" class="title">
    <b>test_inner_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000518_source')" id="l_M000518_source">show source</a> ]</p>
  <div id="M000518_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 131</span>
131:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inner_html</span>
132:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;a&gt;one&lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;a&gt;two&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>)
133:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">html</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'div'</span>).<span class="ruby-identifier">inner_html</span>
134:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'&lt;a&gt;'</span>, <span class="ruby-identifier">html</span>
135:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000544" class="method">
  <div id="M000544_title" class="title">
    <b>test_intersection</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000544_source')" id="l_M000544_source">show source</a> ]</p>
  <div id="M000544_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 372</span>
372:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection</span>
373:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
374:         <span class="ruby-identifier">first_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>]
375:         <span class="ruby-identifier">second_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>]
376: 
377:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]], (<span class="ruby-identifier">first_set</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">second_set</span>).<span class="ruby-identifier">to_a</span>
378:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000543" class="method">
  <div id="M000543_title" class="title">
    <b>test_intersection_with_no_overlap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000543_source')" id="l_M000543_source">show source</a> ]</p>
  <div id="M000543_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 365</span>
365:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection_with_no_overlap</span>
366:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
367:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
368: 
369:         <span class="ruby-identifier">assert_equal</span> [], (<span class="ruby-identifier">employees</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">positions</span>).<span class="ruby-identifier">to_a</span>
370:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000531" class="method">
  <div id="M000531_title" class="title">
    <b>test_large_negative_index_returns_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000531_source')" id="l_M000531_source">show source</a> ]</p>
  <div id="M000531_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 268</span>
268:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_large_negative_index_returns_nil</span>
269:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
270:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)])
271:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000516" class="method">
  <div id="M000516_title" class="title">
    <b>test_length_size</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000516_source')" id="l_M000516_source">show source</a> ]</p>
  <div id="M000516_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 121</span>
121:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_length_size</span>
122:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
123:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
124:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000536" class="method">
  <div id="M000536_title" class="title">
    <b>test_minus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000536_source')" id="l_M000536_source">show source</a> ]</p>
  <div id="M000536_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 309</span>
309:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_operator</span>
310:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
311:         <span class="ruby-identifier">females</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee[gender[text()='Female']]&quot;</span>)
312: 
313:         <span class="ruby-identifier">employees_len</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
314:         <span class="ruby-identifier">females_len</span> = <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
315: 
316:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">first</span> }
317: 
318:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>
319:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees_len</span>,                     <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
320:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">females_len</span>,                       <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
321:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
322: 
323:         <span class="ruby-identifier">employees</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">females</span>
324:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
325:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000530" class="method">
  <div id="M000530_title" class="title">
    <b>test_negative_index_works</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000530_source')" id="l_M000530_source">show source</a> ]</p>
  <div id="M000530_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 263</span>
263:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_negative_index_works</span>
264:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
265:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span>]
266:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000528" class="method">
  <div id="M000528_title" class="title">
    <b>test_new_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000528_source')" id="l_M000528_source">show source</a> ]</p>
  <div id="M000528_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 248</span>
248:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_nodeset</span>
249:         <span class="ruby-identifier">node_set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
250:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
251:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
252:         <span class="ruby-identifier">node_set</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
253:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
254:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>)
255:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000532" class="method">
  <div id="M000532_title" class="title">
    <b>test_node_set_fetches_private_data</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000532_source')" id="l_M000532_source">show source</a> ]</p>
  <div id="M000532_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 273</span>
273:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_fetches_private_data</span>
274:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
275: 
276:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">node_set</span>
277:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>])
278:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000505" class="method">
  <div id="M000505_title" class="title">
    <b>test_node_set_not_equal_to_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000505_source')" id="l_M000505_source">show source</a> ]</p>
  <div id="M000505_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 39</span>
39:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_not_equal_to_string</span>
40:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
41:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-value str">&quot;asdfadsf&quot;</span>
42:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000533" class="method">
  <div id="M000533_title" class="title">
    <b>test_node_set_returns_0</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000533_source')" id="l_M000533_source">show source</a> ]</p>
  <div id="M000533_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 280</span>
280:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_returns_0</span>
281:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//asdkfjhasdlkfjhaldskfh'</span>)
282:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
283:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000527" class="method">
  <div id="M000527_title" class="title">
    <b>test_nodeset_search_takes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000527_source')" id="l_M000527_source">show source</a> ]</p>
  <div id="M000527_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 230</span>
230:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nodeset_search_takes_namespace</span>
231:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
232:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">'root'</span>
233:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
234:         <span class="ruby-identifier">bike_tire</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//bike:tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://schwinn.com/&quot;</span>)
235:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">bike_tire</span>.<span class="ruby-identifier">length</span>
236:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000506" class="method">
  <div id="M000506_title" class="title">
    <b>test_out_of_order_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000506_source')" id="l_M000506_source">show source</a> ]</p>
  <div id="M000506_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 44</span>
44:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_out_of_order_not_equal</span>
45:         <span class="ruby-identifier">one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
46:         <span class="ruby-identifier">two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
47:         <span class="ruby-identifier">two</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">two</span>.<span class="ruby-identifier">shift</span>
48:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">one</span>, <span class="ruby-identifier">two</span>
49:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000520" class="method">
  <div id="M000520_title" class="title">
    <b>test_percent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000520_source')" id="l_M000520_source">show source</a> ]</p>
  <div id="M000520_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 154</span>
154:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_percent</span>
155:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
156:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span> <span class="ruby-operator">%</span> <span class="ruby-value">0</span>
157:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000535" class="method">
  <div id="M000535_title" class="title">
    <b>test_plus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000535_source')" id="l_M000535_source">show source</a> ]</p>
  <div id="M000535_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_operator</span>
292:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
293:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;position&quot;</span>)
294: 
295:         <span class="ruby-identifier">names_len</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
296:         <span class="ruby-identifier">positions_len</span> = <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
297: 
298:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">first</span> }
299: 
300:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>
301:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names_len</span>,                         <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
302:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">positions_len</span>,                     <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
303:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>,   <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
304: 
305:         <span class="ruby-identifier">names</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">positions</span>
306:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
307:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000508" class="method">
  <div id="M000508_title" class="title">
    <b>test_pop</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000508_source')" id="l_M000508_source">show source</a> ]</p>
  <div id="M000508_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 59</span>
59:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop</span>
60:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
61:         <span class="ruby-identifier">last</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">last</span>
62:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
63:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000511" class="method">
  <div id="M000511_title" class="title">
    <b>test_pop_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000511_source')" id="l_M000511_source">show source</a> ]</p>
  <div id="M000511_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop_empty</span>
77:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
78:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
79:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000522" class="method">
  <div id="M000522_title" class="title">
    <b>test_push</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000522_source')" id="l_M000522_source">show source</a> ]</p>
  <div id="M000522_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 166</span>
166:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_push</span>
167:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
168:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'bar'</span>
169: 
170:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
171:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">node</span>)
172: 
173:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">node</span>)
174:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000501" class="method">
  <div id="M000501_title" class="title">
    <b>test_search_empty_node_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000501_source')" id="l_M000501_source">show source</a> ]</p>
  <div id="M000501_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 11</span>
11:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_empty_node_set</span>
12:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>)
13:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
14:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'.//foo'</span>).<span class="ruby-identifier">length</span>
15:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
16:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000529" class="method">
  <div id="M000529_title" class="title">
    <b>test_search_on_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000529_source')" id="l_M000529_source">show source</a> ]</p>
  <div id="M000529_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 257</span>
257:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_nodeset</span>
258:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
259:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_set</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
260:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">sub_set</span>.<span class="ruby-identifier">length</span>)
261:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000503" class="method">
  <div id="M000503_title" class="title">
    <b>test_search_with_css_matches_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000503_source')" id="l_M000503_source">show source</a> ]</p>
  <div id="M000503_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 24</span>
24:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_css_matches_self</span>
25:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
26:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
27:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
28:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000509" class="method">
  <div id="M000509_title" class="title">
    <b>test_shift</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000509_source')" id="l_M000509_source">show source</a> ]</p>
  <div id="M000509_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 65</span>
65:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift</span>
66:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
67:         <span class="ruby-identifier">first</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
68:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
69:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000510" class="method">
  <div id="M000510_title" class="title">
    <b>test_shift_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000510_source')" id="l_M000510_source">show source</a> ]</p>
  <div id="M000510_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 71</span>
71:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift_empty</span>
72:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
73:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
74:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000507" class="method">
  <div id="M000507_title" class="title">
    <b>test_shorter_is_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000507_source')" id="l_M000507_source">show source</a> ]</p>
  <div id="M000507_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shorter_is_not_equal</span>
52:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
53:         <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
54:         <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">first</span>)
55: 
56:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
57:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000521" class="method">
  <div id="M000521_title" class="title">
    <b>test_to_ary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000521_source')" id="l_M000521_source">show source</a> ]</p>
  <div id="M000521_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 159</span>
159:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_ary</span>
160:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
161:         <span class="ruby-identifier">foo</span> = []
162:         <span class="ruby-identifier">foo</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">node_set</span>
163:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">foo</span>.<span class="ruby-identifier">length</span>
164:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000517" class="method">
  <div id="M000517_title" class="title">
    <b>test_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000517_source')" id="l_M000517_source">show source</a> ]</p>
  <div id="M000517_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 126</span>
126:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml</span>
127:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
128:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_xml</span>
129:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000526" class="method">
  <div id="M000526_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000526_source')" id="l_M000526_source">show source</a> ]</p>
  <div id="M000526_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
207:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
208:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)
209:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">unlink</span>
210:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
211:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
212:           <span class="ruby-comment cmt">#assert !node.document</span>
213:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
214:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
215:         <span class="ruby-keyword kw">end</span>
216:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
217:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000534" class="method">
  <div id="M000534_title" class="title">
    <b>test_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000534_source')" id="l_M000534_source">show source</a> ]</p>
  <div id="M000534_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 285</span>
285:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap</span>
286:         <span class="ruby-identifier">employees</span> = (<span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
287:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'wrapper'</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">name</span>
288:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'employee'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//wrapper&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
289:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000514" class="method">
  <div id="M000514_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000514_source')" id="l_M000514_source">show source</a> ]</p>
  <div id="M000514_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 95</span>
 95:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
 96:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
 97:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
 98:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
 99:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|bar'</span>).<span class="ruby-identifier">length</span>
100:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
101:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
102:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
103:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:bar'</span>)
104:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|bar'</span>)
105:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'bar'</span>)
106:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>