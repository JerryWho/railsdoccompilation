  <div id="C00000019">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNodeSet<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_set_rb.html');">test/xml/test_node_set.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000277&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000279&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000275&name=awesome" >awesome</a></li>
  <li><a href="index.html?a=M000262&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000265&name=test_add_class" >test_add_class</a></li>
  <li><a href="index.html?a=M000317&name=test_array_index" >test_array_index</a></li>
  <li><a href="index.html?a=M000320&name=test_array_index_bracket_equivalence" >test_array_index_bracket_equivalence</a></li>
  <li><a href="index.html?a=M000322&name=test_array_slice_with_invalid_args" >test_array_slice_with_invalid_args</a></li>
  <li><a href="index.html?a=M000321&name=test_array_slice_with_negative_start" >test_array_slice_with_negative_start</a></li>
  <li><a href="index.html?a=M000323&name=test_array_slice_with_range" >test_array_slice_with_range</a></li>
  <li><a href="index.html?a=M000319&name=test_array_slice_with_start_and_end" >test_array_slice_with_start_and_end</a></li>
  <li><a href="index.html?a=M000297&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000272&name=test_attribute_no_args" >test_attribute_no_args</a></li>
  <li><a href="index.html?a=M000269&name=test_attribute_set" >test_attribute_set</a></li>
  <li><a href="index.html?a=M000270&name=test_attribute_set_with_block" >test_attribute_set_with_block</a></li>
  <li><a href="index.html?a=M000271&name=test_attribute_set_with_hash" >test_attribute_set_with_hash</a></li>
  <li><a href="index.html?a=M000327&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000293&name=test_children_has_document" >test_children_has_document</a></li>
  <li><a href="index.html?a=M000280&name=test_css_searches_match_self" >test_css_searches_match_self</a></li>
  <li><a href="index.html?a=M000276&name=test_css_with_custom_object" >test_css_with_custom_object</a></li>
  <li><a href="index.html?a=M000303&name=test_delete_when_not_present" >test_delete_when_not_present</a></li>
  <li><a href="index.html?a=M000302&name=test_delete_when_present" >test_delete_when_present</a></li>
  <li><a href="index.html?a=M000301&name=test_delete_with_invalid_argument" >test_delete_with_invalid_argument</a></li>
  <li><a href="index.html?a=M000282&name=test_double_equal" >test_double_equal</a></li>
  <li><a href="index.html?a=M000291&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000263&name=test_filter" >test_filter</a></li>
  <li><a href="index.html?a=M000290&name=test_first_takes_arguments" >test_first_takes_arguments</a></li>
  <li><a href="index.html?a=M000326&name=test_include?" >test_include?</a></li>
  <li><a href="index.html?a=M000296&name=test_inner_html" >test_inner_html</a></li>
  <li><a href="index.html?a=M000328&name=test_inspect" >test_inspect</a></li>
  <li><a href="index.html?a=M000325&name=test_intersection" >test_intersection</a></li>
  <li><a href="index.html?a=M000324&name=test_intersection_with_no_overlap" >test_intersection_with_no_overlap</a></li>
  <li><a href="index.html?a=M000309&name=test_large_negative_index_returns_nil" >test_large_negative_index_returns_nil</a></li>
  <li><a href="index.html?a=M000294&name=test_length_size" >test_length_size</a></li>
  <li><a href="index.html?a=M000316&name=test_minus_operator" >test_minus_operator</a></li>
  <li><a href="index.html?a=M000308&name=test_negative_index_works" >test_negative_index_works</a></li>
  <li><a href="index.html?a=M000306&name=test_new_nodeset" >test_new_nodeset</a></li>
  <li><a href="index.html?a=M000310&name=test_node_set_fetches_private_data" >test_node_set_fetches_private_data</a></li>
  <li><a href="index.html?a=M000283&name=test_node_set_not_equal_to_string" >test_node_set_not_equal_to_string</a></li>
  <li><a href="index.html?a=M000311&name=test_node_set_returns_0" >test_node_set_returns_0</a></li>
  <li><a href="index.html?a=M000305&name=test_nodeset_search_takes_namespace" >test_nodeset_search_takes_namespace</a></li>
  <li><a href="index.html?a=M000284&name=test_out_of_order_not_equal" >test_out_of_order_not_equal</a></li>
  <li><a href="index.html?a=M000298&name=test_percent" >test_percent</a></li>
  <li><a href="index.html?a=M000314&name=test_plus_operator" >test_plus_operator</a></li>
  <li><a href="index.html?a=M000286&name=test_pop" >test_pop</a></li>
  <li><a href="index.html?a=M000289&name=test_pop_empty" >test_pop_empty</a></li>
  <li><a href="index.html?a=M000300&name=test_push" >test_push</a></li>
  <li><a href="index.html?a=M000264&name=test_remove_attr" >test_remove_attr</a></li>
  <li><a href="index.html?a=M000268&name=test_remove_class_completely" >test_remove_class_completely</a></li>
  <li><a href="index.html?a=M000267&name=test_remove_class_single" >test_remove_class_single</a></li>
  <li><a href="index.html?a=M000266&name=test_remove_class_with_no_class" >test_remove_class_with_no_class</a></li>
  <li><a href="index.html?a=M000332&name=test_reverse" >test_reverse</a></li>
  <li><a href="index.html?a=M000273&name=test_search_empty_node_set" >test_search_empty_node_set</a></li>
  <li><a href="index.html?a=M000307&name=test_search_on_nodeset" >test_search_on_nodeset</a></li>
  <li><a href="index.html?a=M000281&name=test_search_with_css_matches_self" >test_search_with_css_matches_self</a></li>
  <li><a href="index.html?a=M000278&name=test_search_with_custom_object" >test_search_with_custom_object</a></li>
  <li><a href="index.html?a=M000287&name=test_shift" >test_shift</a></li>
  <li><a href="index.html?a=M000288&name=test_shift_empty" >test_shift_empty</a></li>
  <li><a href="index.html?a=M000285&name=test_shorter_is_not_equal" >test_shorter_is_not_equal</a></li>
  <li><a href="index.html?a=M000329&name=test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set" >test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set</a></li>
  <li><a href="index.html?a=M000330&name=test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations" >test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations</a></li>
  <li><a href="index.html?a=M000331&name=test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations" >test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations</a></li>
  <li><a href="index.html?a=M000318&name=test_slice_too_far" >test_slice_too_far</a></li>
  <li><a href="index.html?a=M000299&name=test_to_ary" >test_to_ary</a></li>
  <li><a href="index.html?a=M000295&name=test_to_xml" >test_to_xml</a></li>
  <li><a href="index.html?a=M000315&name=test_union" >test_union</a></li>
  <li><a href="index.html?a=M000304&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000312&name=test_wrap" >test_wrap</a></li>
  <li><a href="index.html?a=M000313&name=test_wrap_preserves_document_structure" >test_wrap_preserves_document_structure</a></li>
  <li><a href="index.html?a=M000292&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  <li><a href="index.html?a=M000274&name=test_xpath_with_custom_object" >test_xpath_with_custom_object</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000277" class="method">
  <div id="M000277_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000277_source')" id="l_M000277_source">show source</a> ]</p>
  <div id="M000277_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 110</span>
110:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
111:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
112:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000279" class="method">
  <div id="M000279_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000279_source')" id="l_M000279_source">show source</a> ]</p>
  <div id="M000279_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 121</span>
121:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
122:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
123:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000275" class="method">
  <div id="M000275_title" class="title">
    <b>awesome</b>(ns)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000275_source')" id="l_M000275_source">show source</a> ]</p>
  <div id="M000275_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 99</span>
 99:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
100:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
101:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000262" class="method">
  <div id="M000262_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000262_source')" id="l_M000262_source">show source</a> ]</p>
  <div id="M000262_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 6</span>
 6:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 7:         <span class="ruby-keyword kw">super</span>
 8:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
 9:         <span class="ruby-ivar">@list</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>)
10:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000265" class="method">
  <div id="M000265_title" class="title">
    <b>test_add_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000265_source')" id="l_M000265_source">show source</a> ]</p>
  <div id="M000265_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_class</span>
24:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'bar'</span>)
25:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
26: 
27:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'bar'</span>)
28:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
29: 
30:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">add_class</span>(<span class="ruby-value str">'baz'</span>)
31:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar baz'</span>, <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
32:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000317" class="method">
  <div id="M000317_title" class="title">
    <b>test_array_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000317_source')" id="l_M000317_source">show source</a> ]</p>
  <div id="M000317_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 452</span>
452:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index</span>
453:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
454:         <span class="ruby-identifier">other</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
455: 
456:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>])
457:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">other</span>)
458:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000320" class="method">
  <div id="M000320_title" class="title">
    <b>test_array_index_bracket_equivalence</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000320_source')" id="l_M000320_source">show source</a> ]</p>
  <div id="M000320_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 471</span>
471:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_index_bracket_equivalence</span>
472:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
473:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
474:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span>,<span class="ruby-value">3</span>).<span class="ruby-identifier">to_a</span>
475:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000322" class="method">
  <div id="M000322_title" class="title">
    <b>test_array_slice_with_invalid_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000322_source')" id="l_M000322_source">show source</a> ]</p>
  <div id="M000322_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 483</span>
483:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_invalid_args</span>
484:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
485:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">99</span>, <span class="ruby-value">1</span>] <span class="ruby-comment cmt"># large start</span>
486:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">-1</span>] <span class="ruby-comment cmt"># negative len</span>
487:         <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>, <span class="ruby-value">0</span>].<span class="ruby-identifier">to_a</span> <span class="ruby-comment cmt"># zero len</span>
488:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000321" class="method">
  <div id="M000321_title" class="title">
    <b>test_array_slice_with_negative_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000321_source')" id="l_M000321_source">show source</a> ]</p>
  <div id="M000321_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 477</span>
477:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_negative_start</span>
478:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
479:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]],                    <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">1</span>].<span class="ruby-identifier">to_a</span>
480:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]],      <span class="ruby-identifier">employees</span>[<span class="ruby-value">-3</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">to_a</span>
481:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000323" class="method">
  <div id="M000323_title" class="title">
    <b>test_array_slice_with_range</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000323_source')" id="l_M000323_source">show source</a> ]</p>
  <div id="M000323_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 490</span>
490:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_range</span>
491:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
492:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
493:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
494:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000319" class="method">
  <div id="M000319_title" class="title">
    <b>test_array_slice_with_start_and_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000319_source')" id="l_M000319_source">show source</a> ]</p>
  <div id="M000319_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 466</span>
466:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_slice_with_start_and_end</span>
467:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
468:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">employees</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">employees</span>[<span class="ruby-value">1</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_a</span>
469:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000297" class="method">
  <div id="M000297_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000297_source')" id="l_M000297_source">show source</a> ]</p>
  <div id="M000297_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 260</span>
260:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
261:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
262:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)
263:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000272" class="method">
  <div id="M000272_title" class="title">
    <b>test_attribute_no_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000272_source')" id="l_M000272_source">show source</a> ]</p>
  <div id="M000272_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 84</span>
84:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_no_args</span>
85:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value str">'foo'</span>] = <span class="ruby-value str">'bar'</span>
86:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">attribute</span>(<span class="ruby-value str">'foo'</span>), <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">attribute</span>(<span class="ruby-value str">'foo'</span>)
87:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000269" class="method">
  <div id="M000269_title" class="title">
    <b>test_attribute_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000269_source')" id="l_M000269_source">show source</a> ]</p>
  <div id="M000269_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 57</span>
57:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set</span>
58:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
59: 
60:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
61:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>)
62:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
63:         <span class="ruby-keyword kw">end</span>
64:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000270" class="method">
  <div id="M000270_title" class="title">
    <b>test_attribute_set_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000270_source')" id="l_M000270_source">show source</a> ]</p>
  <div id="M000270_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 66</span>
66:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set_with_block</span>
67:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
68: 
69:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
70:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span> }
71:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
72:         <span class="ruby-keyword kw">end</span>
73:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000271" class="method">
  <div id="M000271_title" class="title">
    <b>test_attribute_set_with_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000271_source')" id="l_M000271_source">show source</a> ]</p>
  <div id="M000271_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 75</span>
75:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_set_with_hash</span>
76:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
77: 
78:         [ [<span class="ruby-value str">'attribute'</span>, <span class="ruby-value str">'bar'</span>], [<span class="ruby-value str">'attr'</span>, <span class="ruby-value str">'biz'</span>], [<span class="ruby-value str">'set'</span>, <span class="ruby-value str">'baz'</span>] ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
79:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-value str">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>)
80:           <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'foo'</span>] }
81:         <span class="ruby-keyword kw">end</span>
82:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000327" class="method">
  <div id="M000327_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000327_source')" id="l_M000327_source">show source</a> ]</p>
  <div id="M000327_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 520</span>
520:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
521:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
522:         <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
523:         <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">employee</span><span class="ruby-operator">|</span>
524:           <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
525:         <span class="ruby-keyword kw">end</span>
526:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">children</span>
527:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
528:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000293" class="method">
  <div id="M000293_title" class="title">
    <b>test_children_has_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000293_source')" id="l_M000293_source">show source</a> ]</p>
  <div id="M000293_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 226</span>
226:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children_has_document</span>
227:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>
228:         <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">NodeSet</span>, <span class="ruby-identifier">set</span>)
229:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">document</span>
230:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000280" class="method">
  <div id="M000280_title" class="title">
    <b>test_css_searches_match_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000280_source')" id="l_M000280_source">show source</a> ]</p>
  <div id="M000280_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 129</span>
129:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_searches_match_self</span>
130:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
131:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
132:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
133:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000276" class="method">
  <div id="M000276_title" class="title">
    <b>test_css_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000276_source')" id="l_M000276_source">show source</a> ]</p>
  <div id="M000276_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_with_custom_object</span>
108:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
109:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'*:awesome'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
110:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
111:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
112:           <span class="ruby-keyword kw">end</span>
113:         }.<span class="ruby-identifier">new</span>)
114: 
115:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
116:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000303" class="method">
  <div id="M000303_title" class="title">
    <b>test_delete_when_not_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000303_source')" id="l_M000303_source">show source</a> ]</p>
  <div id="M000303_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 306</span>
306:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_not_present</span>
307:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
308:         <span class="ruby-identifier">phb</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
309:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">phb</span>) <span class="ruby-comment cmt"># testing setup</span>
310:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
311: 
312:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">phb</span>)
313:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">result</span>
314:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
315:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000302" class="method">
  <div id="M000302_title" class="title">
    <b>test_delete_when_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000302_source')" id="l_M000302_source">show source</a> ]</p>
  <div id="M000302_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 294</span>
294:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_when_present</span>
295:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
296:         <span class="ruby-identifier">wally</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
297:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>) <span class="ruby-comment cmt"># testing setup</span>
298:         <span class="ruby-identifier">length</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
299: 
300:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">wally</span>)
301:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>, <span class="ruby-identifier">wally</span>
302:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">wally</span>)
303:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
304:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000301" class="method">
  <div id="M000301_title" class="title">
    <b>test_delete_with_invalid_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000301_source')" id="l_M000301_source">show source</a> ]</p>
  <div id="M000301_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 287</span>
287:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_with_invalid_argument</span>
288:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
289:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
290: 
291:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">positions</span>) }
292:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000282" class="method">
  <div id="M000282_title" class="title">
    <b>test_double_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000282_source')" id="l_M000282_source">show source</a> ]</p>
  <div id="M000282_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 141</span>
141:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_double_equal</span>
142:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
143:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
144: 
145:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">object_id</span>
146: 
147:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
148:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000291" class="method">
  <div id="M000291_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000291_source')" id="l_M000291_source">show source</a> ]</p>
  <div id="M000291_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 197</span>
197:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
198:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
199:         <span class="ruby-identifier">dup</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">dup</span>
200:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">length</span>
201:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
202:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>
203:         <span class="ruby-keyword kw">end</span>
204:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000263" class="method">
  <div id="M000263_title" class="title">
    <b>test_filter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000263_source')" id="l_M000263_source">show source</a> ]</p>
  <div id="M000263_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 12</span>
12:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_filter</span>
13:         <span class="ruby-identifier">list</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'address'</span>).<span class="ruby-identifier">filter</span>(<span class="ruby-value str">'*[domestic=&quot;Yes&quot;]'</span>)
14:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-node">%w{ Yes }</span> <span class="ruby-operator">*</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>[<span class="ruby-value str">'domestic'</span>] })
15:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000290" class="method">
  <div id="M000290_title" class="title">
    <b>test_first_takes_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000290_source')" id="l_M000290_source">show source</a> ]</p>
  <div id="M000290_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 192</span>
192:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_first_takes_arguments</span>
193:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
194:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">length</span>
195:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000326" class="method">
  <div id="M000326_title" class="title">
    <b>test_include?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000326_source')" id="l_M000326_source">show source</a> ]</p>
  <div id="M000326_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 511</span>
511:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_include?</span>
512:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
513:         <span class="ruby-identifier">yes</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
514:         <span class="ruby-identifier">no</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>).<span class="ruby-identifier">first</span>
515: 
516:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">yes</span>)
517:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">no</span>)
518:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000296" class="method">
  <div id="M000296_title" class="title">
    <b>test_inner_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000296_source')" id="l_M000296_source">show source</a> ]</p>
  <div id="M000296_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 242</span>
242:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inner_html</span>
243:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;a&gt;one&lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;a&gt;two&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>)
244:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">html</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'div'</span>).<span class="ruby-identifier">inner_html</span>
245:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'&lt;a&gt;'</span>, <span class="ruby-identifier">html</span>
246:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000328" class="method">
  <div id="M000328_title" class="title">
    <b>test_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000328_source')" id="l_M000328_source">show source</a> ]</p>
  <div id="M000328_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 530</span>
530:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inspect</span>
531:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
532:         <span class="ruby-identifier">inspected</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">inspect</span>
533: 
534:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;[#{employees.map { |x| x.inspect }.join(', ')}]&quot;</span>,
535:           <span class="ruby-identifier">inspected</span>
536:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000325" class="method">
  <div id="M000325_title" class="title">
    <b>test_intersection</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000325_source')" id="l_M000325_source">show source</a> ]</p>
  <div id="M000325_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 503</span>
503:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection</span>
504:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
505:         <span class="ruby-identifier">first_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>]
506:         <span class="ruby-identifier">second_set</span> = <span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>]
507: 
508:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">employees</span>[<span class="ruby-value">2</span>]], (<span class="ruby-identifier">first_set</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">second_set</span>).<span class="ruby-identifier">to_a</span>
509:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000324" class="method">
  <div id="M000324_title" class="title">
    <b>test_intersection_with_no_overlap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000324_source')" id="l_M000324_source">show source</a> ]</p>
  <div id="M000324_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 496</span>
496:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intersection_with_no_overlap</span>
497:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
498:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//position&quot;</span>)
499: 
500:         <span class="ruby-identifier">assert_equal</span> [], (<span class="ruby-identifier">employees</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">positions</span>).<span class="ruby-identifier">to_a</span>
501:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000309" class="method">
  <div id="M000309_title" class="title">
    <b>test_large_negative_index_returns_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000309_source')" id="l_M000309_source">show source</a> ]</p>
  <div id="M000309_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 379</span>
379:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_large_negative_index_returns_nil</span>
380:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
381:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)])
382:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000294" class="method">
  <div id="M000294_title" class="title">
    <b>test_length_size</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000294_source')" id="l_M000294_source">show source</a> ]</p>
  <div id="M000294_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_length_size</span>
233:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
234:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000316" class="method">
  <div id="M000316_title" class="title">
    <b>test_minus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000316_source')" id="l_M000316_source">show source</a> ]</p>
  <div id="M000316_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 434</span>
434:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_operator</span>
435:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
436:         <span class="ruby-identifier">females</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee[gender[text()='Female']]&quot;</span>)
437: 
438:         <span class="ruby-identifier">employees_len</span> = <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
439:         <span class="ruby-identifier">females_len</span> = <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
440: 
441:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">first</span> }
442: 
443:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">employees</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>
444:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees_len</span>,                     <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
445:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">females_len</span>,                       <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>
446:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">females</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
447: 
448:         <span class="ruby-identifier">employees</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">females</span>
449:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>
450:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000308" class="method">
  <div id="M000308_title" class="title">
    <b>test_negative_index_works</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000308_source')" id="l_M000308_source">show source</a> ]</p>
  <div id="M000308_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 374</span>
374:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_negative_index_works</span>
375:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
376:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span>]
377:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000306" class="method">
  <div id="M000306_title" class="title">
    <b>test_new_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000306_source')" id="l_M000306_source">show source</a> ]</p>
  <div id="M000306_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 359</span>
359:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_nodeset</span>
360:         <span class="ruby-identifier">node_set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
361:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
362:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
363:         <span class="ruby-identifier">node_set</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
364:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
365:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>)
366:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000310" class="method">
  <div id="M000310_title" class="title">
    <b>test_node_set_fetches_private_data</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000310_source')" id="l_M000310_source">show source</a> ]</p>
  <div id="M000310_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 384</span>
384:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_fetches_private_data</span>
385:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
386: 
387:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">node_set</span>
388:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>])
389:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000283" class="method">
  <div id="M000283_title" class="title">
    <b>test_node_set_not_equal_to_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000283_source')" id="l_M000283_source">show source</a> ]</p>
  <div id="M000283_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 150</span>
150:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_not_equal_to_string</span>
151:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
152:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-value str">&quot;asdfadsf&quot;</span>
153:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000311" class="method">
  <div id="M000311_title" class="title">
    <b>test_node_set_returns_0</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000311_source')" id="l_M000311_source">show source</a> ]</p>
  <div id="M000311_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 391</span>
391:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_returns_0</span>
392:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//asdkfjhasdlkfjhaldskfh'</span>)
393:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
394:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000305" class="method">
  <div id="M000305_title" class="title">
    <b>test_nodeset_search_takes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000305_source')" id="l_M000305_source">show source</a> ]</p>
  <div id="M000305_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 341</span>
341:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nodeset_search_takes_namespace</span>
342:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
343:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">'root'</span>
344:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
345:         <span class="ruby-identifier">bike_tire</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//bike:tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://schwinn.com/&quot;</span>)
346:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">bike_tire</span>.<span class="ruby-identifier">length</span>
347:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000284" class="method">
  <div id="M000284_title" class="title">
    <b>test_out_of_order_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000284_source')" id="l_M000284_source">show source</a> ]</p>
  <div id="M000284_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_out_of_order_not_equal</span>
156:         <span class="ruby-identifier">one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
157:         <span class="ruby-identifier">two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
158:         <span class="ruby-identifier">two</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">two</span>.<span class="ruby-identifier">shift</span>
159:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">one</span>, <span class="ruby-identifier">two</span>
160:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000298" class="method">
  <div id="M000298_title" class="title">
    <b>test_percent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000298_source')" id="l_M000298_source">show source</a> ]</p>
  <div id="M000298_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 265</span>
265:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_percent</span>
266:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
267:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span> <span class="ruby-operator">%</span> <span class="ruby-value">0</span>
268:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000314" class="method">
  <div id="M000314_title" class="title">
    <b>test_plus_operator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000314_source')" id="l_M000314_source">show source</a> ]</p>
  <div id="M000314_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 410</span>
410:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_operator</span>
411:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
412:         <span class="ruby-identifier">positions</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;position&quot;</span>)
413: 
414:         <span class="ruby-identifier">names_len</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
415:         <span class="ruby-identifier">positions_len</span> = <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
416: 
417:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">first</span> }
418: 
419:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">names</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>
420:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names_len</span>,                         <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
421:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">positions_len</span>,                     <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>
422:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">positions</span>.<span class="ruby-identifier">length</span>,   <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
423: 
424:         <span class="ruby-identifier">names</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">positions</span>
425:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>
426:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000286" class="method">
  <div id="M000286_title" class="title">
    <b>test_pop</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000286_source')" id="l_M000286_source">show source</a> ]</p>
  <div id="M000286_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 170</span>
170:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop</span>
171:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
172:         <span class="ruby-identifier">last</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">last</span>
173:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
174:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000289" class="method">
  <div id="M000289_title" class="title">
    <b>test_pop_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000289_source')" id="l_M000289_source">show source</a> ]</p>
  <div id="M000289_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 187</span>
187:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pop_empty</span>
188:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
189:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">pop</span>
190:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000300" class="method">
  <div id="M000300_title" class="title">
    <b>test_push</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000300_source')" id="l_M000300_source">show source</a> ]</p>
  <div id="M000300_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 277</span>
277:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_push</span>
278:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
279:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'bar'</span>
280: 
281:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
282:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">node</span>)
283: 
284:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">node</span>)
285:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000264" class="method">
  <div id="M000264_title" class="title">
    <b>test_remove_attr</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000264_source')" id="l_M000264_source">show source</a> ]</p>
  <div id="M000264_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 17</span>
17:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_attr</span>
18:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'blah'</span> }
19:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_attr</span>(<span class="ruby-value str">'class'</span>)
20:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'class'</span>] }
21:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000268" class="method">
  <div id="M000268_title" class="title">
    <b>test_remove_class_completely</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000268_source')" id="l_M000268_source">show source</a> ]</p>
  <div id="M000268_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 50</span>
50:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_completely</span>
51:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'foo'</span> }
52: 
53:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>
54:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
55:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000267" class="method">
  <div id="M000267_title" class="title">
    <b>test_remove_class_single</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000267_source')" id="l_M000267_source">show source</a> ]</p>
  <div id="M000267_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 43</span>
43:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_single</span>
44:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">'foo bar'</span> }
45: 
46:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
47:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
48:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000266" class="method">
  <div id="M000266_title" class="title">
    <b>test_remove_class_with_no_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000266_source')" id="l_M000266_source">show source</a> ]</p>
  <div id="M000266_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 34</span>
34:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_class_with_no_class</span>
35:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
36:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
37: 
38:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] = <span class="ruby-value str">''</span> }
39:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@list</span>, <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">remove_class</span>(<span class="ruby-value str">'bar'</span>)
40:         <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">e</span>[<span class="ruby-value str">'class'</span>] }
41:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000332" class="method">
  <div id="M000332_title" class="title">
    <b>test_reverse</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000332_source')" id="l_M000332_source">show source</a> ]</p>
  <div id="M000332_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 570</span>
570:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reverse</span>
571:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;a /&gt;b&lt;c /&gt;d&lt;e /&gt;&lt;/root&gt;&quot;</span>
572:         <span class="ruby-identifier">children</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>
573:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>, <span class="ruby-identifier">children</span>
574: 
575:         <span class="ruby-identifier">reversed</span> = <span class="ruby-identifier">children</span>.<span class="ruby-identifier">reverse</span>
576:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">4</span>]
577:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">3</span>]
578:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">2</span>]
579:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">3</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">1</span>]
580:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">reversed</span>[<span class="ruby-value">4</span>], <span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>]
581: 
582:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">children</span>, <span class="ruby-identifier">children</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">reverse</span>
583:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000273" class="method">
  <div id="M000273_title" class="title">
    <b>test_search_empty_node_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000273_source')" id="l_M000273_source">show source</a> ]</p>
  <div id="M000273_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 89</span>
89:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_empty_node_set</span>
90:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>)
91:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
92:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'.//foo'</span>).<span class="ruby-identifier">length</span>
93:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
94:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000307" class="method">
  <div id="M000307_title" class="title">
    <b>test_search_on_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000307_source')" id="l_M000307_source">show source</a> ]</p>
  <div id="M000307_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 368</span>
368:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_nodeset</span>
369:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
370:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_set</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
371:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">sub_set</span>.<span class="ruby-identifier">length</span>)
372:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000281" class="method">
  <div id="M000281_title" class="title">
    <b>test_search_with_css_matches_self</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000281_source')" id="l_M000281_source">show source</a> ]</p>
  <div id="M000281_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 135</span>
135:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_css_matches_self</span>
136:         <span class="ruby-identifier">html</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;&lt;body&gt;&lt;div class='a'&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>)
137:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;/html/body/div&quot;</span>)
138:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;.a&quot;</span>).<span class="ruby-identifier">first</span>
139:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000278" class="method">
  <div id="M000278_title" class="title">
    <b>test_search_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000278_source')" id="l_M000278_source">show source</a> ]</p>
  <div id="M000278_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 118</span>
118:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_with_custom_object</span>
119:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
120:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//*[awesome(.)]'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
121:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
122:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
123:           <span class="ruby-keyword kw">end</span>
124:         }.<span class="ruby-identifier">new</span>)
125: 
126:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
127:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000287" class="method">
  <div id="M000287_title" class="title">
    <b>test_shift</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000287_source')" id="l_M000287_source">show source</a> ]</p>
  <div id="M000287_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift</span>
177:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
178:         <span class="ruby-identifier">first</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
179:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
180:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000288" class="method">
  <div id="M000288_title" class="title">
    <b>test_shift_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000288_source')" id="l_M000288_source">show source</a> ]</p>
  <div id="M000288_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shift_empty</span>
183:         <span class="ruby-identifier">set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
184:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">shift</span>
185:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000285" class="method">
  <div id="M000285_title" class="title">
    <b>test_shorter_is_not_equal</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000285_source')" id="l_M000285_source">show source</a> ]</p>
  <div id="M000285_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 162</span>
162:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shorter_is_not_equal</span>
163:         <span class="ruby-identifier">node_set_one</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
164:         <span class="ruby-identifier">node_set_two</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
165:         <span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">node_set_two</span>.<span class="ruby-identifier">first</span>)
166: 
167:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">node_set_one</span>, <span class="ruby-identifier">node_set_two</span>
168:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000329" class="method">
  <div id="M000329_title" class="title">
    <b>test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000329_source')" id="l_M000329_source">show source</a> ]</p>
  <div id="M000329_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 538</span>
538:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_splode_when_accessing_namespace_declarations_in_a_node_set</span>
539:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span>
540:         <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//namespace::*&quot;</span>)
541:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
542:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>
543:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-comment cmt"># segfaults in 1.4.0 and earlier</span>
544: 
545:         <span class="ruby-comment cmt"># if we haven't segfaulted, let's make sure we handled it correctly</span>
546:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Namespace</span>, <span class="ruby-identifier">node</span>
547:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000330" class="method">
  <div id="M000330_title" class="title">
    <b>test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000330_source')" id="l_M000330_source">show source</a> ]</p>
  <div id="M000330_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 549</span>
549:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_splode_when_arrayifying_node_set_containing_namespace_declarations</span>
550:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span>
551:         <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//namespace::*&quot;</span>)
552:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
553: 
554:         <span class="ruby-identifier">node_array</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_a</span>
555:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node_array</span>.<span class="ruby-identifier">first</span>
556:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-comment cmt"># segfaults in 1.4.0 and earlier</span>
557: 
558:         <span class="ruby-comment cmt"># if we haven't segfaulted, let's make sure we handled it correctly</span>
559:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Namespace</span>, <span class="ruby-identifier">node</span>
560:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000331" class="method">
  <div id="M000331_title" class="title">
    <b>test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000331_source')" id="l_M000331_source">show source</a> ]</p>
  <div id="M000331_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 562</span>
562:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_splode_when_unlinking_node_set_containing_namespace_declarations</span>
563:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;foo&gt;&lt;/foo&gt;&quot;</span>
564:         <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//namespace::*&quot;</span>)
565:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
566: 
567:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">unlink</span>
568:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000318" class="method">
  <div id="M000318_title" class="title">
    <b>test_slice_too_far</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000318_source')" id="l_M000318_source">show source</a> ]</p>
  <div id="M000318_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 460</span>
460:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_too_far</span>
461:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//employee&quot;</span>)
462:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>].<span class="ruby-identifier">length</span>
463:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span>].<span class="ruby-identifier">length</span>
464:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000299" class="method">
  <div id="M000299_title" class="title">
    <b>test_to_ary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000299_source')" id="l_M000299_source">show source</a> ]</p>
  <div id="M000299_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 270</span>
270:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_ary</span>
271:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
272:         <span class="ruby-identifier">foo</span> = []
273:         <span class="ruby-identifier">foo</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">node_set</span>
274:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">foo</span>.<span class="ruby-identifier">length</span>
275:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000295" class="method">
  <div id="M000295_title" class="title">
    <b>test_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000295_source')" id="l_M000295_source">show source</a> ]</p>
  <div id="M000295_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 237</span>
237:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml</span>
238:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
239:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_xml</span>
240:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000315" class="method">
  <div id="M000315_title" class="title">
    <b>test_union</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000315_source')" id="l_M000315_source">show source</a> ]</p>
  <div id="M000315_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 428</span>
428:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_union</span>
429:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)
430: 
431:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>, (<span class="ruby-identifier">names</span> <span class="ruby-operator">|</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;name&quot;</span>)).<span class="ruby-identifier">length</span>)
432:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000304" class="method">
  <div id="M000304_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000304_source')" id="l_M000304_source">show source</a> ]</p>
  <div id="M000304_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 317</span>
317:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
318:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
319:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)
320:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">unlink</span>
321:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
322:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
323:           <span class="ruby-comment cmt">#assert !node.document</span>
324:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
325:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
326:         <span class="ruby-keyword kw">end</span>
327:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
328:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000312" class="method">
  <div id="M000312_title" class="title">
    <b>test_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000312_source')" id="l_M000312_source">show source</a> ]</p>
  <div id="M000312_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 396</span>
396:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap</span>
397:         <span class="ruby-identifier">employees</span> = (<span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
398:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'wrapper'</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">name</span>
399:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'employee'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//wrapper&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
400:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000313" class="method">
  <div id="M000313_title" class="title">
    <b>test_wrap_preserves_document_structure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000313_source')" id="l_M000313_source">show source</a> ]</p>
  <div id="M000313_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 402</span>
402:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap_preserves_document_structure</span>
403:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;employeeId&quot;</span>,
404:                      <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">text?</span> }.<span class="ruby-identifier">name</span>
405:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//employeeId[text()='EMP0001']&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
406:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;wrapper&quot;</span>,
407:                      <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">text?</span> }.<span class="ruby-identifier">name</span>
408:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000292" class="method">
  <div id="M000292_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000292_source')" id="l_M000292_source">show source</a> ]</p>
  <div id="M000292_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
207:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
208:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
209:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
210:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|bar'</span>).<span class="ruby-identifier">length</span>
211:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
212:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
213:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
214:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:bar'</span>)
215:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|bar'</span>)
216:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'bar'</span>)
217:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000274" class="method">
  <div id="M000274_title" class="title">
    <b>test_xpath_with_custom_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000274_source')" id="l_M000274_source">show source</a> ]</p>
  <div id="M000274_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 96</span>
 96:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xpath_with_custom_object</span>
 97:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//staff'</span>)
 98:         <span class="ruby-identifier">custom_employees</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//*[awesome(.)]'</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
 99:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome</span> <span class="ruby-identifier">ns</span>
100:             <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'employee'</span> }
101:           <span class="ruby-keyword kw">end</span>
102:         }.<span class="ruby-identifier">new</span>)
103: 
104:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>), <span class="ruby-identifier">custom_employees</span>
105:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>