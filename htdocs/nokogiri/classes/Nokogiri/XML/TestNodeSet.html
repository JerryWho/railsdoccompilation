  <div id="C00000046">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNodeSet<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_set_rb.html');">test/xml/test_node_set.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000384&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000390&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000385&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000389&name=test_inner_html" >test_inner_html</a></li>
  <li><a href="index.html?a=M000398&name=test_large_negative_index_returns_nil" >test_large_negative_index_returns_nil</a></li>
  <li><a href="index.html?a=M000387&name=test_length_size" >test_length_size</a></li>
  <li><a href="index.html?a=M000397&name=test_negative_index_works" >test_negative_index_works</a></li>
  <li><a href="index.html?a=M000395&name=test_new_nodeset" >test_new_nodeset</a></li>
  <li><a href="index.html?a=M000399&name=test_node_set_fetches_private_data" >test_node_set_fetches_private_data</a></li>
  <li><a href="index.html?a=M000400&name=test_node_set_returns_0" >test_node_set_returns_0</a></li>
  <li><a href="index.html?a=M000394&name=test_nodeset_search_takes_namespace" >test_nodeset_search_takes_namespace</a></li>
  <li><a href="index.html?a=M000392&name=test_push" >test_push</a></li>
  <li><a href="index.html?a=M000396&name=test_search_on_nodeset" >test_search_on_nodeset</a></li>
  <li><a href="index.html?a=M000391&name=test_to_ary" >test_to_ary</a></li>
  <li><a href="index.html?a=M000388&name=test_to_xml" >test_to_xml</a></li>
  <li><a href="index.html?a=M000393&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000401&name=test_wrap" >test_wrap</a></li>
  <li><a href="index.html?a=M000386&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000384" class="method">
  <div id="M000384_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000384_source')" id="l_M000384_source">show source</a> ]</p>
  <div id="M000384_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 6</span>
6:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
7:         <span class="ruby-keyword kw">super</span>
8:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
9:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000390" class="method">
  <div id="M000390_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000390_source')" id="l_M000390_source">show source</a> ]</p>
  <div id="M000390_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 68</span>
68:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
69:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
70:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>)
71:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000385" class="method">
  <div id="M000385_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000385_source')" id="l_M000385_source">show source</a> ]</p>
  <div id="M000385_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 11</span>
11:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
12:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
13:         <span class="ruby-identifier">dup</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">dup</span>
14:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">length</span>
15:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
16:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>
17:         <span class="ruby-keyword kw">end</span>
18:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000389" class="method">
  <div id="M000389_title" class="title">
    <b>test_inner_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000389_source')" id="l_M000389_source">show source</a> ]</p>
  <div id="M000389_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 50</span>
50:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inner_html</span>
51:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>(<span class="ruby-value str">&quot;&lt;html&gt;\n&lt;body&gt;\n&lt;div&gt;\n&lt;a&gt;one&lt;/a&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;a&gt;two&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>)
52:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">html</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'div'</span>).<span class="ruby-identifier">inner_html</span>
53:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'&lt;a&gt;'</span>, <span class="ruby-identifier">html</span>
54:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000398" class="method">
  <div id="M000398_title" class="title">
    <b>test_large_negative_index_returns_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000398_source')" id="l_M000398_source">show source</a> ]</p>
  <div id="M000398_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 152</span>
152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_large_negative_index_returns_nil</span>
153:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
154:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)])
155:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000387" class="method">
  <div id="M000387_title" class="title">
    <b>test_length_size</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000387_source')" id="l_M000387_source">show source</a> ]</p>
  <div id="M000387_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 40</span>
40:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_length_size</span>
41:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
42:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
43:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000397" class="method">
  <div id="M000397_title" class="title">
    <b>test_negative_index_works</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000397_source')" id="l_M000397_source">show source</a> ]</p>
  <div id="M000397_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 147</span>
147:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_negative_index_works</span>
148:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
149:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">node_set</span>[<span class="ruby-value">-1</span>]
150:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000395" class="method">
  <div id="M000395_title" class="title">
    <b>test_new_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000395_source')" id="l_M000395_source">show source</a> ]</p>
  <div id="M000395_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 132</span>
132:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_nodeset</span>
133:         <span class="ruby-identifier">node_set</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@xml</span>)
134:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
135:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
136:         <span class="ruby-identifier">node_set</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
137:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
138:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">last</span>)
139:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000399" class="method">
  <div id="M000399_title" class="title">
    <b>test_node_set_fetches_private_data</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000399_source')" id="l_M000399_source">show source</a> ]</p>
  <div id="M000399_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 157</span>
157:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_fetches_private_data</span>
158:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
159: 
160:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">node_set</span>
161:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>])
162:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000400" class="method">
  <div id="M000400_title" class="title">
    <b>test_node_set_returns_0</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000400_source')" id="l_M000400_source">show source</a> ]</p>
  <div id="M000400_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 164</span>
164:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_returns_0</span>
165:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//asdkfjhasdlkfjhaldskfh'</span>)
166:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
167:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000394" class="method">
  <div id="M000394_title" class="title">
    <b>test_nodeset_search_takes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000394_source')" id="l_M000394_source">show source</a> ]</p>
  <div id="M000394_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 114</span>
114:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nodeset_search_takes_namespace</span>
115:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
116:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">'root'</span>
117:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
118:         <span class="ruby-identifier">bike_tire</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//bike:tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://schwinn.com/&quot;</span>)
119:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">bike_tire</span>.<span class="ruby-identifier">length</span>
120:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000392" class="method">
  <div id="M000392_title" class="title">
    <b>test_push</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000392_source')" id="l_M000392_source">show source</a> ]</p>
  <div id="M000392_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 80</span>
80:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_push</span>
81:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
82:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'bar'</span>
83: 
84:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
85:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">node</span>)
86: 
87:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">node</span>)
88:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000396" class="method">
  <div id="M000396_title" class="title">
    <b>test_search_on_nodeset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000396_source')" id="l_M000396_source">show source</a> ]</p>
  <div id="M000396_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 141</span>
141:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_nodeset</span>
142:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
143:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_set</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
144:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">sub_set</span>.<span class="ruby-identifier">length</span>)
145:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000391" class="method">
  <div id="M000391_title" class="title">
    <b>test_to_ary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000391_source')" id="l_M000391_source">show source</a> ]</p>
  <div id="M000391_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 73</span>
73:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_ary</span>
74:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
75:         <span class="ruby-identifier">foo</span> = []
76:         <span class="ruby-identifier">foo</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">node_set</span>
77:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">foo</span>.<span class="ruby-identifier">length</span>
78:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000388" class="method">
  <div id="M000388_title" class="title">
    <b>test_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000388_source')" id="l_M000388_source">show source</a> ]</p>
  <div id="M000388_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 45</span>
45:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml</span>
46:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
47:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">to_xml</span>
48:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000393" class="method">
  <div id="M000393_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000393_source')" id="l_M000393_source">show source</a> ]</p>
  <div id="M000393_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 90</span>
 90:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
 91:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
 92:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)
 93:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">unlink</span>
 94:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
 95:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
 96:           <span class="ruby-comment cmt">#assert !node.document</span>
 97:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
 98:           <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
 99:         <span class="ruby-keyword kw">end</span>
100:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
101:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000401" class="method">
  <div id="M000401_title" class="title">
    <b>test_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000401_source')" id="l_M000401_source">show source</a> ]</p>
  <div id="M000401_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 169</span>
169:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wrap</span>
170:         <span class="ruby-identifier">employees</span> = (<span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-value str">&quot;//employee&quot;</span>).<span class="ruby-identifier">wrap</span>(<span class="ruby-value str">&quot;&lt;wrapper/&gt;&quot;</span>)
171:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'wrapper'</span>, <span class="ruby-identifier">employees</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">name</span>
172:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'employee'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//wrapper&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
173:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000386" class="method">
  <div id="M000386_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000386_source')" id="l_M000386_source">show source</a> ]</p>
  <div id="M000386_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node_set.rb, line 20</span>
20:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
21:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar/&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
22:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
23:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
24:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|bar'</span>).<span class="ruby-identifier">length</span>
25:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
26:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
27:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:bar'</span>).<span class="ruby-identifier">length</span>
28:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:bar'</span>)
29:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|bar'</span>)
30:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'bar'</span>)
31:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>