  <div id="C00000023">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestDocument<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_document_rb.html');">test/xml/test_document.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000410&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000412&name=awesome!" >awesome!</a></li>
  <li><a href="index.html?a=M000377&name=new" >new</a></li>
  <li><a href="index.html?a=M000345&name=new" >new</a></li>
  <li><a href="index.html?a=M000342&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000393&name=test_XML_function" >test_XML_function</a></li>
  <li><a href="index.html?a=M000374&name=test_XML_takes_block" >test_XML_takes_block</a></li>
  <li><a href="index.html?a=M000363&name=test_add_child_fragment_with_multiple_nodes" >test_add_child_fragment_with_multiple_nodes</a></li>
  <li><a href="index.html?a=M000362&name=test_add_child_fragment_with_single_node" >test_add_child_fragment_with_single_node</a></li>
  <li><a href="index.html?a=M000364&name=test_add_child_with_multiple_roots" >test_add_child_with_multiple_roots</a></li>
  <li><a href="index.html?a=M000355&name=test_add_namespace" >test_add_namespace</a></li>
  <li><a href="index.html?a=M000384&name=test_ancestors" >test_ancestors</a></li>
  <li><a href="index.html?a=M000356&name=test_attributes" >test_attributes</a></li>
  <li><a href="index.html?a=M000399&name=test_bad_xpath_raises_syntax_error" >test_bad_xpath_raises_syntax_error</a></li>
  <li><a href="index.html?a=M000369&name=test_clone" >test_clone</a></li>
  <li><a href="index.html?a=M000343&name=test_collect_namespaces" >test_collect_namespaces</a></li>
  <li><a href="index.html?a=M000347&name=test_create_element" >test_create_element</a></li>
  <li><a href="index.html?a=M000353&name=test_create_external_subset" >test_create_external_subset</a></li>
  <li><a href="index.html?a=M000352&name=test_create_external_subset_fails_with_existing_subset" >test_create_external_subset_fails_with_existing_subset</a></li>
  <li><a href="index.html?a=M000350&name=test_create_internal_subset" >test_create_internal_subset</a></li>
  <li><a href="index.html?a=M000349&name=test_create_internal_subset_on_existing_subset" >test_create_internal_subset_on_existing_subset</a></li>
  <li><a href="index.html?a=M000346&name=test_create_text_node" >test_create_text_node</a></li>
  <li><a href="index.html?a=M000411&name=test_decorator_is_applied" >test_decorator_is_applied</a></li>
  <li><a href="index.html?a=M000402&name=test_document" >test_document</a></li>
  <li><a href="index.html?a=M000391&name=test_document_has_errors" >test_document_has_errors</a></li>
  <li><a href="index.html?a=M000396&name=test_document_name" >test_document_name</a></li>
  <li><a href="index.html?a=M000395&name=test_document_parent" >test_document_parent</a></li>
  <li><a href="index.html?a=M000380&name=test_document_parse_method" >test_document_parse_method</a></li>
  <li><a href="index.html?a=M000370&name=test_document_should_not_have_default_ns" >test_document_should_not_have_default_ns</a></li>
  <li><a href="index.html?a=M000407&name=test_dump" >test_dump</a></li>
  <li><a href="index.html?a=M000408&name=test_dup" >test_dup</a></li>
  <li><a href="index.html?a=M000360&name=test_empty_node_converted_to_html_is_not_self_closing" >test_empty_node_converted_to_html_is_not_self_closing</a></li>
  <li><a href="index.html?a=M000390&name=test_encoding" >test_encoding</a></li>
  <li><a href="index.html?a=M000381&name=test_encoding=" >test_encoding=</a></li>
  <li><a href="index.html?a=M000351&name=test_external_subset" >test_external_subset</a></li>
  <li><a href="index.html?a=M000400&name=test_find_with_namespace" >test_find_with_namespace</a></li>
  <li><a href="index.html?a=M000361&name=test_fragment" >test_fragment</a></li>
  <li><a href="index.html?a=M000359&name=test_line" >test_line</a></li>
  <li><a href="index.html?a=M000365&name=test_move_root_to_document_with_no_root" >test_move_root_to_document_with_no_root</a></li>
  <li><a href="index.html?a=M000366&name=test_move_root_with_existing_root_gets_gcd" >test_move_root_with_existing_root_gets_gcd</a></li>
  <li><a href="index.html?a=M000404&name=test_multiple_search" >test_multiple_search</a></li>
  <li><a href="index.html?a=M000357&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M000358&name=test_namespace_definitions" >test_namespace_definitions</a></li>
  <li><a href="index.html?a=M000382&name=test_namespace_should_not_exist" >test_namespace_should_not_exist</a></li>
  <li><a href="index.html?a=M000413&name=test_new" >test_new</a></li>
  <li><a href="index.html?a=M000405&name=test_node_set_index" >test_node_set_index</a></li>
  <li><a href="index.html?a=M000383&name=test_non_existant_function" >test_non_existant_function</a></li>
  <li><a href="index.html?a=M000397&name=test_parse_can_take_io" >test_parse_can_take_io</a></li>
  <li><a href="index.html?a=M000371&name=test_parse_handles_nil_gracefully" >test_parse_handles_nil_gracefully</a></li>
  <li><a href="index.html?a=M000372&name=test_parse_takes_block" >test_parse_takes_block</a></li>
  <li><a href="index.html?a=M000373&name=test_parse_yields_parse_options" >test_parse_yields_parse_options</a></li>
  <li><a href="index.html?a=M000348&name=test_pp" >test_pp</a></li>
  <li><a href="index.html?a=M000415&name=test_remove_namespaces" >test_remove_namespaces</a></li>
  <li><a href="index.html?a=M000385&name=test_root_node_parent_is_document" >test_root_node_parent_is_document</a></li>
  <li><a href="index.html?a=M000406&name=test_search" >test_search</a></li>
  <li><a href="index.html?a=M000398&name=test_search_on_empty_documents" >test_search_on_empty_documents</a></li>
  <li><a href="index.html?a=M000414&name=test_set_root" >test_set_root</a></li>
  <li><a href="index.html?a=M000403&name=test_singleton_methods" >test_singleton_methods</a></li>
  <li><a href="index.html?a=M000392&name=test_strict_document_throws_syntax_error" >test_strict_document_throws_syntax_error</a></li>
  <li><a href="index.html?a=M000375&name=test_subclass" >test_subclass</a></li>
  <li><a href="index.html?a=M000378&name=test_subclass_dup" >test_subclass_dup</a></li>
  <li><a href="index.html?a=M000376&name=test_subclass_initialize" >test_subclass_initialize</a></li>
  <li><a href="index.html?a=M000344&name=test_subclass_initialize_modify" >test_subclass_initialize_modify</a></li>
  <li><a href="index.html?a=M000379&name=test_subclass_parse" >test_subclass_parse</a></li>
  <li><a href="index.html?a=M000409&name=test_subset_is_decorated" >test_subset_is_decorated</a></li>
  <li><a href="index.html?a=M000388&name=test_to_xml_with_indent" >test_to_xml_with_indent</a></li>
  <li><a href="index.html?a=M000394&name=test_url" >test_url</a></li>
  <li><a href="index.html?a=M000367&name=test_validate" >test_validate</a></li>
  <li><a href="index.html?a=M000368&name=test_validate_no_internal_subset" >test_validate_no_internal_subset</a></li>
  <li><a href="index.html?a=M000354&name=test_version" >test_version</a></li>
  <li><a href="index.html?a=M000389&name=test_write_xml_to_with_indent" >test_write_xml_to_with_indent</a></li>
  <li><a href="index.html?a=M000401&name=test_xml?" >test_xml?</a></li>
  <li><a href="index.html?a=M000386&name=test_xmlns_is_automatically_registered" >test_xmlns_is_automatically_registered</a></li>
  <li><a href="index.html?a=M000387&name=test_xmlns_is_registered_for_nodesets" >test_xmlns_is_registered_for_nodesets</a></li>
  <li><a href="index.html?a=M000416&name=util_decorate" >util_decorate</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M000377" class="method">
  <div id="M000377_title" class="title">
    <b>new</b>(*args)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000377_source')" id="l_M000377_source">show source</a> ]</p>
  <div id="M000377_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 258</span>
258:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
259:             <span class="ruby-ivar">@initialized_with</span> = <span class="ruby-identifier">args</span>
260:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000345" class="method">
  <div id="M000345_title" class="title">
    <b>new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000345_source')" id="l_M000345_source">show source</a> ]</p>
  <div id="M000345_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 28</span>
28:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
29:             <span class="ruby-keyword kw">super</span>
30:             <span class="ruby-identifier">body_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-value str">&quot;body&quot;</span>, <span class="ruby-keyword kw">self</span>
31:             <span class="ruby-identifier">body_node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">&quot;stuff&quot;</span>
32:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">body_node</span>
33:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000410" class="method">
  <div id="M000410_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000410_source')" id="l_M000410_source">show source</a> ]</p>
  <div id="M000410_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 550</span>
550:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
551:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000412" class="method">
  <div id="M000412_title" class="title">
    <b>awesome!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000412_source')" id="l_M000412_source">show source</a> ]</p>
  <div id="M000412_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 566</span>
566:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
567:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000342" class="method">
  <div id="M000342_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000342_source')" id="l_M000342_source">show source</a> ]</p>
  <div id="M000342_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 8</span>
 8:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:         <span class="ruby-keyword kw">super</span>
10:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
11:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000393" class="method">
  <div id="M000393_title" class="title">
    <b>test_XML_function</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000393_source')" id="l_M000393_source">show source</a> ]</p>
  <div id="M000393_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 415</span>
415:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_XML_function</span>
416:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
417:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xml?</span>
418:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000374" class="method">
  <div id="M000374_title" class="title">
    <b>test_XML_takes_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000374_source')" id="l_M000374_source">show source</a> ]</p>
  <div id="M000374_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 237</span>
237:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_XML_takes_block</span>
238:         <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
239:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
240:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">cfg</span>
241:           <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet</span>.<span class="ruby-identifier">nowarning</span>.<span class="ruby-identifier">dtdattr</span>
242:         <span class="ruby-keyword kw">end</span>
243:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet?</span>
244:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nowarning?</span>
245:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dtdattr?</span>
246:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000363" class="method">
  <div id="M000363_title" class="title">
    <b>test_add_child_fragment_with_multiple_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000363_source')" id="l_M000363_source">show source</a> ]</p>
  <div id="M000363_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 160</span>
160:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_fragment_with_multiple_nodes</span>
161:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
162:         <span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;hello /&gt;&lt;goodbye /&gt;'</span>)
163:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
164:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">fragment</span>
165:         <span class="ruby-keyword kw">end</span>
166:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000362" class="method">
  <div id="M000362_title" class="title">
    <b>test_add_child_fragment_with_single_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000362_source')" id="l_M000362_source">show source</a> ]</p>
  <div id="M000362_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 152</span>
152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_fragment_with_single_node</span>
153:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
154:         <span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;hello /&gt;'</span>)
155:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">fragment</span>
156:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/hello'</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//hello'</span>).<span class="ruby-identifier">path</span>
157:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">name</span>
158:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000364" class="method">
  <div id="M000364_title" class="title">
    <b>test_add_child_with_multiple_roots</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000364_source')" id="l_M000364_source">show source</a> ]</p>
  <div id="M000364_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 168</span>
168:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_with_multiple_roots</span>
169:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
170:           <span class="ruby-ivar">@xml</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>)
171:         <span class="ruby-keyword kw">end</span>
172:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000355" class="method">
  <div id="M000355_title" class="title">
    <b>test_add_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000355_source')" id="l_M000355_source">show source</a> ]</p>
  <div id="M000355_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 112</span>
112:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace</span>
113:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
114:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'bar'</span>)
115:         <span class="ruby-keyword kw">end</span>
116:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000384" class="method">
  <div id="M000384_title" class="title">
    <b>test_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000384_source')" id="l_M000384_source">show source</a> ]</p>
  <div id="M000384_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 313</span>
313:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ancestors</span>
314:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
315:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000356" class="method">
  <div id="M000356_title" class="title">
    <b>test_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000356_source')" id="l_M000356_source">show source</a> ]</p>
  <div id="M000356_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 118</span>
118:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attributes</span>
119:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
120:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">attributes</span>
121:         <span class="ruby-keyword kw">end</span>
122:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000399" class="method">
  <div id="M000399_title" class="title">
    <b>test_bad_xpath_raises_syntax_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000399_source')" id="l_M000399_source">show source</a> ]</p>
  <div id="M000399_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 459</span>
459:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_bad_xpath_raises_syntax_error</span>
460:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPath</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
461:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'\\'</span>)
462:         }
463:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000369" class="method">
  <div id="M000369_title" class="title">
    <b>test_clone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000369_source')" id="l_M000369_source">show source</a> ]</p>
  <div id="M000369_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 195</span>
195:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_clone</span>
196:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">clone</span>
197:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000343" class="method">
  <div id="M000343_title" class="title">
    <b>test_collect_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000343_source')" id="l_M000343_source">show source</a> ]</p>
  <div id="M000343_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 13</span>
13:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_collect_namespaces</span>
14:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;xml&gt;\n&lt;foo xmlns='hello'&gt;\n&lt;bar xmlns:foo='world' /&gt;\n&lt;/foo&gt;\n&lt;/xml&gt;\n&quot;</span>)
15:         <span class="ruby-identifier">assert_equal</span>({<span class="ruby-value str">&quot;xmlns&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value str">&quot;xmlns:foo&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;world&quot;</span>},
16:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">collect_namespaces</span>)
17:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000347" class="method">
  <div id="M000347_title" class="title">
    <b>test_create_element</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000347_source')" id="l_M000347_source">show source</a> ]</p>
  <div id="M000347_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 44</span>
44:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_element</span>
45:         <span class="ruby-identifier">elm</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_element</span>(<span class="ruby-value str">'foo'</span>)
46:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">elm</span>
47:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">name</span>
48:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">elm</span>.<span class="ruby-identifier">document</span>
49:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000353" class="method">
  <div id="M000353_title" class="title">
    <b>test_create_external_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000353_source')" id="l_M000353_source">show source</a> ]</p>
  <div id="M000353_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 100</span>
100:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_external_subset</span>
101:         <span class="ruby-identifier">dtd</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_external_subset</span>(<span class="ruby-value str">'staff'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
102:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">dtd</span>.<span class="ruby-identifier">external_id</span>
103:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'staff.dtd'</span>, <span class="ruby-identifier">dtd</span>.<span class="ruby-identifier">system_id</span>
104:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'staff'</span>, <span class="ruby-identifier">dtd</span>.<span class="ruby-identifier">name</span>
105:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">dtd</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
106:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000352" class="method">
  <div id="M000352_title" class="title">
    <b>test_create_external_subset_fails_with_existing_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000352_source')" id="l_M000352_source">show source</a> ]</p>
  <div id="M000352_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 86</span>
86:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_external_subset_fails_with_existing_subset</span>
87:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
88:         <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-constant">ASSETS_DIR</span>) <span class="ruby-keyword kw">do</span>
89:           <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
90:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">dtdload</span>
91:           }
92:         <span class="ruby-keyword kw">end</span>
93:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
94: 
95:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
96:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_external_subset</span>(<span class="ruby-value str">'staff'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
97:         <span class="ruby-keyword kw">end</span>
98:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000350" class="method">
  <div id="M000350_title" class="title">
    <b>test_create_internal_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000350_source')" id="l_M000350_source">show source</a> ]</p>
  <div id="M000350_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 65</span>
65:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_internal_subset</span>
66:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root /&gt;'</span>)
67:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">internal_subset</span>
68: 
69:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">create_internal_subset</span>(<span class="ruby-value str">'name'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
70:         <span class="ruby-identifier">ss</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">internal_subset</span>
71:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'name'</span>, <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">name</span>
72:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">external_id</span>
73:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'staff.dtd'</span>, <span class="ruby-identifier">ss</span>.<span class="ruby-identifier">system_id</span>
74:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000349" class="method">
  <div id="M000349_title" class="title">
    <b>test_create_internal_subset_on_existing_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000349_source')" id="l_M000349_source">show source</a> ]</p>
  <div id="M000349_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 58</span>
58:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_internal_subset_on_existing_subset</span>
59:         <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">internal_subset</span>
60:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword kw">do</span>
61:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_internal_subset</span>(<span class="ruby-value str">'staff'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'staff.dtd'</span>)
62:         <span class="ruby-keyword kw">end</span>
63:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000346" class="method">
  <div id="M000346_title" class="title">
    <b>test_create_text_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000346_source')" id="l_M000346_source">show source</a> ]</p>
  <div id="M000346_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 37</span>
37:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_text_node</span>
38:         <span class="ruby-identifier">txt</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">create_text_node</span> <span class="ruby-value str">'foo'</span>
39:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>, <span class="ruby-identifier">txt</span>
40:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">text</span>
41:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">document</span>
42:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000411" class="method">
  <div id="M000411_title" class="title">
    <b>test_decorator_is_applied</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000411_source')" id="l_M000411_source">show source</a> ]</p>
  <div id="M000411_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 564</span>
564:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_decorator_is_applied</span>
565:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
566:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
567:           <span class="ruby-keyword kw">end</span>
568:         <span class="ruby-keyword kw">end</span>
569:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
570: 
571:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
572:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
573:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
574:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
575:           <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>), <span class="ruby-identifier">node</span>.<span class="ruby-identifier">class</span>
576:         <span class="ruby-keyword kw">end</span>
577:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
578:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000402" class="method">
  <div id="M000402_title" class="title">
    <b>test_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000402_source')" id="l_M000402_source">show source</a> ]</p>
  <div id="M000402_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 497</span>
497:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document</span>
498:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">document</span>
499:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000391" class="method">
  <div id="M000391_title" class="title">
    <b>test_document_has_errors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000391_source')" id="l_M000391_source">show source</a> ]</p>
  <div id="M000391_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 385</span>
385:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_has_errors</span>
386:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;\n&quot;</span>)
387:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
388:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
389:           <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">inspect</span>
390:           <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">to_s</span>
391:         <span class="ruby-keyword kw">end</span>
392:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000396" class="method">
  <div id="M000396_title" class="title">
    <b>test_document_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000396_source')" id="l_M000396_source">show source</a> ]</p>
  <div id="M000396_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 432</span>
432:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_name</span>
433:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
434:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'document'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">name</span>
435:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000395" class="method">
  <div id="M000395_title" class="title">
    <b>test_document_parent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000395_source')" id="l_M000395_source">show source</a> ]</p>
  <div id="M000395_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 425</span>
425:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_parent</span>
426:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
427:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NoMethodError</span>) {
428:           <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">parent</span>
429:         }
430:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000380" class="method">
  <div id="M000380_title" class="title">
    <b>test_document_parse_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000380_source')" id="l_M000380_source">show source</a> ]</p>
  <div id="M000380_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 279</span>
279:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_parse_method</span>
280:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>))
281:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>
282:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000370" class="method">
  <div id="M000370_title" class="title">
    <b>test_document_should_not_have_default_ns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000370_source')" id="l_M000370_source">show source</a> ]</p>
  <div id="M000370_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 199</span>
199:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_should_not_have_default_ns</span>
200:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
201: 
202:         <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
203:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">default_namespace</span> = <span class="ruby-value str">'http://innernet.com/'</span>
204:         <span class="ruby-keyword kw">end</span>
205: 
206:         <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
207:           <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">add_namespace_definition</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'bar'</span>)
208:         <span class="ruby-keyword kw">end</span>
209:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000407" class="method">
  <div id="M000407_title" class="title">
    <b>test_dump</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000407_source')" id="l_M000407_source">show source</a> ]</p>
  <div id="M000407_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 537</span>
537:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dump</span>
538:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>
539:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>
540:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000408" class="method">
  <div id="M000408_title" class="title">
    <b>test_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000408_source')" id="l_M000408_source">show source</a> ]</p>
  <div id="M000408_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 542</span>
542:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dup</span>
543:         <span class="ruby-identifier">dup</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">dup</span>
544:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>, <span class="ruby-identifier">dup</span>
545:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">xml?</span>, <span class="ruby-value str">'duplicate should be xml'</span>
546:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000360" class="method">
  <div id="M000360_title" class="title">
    <b>test_empty_node_converted_to_html_is_not_self_closing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000360_source')" id="l_M000360_source">show source</a> ]</p>
  <div id="M000360_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 142</span>
142:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_node_converted_to_html_is_not_self_closing</span>
143:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;a&gt;&lt;/a&gt;'</span>)
144:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a&gt;&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">inner_html</span>
145:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000390" class="method">
  <div id="M000390_title" class="title">
    <b>test_encoding</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000390_source')" id="l_M000390_source">show source</a> ]</p>
  <div id="M000390_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 379</span>
379:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encoding</span>
380:           <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>, <span class="ruby-value str">'UTF-8'</span>)
381:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'UTF-8'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">encoding</span>
382:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000381" class="method">
  <div id="M000381_title" class="title">
    <b>test_encoding=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000381_source')" id="l_M000381_source">show source</a> ]</p>
  <div id="M000381_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 284</span>
284:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encoding=</span>
285:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-value str">'UTF-8'</span>
286:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'UTF-8'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>
287: 
288:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-value str">'EUC-JP'</span>
289:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'EUC-JP'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>
290:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000351" class="method">
  <div id="M000351_title" class="title">
    <b>test_external_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000351_source')" id="l_M000351_source">show source</a> ]</p>
  <div id="M000351_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_external_subset</span>
77:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
78:         <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-constant">ASSETS_DIR</span>) <span class="ruby-keyword kw">do</span>
79:           <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
80:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">dtdload</span>
81:           }
82:         <span class="ruby-keyword kw">end</span>
83:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">external_subset</span>
84:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000400" class="method">
  <div id="M000400_title" class="title">
    <b>test_find_with_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000400_source')" id="l_M000400_source">show source</a> ]</p>
  <div id="M000400_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 465</span>
465:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_with_namespace</span>
466:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:tenderlove='http://tenderlovemaking.com/'&gt;\n&lt;tenderlove:foo awesome='true'&gt;snuggles!&lt;/tenderlove:foo&gt;\n&lt;/x&gt;\n&quot;</span>)
467: 
468:         <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>)
469:         <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_ns</span> <span class="ruby-value str">'tenderlove'</span>, <span class="ruby-value str">'http://tenderlovemaking.com/'</span>
470:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-value str">'//tenderlove:foo'</span>).<span class="ruby-identifier">node_set</span>
471:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
472:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
473: 
474:         <span class="ruby-comment cmt"># It looks like only the URI is important:</span>
475:         <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>)
476:         <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_ns</span> <span class="ruby-value str">'america'</span>, <span class="ruby-value str">'http://tenderlovemaking.com/'</span>
477:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-value str">'//america:foo'</span>).<span class="ruby-identifier">node_set</span>
478:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
479:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
480: 
481:         <span class="ruby-comment cmt"># Its so important that a missing slash will cause it to return nothing</span>
482:         <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>)
483:         <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_ns</span> <span class="ruby-value str">'america'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>
484:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-value str">'//america:foo'</span>).<span class="ruby-identifier">node_set</span>
485:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
486:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000361" class="method">
  <div id="M000361_title" class="title">
    <b>test_fragment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000361_source')" id="l_M000361_source">show source</a> ]</p>
  <div id="M000361_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 147</span>
147:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fragment</span>
148:         <span class="ruby-identifier">fragment</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">fragment</span>
149:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
150:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000359" class="method">
  <div id="M000359_title" class="title">
    <b>test_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000359_source')" id="l_M000359_source">show source</a> ]</p>
  <div id="M000359_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 136</span>
136:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_line</span>
137:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
138:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">line</span>
139:         <span class="ruby-keyword kw">end</span>
140:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000365" class="method">
  <div id="M000365_title" class="title">
    <b>test_move_root_to_document_with_no_root</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000365_source')" id="l_M000365_source">show source</a> ]</p>
  <div id="M000365_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 174</span>
174:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_move_root_to_document_with_no_root</span>
175:         <span class="ruby-identifier">sender</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;foo&lt;/root&gt;'</span>)
176:         <span class="ruby-identifier">newdoc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
177:         <span class="ruby-identifier">newdoc</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">sender</span>.<span class="ruby-identifier">root</span>
178:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000366" class="method">
  <div id="M000366_title" class="title">
    <b>test_move_root_with_existing_root_gets_gcd</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000366_source')" id="l_M000366_source">show source</a> ]</p>
  <div id="M000366_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 180</span>
180:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_move_root_with_existing_root_gets_gcd</span>
181:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;test&lt;/root&gt;'</span>)
182:         <span class="ruby-identifier">doc2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-node">&quot;&lt;root&gt;#{'x' * 5000000}&lt;/root&gt;&quot;</span>)
183:         <span class="ruby-identifier">doc2</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
184:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000404" class="method">
  <div id="M000404_title" class="title">
    <b>test_multiple_search</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000404_source')" id="l_M000404_source">show source</a> ]</p>
  <div id="M000404_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 512</span>
512:       <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_multiple_search</span><span class="ruby-identifier">test_multiple_search</span>
513:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>, <span class="ruby-value str">'//name'</span>)
514:         <span class="ruby-identifier">employees</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
515:         <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//name'</span>)
516:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">employees</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
517:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000357" class="method">
  <div id="M000357_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000357_source')" id="l_M000357_source">show source</a> ]</p>
  <div id="M000357_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 124</span>
124:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
125:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
126:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">namespace</span>
127:         <span class="ruby-keyword kw">end</span>
128:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000358" class="method">
  <div id="M000358_title" class="title">
    <b>test_namespace_definitions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000358_source')" id="l_M000358_source">show source</a> ]</p>
  <div id="M000358_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 130</span>
130:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_definitions</span>
131:         <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">do</span>
132:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">namespace_definitions</span>
133:         <span class="ruby-keyword kw">end</span>
134:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000382" class="method">
  <div id="M000382_title" class="title">
    <b>test_namespace_should_not_exist</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000382_source')" id="l_M000382_source">show source</a> ]</p>
  <div id="M000382_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 292</span>
292:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_should_not_exist</span>
293:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NoMethodError</span>) {
294:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">namespace</span>
295:         }
296:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000413" class="method">
  <div id="M000413_title" class="title">
    <b>test_new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000413_source')" id="l_M000413_source">show source</a> ]</p>
  <div id="M000413_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 580</span>
580:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new</span>
581:         <span class="ruby-identifier">doc</span> = <span class="ruby-keyword kw">nil</span>
582:         <span class="ruby-identifier">assert_nothing_raised</span> {
583:           <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
584:         }
585:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>
586:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xml?</span>
587:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
588:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000405" class="method">
  <div id="M000405_title" class="title">
    <b>test_node_set_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000405_source')" id="l_M000405_source">show source</a> ]</p>
  <div id="M000405_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 519</span>
519:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_set_index</span>
520:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
521: 
522:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
523:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>[<span class="ruby-value">4</span>]
524:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node_set</span>[<span class="ruby-value">5</span>]
525:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000383" class="method">
  <div id="M000383_title" class="title">
    <b>test_non_existant_function</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000383_source')" id="l_M000383_source">show source</a> ]</p>
  <div id="M000383_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 298</span>
298:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_existant_function</span>
299:         <span class="ruby-comment cmt"># WTF.  I don't know why this is different between MRI and ffi.</span>
300:         <span class="ruby-comment cmt"># They should be the same...  Either way, raising an exception</span>
301:         <span class="ruby-comment cmt"># is the correct thing to do.</span>
302:         <span class="ruby-identifier">exception</span> = <span class="ruby-constant">RuntimeError</span>
303: 
304:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION_INFO</span>[<span class="ruby-value str">'libxml'</span>][<span class="ruby-value str">'platform'</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'jruby'</span>
305:           <span class="ruby-identifier">exception</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">XPath</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>
306:         <span class="ruby-keyword kw">end</span>
307: 
308:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-identifier">exception</span>) {
309:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//name[foo()]'</span>)
310:         }
311:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000397" class="method">
  <div id="M000397_title" class="title">
    <b>test_parse_can_take_io</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000397_source')" id="l_M000397_source">show source</a> ]</p>
  <div id="M000397_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 437</span>
437:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_can_take_io</span>
438:         <span class="ruby-identifier">xml</span> = <span class="ruby-keyword kw">nil</span>
439:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">XML_FILE</span>, <span class="ruby-value str">'rb'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
440:           <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">f</span>)
441:         }
442:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xml?</span>
443:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
444:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
445:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000371" class="method">
  <div id="M000371_title" class="title">
    <b>test_parse_handles_nil_gracefully</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000371_source')" id="l_M000371_source">show source</a> ]</p>
  <div id="M000371_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 211</span>
211:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_handles_nil_gracefully</span>
212:         <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
213:           <span class="ruby-ivar">@doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-keyword kw">nil</span>)
214:         <span class="ruby-keyword kw">end</span>
215:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>, <span class="ruby-ivar">@doc</span>
216:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000372" class="method">
  <div id="M000372_title" class="title">
    <b>test_parse_takes_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000372_source')" id="l_M000372_source">show source</a> ]</p>
  <div id="M000372_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 218</span>
218:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_takes_block</span>
219:         <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
220:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
221:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">cfg</span>
222:         <span class="ruby-keyword kw">end</span>
223:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>
224:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000373" class="method">
  <div id="M000373_title" class="title">
    <b>test_parse_yields_parse_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000373_source')" id="l_M000373_source">show source</a> ]</p>
  <div id="M000373_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 226</span>
226:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_yields_parse_options</span>
227:         <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>
228:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
229:           <span class="ruby-identifier">options</span> = <span class="ruby-identifier">cfg</span>
230:           <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet</span>.<span class="ruby-identifier">nowarning</span>.<span class="ruby-identifier">dtdattr</span>
231:         <span class="ruby-keyword kw">end</span>
232:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nonet?</span>
233:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nowarning?</span>
234:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dtdattr?</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000348" class="method">
  <div id="M000348_title" class="title">
    <b>test_pp</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000348_source')" id="l_M000348_source">show source</a> ]</p>
  <div id="M000348_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pp</span>
52:         <span class="ruby-identifier">out</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">''</span>)
53:         <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
54:           <span class="ruby-operator">::</span><span class="ruby-constant">PP</span>.<span class="ruby-identifier">pp</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">out</span>
55:         <span class="ruby-keyword kw">end</span>
56:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000415" class="method">
  <div id="M000415_title" class="title">
    <b>test_remove_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000415_source')" id="l_M000415_source">show source</a> ]</p>
  <div id="M000415_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 606</span>
606:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_namespaces</span>
607:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root xmlns:a=\&quot;http://a.flavorjon.es/\&quot; xmlns:b=\&quot;http://b.flavorjon.es/\&quot;&gt;\n&lt;a:foo&gt;hello from a&lt;/a:foo&gt;\n&lt;b:foo&gt;hello from b&lt;/b:foo&gt;\n&lt;container xmlns:c=\&quot;http://c.flavorjon.es/\&quot;&gt;\n&lt;c:foo&gt;hello from c&lt;/c:foo&gt;\n&lt;/container&gt;\n&lt;/root&gt;\n&quot;</span>
608: 
609:         <span class="ruby-comment cmt"># assert on setup</span>
610:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//foo&quot;</span>).<span class="ruby-identifier">length</span>
611:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
612:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
613:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//x:foo&quot;</span>, <span class="ruby-value str">&quot;x&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://c.flavorjon.es/&quot;</span>).<span class="ruby-identifier">length</span>
614: 
615:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">remove_namespaces!</span>
616: 
617:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//foo&quot;</span>).<span class="ruby-identifier">length</span>
618:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
619:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//a:foo&quot;</span>).<span class="ruby-identifier">length</span>
620:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">&quot;//x:foo&quot;</span>, <span class="ruby-value str">&quot;x&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;http://c.flavorjon.es/&quot;</span>).<span class="ruby-identifier">length</span>
621:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000385" class="method">
  <div id="M000385_title" class="title">
    <b>test_root_node_parent_is_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000385_source')" id="l_M000385_source">show source</a> ]</p>
  <div id="M000385_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 317</span>
317:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_root_node_parent_is_document</span>
318:         <span class="ruby-identifier">parent</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">parent</span>
319:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">parent</span>
320:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>, <span class="ruby-identifier">parent</span>
321:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000406" class="method">
  <div id="M000406_title" class="title">
    <b>test_search</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000406_source')" id="l_M000406_source">show source</a> ]</p>
  <div id="M000406_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 527</span>
527:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search</span>
528:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
529: 
530:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span>)
531: 
532:         <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
533:           <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
534:         <span class="ruby-keyword kw">end</span>
535:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000398" class="method">
  <div id="M000398_title" class="title">
    <b>test_search_on_empty_documents</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000398_source')" id="l_M000398_source">show source</a> ]</p>
  <div id="M000398_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 447</span>
447:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_on_empty_documents</span>
448:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
449:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//foo'</span>)
450:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">length</span>
451: 
452:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>)
453:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">length</span>
454: 
455:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//foo'</span>)
456:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">length</span>
457:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000414" class="method">
  <div id="M000414_title" class="title">
    <b>test_set_root</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000414_source')" id="l_M000414_source">show source</a> ]</p>
  <div id="M000414_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 590</span>
590:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_root</span>
591:         <span class="ruby-identifier">doc</span> = <span class="ruby-keyword kw">nil</span>
592:         <span class="ruby-identifier">assert_nothing_raised</span> {
593:           <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
594:         }
595:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>
596:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xml?</span>
597:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
598:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">doc</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
599:           <span class="ruby-identifier">n</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'hello world'</span>
600:         }
601:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'hello world'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
602:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">node</span>
603:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>)
604:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000403" class="method">
  <div id="M000403_title" class="title">
    <b>test_singleton_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000403_source')" id="l_M000403_source">show source</a> ]</p>
  <div id="M000403_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 501</span>
501:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_methods</span>
502:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//name'</span>)
503:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
504:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>
505:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">test</span>
506:           <span class="ruby-value str">'test'</span>
507:         <span class="ruby-keyword kw">end</span>
508:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//name'</span>)
509:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'test'</span>, <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">test</span>
510:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000392" class="method">
  <div id="M000392_title" class="title">
    <b>test_strict_document_throws_syntax_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000392_source')" id="l_M000392_source">show source</a> ]</p>
  <div id="M000392_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 397</span>
397:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_strict_document_throws_syntax_error</span>
398:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
399:           <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">0</span>)
400:         }
401: 
402:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
403:           <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
404:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">strict</span>
405:           }
406:         }
407: 
408:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) {
409:           <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'&lt;foo&gt;&lt;bar&gt;&lt;/foo&gt;'</span>)) { <span class="ruby-operator">|</span><span class="ruby-identifier">cfg</span><span class="ruby-operator">|</span>
410:             <span class="ruby-identifier">cfg</span>.<span class="ruby-identifier">strict</span>
411:           }
412:         }
413:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000375" class="method">
  <div id="M000375_title" class="title">
    <b>test_subclass</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000375_source')" id="l_M000375_source">show source</a> ]</p>
  <div id="M000375_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 248</span>
248:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass</span>
249:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>)
250:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>
251:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">doc</span>
252:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000378" class="method">
  <div id="M000378_title" class="title">
    <b>test_subclass_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000378_source')" id="l_M000378_source">show source</a> ]</p>
  <div id="M000378_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 266</span>
266:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_dup</span>
267:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>)
268:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">dup</span>
269:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">doc</span>
270:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000376" class="method">
  <div id="M000376_title" class="title">
    <b>test_subclass_initialize</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000376_source')" id="l_M000376_source">show source</a> ]</p>
  <div id="M000376_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 254</span>
254:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_initialize</span>
255:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>) <span class="ruby-keyword kw">do</span>
256:           <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:initialized_with</span>
257: 
258:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
259:             <span class="ruby-ivar">@initialized_with</span> = <span class="ruby-identifier">args</span>
260:           <span class="ruby-keyword kw">end</span>
261:         <span class="ruby-keyword kw">end</span>
262:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;1.0&quot;</span>, <span class="ruby-value">1</span>)
263:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">&quot;1.0&quot;</span>, <span class="ruby-value">1</span>], <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">initialized_with</span>
264:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000344" class="method">
  <div id="M000344_title" class="title">
    <b>test_subclass_initialize_modify</b>(
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show source</a> ]</p>
  <div id="M000344_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 26</span>
26:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_initialize_modify</span> <span class="ruby-comment cmt"># testing a segv</span>
27:         <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>) {
28:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
29:             <span class="ruby-keyword kw">super</span>
30:             <span class="ruby-identifier">body_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-value str">&quot;body&quot;</span>, <span class="ruby-keyword kw">self</span>
31:             <span class="ruby-identifier">body_node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">&quot;stuff&quot;</span>
32:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">body_node</span>
33:           <span class="ruby-keyword kw">end</span>
34:         }.<span class="ruby-identifier">new</span>
35:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000379" class="method">
  <div id="M000379_title" class="title">
    <b>test_subclass_parse</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000379_source')" id="l_M000379_source">show source</a> ]</p>
  <div id="M000379_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 272</span>
272:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_parse</span>
273:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>)
274:         <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>))
275:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_s</span>
276:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">doc</span>
277:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000409" class="method">
  <div id="M000409_title" class="title">
    <b>test_subset_is_decorated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000409_source')" id="l_M000409_source">show source</a> ]</p>
  <div id="M000409_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 548</span>
548:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subset_is_decorated</span>
549:         <span class="ruby-identifier">x</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
550:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">awesome!</span>
551:           <span class="ruby-keyword kw">end</span>
552:         <span class="ruby-keyword kw">end</span>
553:         <span class="ruby-identifier">util_decorate</span>(<span class="ruby-ivar">@xml</span>, <span class="ruby-identifier">x</span>)
554: 
555:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
556:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//staff'</span>)
557:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
558:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">subset</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//employee'</span>)
559:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">subset</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
560:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_subset</span> = <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'.//name'</span>)
561:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sub_subset</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:awesome!</span>)
562:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000388" class="method">
  <div id="M000388_title" class="title">
    <b>test_to_xml_with_indent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000388_source')" id="l_M000388_source">show source</a> ]</p>
  <div id="M000388_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 361</span>
361:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml_with_indent</span>
362:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;&lt;/root&gt;'</span>)
363:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
364: 
365:         <span class="ruby-identifier">assert_indent</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">doc</span>
366:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000394" class="method">
  <div id="M000394_title" class="title">
    <b>test_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000394_source')" id="l_M000394_source">show source</a> ]</p>
  <div id="M000394_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 420</span>
420:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url</span>
421:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">url</span>
422:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">XML_FILE</span>, <span class="ruby-constant">URI</span>.<span class="ruby-identifier">unescape</span>(<span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">url</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'file:///'</span>, <span class="ruby-value str">''</span>)
423:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000367" class="method">
  <div id="M000367_title" class="title">
    <b>test_validate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000367_source')" id="l_M000367_source">show source</a> ]</p>
  <div id="M000367_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 186</span>
186:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_validate</span>
187:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">44</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">validate</span>.<span class="ruby-identifier">length</span>
188:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000368" class="method">
  <div id="M000368_title" class="title">
    <b>test_validate_no_internal_subset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000368_source')" id="l_M000368_source">show source</a> ]</p>
  <div id="M000368_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 190</span>
190:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_validate_no_internal_subset</span>
191:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;test/&gt;'</span>)
192:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">validate</span>
193:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000354" class="method">
  <div id="M000354_title" class="title">
    <b>test_version</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000354_source')" id="l_M000354_source">show source</a> ]</p>
  <div id="M000354_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 108</span>
108:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_version</span>
109:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1.0'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">version</span>
110:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000389" class="method">
  <div id="M000389_title" class="title">
    <b>test_write_xml_to_with_indent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000389_source')" id="l_M000389_source">show source</a> ]</p>
  <div id="M000389_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 368</span>
368:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_xml_to_with_indent</span>
369:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
370:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;&lt;/root&gt;'</span>)
371:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">write_xml_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>
372:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
373:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>)
374:         <span class="ruby-identifier">assert_indent</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">doc</span>
375:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000401" class="method">
  <div id="M000401_title" class="title">
    <b>test_xml?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000401_source')" id="l_M000401_source">show source</a> ]</p>
  <div id="M000401_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 493</span>
493:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml?</span>
494:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xml?</span>
495:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000386" class="method">
  <div id="M000386_title" class="title">
    <b>test_xmlns_is_automatically_registered</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000386_source')" id="l_M000386_source">show source</a> ]</p>
  <div id="M000386_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 323</span>
323:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_automatically_registered</span>
324:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\nbar\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
325:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">length</span>
326:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">length</span>
327:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'|foo'</span>).<span class="ruby-identifier">length</span>
328:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">length</span>
329:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">length</span>
330:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">length</span>
331:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'xmlns|foo'</span>)
332:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:foo'</span>)
333:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'foo'</span>)
334:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000387" class="method">
  <div id="M000387_title" class="title">
    <b>test_xmlns_is_registered_for_nodesets</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000387_source')" id="l_M000387_source">show source</a> ]</p>
  <div id="M000387_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 343</span>
343:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlns_is_registered_for_nodesets</span>
344:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;foo&gt;\n&lt;bar&gt;\nbaz\n&lt;/bar&gt;\n&lt;/foo&gt;\n&lt;/root&gt;\n&quot;</span>)
345:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">css</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
346:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'foo'</span>).<span class="ruby-identifier">css</span>(<span class="ruby-value str">'bar'</span>).<span class="ruby-identifier">length</span>
347:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'./xmlns:bar'</span>).<span class="ruby-identifier">length</span>
348:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|foo'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-value str">'xmlns|bar'</span>).<span class="ruby-identifier">length</span>
349:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//xmlns:foo'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-value str">'./xmlns:bar'</span>).<span class="ruby-identifier">length</span>
350:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000416" class="method">
  <div id="M000416_title" class="title">
    <b>util_decorate</b>(document, x)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000416_source')" id="l_M000416_source">show source</a> ]</p>
  <div id="M000416_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_document.rb, line 632</span>
632:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">util_decorate</span>(<span class="ruby-identifier">document</span>, <span class="ruby-identifier">x</span>)
633:         <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorators</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>
634:         <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorators</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>
635:         <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorate!</span>
636:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>