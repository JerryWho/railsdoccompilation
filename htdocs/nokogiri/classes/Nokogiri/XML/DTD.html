  <div id="C00000078">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />DTD<br/>
  In:
<a href="#" onclick="jsHref('files/ext/nokogiri/html_document_c.html');">ext/nokogiri/html_document.c</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/dtd_rb.html');">lib/nokogiri/xml/dtd.rb</a>

Parent:&nbsp;
Nokogiri::XML::Node
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
<a
href="index.html?a=C00000078&name=Nokogiri::XML::DTD">Nokogiri::XML::DTD</a>
wraps <a href="index.html?a=C00000078&name=DTD">DTD</a> nodes in an <a
href="index.html?a=C00000009&name=XML">XML</a> document
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000878&name=attributes" >attributes</a></li>
  <li><a href="index.html?a=M000875&name=elements" >elements</a></li>
  <li><a href="index.html?a=M000876&name=entities" >entities</a></li>
  <li><a href="index.html?a=M000880&name=external_id" >external_id</a></li>
  <li><a href="index.html?a=M000874&name=notations" >notations</a></li>
  <li><a href="index.html?a=M000879&name=system_id" >system_id</a></li>
  <li><a href="index.html?a=M000877&name=validate" >validate</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000878" class="method">
  <div id="M000878_title" class="title">
    <b>attributes<br />
</b>
  </div>
  <div class="description">
  <p>
Get a hash of the attributes for this <a
href="index.html?a=C00000078&name=DTD">DTD</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000878_source')" id="l_M000878_source">show source</a> ]</p>
  <div id="M000878_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   attributes
 *
 * Get a hash of the attributes for this DTD.
 */
static VALUE attributes(VALUE self)
{
  xmlDtdPtr dtd;
  Data_Get_Struct(self, xmlDtd, dtd);

  if(!dtd-&gt;attributes) return Qnil;

  VALUE hash = rb_hash_new();

  xmlHashScan((xmlHashTablePtr)dtd-&gt;attributes, element_copier, (void *)hash);

  return hash;
}
</pre>
  </div>
</div>
</div>
<div id="M000875" class="method">
  <div id="M000875_title" class="title">
    <b>elements<br />
</b>
  </div>
  <div class="description">
  <p>
Get a hash of the elements for this <a
href="index.html?a=C00000078&name=DTD">DTD</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000875_source')" id="l_M000875_source">show source</a> ]</p>
  <div id="M000875_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   elements
 *
 * Get a hash of the elements for this DTD.
 */
static VALUE elements(VALUE self)
{
  xmlDtdPtr dtd;
  Data_Get_Struct(self, xmlDtd, dtd);

  if(!dtd-&gt;elements) return Qnil;

  VALUE hash = rb_hash_new();

  xmlHashScan((xmlHashTablePtr)dtd-&gt;elements, element_copier, (void *)hash);

  return hash;
}
</pre>
  </div>
</div>
</div>
<div id="M000876" class="method">
  <div id="M000876_title" class="title">
    <b>entities<br />
</b>
  </div>
  <div class="description">
  <p>
Get a hash of the elements for this <a
href="index.html?a=C00000078&name=DTD">DTD</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000876_source')" id="l_M000876_source">show source</a> ]</p>
  <div id="M000876_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   entities
 *
 * Get a hash of the elements for this DTD.
 */
static VALUE entities(VALUE self)
{
  xmlDtdPtr dtd;
  Data_Get_Struct(self, xmlDtd, dtd);

  if(!dtd-&gt;entities) return Qnil;

  VALUE hash = rb_hash_new();

  xmlHashScan((xmlHashTablePtr)dtd-&gt;entities, element_copier, (void *)hash);

  return hash;
}
</pre>
  </div>
</div>
</div>
<div id="M000880" class="method">
  <div id="M000880_title" class="title">
    <b>external_id<br />
</b>
  </div>
  <div class="description">
  <p>
Get the External ID for this <a
href="index.html?a=C00000078&name=DTD">DTD</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000880_source')" id="l_M000880_source">show source</a> ]</p>
  <div id="M000880_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   external_id
 *
 * Get the External ID for this DTD
 */
static VALUE external_id(VALUE self)
{
  xmlDtdPtr dtd;
  Data_Get_Struct(self, xmlDtd, dtd);

  if(!dtd-&gt;ExternalID) return Qnil;

  return NOKOGIRI_STR_NEW2(dtd-&gt;ExternalID);
}
</pre>
  </div>
</div>
</div>
<div id="M000874" class="method">
  <div id="M000874_title" class="title">
    <b>notations<br />
</b>
  </div>
  <div class="description">
  <p>
Get a hash of the notations for this <a
href="index.html?a=C00000078&name=DTD">DTD</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000874_source')" id="l_M000874_source">show source</a> ]</p>
  <div id="M000874_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   notations
 *
 * Get a hash of the notations for this DTD.
 */
static VALUE notations(VALUE self)
{
  xmlDtdPtr dtd;
  Data_Get_Struct(self, xmlDtd, dtd);

  if(!dtd-&gt;notations) return Qnil;

  VALUE hash = rb_hash_new();

  xmlHashScan((xmlHashTablePtr)dtd-&gt;notations, notation_copier, (void *)hash);

  return hash;
}
</pre>
  </div>
</div>
</div>
<div id="M000879" class="method">
  <div id="M000879_title" class="title">
    <b>system_id<br />
</b>
  </div>
  <div class="description">
  <p>
Get the System ID for this <a
href="index.html?a=C00000078&name=DTD">DTD</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000879_source')" id="l_M000879_source">show source</a> ]</p>
  <div id="M000879_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   system_id
 *
 * Get the System ID for this DTD
 */
static VALUE system_id(VALUE self)
{
  xmlDtdPtr dtd;
  Data_Get_Struct(self, xmlDtd, dtd);

  if(!dtd-&gt;SystemID) return Qnil;

  return NOKOGIRI_STR_NEW2(dtd-&gt;SystemID);
}
</pre>
  </div>
</div>
</div>
<div id="M000877" class="method">
  <div id="M000877_title" class="title">
    <b>validate(document)<br />
</b>
  </div>
  <div class="description">
  <p>
Validate <tt>document</tt> returning a list of errors
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000877_source')" id="l_M000877_source">show source</a> ]</p>
  <div id="M000877_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   validate(document)
 *
 * Validate +document+ returning a list of errors
 */
static VALUE validate(VALUE self, VALUE document)
{
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Data_Get_Struct(self, xmlDtd, dtd);
  Data_Get_Struct(document, xmlDoc, doc);
  VALUE error_list      = rb_ary_new();

  xmlValidCtxtPtr ctxt = xmlNewValidCtxt();

  xmlSetStructuredErrorFunc((void *)error_list, Nokogiri_error_array_pusher);

  xmlValidateDtd(ctxt, doc, dtd);

  xmlSetStructuredErrorFunc(NULL, NULL);

  xmlFreeValidCtxt(ctxt);

  return error_list;
}
</pre>
  </div>
</div>
</div>
</div>

  </div>