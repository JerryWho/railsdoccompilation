  <div id="C00000042">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Node<br/>
  In:
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/node_rb.html');">lib/nokogiri/xml/node.rb</a>
<a href="#" onclick="jsHref('files/lib/nokogiri/xml/node/save_options_rb.html');">lib/nokogiri/xml/node/save_options.rb</a>
<a href="#" onclick="jsHref('files/test/xml/node/test_save_options_rb.html');">test/xml/node/test_save_options.rb</a>
<a href="#" onclick="jsHref('files/ext/nokogiri/xml_xpath_context_c.html');">ext/nokogiri/xml_xpath_context.c</a>

Parent:&nbsp;
Object
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
call-seq:
</p>
<pre>
  elements
</pre>
<p>
Get a hash of the elements for this <a
href="index.html?a=C00000063&name=DTD">DTD</a>.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000305&name=/" >/</a></li>
  <li><a href="index.html?a=M000339&name===" >==</a></li>
  <li><a href="index.html?a=M000309&name=[]" >[]</a></li>
  <li><a href="index.html?a=M000364&name=[]=" >[]=</a></li>
  <li><a href="index.html?a=M000353&name=add_child" >add_child</a></li>
  <li><a href="index.html?a=M000350&name=add_namespace" >add_namespace</a></li>
  <li><a href="index.html?a=M000370&name=add_next_sibling" >add_next_sibling</a></li>
  <li><a href="index.html?a=M000369&name=add_previous_sibling" >add_previous_sibling</a></li>
  <li><a href="index.html?a=M000318&name=after" >after</a></li>
  <li><a href="index.html?a=M000336&name=ancestors" >ancestors</a></li>
  <li><a href="index.html?a=M000308&name=at" >at</a></li>
  <li><a href="index.html?a=M000366&name=attribute" >attribute</a></li>
  <li><a href="index.html?a=M000365&name=attribute_nodes" >attribute_nodes</a></li>
  <li><a href="index.html?a=M000311&name=attributes" >attributes</a></li>
  <li><a href="index.html?a=M000317&name=before" >before</a></li>
  <li><a href="index.html?a=M000363&name=blank?" >blank?</a></li>
  <li><a href="index.html?a=M000325&name=cdata?" >cdata?</a></li>
  <li><a href="index.html?a=M000355&name=child" >child</a></li>
  <li><a href="index.html?a=M000356&name=children" >children</a></li>
  <li><a href="index.html?a=M000335&name=collect_namespaces" >collect_namespaces</a></li>
  <li><a href="index.html?a=M000324&name=comment?" >comment?</a></li>
  <li><a href="index.html?a=M000360&name=content" >content</a></li>
  <li><a href="index.html?a=M000322&name=content=" >content=</a></li>
  <li><a href="index.html?a=M000307&name=css" >css</a></li>
  <li><a href="index.html?a=M000334&name=css_path" >css_path</a></li>
  <li><a href="index.html?a=M000303&name=decorate!" >decorate!</a></li>
  <li><a href="index.html?a=M000316&name=delete" >delete</a></li>
  <li><a href="index.html?a=M000377&name=dump_html" >dump_html</a></li>
  <li><a href="index.html?a=M000372&name=dup" >dup</a></li>
  <li><a href="index.html?a=M000314&name=each" >each</a></li>
  <li><a href="index.html?a=M000331&name=elem?" >elem?</a></li>
  <li><a href="index.html?a=M000330&name=element?" >element?</a></li>
  <li><a href="index.html?a=M000371&name=encode_special_chars" >encode_special_chars</a></li>
  <li><a href="index.html?a=M000321&name=fragment" >fragment</a></li>
  <li><a href="index.html?a=M000380&name=get" >get</a></li>
  <li><a href="index.html?a=M000310&name=get_attribute" >get_attribute</a></li>
  <li><a href="index.html?a=M000327&name=html?" >html?</a></li>
  <li><a href="index.html?a=M000333&name=inner_html" >inner_html</a></li>
  <li><a href="index.html?a=M000320&name=inner_html=" >inner_html=</a></li>
  <li><a href="index.html?a=M000374&name=internal_subset" >internal_subset</a></li>
  <li><a href="index.html?a=M000362&name=key?" >key?</a></li>
  <li><a href="index.html?a=M000313&name=keys" >keys</a></li>
  <li><a href="index.html?a=M000376&name=line" >line</a></li>
  <li><a href="index.html?a=M000367&name=namespace" >namespace</a></li>
  <li><a href="index.html?a=M000368&name=namespaces" >namespaces</a></li>
  <li><a href="index.html?a=M000379&name=native_content=" >native_content=</a></li>
  <li><a href="index.html?a=M000378&name=native_write_to" >native_write_to</a></li>
  <li><a href="index.html?a=M000349&name=new" >new</a></li>
  <li><a href="index.html?a=M000348&name=new_from_str" >new_from_str</a></li>
  <li><a href="index.html?a=M000357&name=next_sibling" >next_sibling</a></li>
  <li><a href="index.html?a=M000351&name=node_name" >node_name</a></li>
  <li><a href="index.html?a=M000352&name=node_name=" >node_name=</a></li>
  <li><a href="index.html?a=M000359&name=node_type" >node_type</a></li>
  <li><a href="index.html?a=M000354&name=parent" >parent</a></li>
  <li><a href="index.html?a=M000323&name=parent=" >parent=</a></li>
  <li><a href="index.html?a=M000361&name=path" >path</a></li>
  <li><a href="index.html?a=M000375&name=pointer_id" >pointer_id</a></li>
  <li><a href="index.html?a=M000358&name=previous_sibling" >previous_sibling</a></li>
  <li><a href="index.html?a=M000329&name=read_only?" >read_only?</a></li>
  <li><a href="index.html?a=M000315&name=remove_attribute" >remove_attribute</a></li>
  <li><a href="index.html?a=M000338&name=replace" >replace</a></li>
  <li><a href="index.html?a=M000304&name=search" >search</a></li>
  <li><a href="index.html?a=M000340&name=serialize" >serialize</a></li>
  <li><a href="index.html?a=M000319&name=swap" >swap</a></li>
  <li><a href="index.html?a=M000328&name=text?" >text?</a></li>
  <li><a href="index.html?a=M000341&name=to_html" >to_html</a></li>
  <li><a href="index.html?a=M000332&name=to_s" >to_s</a></li>
  <li><a href="index.html?a=M000343&name=to_xhtml" >to_xhtml</a></li>
  <li><a href="index.html?a=M000342&name=to_xml" >to_xml</a></li>
  <li><a href="index.html?a=M000337&name=traverse" >traverse</a></li>
  <li><a href="index.html?a=M000373&name=unlink" >unlink</a></li>
  <li><a href="index.html?a=M000312&name=values" >values</a></li>
  <li><a href="index.html?a=M000345&name=write_html_to" >write_html_to</a></li>
  <li><a href="index.html?a=M000344&name=write_to" >write_to</a></li>
  <li><a href="index.html?a=M000346&name=write_xhtml_to" >write_xhtml_to</a></li>
  <li><a href="index.html?a=M000347&name=write_xml_to" >write_xml_to</a></li>
  <li><a href="index.html?a=M000326&name=xml?" >xml?</a></li>
  <li><a href="index.html?a=M000306&name=xpath" >xpath</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Node/SaveOptions.html');" class="link">Nokogiri::XML::Node::SaveOptions</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Nokogiri/XML/Node/TestSaveOptions.html');" class="link">Nokogiri::XML::Node::TestSaveOptions</a>"<br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">ELEMENT_NODE</td>
    <td>=</td>
    <td class="attr-value">1</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ATTRIBUTE_NODE</td>
    <td>=</td>
    <td class="attr-value">2</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">TEXT_NODE</td>
    <td>=</td>
    <td class="attr-value">3</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">CDATA_SECTION_NODE</td>
    <td>=</td>
    <td class="attr-value">4</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ENTITY_REF_NODE</td>
    <td>=</td>
    <td class="attr-value">5</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ENTITY_NODE</td>
    <td>=</td>
    <td class="attr-value">6</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">PI_NODE</td>
    <td>=</td>
    <td class="attr-value">7</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">COMMENT_NODE</td>
    <td>=</td>
    <td class="attr-value">8</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DOCUMENT_NODE</td>
    <td>=</td>
    <td class="attr-value">9</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DOCUMENT_TYPE_NODE</td>
    <td>=</td>
    <td class="attr-value">10</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DOCUMENT_FRAG_NODE</td>
    <td>=</td>
    <td class="attr-value">11</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">NOTATION_NODE</td>
    <td>=</td>
    <td class="attr-value">12</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">HTML_DOCUMENT_NODE</td>
    <td>=</td>
    <td class="attr-value">13</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DTD_NODE</td>
    <td>=</td>
    <td class="attr-value">14</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ELEMENT_DECL</td>
    <td>=</td>
    <td class="attr-value">15</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ATTRIBUTE_DECL</td>
    <td>=</td>
    <td class="attr-value">16</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ENTITY_DECL</td>
    <td>=</td>
    <td class="attr-value">17</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">NAMESPACE_DECL</td>
    <td>=</td>
    <td class="attr-value">18</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">XINCLUDE_START</td>
    <td>=</td>
    <td class="attr-value">19</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">XINCLUDE_END</td>
    <td>=</td>
    <td class="attr-value">20</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DOCB_DOCUMENT_NODE</td>
    <td>=</td>
    <td class="attr-value">21</td>
  </tr>
  </table>

  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>document</td>
    <td class='attr-desc'>
The <a href="index.html?a=C00000064&name=Document">Document</a> associated
with this <a href="index.html?a=C00000042&name=Node">Node</a>.

</td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M000349" class="method">
  <div id="M000349_title" class="title">
    <b>new(name)<br />
</b>
  </div>
  <div class="description">
  <p>
Create a new node with <tt>name</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000349_source')" id="l_M000349_source">show source</a> ]</p>
  <div id="M000349_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   new(name)
 *
 * Create a new node with +name+
 */
static VALUE new(VALUE klass, VALUE name, VALUE document)
{
  xmlDocPtr doc;

  Data_Get_Struct(document, xmlDoc, doc);

  xmlNodePtr node = xmlNewNode(NULL, (xmlChar *)StringValuePtr(name));
  node-&gt;doc = doc-&gt;doc;

  VALUE rb_node = Nokogiri_wrap_xml_node(node);

  if(rb_block_given_p()) rb_yield(rb_node);

  return rb_node;
}
</pre>
  </div>
</div>
</div>
<div id="M000348" class="method">
  <div id="M000348_title" class="title">
    <b>new_from_str</b>(string)
  </div>
  <div class="description">
  <p>
Create a new node from <tt>string</tt>
</p>
<p>
THIS METHOD IS DEPRECATED This method is deprecated and will be removed in
1.3.0 or by March 1, 2009. Instead, use <a
href="index.html?a=M000321&name=Nokogiri::XML::Node#fragment">Nokogiri::XML::Node#fragment</a>()
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000348_source')" id="l_M000348_source">show source</a> ]</p>
  <div id="M000348_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 491</span>
491:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new_from_str</span> <span class="ruby-identifier">string</span>
492:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-value str">&quot;This method is deprecated and will be removed in 1.3.0 or by March 1, 2009. Instead, use Nokogiri::XML::Node#fragment&quot;</span>)
493:         <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">first</span>
494:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000305" class="method">
  <div id="M000305_title" class="title">
    <b>/</b>(*paths)
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M000304&name=search">search</a>
</p>
  </div>
</div>
<div id="M000339" class="method">
  <div id="M000339_title" class="title">
    <b>==</b>(other)
  </div>
  <div class="description">
  <p>
Test to see if this <a href="index.html?a=C00000042&name=Node">Node</a> is
equal to <tt>other</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000339_source')" id="l_M000339_source">show source</a> ]</p>
  <div id="M000339_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 396</span>
396:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
397:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">other</span>
398:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:pointer_id</span>)
399:         <span class="ruby-identifier">pointer_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">pointer_id</span>
400:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000309" class="method">
  <div id="M000309_title" class="title">
    <b>[]</b>(name)
  </div>
  <div class="description">
  <p>
Get the attribute value for the attribute <tt>name</tt>
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M000310&name=get_attribute">get_attribute</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000309_source')" id="l_M000309_source">show source</a> ]</p>
  <div id="M000309_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 180</span>
180:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span> <span class="ruby-identifier">name</span>
181:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
182:         <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
183:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000364" class="method">
  <div id="M000364_title" class="title">
    <b>[]=(property, value)<br />
</b>
  </div>
  <div class="description">
  <p>
Set the <tt>property</tt> to <tt>value</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000364_source')" id="l_M000364_source">show source</a> ]</p>
  <div id="M000364_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  []=(property, value)
 *
 * Set the +property+ to +value+
 */
static VALUE set(VALUE self, VALUE property, VALUE value)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  xmlSetProp(node, (xmlChar *)StringValuePtr(property),
      (xmlChar *)StringValuePtr(value));

  return value;
}
</pre>
  </div>
</div>
</div>
<div id="M000353" class="method">
  <div id="M000353_title" class="title">
    <b>add_child(node)<br />
</b>
  </div>
  <div class="description">
  <p>
Add <tt>node</tt> as a child of this node. Returns the new child node.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000353_source')" id="l_M000353_source">show source</a> ]</p>
  <div id="M000353_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  add_child(node)
 *
 * Add +node+ as a child of this node. Returns the new child node.
 */
static VALUE add_child(VALUE self, VALUE child)
{
  return reparent_node_with(child, self, xmlAddChild);
}
</pre>
  </div>
</div>
</div>
<div id="M000350" class="method">
  <div id="M000350_title" class="title">
    <b>add_namespace(prefix, href)<br />
</b>
  </div>
  <div class="description">
  <p>
Add a namespace with <tt>prefix</tt> using <tt>href</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000350_source')" id="l_M000350_source">show source</a> ]</p>
  <div id="M000350_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  add_namespace(prefix, href)
 *
 * Add a namespace with +prefix+ using +href+
 */
static VALUE add_namespace(VALUE self, VALUE prefix, VALUE href)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  xmlNsPtr ns = xmlNewNs(
      node,
      (const xmlChar *)StringValuePtr(href),
      (const xmlChar *)StringValuePtr(prefix)
  );

  if(NULL == ns) return self;

  /*
  xmlNewNsProp(
      node,
      ns,
      (const xmlChar *)StringValuePtr(href),
      (const xmlChar *)StringValuePtr(prefix)
  );
  */

  return self;
}
</pre>
  </div>
</div>
</div>
<div id="M000370" class="method">
  <div id="M000370_title" class="title">
    <b>add_next_sibling(node)<br />
</b>
  </div>
  <div class="description">
  <p>
Insert <tt>node</tt> after this node (as a sibling).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000370_source')" id="l_M000370_source">show source</a> ]</p>
  <div id="M000370_source" class="dyn-source">
<pre>
/*
 *  call-seq:
 *    add_next_sibling(node)
 *
 *  Insert +node+ after this node (as a sibling).
 */
static VALUE add_next_sibling(VALUE self, VALUE rb_node)
{
  return reparent_node_with(rb_node, self, xmlAddNextSibling) ;
}
</pre>
  </div>
</div>
</div>
<div id="M000369" class="method">
  <div id="M000369_title" class="title">
    <b>add_previous_sibling(node)<br />
</b>
  </div>
  <div class="description">
  <p>
Insert <tt>node</tt> before this node (as a sibling).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000369_source')" id="l_M000369_source">show source</a> ]</p>
  <div id="M000369_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  add_previous_sibling(node)
 *
 * Insert +node+ before this node (as a sibling).
 */
static VALUE add_previous_sibling(VALUE self, VALUE rb_node)
{
  return reparent_node_with(rb_node, self, xmlAddPrevSibling) ;
}
</pre>
  </div>
</div>
</div>
<div id="M000318" class="method">
  <div id="M000318_title" class="title">
    <b>after</b>(data)
  </div>
  <div class="description">
  <p>
Create nodes from <tt>data</tt> and insert them after this node (as a
sibling).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000318_source')" id="l_M000318_source">show source</a> ]</p>
  <div id="M000318_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 248</span>
248:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after</span> <span class="ruby-identifier">data</span>
249:         <span class="ruby-identifier">fragment</span>(<span class="ruby-identifier">data</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
250:           <span class="ruby-identifier">add_next_sibling</span> <span class="ruby-identifier">node</span>
251:         <span class="ruby-keyword kw">end</span>
252:         <span class="ruby-keyword kw">self</span>
253:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000336" class="method">
  <div id="M000336_title" class="title">
    <b>ancestors</b>()
  </div>
  <div class="description">
  <p>
Get a list of ancestor <a href="index.html?a=C00000042&name=Node">Node</a>
for this <a href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000336_source')" id="l_M000336_source">show source</a> ]</p>
  <div id="M000336_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 363</span>
363:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ancestors</span>
364:         <span class="ruby-keyword kw">return</span> [] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:parent</span>)
365: 
366:         <span class="ruby-identifier">parents</span> = [<span class="ruby-identifier">parent</span>]
367: 
368:         <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">parents</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:parent</span>)
369:           <span class="ruby-identifier">parents</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">parents</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">parent</span>
370:         <span class="ruby-keyword kw">end</span>
371:         <span class="ruby-identifier">parents</span>
372:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000308" class="method">
  <div id="M000308_title" class="title">
    <b>at</b>(path, ns = document.root ? document.root.namespaces : {})
  </div>
  <div class="description">
  <p>
Search for the first occurrence of <tt>path</tt>. Returns nil if nothing is
found, otherwise a <a href="index.html?a=C00000042&name=Node">Node</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000308_source')" id="l_M000308_source">show source</a> ]</p>
  <div id="M000308_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 174</span>
174:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">at</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span> <span class="ruby-value">? </span><span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-operator">:</span> {}
175:         <span class="ruby-identifier">search</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">ns</span>).<span class="ruby-identifier">first</span>
176:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000366" class="method">
  <div id="M000366_title" class="title">
    <b>attribute(name)<br />
</b>
  </div>
  <div class="description">
  <p>
Get the attribute node with <tt>name</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000366_source')" id="l_M000366_source">show source</a> ]</p>
  <div id="M000366_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   attribute(name)
 *
 * Get the attribute node with +name+
 */
static VALUE attr(VALUE self, VALUE name)
{
  xmlNodePtr node;
  xmlAttrPtr prop;
  Data_Get_Struct(self, xmlNode, node);
  prop = xmlHasProp(node, (xmlChar *)StringValuePtr(name));

  if(! prop) return Qnil;
  return Nokogiri_wrap_xml_node((xmlNodePtr)prop);
}
</pre>
  </div>
</div>
</div>
<div id="M000365" class="method">
  <div id="M000365_title" class="title">
    <b>attribute_nodes()<br />
</b>
  </div>
  <div class="description">
  <p>
returns a list containing the <a
href="index.html?a=C00000042&name=Node">Node</a> attributes.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000365_source')" id="l_M000365_source">show source</a> ]</p>
  <div id="M000365_source" class="dyn-source">
<pre>
/*
 *  call-seq:
 *    attribute_nodes()
 *
 *  returns a list containing the Node attributes.
 */
static VALUE attribute_nodes(VALUE self)
{
    /* this code in the mode of xmlHasProp() */
    xmlNodePtr node ;
    VALUE attr ;

    attr = rb_ary_new() ;
    Data_Get_Struct(self, xmlNode, node);

    Nokogiri_xml_node_properties(node, attr);

    return attr ;
}
</pre>
  </div>
</div>
</div>
<div id="M000311" class="method">
  <div id="M000311_title" class="title">
    <b>attributes</b>()
  </div>
  <div class="description">
  <p>
Returns a hash containing the node&#8217;s attributes. The key is the
attribute name, the value is the string value of the attribute.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000311_source')" id="l_M000311_source">show source</a> ]</p>
  <div id="M000311_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 202</span>
202:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attributes</span>
203:         <span class="ruby-constant">Hash</span>[<span class="ruby-operator">*</span>(<span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
204:           [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_name</span>, <span class="ruby-identifier">node</span>]
205:         }.<span class="ruby-identifier">flatten</span>)]
206:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000317" class="method">
  <div id="M000317_title" class="title">
    <b>before</b>(data)
  </div>
  <div class="description">
  <p>
Create nodes from <tt>data</tt> and insert them before this node (as a
sibling).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000317_source')" id="l_M000317_source">show source</a> ]</p>
  <div id="M000317_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 238</span>
238:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before</span> <span class="ruby-identifier">data</span>
239:         <span class="ruby-identifier">fragment</span>(<span class="ruby-identifier">data</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
240:           <span class="ruby-identifier">add_previous_sibling</span> <span class="ruby-identifier">node</span>
241:         <span class="ruby-keyword kw">end</span>
242:         <span class="ruby-keyword kw">self</span>
243:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000363" class="method">
  <div id="M000363_title" class="title">
    <b>blank?<br />
</b>
  </div>
  <div class="description">
  <p>
Is this node blank?
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000363_source')" id="l_M000363_source">show source</a> ]</p>
  <div id="M000363_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  blank?
 *
 * Is this node blank?
 */
static VALUE blank_eh(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  if(1 == xmlIsBlankNode(node))
    return Qtrue;
  return Qfalse;
}
</pre>
  </div>
</div>
</div>
<div id="M000325" class="method">
  <div id="M000325_title" class="title">
    <b>cdata?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this is a <a
href="index.html?a=C00000038&name=CDATA">CDATA</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000325_source')" id="l_M000325_source">show source</a> ]</p>
  <div id="M000325_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 308</span>
308:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cdata?</span>
309:         <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">CDATA_SECTION_NODE</span>
310:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000355" class="method">
  <div id="M000355_title" class="title">
    <b>child<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the child node
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000355_source')" id="l_M000355_source">show source</a> ]</p>
  <div id="M000355_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  child
 *
 * Returns the child node
 */
static VALUE child(VALUE self)
{
  xmlNodePtr node, child;
  Data_Get_Struct(self, xmlNode, node);

  child = node-&gt;children;
  if(!child) return Qnil;

  return Nokogiri_wrap_xml_node(child);
}
</pre>
  </div>
</div>
</div>
<div id="M000356" class="method">
  <div id="M000356_title" class="title">
    <b>children<br />
</b>
  </div>
  <div class="description">
  <p>
Get the list of children for this node as a <a
href="index.html?a=C00000039&name=NodeSet">NodeSet</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000356_source')" id="l_M000356_source">show source</a> ]</p>
  <div id="M000356_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  children
 *
 * Get the list of children for this node as a NodeSet
 */
static VALUE children(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  xmlNodePtr child = node-&gt;children;
  xmlNodeSetPtr set = xmlXPathNodeSetCreate(child);

  if(!child) return Nokogiri_wrap_xml_node_set(set);

  child = child-&gt;next;
  while(NULL != child) {
    xmlXPathNodeSetAdd(set, child);
    child = child-&gt;next;
  }

  return Nokogiri_wrap_xml_node_set(set);
}
</pre>
  </div>
</div>
</div>
<div id="M000335" class="method">
  <div id="M000335_title" class="title">
    <b>collect_namespaces</b>()
  </div>
  <div class="description">
  <p>
recursively get all namespaces from this node and its subtree
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000335_source')" id="l_M000335_source">show source</a> ]</p>
  <div id="M000335_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 354</span>
354:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collect_namespaces</span>
355:         <span class="ruby-comment cmt"># TODO: print warning message if a prefix refers to more than one URI in the document?</span>
356:         <span class="ruby-identifier">ns</span> = {}
357:         <span class="ruby-identifier">traverse</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">j</span>.<span class="ruby-identifier">namespaces</span>)}
358:         <span class="ruby-identifier">ns</span>
359:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000324" class="method">
  <div id="M000324_title" class="title">
    <b>comment?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this is a <a
href="index.html?a=C00000030&name=Comment">Comment</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000324_source')" id="l_M000324_source">show source</a> ]</p>
  <div id="M000324_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 303</span>
303:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comment?</span>
304:         <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">COMMENT_NODE</span>
305:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000360" class="method">
  <div id="M000360_title" class="title">
    <b>content<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the content for this <a
href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000360_source')" id="l_M000360_source">show source</a> ]</p>
  <div id="M000360_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  content
 *
 * Returns the content for this Node
 */
static VALUE get_content(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  xmlChar * content = xmlNodeGetContent(node);
  if(content) {
    VALUE rval = NOKOGIRI_STR_NEW2(content, node-&gt;doc-&gt;encoding);
    xmlFree(content);
    return rval;
  }
  return Qnil;
}
</pre>
  </div>
</div>
</div>
<div id="M000322" class="method">
  <div id="M000322_title" class="title">
    <b>content=</b>(string)
  </div>
  <div class="description">
  <p>
Set the content to <tt>string</tt>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000322_source')" id="l_M000322_source">show source</a> ]</p>
  <div id="M000322_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content=</span> <span class="ruby-identifier">string</span>
292:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">native_content</span> = <span class="ruby-identifier">encode_special_chars</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_s</span>)
293:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000307" class="method">
  <div id="M000307_title" class="title">
    <b>css</b>(*rules)
  </div>
  <div class="description">
  <p>
Search this node for <a href="index.html?a=C00000086&name=CSS">CSS</a>
<tt>rules</tt>. <tt>rules</tt> must be one or more <a
href="index.html?a=C00000086&name=CSS">CSS</a> selectors. For example:
</p>
<pre>
  node.css('title')
  node.css('body h1.bold')
  node.css('div + p.green', 'div#one')
</pre>
<p>
Custom <a href="index.html?a=C00000086&name=CSS">CSS</a> pseudo classes may
also be defined. To define custom pseudo classes, create a class and
implement the custom pseudo class you want defined. The first argument to
the method will be the current matching <a
href="index.html?a=C00000039&name=NodeSet">NodeSet</a>. Any other arguments
are ones that you pass in. For example:
</p>
<pre>
  node.css('title:regex(&quot;\w+&quot;)', Class.new {
    def regex node_set, regex
      node_set.find_all { |node| node['some_attribute'] =~ /#{regex}/ }
    end
  })
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000307_source')" id="l_M000307_source">show source</a> ]</p>
  <div id="M000307_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">css</span> <span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>
156:         <span class="ruby-comment cmt"># Pop off our custom function handler if it exists</span>
157:         <span class="ruby-identifier">handler</span> = <span class="ruby-operator">!</span>[
158:           <span class="ruby-constant">Hash</span>, <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
159:         ].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">rules</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
160: 
161:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span>
162:           (<span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span> <span class="ruby-value">? </span><span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-operator">:</span> {})
163: 
164:         <span class="ruby-identifier">rules</span> = <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rule</span><span class="ruby-operator">|</span>
165:           <span class="ruby-constant">CSS</span>.<span class="ruby-identifier">xpath_for</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">:prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;.//&quot;</span>, <span class="ruby-identifier">:ns</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ns</span>)
166:         }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">handler</span>].<span class="ruby-identifier">compact</span>
167: 
168:         <span class="ruby-identifier">xpath</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rules</span>)
169:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000334" class="method">
  <div id="M000334_title" class="title">
    <b>css_path</b>()
  </div>
  <div class="description">
  <p>
Get the path to this node as a <a
href="index.html?a=C00000086&name=CSS">CSS</a> expression
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000334_source')" id="l_M000334_source">show source</a> ]</p>
  <div id="M000334_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 347</span>
347:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">css_path</span>
348:         <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/\//</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
349:           <span class="ruby-identifier">part</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\[(\d+)\]/</span>, <span class="ruby-value str">':nth-of-type(\1)'</span>)
350:         }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' &gt; '</span>)
351:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000303" class="method">
  <div id="M000303_title" class="title">
    <b>decorate!</b>()
  </div>
  <div class="description">
  <p>
Decorate this node with the decorators set up in this node&#8217;s <a
href="index.html?a=C00000064&name=Document">Document</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000303_source')" id="l_M000303_source">show source</a> ]</p>
  <div id="M000303_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 64</span>
64:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">decorate!</span>
65:         <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorate</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">document</span>
66:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000316" class="method">
  <div id="M000316_title" class="title">
    <b>delete</b>(name)
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M000315&name=remove_attribute">remove_attribute</a>
</p>
  </div>
</div>
<div id="M000377" class="method">
  <div id="M000377_title" class="title">
    <b>dump_html<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the <a href="index.html?a=C00000042&name=Node">Node</a> as html.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000377_source')" id="l_M000377_source">show source</a> ]</p>
  <div id="M000377_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  dump_html
 *
 * Returns the Node as html.
 */
static VALUE dump_html(VALUE self)
{
  xmlBufferPtr buf ;
  xmlNodePtr node ;
  Data_Get_Struct(self, xmlNode, node);

  if(node-&gt;doc-&gt;type == XML_DOCUMENT_NODE)
    return rb_funcall(self, rb_intern(&quot;to_xml&quot;), 0);

  buf = xmlBufferCreate() ;
  htmlNodeDump(buf, node-&gt;doc, node);
  VALUE html = NOKOGIRI_STR_NEW2(buf-&gt;content, node-&gt;doc-&gt;encoding);
  xmlBufferFree(buf);
  return html ;
}
</pre>
  </div>
</div>
</div>
<div id="M000372" class="method">
  <div id="M000372_title" class="title">
    <b>dup<br />
</b>
  </div>
  <div class="description">
  <p>
Copy this node. An optional depth may be passed in, but it defaults to a
deep copy. 0 is a shallow copy, 1 is a deep copy.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000372_source')" id="l_M000372_source">show source</a> ]</p>
  <div id="M000372_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  dup
 *
 * Copy this node.  An optional depth may be passed in, but it defaults
 * to a deep copy.  0 is a shallow copy, 1 is a deep copy.
 */
static VALUE duplicate_node(int argc, VALUE *argv, VALUE self)
{
  VALUE level;

  if(rb_scan_args(argc, argv, &quot;01&quot;, &amp;level) == 0)
    level = INT2NUM(1);

  xmlNodePtr node, dup;
  Data_Get_Struct(self, xmlNode, node);

  dup = xmlDocCopyNode(node, node-&gt;doc, NUM2INT(level));
  if(dup == NULL) return Qnil;

  return Nokogiri_wrap_xml_node(dup);
}
</pre>
  </div>
</div>
</div>
<div id="M000314" class="method">
  <div id="M000314_title" class="title">
    <b>each</b>(&amp;block)
  </div>
  <div class="description">
  <p>
Iterate over each attribute name and value pair for this <a
href="index.html?a=C00000042&name=Node">Node</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000314_source')" id="l_M000314_source">show source</a> ]</p>
  <div id="M000314_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 222</span>
222:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
223:         <span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
224:           <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_name</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>)
225:         }
226:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000331" class="method">
  <div id="M000331_title" class="title">
    <b>elem?</b>()
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M000330&name=element?">element?</a>
</p>
  </div>
</div>
<div id="M000330" class="method">
  <div id="M000330_title" class="title">
    <b>element?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this is an <a
href="index.html?a=C00000065&name=Element">Element</a> node
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M000331&name=elem?">elem?</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000330_source')" id="l_M000330_source">show source</a> ]</p>
  <div id="M000330_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 333</span>
333:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">element?</span>
334:         <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ELEMENT_NODE</span>
335:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000371" class="method">
  <div id="M000371_title" class="title">
    <b>encode_special_chars(string)<br />
</b>
  </div>
  <div class="description">
  <p>
Encode any special characters in <tt>string</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000371_source')" id="l_M000371_source">show source</a> ]</p>
  <div id="M000371_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  encode_special_chars(string)
 *
 * Encode any special characters in +string+
 */
static VALUE encode_special_chars(VALUE self, VALUE string)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  xmlChar * encoded = xmlEncodeSpecialChars(
      node-&gt;doc,
      (const xmlChar *)StringValuePtr(string)
  );

  VALUE encoded_str = NOKOGIRI_STR_NEW2(encoded, node-&gt;doc-&gt;encoding);
  xmlFree(encoded);

  return encoded_str;
}
</pre>
  </div>
</div>
</div>
<div id="M000321" class="method">
  <div id="M000321_title" class="title">
    <b>fragment</b>(tags)
  </div>
  <div class="description">
  <p>
Create a <a
href="index.html?a=C00000031&name=Nokogiri::XML::DocumentFragment">Nokogiri::XML::DocumentFragment</a>
from <tt>tags</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000321_source')" id="l_M000321_source">show source</a> ]</p>
  <div id="M000321_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 276</span>
276:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fragment</span> <span class="ruby-identifier">tags</span>
277:         <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'::'</span>)
278:         <span class="ruby-identifier">classes</span>[<span class="ruby-value">-1</span>] = <span class="ruby-value str">'SAX::Parser'</span>
279: 
280: 
281:         <span class="ruby-identifier">fragment</span> = <span class="ruby-constant">DocumentFragment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">document</span>)
282:         <span class="ruby-identifier">parser</span> = <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'::'</span>)).<span class="ruby-identifier">new</span>(
283:           <span class="ruby-constant">FragmentHandler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fragment</span>, <span class="ruby-identifier">tags</span>)
284:         )
285:         <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">tags</span>)
286:         <span class="ruby-identifier">fragment</span>
287:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000380" class="method">
  <div id="M000380_title" class="title">
    <b>get(attribute)<br />
</b>
  </div>
  <div class="description">
  <p>
Get the value for <tt>attribute</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000380_source')" id="l_M000380_source">show source</a> ]</p>
  <div id="M000380_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *   get(attribute)
 *
 * Get the value for +attribute+
 */
static VALUE get(VALUE self, VALUE attribute)
{
  xmlNodePtr node;
  xmlChar* propstr ;
  VALUE rval ;
  Data_Get_Struct(self, xmlNode, node);

  if(attribute == Qnil) return Qnil;

  propstr = xmlGetProp(node, (xmlChar *)StringValuePtr(attribute));

  if(NULL == propstr) return Qnil;

  rval = NOKOGIRI_STR_NEW2(propstr, node-&gt;doc-&gt;encoding);

  xmlFree(propstr);
  return rval ;
}
</pre>
  </div>
</div>
</div>
<div id="M000310" class="method">
  <div id="M000310_title" class="title">
    <b>get_attribute</b>(name)
  </div>
  <div class="description">
  <p>
Alias for #[]
</p>
  </div>
</div>
<div id="M000327" class="method">
  <div id="M000327_title" class="title">
    <b>html?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this is an <a
href="index.html?a=C00000079&name=HTML::Document">HTML::Document</a> node
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000327_source')" id="l_M000327_source">show source</a> ]</p>
  <div id="M000327_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 318</span>
318:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">html?</span>
319:         <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTML_DOCUMENT_NODE</span>
320:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000333" class="method">
  <div id="M000333_title" class="title">
    <b>inner_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000333_source')" id="l_M000333_source">show source</a> ]</p>
  <div id="M000333_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 342</span>
342:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_html</span>
343:         <span class="ruby-identifier">children</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_html</span> }.<span class="ruby-identifier">join</span>
344:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000320" class="method">
  <div id="M000320_title" class="title">
    <b>inner_html=</b>(tags)
  </div>
  <div class="description">
  <p>
Set the <a href="index.html?a=M000333&name=inner_html">inner_html</a> for
this <a href="index.html?a=C00000042&name=Node">Node</a> to <tt>tags</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000320_source')" id="l_M000320_source">show source</a> ]</p>
  <div id="M000320_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 265</span>
265:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_html=</span> <span class="ruby-identifier">tags</span>
266:         <span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">remove</span>}
267: 
268:         <span class="ruby-identifier">fragment</span>(<span class="ruby-identifier">tags</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
269:           <span class="ruby-identifier">add_child</span> <span class="ruby-identifier">node</span>
270:         <span class="ruby-keyword kw">end</span>
271:         <span class="ruby-keyword kw">self</span>
272:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000374" class="method">
  <div id="M000374_title" class="title">
    <b>internal_subset<br />
</b>
  </div>
  <div class="description">
  <p>
Get the internal subset
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000374_source')" id="l_M000374_source">show source</a> ]</p>
  <div id="M000374_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  internal_subset
 *
 * Get the internal subset
 */
static VALUE internal_subset(VALUE self)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  Data_Get_Struct(self, xmlNode, node);

  if(!node-&gt;doc) return Qnil;

  doc = node-&gt;doc;
  xmlDtdPtr dtd = xmlGetIntSubset(doc);

  if(!dtd) return Qnil;

  return Nokogiri_wrap_xml_node((xmlNodePtr)dtd);
}
</pre>
  </div>
</div>
</div>
<div id="M000362" class="method">
  <div id="M000362_title" class="title">
    <b>key?(attribute)<br />
</b>
  </div>
  <div class="description">
  <p>
Returns true if <tt>attribute</tt> is set
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000362_source')" id="l_M000362_source">show source</a> ]</p>
  <div id="M000362_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  key?(attribute)
 *
 * Returns true if +attribute+ is set
 */
static VALUE key_eh(VALUE self, VALUE attribute)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  if(xmlHasProp(node, (xmlChar *)StringValuePtr(attribute)))
    return Qtrue;
  return Qfalse;
}
</pre>
  </div>
</div>
</div>
<div id="M000313" class="method">
  <div id="M000313_title" class="title">
    <b>keys</b>()
  </div>
  <div class="description">
  <p>
Get the attribute names for this <a
href="index.html?a=C00000042&name=Node">Node</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000313_source')" id="l_M000313_source">show source</a> ]</p>
  <div id="M000313_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 216</span>
216:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keys</span>
217:         <span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_name</span> }
218:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000376" class="method">
  <div id="M000376_title" class="title">
    <b>line<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the line for this <a
href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000376_source')" id="l_M000376_source">show source</a> ]</p>
  <div id="M000376_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  line
 *
 * Returns the line for this Node
 */
static VALUE line(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  return INT2NUM(node-&gt;line);
}
</pre>
  </div>
</div>
</div>
<div id="M000367" class="method">
  <div id="M000367_title" class="title">
    <b>namespace()<br />
</b>
  </div>
  <div class="description">
  <p>
returns the namespace prefix for the node, if one exists.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000367_source')" id="l_M000367_source">show source</a> ]</p>
  <div id="M000367_source" class="dyn-source">
<pre>
/*
 *  call-seq:
 *    namespace()
 *
 *  returns the namespace prefix for the node, if one exists.
 */
static VALUE namespace(VALUE self)
{
  xmlNodePtr node ;
  Data_Get_Struct(self, xmlNode, node);
  if (node-&gt;ns &amp;&amp; node-&gt;ns-&gt;prefix) {
    return NOKOGIRI_STR_NEW2(node-&gt;ns-&gt;prefix, node-&gt;doc-&gt;encoding);
  }
  return Qnil ;
}
</pre>
  </div>
</div>
</div>
<div id="M000368" class="method">
  <div id="M000368_title" class="title">
    <b>namespaces()<br />
</b>
  </div>
  <div class="description">
  <p>
returns a hash containing the node&#8217;s namespaces.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000368_source')" id="l_M000368_source">show source</a> ]</p>
  <div id="M000368_source" class="dyn-source">
<pre>
/*
 *  call-seq:
 *    namespaces()
 *
 *  returns a hash containing the node's namespaces.
 */
static VALUE namespaces(VALUE self)
{
    /* this code in the mode of xmlHasProp() */
    xmlNodePtr node ;
    VALUE attr ;

    attr = rb_hash_new() ;
    Data_Get_Struct(self, xmlNode, node);

    Nokogiri_xml_node_namespaces(node, attr);

    return attr ;
}
</pre>
  </div>
</div>
</div>
<div id="M000379" class="method">
  <div id="M000379_title" class="title">
    <b>content=<br />
</b>
  </div>
  <div class="description">
  <p>
Set the content for this <a
href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000379_source')" id="l_M000379_source">show source</a> ]</p>
  <div id="M000379_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  content=
 *
 * Set the content for this Node
 */
static VALUE set_content(VALUE self, VALUE content)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  xmlNodeSetContent(node, (xmlChar *)StringValuePtr(content));
  return content;
}
</pre>
  </div>
</div>
</div>
<div id="M000378" class="method">
  <div id="M000378_title" class="title">
    <b>native_write_to(io, encoding, options)<br />
</b>
  </div>
  <div class="description">
  <p>
Write this <a href="index.html?a=C00000042&name=Node">Node</a> to
<tt>io</tt> with <tt>encoding</tt> and <tt>options</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000378_source')" id="l_M000378_source">show source</a> ]</p>
  <div id="M000378_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  native_write_to(io, encoding, options)
 *
 * Write this Node to +io+ with +encoding+ and +options+
 */
static VALUE native_write_to(VALUE self, VALUE io, VALUE encoding, VALUE options)
{
  xmlNodePtr node;

  Data_Get_Struct(self, xmlNode, node);

  xmlSaveCtxtPtr savectx = xmlSaveToIO(
      (xmlOutputWriteCallback)io_write_callback,
      (xmlOutputCloseCallback)io_close_callback,
      (void *)io,
      RTEST(encoding) ? StringValuePtr(encoding) : NULL,
      NUM2INT(options)
  );

  xmlSaveTree(savectx, node);
  xmlSaveClose(savectx);
  return io;
}
</pre>
  </div>
</div>
</div>
<div id="M000357" class="method">
  <div id="M000357_title" class="title">
    <b>next_sibling<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the next sibling node
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000357_source')" id="l_M000357_source">show source</a> ]</p>
  <div id="M000357_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  next_sibling
 *
 * Returns the next sibling node
 */
static VALUE next_sibling(VALUE self)
{
  xmlNodePtr node, sibling;
  Data_Get_Struct(self, xmlNode, node);

  sibling = node-&gt;next;
  if(!sibling) return Qnil;

  return Nokogiri_wrap_xml_node(sibling) ;
}
</pre>
  </div>
</div>
</div>
<div id="M000351" class="method">
  <div id="M000351_title" class="title">
    <b>name<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the name for this <a
href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000351_source')" id="l_M000351_source">show source</a> ]</p>
  <div id="M000351_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  name
 *
 * Returns the name for this Node
 */
static VALUE get_name(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  if(node-&gt;name)
    return NOKOGIRI_STR_NEW2(node-&gt;name, node-&gt;doc-&gt;encoding);
  return Qnil;
}
</pre>
  </div>
</div>
</div>
<div id="M000352" class="method">
  <div id="M000352_title" class="title">
    <b>name=(new_name)<br />
</b>
  </div>
  <div class="description">
  <p>
Set the name for this <a href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000352_source')" id="l_M000352_source">show source</a> ]</p>
  <div id="M000352_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  name=(new_name)
 *
 * Set the name for this Node
 */
static VALUE set_name(VALUE self, VALUE new_name)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  xmlNodeSetName(node, (xmlChar*)StringValuePtr(new_name));
  return new_name;
}
</pre>
  </div>
</div>
</div>
<div id="M000359" class="method">
  <div id="M000359_title" class="title">
    <b>node_type<br />
</b>
  </div>
  <div class="description">
  <p>
Get the type for this <a href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000359_source')" id="l_M000359_source">show source</a> ]</p>
  <div id="M000359_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  node_type
 *
 * Get the type for this Node
 */
static VALUE node_type(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  return INT2NUM((int)node-&gt;type);
}
</pre>
  </div>
</div>
</div>
<div id="M000354" class="method">
  <div id="M000354_title" class="title">
    <b>parent<br />
</b>
  </div>
  <div class="description">
  <p>
Get the parent <a href="index.html?a=C00000042&name=Node">Node</a> for this
<a href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000354_source')" id="l_M000354_source">show source</a> ]</p>
  <div id="M000354_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  parent
 *
 * Get the parent Node for this Node
 */
static VALUE get_parent(VALUE self)
{
  xmlNodePtr node, parent;
  Data_Get_Struct(self, xmlNode, node);

  parent = node-&gt;parent;
  if(!parent) return Qnil;

  return Nokogiri_wrap_xml_node(parent) ;
}
</pre>
  </div>
</div>
</div>
<div id="M000323" class="method">
  <div id="M000323_title" class="title">
    <b>parent=</b>(parent_node)
  </div>
  <div class="description">
  <p>
Set the parent <a href="index.html?a=C00000042&name=Node">Node</a> for this
<a href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000323_source')" id="l_M000323_source">show source</a> ]</p>
  <div id="M000323_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 297</span>
297:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent=</span> <span class="ruby-identifier">parent_node</span>
298:         <span class="ruby-identifier">parent_node</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-keyword kw">self</span>)
299:         <span class="ruby-identifier">parent_node</span>
300:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000361" class="method">
  <div id="M000361_title" class="title">
    <b>path<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the path associated with this <a
href="index.html?a=C00000042&name=Node">Node</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000361_source')" id="l_M000361_source">show source</a> ]</p>
  <div id="M000361_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  path
 *
 * Returns the path associated with this Node
 */
static VALUE path(VALUE self)
{
  xmlNodePtr node;
  xmlChar *path ;
  Data_Get_Struct(self, xmlNode, node);
  
  path = xmlGetNodePath(node);
  VALUE rval = NOKOGIRI_STR_NEW2(path, node-&gt;doc-&gt;encoding);
  xmlFree(path);
  return rval ;
}
</pre>
  </div>
</div>
</div>
<div id="M000375" class="method">
  <div id="M000375_title" class="title">
    <b>pointer_id<br />
</b>
  </div>
  <div class="description">
  <p>
Get the internal pointer number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000375_source')" id="l_M000375_source">show source</a> ]</p>
  <div id="M000375_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  pointer_id
 *
 * Get the internal pointer number
 */
static VALUE pointer_id(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  return INT2NUM((int)(node));
}
</pre>
  </div>
</div>
</div>
<div id="M000358" class="method">
  <div id="M000358_title" class="title">
    <b>previous_sibling<br />
</b>
  </div>
  <div class="description">
  <p>
Returns the previous sibling node
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000358_source')" id="l_M000358_source">show source</a> ]</p>
  <div id="M000358_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  previous_sibling
 *
 * Returns the previous sibling node
 */
static VALUE previous_sibling(VALUE self)
{
  xmlNodePtr node, sibling;
  Data_Get_Struct(self, xmlNode, node);

  sibling = node-&gt;prev;
  if(!sibling) return Qnil;

  return Nokogiri_wrap_xml_node(sibling);
}
</pre>
  </div>
</div>
</div>
<div id="M000329" class="method">
  <div id="M000329_title" class="title">
    <b>read_only?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000329_source')" id="l_M000329_source">show source</a> ]</p>
  <div id="M000329_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 327</span>
327:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_only?</span>
328:         <span class="ruby-comment cmt"># According to gdome2, these are read-only node types</span>
329:         [<span class="ruby-constant">NOTATION_NODE</span>, <span class="ruby-constant">ENTITY_NODE</span>, <span class="ruby-constant">ENTITY_DECL</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
330:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000315" class="method">
  <div id="M000315_title" class="title">
    <b>remove_attribute</b>(name)
  </div>
  <div class="description">
  <p>
Remove the attribute named <tt>name</tt>
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M000316&name=delete">delete</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000315_source')" id="l_M000315_source">show source</a> ]</p>
  <div id="M000315_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 230</span>
230:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_attribute</span> <span class="ruby-identifier">name</span>
231:         <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">name</span>].<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key?</span> <span class="ruby-identifier">name</span>
232:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000338" class="method">
  <div id="M000338_title" class="title">
    <b>replace</b>(new_node)
  </div>
  <div class="description">
  <p>
replace node with the new node in the document.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000338_source')" id="l_M000338_source">show source</a> ]</p>
  <div id="M000338_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 383</span>
383:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace</span>(<span class="ruby-identifier">new_node</span>)
384:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">new_node</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Document</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">new_node</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
385:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;Node.replace requires a Node argument, and cannot accept a Document.\n(You probably want to select a node from the Document with at() or search(), or create a new Node via Node.new().)\n&quot;</span>
386:         <span class="ruby-keyword kw">end</span>
387:         <span class="ruby-identifier">replace_with_node</span> <span class="ruby-identifier">new_node</span>
388:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000304" class="method">
  <div id="M000304_title" class="title">
    <b>search</b>(*paths)
  </div>
  <div class="description">
  <p>
Search this node for <tt>paths</tt>. <tt>paths</tt> can be <a
href="index.html?a=C00000058&name=XPath">XPath</a> or <a
href="index.html?a=C00000086&name=CSS">CSS</a>, and an optional hash of
namespaces may be appended. See <a
href="index.html?a=M000306&name=Node#xpath">Node#xpath</a> and <a
href="index.html?a=M000307&name=Node#css">Node#css</a>.
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M000305&name=/">/</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000304_source')" id="l_M000304_source">show source</a> ]</p>
  <div id="M000304_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 72</span>
72:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span> <span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>
73:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span>
74:           (<span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span> <span class="ruby-value">? </span><span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-operator">:</span> {})
75:         <span class="ruby-identifier">xpath</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
76:           <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">to_s</span>
77:           <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(\.\/|\/)/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">:</span> <span class="ruby-constant">CSS</span>.<span class="ruby-identifier">xpath_for</span>(
78:             <span class="ruby-identifier">path</span>,
79:             <span class="ruby-identifier">:prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;.//&quot;</span>,
80:             <span class="ruby-identifier">:ns</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ns</span>
81:           )
82:         }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>) <span class="ruby-operator">+</span> [<span class="ruby-identifier">ns</span>])
83:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000340" class="method">
  <div id="M000340_title" class="title">
    <b>serialize</b>(encoding = nil, save_options = SaveOptions::FORMAT, &amp;block)
  </div>
  <div class="description">
  <p>
Serialize <a href="index.html?a=C00000042&name=Node">Node</a> using
<tt>encoding</tt> and <tt>save_options</tt>. Save options can also be set
using a block. See <a
href="index.html?a=C00000043&name=SaveOptions">SaveOptions</a>.
</p>
<p>
These two statements are equivalent:
</p>
<pre>
 node.serialize('UTF-8', FORMAT | AS_XML)
</pre>
<p>
or
</p>
<pre>
  node.serialize('UTF-8') do |config|
    config.format.as_xml
  end
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000340_source')" id="l_M000340_source">show source</a> ]</p>
  <div id="M000340_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 416</span>
416:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">serialize</span> <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">save_options</span> = <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
417:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
418:         <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">save_options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
419:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
420:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
421:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000319" class="method">
  <div id="M000319_title" class="title">
    <b>swap</b>(data)
  </div>
  <div class="description">
  <p>
Swap this <a href="index.html?a=C00000042&name=Node">Node</a> for new nodes
made from <tt>data</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000319_source')" id="l_M000319_source">show source</a> ]</p>
  <div id="M000319_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 257</span>
257:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">swap</span> <span class="ruby-identifier">data</span>
258:         <span class="ruby-identifier">before</span>(<span class="ruby-identifier">data</span>)
259:         <span class="ruby-identifier">remove</span>
260:         <span class="ruby-keyword kw">self</span>
261:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000328" class="method">
  <div id="M000328_title" class="title">
    <b>text?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this is a <a
href="index.html?a=C00000040&name=Text">Text</a> node
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000328_source')" id="l_M000328_source">show source</a> ]</p>
  <div id="M000328_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 323</span>
323:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text?</span>
324:         <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">TEXT_NODE</span>
325:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000341" class="method">
  <div id="M000341_title" class="title">
    <b>to_html</b>(encoding = nil)
  </div>
  <div class="description">
  <p>
Serialize this <a href="index.html?a=C00000042&name=Node">Node</a> to <a
href="index.html?a=C00000066&name=HTML">HTML</a> using <tt>encoding</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000341_source')" id="l_M000341_source">show source</a> ]</p>
  <div id="M000341_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 425</span>
425:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_html</span> <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>
426:         <span class="ruby-comment cmt"># FIXME: this is a hack around broken libxml versions</span>
427:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">dump_html</span> <span class="ruby-keyword kw">if</span> <span class="ruby-node">%w[2 6]</span> <span class="ruby-operator">===</span> <span class="ruby-constant">LIBXML_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]
428: 
429:         <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">encoding</span>, <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span> <span class="ruby-operator">|</span>
430:                             <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_DECLARATION</span> <span class="ruby-operator">|</span>
431:                             <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_EMPTY_TAGS</span> <span class="ruby-operator">|</span>
432:                             <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">AS_HTML</span>)
433:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000332" class="method">
  <div id="M000332_title" class="title">
    <b>to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000332_source')" id="l_M000332_source">show source</a> ]</p>
  <div id="M000332_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 338</span>
338:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
339:         <span class="ruby-identifier">document</span>.<span class="ruby-identifier">xml?</span> <span class="ruby-value">? </span><span class="ruby-identifier">to_xml</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">to_html</span>
340:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000343" class="method">
  <div id="M000343_title" class="title">
    <b>to_xhtml</b>(encoding = nil)
  </div>
  <div class="description">
  <p>
Serialize this <a href="index.html?a=C00000042&name=Node">Node</a> to <a
href="index.html?a=C00000018&name=XML">XML</a> using <tt>encoding</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000343_source')" id="l_M000343_source">show source</a> ]</p>
  <div id="M000343_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 443</span>
443:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_xhtml</span> <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>
444:         <span class="ruby-comment cmt"># FIXME: this is a hack around broken libxml versions</span>
445:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">dump_html</span> <span class="ruby-keyword kw">if</span> <span class="ruby-node">%w[2 6]</span> <span class="ruby-operator">===</span> <span class="ruby-constant">LIBXML_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]
446: 
447:         <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">encoding</span>, <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span> <span class="ruby-operator">|</span>
448:                             <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_DECLARATION</span> <span class="ruby-operator">|</span>
449:                             <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_EMPTY_TAGS</span> <span class="ruby-operator">|</span>
450:                             <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">AS_XHTML</span>)
451:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000342" class="method">
  <div id="M000342_title" class="title">
    <b>to_xml</b>(encoding = nil)
  </div>
  <div class="description">
  <p>
Serialize this <a href="index.html?a=C00000042&name=Node">Node</a> to <a
href="index.html?a=C00000018&name=XML">XML</a> using <tt>encoding</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000342_source')" id="l_M000342_source">show source</a> ]</p>
  <div id="M000342_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 437</span>
437:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_xml</span> <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>
438:         <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">encoding</span>, <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span> <span class="ruby-operator">|</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">AS_XML</span>)
439:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000337" class="method">
  <div id="M000337_title" class="title">
    <b>traverse</b>(&amp;block)
  </div>
  <div class="description">
  <p>
Yields self and all children to <tt>block</tt> recursively.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000337_source')" id="l_M000337_source">show source</a> ]</p>
  <div id="M000337_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 376</span>
376:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">traverse</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
377:         <span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">traverse</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }
378:         <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword kw">self</span>)
379:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000373" class="method">
  <div id="M000373_title" class="title">
    <b>unlink<br />
</b>
  </div>
  <div class="description">
  <p>
Unlink this node from its current context.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000373_source')" id="l_M000373_source">show source</a> ]</p>
  <div id="M000373_source" class="dyn-source">
<pre>
/*
 * call-seq:
 *  unlink
 *
 * Unlink this node from its current context.
 */
static VALUE unlink_node(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  xmlUnlinkNode(node);
  NOKOGIRI_ROOT_NODE(node);
  return self;
}
</pre>
  </div>
</div>
</div>
<div id="M000312" class="method">
  <div id="M000312_title" class="title">
    <b>values</b>()
  </div>
  <div class="description">
  <p>
Get the attribute values for this <a
href="index.html?a=C00000042&name=Node">Node</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000312_source')" id="l_M000312_source">show source</a> ]</p>
  <div id="M000312_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 210</span>
210:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values</span>
211:         <span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span> }
212:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000345" class="method">
  <div id="M000345_title" class="title">
    <b>write_html_to</b>(io, encoding = nil)
  </div>
  <div class="description">
  <p>
Write <a href="index.html?a=C00000042&name=Node">Node</a> as <a
href="index.html?a=C00000066&name=HTML">HTML</a> to <tt>io</tt> with
<tt>encoding</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000345_source')" id="l_M000345_source">show source</a> ]</p>
  <div id="M000345_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 464</span>
464:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_html_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>
465:         <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span> <span class="ruby-operator">|</span>
466:           <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_DECLARATION</span> <span class="ruby-operator">|</span>
467:           <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_EMPTY_TAGS</span> <span class="ruby-operator">|</span>
468:           <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">AS_HTML</span>
469:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000344" class="method">
  <div id="M000344_title" class="title">
    <b>write_to</b>(io, encoding = nil, save_options = SaveOptions::FORMAT) {|config if block_given?| ...}
  </div>
  <div class="description">
  <p>
Write <a href="index.html?a=C00000042&name=Node">Node</a> to <tt>io</tt>
with <tt>encoding</tt> and <tt>save_options</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show source</a> ]</p>
  <div id="M000344_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 455</span>
455:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">save_options</span> = <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span>
456:         <span class="ruby-identifier">config</span> = <span class="ruby-constant">SaveOptions</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">save_options</span>)
457:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">config</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
458: 
459:         <span class="ruby-identifier">native_write_to</span>(<span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">options</span>)
460:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000346" class="method">
  <div id="M000346_title" class="title">
    <b>write_xhtml_to</b>(io, encoding = nil)
  </div>
  <div class="description">
  <p>
Write <a href="index.html?a=C00000042&name=Node">Node</a> as XHTML to
<tt>io</tt> with <tt>encoding</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000346_source')" id="l_M000346_source">show source</a> ]</p>
  <div id="M000346_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 473</span>
473:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_xhtml_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>
474:         <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span> <span class="ruby-operator">|</span>
475:           <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_DECLARATION</span> <span class="ruby-operator">|</span>
476:           <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_EMPTY_TAGS</span> <span class="ruby-operator">|</span>
477:           <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">AS_XHTML</span>
478:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000347" class="method">
  <div id="M000347_title" class="title">
    <b>write_xml_to</b>(io, encoding = nil)
  </div>
  <div class="description">
  <p>
Write <a href="index.html?a=C00000042&name=Node">Node</a> as <a
href="index.html?a=C00000018&name=XML">XML</a> to <tt>io</tt> with
<tt>encoding</tt>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000347_source')" id="l_M000347_source">show source</a> ]</p>
  <div id="M000347_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 482</span>
482:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_xml_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span> = <span class="ruby-keyword kw">nil</span>
483:         <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span> <span class="ruby-operator">|</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">AS_XML</span>
484:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000326" class="method">
  <div id="M000326_title" class="title">
    <b>xml?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this is an <a
href="index.html?a=C00000064&name=XML::Document">XML::Document</a> node
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000326_source')" id="l_M000326_source">show source</a> ]</p>
  <div id="M000326_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 313</span>
313:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xml?</span>
314:         <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DOCUMENT_NODE</span>
315:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000306" class="method">
  <div id="M000306_title" class="title">
    <b>xpath</b>(*paths)
  </div>
  <div class="description">
  <p>
Search this node for <a href="index.html?a=C00000058&name=XPath">XPath</a>
<tt>paths</tt>. <tt>paths</tt> must be one or more <a
href="index.html?a=C00000058&name=XPath">XPath</a> queries. A hash of
namespaces may be appended. For example:
</p>
<pre>
  node.xpath('.//title')
  node.xpath('.//foo:name', { 'foo' =&gt; 'http://example.org/' })
  node.xpath('.//xmlns:name', node.root.namespaces)
</pre>
<p>
Custom <a href="index.html?a=C00000058&name=XPath">XPath</a> functions may
also be defined. To define custom functions create a class and implement
the # function you want to define. For example:
</p>
<pre>
  node.xpath('.//title[regex(., &quot;\w+&quot;)]', Class.new {
    def regex node_set, regex
      node_set.find_all { |node| node['some_attribute'] =~ /#{regex}/ }
    end
  }.new)
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000306_source')" id="l_M000306_source">show source</a> ]</p>
  <div id="M000306_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/nokogiri/xml/node.rb, line 104</span>
104:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xpath</span> <span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>
105:         <span class="ruby-comment cmt"># Pop off our custom function handler if it exists</span>
106:         <span class="ruby-identifier">handler</span> = <span class="ruby-operator">!</span>[
107:           <span class="ruby-constant">Hash</span>, <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
108:         ].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">paths</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
109: 
110:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span>
111:           (<span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span> <span class="ruby-value">? </span><span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-operator">:</span> {})
112: 
113:         <span class="ruby-keyword kw">return</span> <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">document</span>
114: 
115:         <span class="ruby-identifier">sets</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
116:           <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
117:           <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_namespaces</span>(<span class="ruby-identifier">ns</span>)
118:           <span class="ruby-identifier">set</span> = <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">handler</span>).<span class="ruby-identifier">node_set</span>
119:           <span class="ruby-identifier">set</span>.<span class="ruby-identifier">document</span> = <span class="ruby-identifier">document</span>
120:           <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorate</span>(<span class="ruby-identifier">set</span>)
121:           <span class="ruby-identifier">set</span>
122:         }
123:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sets</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sets</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
124: 
125:         <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">combined</span><span class="ruby-operator">|</span>
126:           <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorate</span>(<span class="ruby-identifier">combined</span>)
127:           <span class="ruby-identifier">sets</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
128:             <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
129:               <span class="ruby-identifier">combined</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
130:             <span class="ruby-keyword kw">end</span>
131:           <span class="ruby-keyword kw">end</span>
132:         <span class="ruby-keyword kw">end</span>
133:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>