  <div id="C00000027">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNode<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_rb.html');">test/xml/test_node.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000489&name=accept" >accept</a></li>
  <li><a href="index.html?a=M000446&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000488&name=test_accept" >test_accept</a></li>
  <li><a href="index.html?a=M000476&name=test_add_default_ns" >test_add_default_ns</a></li>
  <li><a href="index.html?a=M000477&name=test_add_multiple_namespaces" >test_add_multiple_namespaces</a></li>
  <li><a href="index.html?a=M000474&name=test_add_namespace" >test_add_namespace</a></li>
  <li><a href="index.html?a=M000481&name=test_add_namespace_does_not_associate_node" >test_add_namespace_does_not_associate_node</a></li>
  <li><a href="index.html?a=M000475&name=test_add_namespace_twice" >test_add_namespace_twice</a></li>
  <li><a href="index.html?a=M000480&name=test_add_namespace_with_nil_associates_node" >test_add_namespace_with_nil_associates_node</a></li>
  <li><a href="index.html?a=M000501&name=test_ancestors" >test_ancestors</a></li>
  <li><a href="index.html?a=M000458&name=test_append_with_document" >test_append_with_document</a></li>
  <li><a href="index.html?a=M000484&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000486&name=test_at_css" >test_at_css</a></li>
  <li><a href="index.html?a=M000485&name=test_at_xpath" >test_at_xpath</a></li>
  <li><a href="index.html?a=M000492&name=test_attribute_with_symbol" >test_attribute_with_symbol</a></li>
  <li><a href="index.html?a=M000514&name=test_attributes" >test_attributes</a></li>
  <li><a href="index.html?a=M000511&name=test_child" >test_child</a></li>
  <li><a href="index.html?a=M000473&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000519&name=test_content" >test_content</a></li>
  <li><a href="index.html?a=M000478&name=test_default_namespace=" >test_default_namespace=</a></li>
  <li><a href="index.html?a=M000504&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M000464&name=test_description" >test_description</a></li>
  <li><a href="index.html?a=M000468&name=test_different_document_compare" >test_different_document_compare</a></li>
  <li><a href="index.html?a=M000467&name=test_document_compare" >test_document_compare</a></li>
  <li><a href="index.html?a=M000469&name=test_duplicate_node_removes_namespace" >test_duplicate_node_removes_namespace</a></li>
  <li><a href="index.html?a=M000498&name=test_each" >test_each</a></li>
  <li><a href="index.html?a=M000456&name=test_element?" >test_element?</a></li>
  <li><a href="index.html?a=M000518&name=test_encode_special_chars" >test_encode_special_chars</a></li>
  <li><a href="index.html?a=M000506&name=test_find_by_css_with_tilde_eql" >test_find_by_css_with_tilde_eql</a></li>
  <li><a href="index.html?a=M000470&name=test_fragment_creates_elements" >test_fragment_creates_elements</a></li>
  <li><a href="index.html?a=M000447&name=test_gt_string_arg" >test_gt_string_arg</a></li>
  <li><a href="index.html?a=M000495&name=test_hold_refence_to_subnode" >test_hold_refence_to_subnode</a></li>
  <li><a href="index.html?a=M000466&name=test_incorrect_spaceship" >test_incorrect_spaceship</a></li>
  <li><a href="index.html?a=M000459&name=test_inspect_ns" >test_inspect_ns</a></li>
  <li><a href="index.html?a=M000512&name=test_key?" >test_key?</a></li>
  <li><a href="index.html?a=M000497&name=test_keys" >test_keys</a></li>
  <li><a href="index.html?a=M000527&name=test_line" >test_line</a></li>
  <li><a href="index.html?a=M000510&name=test_name=" >test_name=</a></li>
  <li><a href="index.html?a=M000525&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M000479&name=test_namespace=" >test_namespace=</a></li>
  <li><a href="index.html?a=M000522&name=test_namespace_as_hash" >test_namespace_as_hash</a></li>
  <li><a href="index.html?a=M000463&name=test_namespace_goes_to_children" >test_namespace_goes_to_children</a></li>
  <li><a href="index.html?a=M000460&name=test_namespace_nodes" >test_namespace_nodes</a></li>
  <li><a href="index.html?a=M000523&name=test_namespace_search_with_css" >test_namespace_search_with_css</a></li>
  <li><a href="index.html?a=M000526&name=test_namespace_without_an_href_on_html_node" >test_namespace_without_an_href_on_html_node</a></li>
  <li><a href="index.html?a=M000524&name=test_namespaces" >test_namespaces</a></li>
  <li><a href="index.html?a=M000499&name=test_new" >test_new</a></li>
  <li><a href="index.html?a=M000517&name=test_new_node" >test_new_node</a></li>
  <li><a href="index.html?a=M000472&name=test_new_node_can_have_ancestors" >test_new_node_can_have_ancestors</a></li>
  <li><a href="index.html?a=M000448&name=test_next_element_when_next_sibling_is_element_should_return_next_sibling" >test_next_element_when_next_sibling_is_element_should_return_next_sibling</a></li>
  <li><a href="index.html?a=M000451&name=test_next_element_when_next_sibling_is_not_an_element_and_no_following_element_should_return_nil" >test_next_element_when_next_sibling_is_not_an_element_and_no_following_element_should_return_nil</a></li>
  <li><a href="index.html?a=M000450&name=test_next_element_when_next_sibling_is_not_an_element_should_return_closest_next_element_sibling" >test_next_element_when_next_sibling_is_not_an_element_should_return_closest_next_element_sibling</a></li>
  <li><a href="index.html?a=M000449&name=test_next_element_when_there_is_no_next_sibling_should_return_nil" >test_next_element_when_there_is_no_next_sibling_should_return_nil</a></li>
  <li><a href="index.html?a=M000508&name=test_next_sibling" >test_next_sibling</a></li>
  <li><a href="index.html?a=M000461&name=test_no_definitions" >test_no_definitions</a></li>
  <li><a href="index.html?a=M000471&name=test_node_added_to_root_should_get_namespace" >test_node_added_to_root_should_get_namespace</a></li>
  <li><a href="index.html?a=M000521&name=test_node_equality" >test_node_equality</a></li>
  <li><a href="index.html?a=M000515&name=test_path" >test_path</a></li>
  <li><a href="index.html?a=M000487&name=test_percent" >test_percent</a></li>
  <li><a href="index.html?a=M000452&name=test_previous_element_when_previous_sibling_is_element_should_return_previous_sibling" >test_previous_element_when_previous_sibling_is_element_should_return_previous_sibling</a></li>
  <li><a href="index.html?a=M000455&name=test_previous_element_when_previous_sibling_is_not_an_element_and_no_following_element_should_return_nil" >test_previous_element_when_previous_sibling_is_not_an_element_and_no_following_element_should_return_nil</a></li>
  <li><a href="index.html?a=M000454&name=test_previous_element_when_previous_sibling_is_not_an_element_should_return_closest_previous_element_sibling" >test_previous_element_when_previous_sibling_is_not_an_element_should_return_closest_previous_element_sibling</a></li>
  <li><a href="index.html?a=M000453&name=test_previous_element_when_there_is_no_previous_sibling_should_return_nil" >test_previous_element_when_there_is_no_previous_sibling_should_return_nil</a></li>
  <li><a href="index.html?a=M000509&name=test_previous_sibling" >test_previous_sibling</a></li>
  <li><a href="index.html?a=M000502&name=test_read_only?" >test_read_only?</a></li>
  <li><a href="index.html?a=M000503&name=test_remove_attribute" >test_remove_attribute</a></li>
  <li><a href="index.html?a=M000516&name=test_search_by_symbol" >test_search_by_symbol</a></li>
  <li><a href="index.html?a=M000494&name=test_serialize_with_block" >test_serialize_with_block</a></li>
  <li><a href="index.html?a=M000505&name=test_set_content_with_symbol" >test_set_content_with_symbol</a></li>
  <li><a href="index.html?a=M000482&name=test_set_namespace_from_different_doc" >test_set_namespace_from_different_doc</a></li>
  <li><a href="index.html?a=M000483&name=test_set_namespace_must_only_take_a_namespace" >test_set_namespace_must_only_take_a_namespace</a></li>
  <li><a href="index.html?a=M000513&name=test_set_property" >test_set_property</a></li>
  <li><a href="index.html?a=M000457&name=test_slash_search" >test_slash_search</a></li>
  <li><a href="index.html?a=M000465&name=test_spaceship" >test_spaceship</a></li>
  <li><a href="index.html?a=M000462&name=test_subclass_dup" >test_subclass_dup</a></li>
  <li><a href="index.html?a=M000500&name=test_to_str" >test_to_str</a></li>
  <li><a href="index.html?a=M000507&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000496&name=test_values" >test_values</a></li>
  <li><a href="index.html?a=M000520&name=test_whitespace_nodes" >test_whitespace_nodes</a></li>
  <li><a href="index.html?a=M000491&name=test_write_to" >test_write_to</a></li>
  <li><a href="index.html?a=M000493&name=test_write_to_with_block" >test_write_to_with_block</a></li>
  <li><a href="index.html?a=M000490&name=visit" >visit</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000489" class="method">
  <div id="M000489_title" class="title">
    <b>accept</b>(target)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000489_source')" id="l_M000489_source">show source</a> ]</p>
  <div id="M000489_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 359</span>
359:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">target</span>
360:             <span class="ruby-identifier">target</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>)
361:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000446" class="method">
  <div id="M000446_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000446_source')" id="l_M000446_source">show source</a> ]</p>
  <div id="M000446_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 8</span>
 8:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:         <span class="ruby-keyword kw">super</span>
10:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
11:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000488" class="method">
  <div id="M000488_title" class="title">
    <b>test_accept</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000488_source')" id="l_M000488_source">show source</a> ]</p>
  <div id="M000488_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 356</span>
356:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_accept</span>
357:         <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
358:           <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:visited</span>
359:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">target</span>
360:             <span class="ruby-identifier">target</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>)
361:           <span class="ruby-keyword kw">end</span>
362: 
363:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit</span> <span class="ruby-identifier">node</span>
364:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>) }
365:             <span class="ruby-ivar">@visited</span> = <span class="ruby-keyword kw">true</span>
366:           <span class="ruby-keyword kw">end</span>
367:         }.<span class="ruby-identifier">new</span>
368:         <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>)
369:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">visited</span>
370:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000476" class="method">
  <div id="M000476_title" class="title">
    <b>test_add_default_ns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000476_source')" id="l_M000476_source">show source</a> ]</p>
  <div id="M000476_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 265</span>
265:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_default_ns</span>
266:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
267:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
268:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns'</span>]
269:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000477" class="method">
  <div id="M000477_title" class="title">
    <b>test_add_multiple_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000477_source')" id="l_M000477_source">show source</a> ]</p>
  <div id="M000477_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 271</span>
271:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_multiple_namespaces</span>
272:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
273: 
274:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
275:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns'</span>]
276: 
277:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
278:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:foo'</span>]
279:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000474" class="method">
  <div id="M000474_title" class="title">
    <b>test_add_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000474_source')" id="l_M000474_source">show source</a> ]</p>
  <div id="M000474_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 252</span>
252:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace</span>
253:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
254:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
255:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:foo'</span>]
256:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000481" class="method">
  <div id="M000481_title" class="title">
    <b>test_add_namespace_does_not_associate_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000481_source')" id="l_M000481_source">show source</a> ]</p>
  <div id="M000481_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 308</span>
308:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_does_not_associate_node</span>
309:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
310:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
311:         <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tlm.com/'</span>
312:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
313:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000475" class="method">
  <div id="M000475_title" class="title">
    <b>test_add_namespace_twice</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000475_source')" id="l_M000475_source">show source</a> ]</p>
  <div id="M000475_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 258</span>
258:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_twice</span>
259:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
260:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
261:         <span class="ruby-identifier">ns2</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
262:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">ns2</span>
263:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000480" class="method">
  <div id="M000480_title" class="title">
    <b>test_add_namespace_with_nil_associates_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000480_source')" id="l_M000480_source">show source</a> ]</p>
  <div id="M000480_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 301</span>
301:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_with_nil_associates_node</span>
302:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
303:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
304:         <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'http://tlm.com/'</span>
305:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">definition</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
306:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000501" class="method">
  <div id="M000501_title" class="title">
    <b>test_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000501_source')" id="l_M000501_source">show source</a> ]</p>
  <div id="M000501_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 461</span>
461:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ancestors</span>
462:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
463:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">address</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
464:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'employee'</span>, <span class="ruby-value str">'staff'</span>, <span class="ruby-value str">'document'</span>],
465:           <span class="ruby-identifier">address</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">name</span> }
466:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000458" class="method">
  <div id="M000458_title" class="title">
    <b>test_append_with_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000458_source')" id="l_M000458_source">show source</a> ]</p>
  <div id="M000458_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 84</span>
84:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_append_with_document</span>
85:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) <span class="ruby-keyword kw">do</span>
86:           <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
87:         <span class="ruby-keyword kw">end</span>
88:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000484" class="method">
  <div id="M000484_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000484_source')" id="l_M000484_source">show source</a> ]</p>
  <div id="M000484_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 332</span>
332:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
333:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
334:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
335:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000486" class="method">
  <div id="M000486_title" class="title">
    <b>test_at_css</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000486_source')" id="l_M000486_source">show source</a> ]</p>
  <div id="M000486_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 344</span>
344:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at_css</span>
345:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">'address'</span>)
346:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'address'</span>)
347:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">size</span>
348:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>
349:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000485" class="method">
  <div id="M000485_title" class="title">
    <b>test_at_xpath</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000485_source')" id="l_M000485_source">show source</a> ]</p>
  <div id="M000485_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 337</span>
337:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at_xpath</span>
338:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at_xpath</span>(<span class="ruby-value str">'//address'</span>)
339:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)
340:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">size</span>
341:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>
342:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000492" class="method">
  <div id="M000492_title" class="title">
    <b>test_attribute_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000492_source')" id="l_M000492_source">show source</a> ]</p>
  <div id="M000492_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 379</span>
379:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_with_symbol</span>
380:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'address'</span>).<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:domestic</span>]
381:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000514" class="method">
  <div id="M000514_title" class="title">
    <b>test_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000514_source')" id="l_M000514_source">show source</a> ]</p>
  <div id="M000514_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 577</span>
577:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attributes</span>
578:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
579:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node</span>[<span class="ruby-value str">'asdfasdfasdf'</span>])
580:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">node</span>[<span class="ruby-value str">'domestic'</span>])
581: 
582:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">2</span>]
583:         <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>
584:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">size</span>
585:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'domestic'</span>].<span class="ruby-identifier">value</span>
586:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'domestic'</span>].<span class="ruby-identifier">to_s</span>
587:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'No'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'street'</span>].<span class="ruby-identifier">value</span>
588:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000511" class="method">
  <div id="M000511_title" class="title">
    <b>test_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000511_source')" id="l_M000511_source">show source</a> ]</p>
  <div id="M000511_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 560</span>
560:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_child</span>
561:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
562:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">child</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>
563:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'text'</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">name</span>)
564:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000473" class="method">
  <div id="M000473_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000473_source')" id="l_M000473_source">show source</a> ]</p>
  <div id="M000473_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 236</span>
236:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
237:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\#{'&lt;a/&gt;' * 9 }&lt;/root&gt;\n&quot;</span>)
238:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
239:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">length</span>
240: 
241:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\#{'&lt;a/&gt;' * 15 }&lt;/root&gt;\n&quot;</span>)
242:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
243:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">length</span>
244:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000519" class="method">
  <div id="M000519_title" class="title">
    <b>test_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000519_source')" id="l_M000519_source">show source</a> ]</p>
  <div id="M000519_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 615</span>
615:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content</span>
616:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
617:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">''</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
618: 
619:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'hello world!'</span>
620:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'hello world!'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
621:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000478" class="method">
  <div id="M000478_title" class="title">
    <b>test_default_namespace=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000478_source')" id="l_M000478_source">show source</a> ]</p>
  <div id="M000478_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 281</span>
281:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_namespace=</span>
282:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
283:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">default_namespace</span> = <span class="ruby-value str">'http://tenderlovemaking.com'</span>
284:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns'</span>]
285:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000504" class="method">
  <div id="M000504_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000504_source')" id="l_M000504_source">show source</a> ]</p>
  <div id="M000504_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 482</span>
482:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
483:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'/staff/employee/address'</span>).<span class="ruby-identifier">first</span>
484:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
485:         <span class="ruby-identifier">address</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">'domestic'</span>
486:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
487:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000464" class="method">
  <div id="M000464_title" class="title">
    <b>test_description</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000464_source')" id="l_M000464_source">show source</a> ]</p>
  <div id="M000464_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 159</span>
159:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_description</span>
160:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">description</span>
161:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000468" class="method">
  <div id="M000468_title" class="title">
    <b>test_different_document_compare</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000468_source')" id="l_M000468_source">show source</a> ]</p>
  <div id="M000468_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 181</span>
181:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_different_document_compare</span>
182:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
183:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;a&gt;&lt;b/&gt;&lt;/a&gt;'</span>)
184:         <span class="ruby-identifier">b</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'b'</span>)
185:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>)
186:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000467" class="method">
  <div id="M000467_title" class="title">
    <b>test_document_compare</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000467_source')" id="l_M000467_source">show source</a> ]</p>
  <div id="M000467_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_compare</span>
177:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
178:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, (<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-ivar">@xml</span>))
179:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000469" class="method">
  <div id="M000469_title" class="title">
    <b>test_duplicate_node_removes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000469_source')" id="l_M000469_source">show source</a> ]</p>
  <div id="M000469_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 188</span>
188:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_duplicate_node_removes_namespace</span>
189:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='www.fruits.org'&gt;\n&lt;Apple&gt;&lt;/Apple&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
190:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'fruit:Apple'</span>, {<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})[<span class="ruby-value">0</span>]
191:         <span class="ruby-identifier">new_apple</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">dup</span>
192:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new_apple</span>
193:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:Apple'</span>).<span class="ruby-identifier">length</span>
194:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">to_xml</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-value str">'www.fruits.org'</span>).<span class="ruby-identifier">length</span>
195:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000498" class="method">
  <div id="M000498_title" class="title">
    <b>test_each</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000498_source')" id="l_M000498_source">show source</a> ]</p>
  <div id="M000498_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 441</span>
441:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_each</span>
442:         <span class="ruby-identifier">attributes</span> = []
443:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
444:           <span class="ruby-identifier">attributes</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>]
445:         <span class="ruby-keyword kw">end</span>
446:         <span class="ruby-identifier">assert_equal</span> [[<span class="ruby-value str">'domestic'</span>, <span class="ruby-value str">'Yes'</span>], [<span class="ruby-value str">'street'</span>, <span class="ruby-value str">'Yes'</span>]], <span class="ruby-identifier">attributes</span>
447:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000456" class="method">
  <div id="M000456_title" class="title">
    <b>test_element?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000456_source')" id="l_M000456_source">show source</a> ]</p>
  <div id="M000456_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_element?</span>
77:         <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">element?</span>, <span class="ruby-value str">'is an element'</span>
78:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000518" class="method">
  <div id="M000518_title" class="title">
    <b>test_encode_special_chars</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000518_source')" id="l_M000518_source">show source</a> ]</p>
  <div id="M000518_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 610</span>
610:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encode_special_chars</span>
611:         <span class="ruby-identifier">foo</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">encode_special_chars</span>(<span class="ruby-value str">'&amp;'</span>)
612:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&amp;amp;'</span>, <span class="ruby-identifier">foo</span>
613:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000506" class="method">
  <div id="M000506_title" class="title">
    <b>test_find_by_css_with_tilde_eql</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000506_source')" id="l_M000506_source">show source</a> ]</p>
  <div id="M000506_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 495</span>
495:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_by_css_with_tilde_eql</span>
496:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
497:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a[@class~=&quot;bar&quot;]'</span>)
498:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
499:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'Bar'</span>], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> }.<span class="ruby-identifier">uniq</span>
500:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000470" class="method">
  <div id="M000470_title" class="title">
    <b>test_fragment_creates_elements</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000470_source')" id="l_M000470_source">show source</a> ]</p>
  <div id="M000470_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 211</span>
211:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fragment_creates_elements</span>
212:         <span class="ruby-identifier">apple</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;Apple/&gt;'</span>)
213:         <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
214:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ELEMENT_NODE</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">type</span>
215:           <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">child</span>
216:         <span class="ruby-keyword kw">end</span>
217:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000447" class="method">
  <div id="M000447_title" class="title">
    <b>test_gt_string_arg</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000447_source')" id="l_M000447_source">show source</a> ]</p>
  <div id="M000447_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 13</span>
13:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_gt_string_arg</span>
14:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'employee'</span>)
15:         <span class="ruby-identifier">nodes</span> = (<span class="ruby-identifier">node</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value str">'name'</span>)
16:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">length</span>
17:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">parent</span>
18:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000495" class="method">
  <div id="M000495_title" class="title">
    <b>test_hold_refence_to_subnode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000495_source')" id="l_M000495_source">show source</a> ]</p>
  <div id="M000495_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 418</span>
418:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_hold_refence_to_subnode</span>
419:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\n&lt;b /&gt;\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
420:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_a</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
421:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_b</span> = <span class="ruby-identifier">node_a</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'b'</span>).<span class="ruby-identifier">first</span>
422:         <span class="ruby-identifier">node_a</span>.<span class="ruby-identifier">unlink</span>
423:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'b'</span>, <span class="ruby-identifier">node_b</span>.<span class="ruby-identifier">name</span>
424:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000466" class="method">
  <div id="M000466_title" class="title">
    <b>test_incorrect_spaceship</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000466_source')" id="l_M000466_source">show source</a> ]</p>
  <div id="M000466_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_incorrect_spaceship</span>
172:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
173:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-value str">'asdf'</span>)
174:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000459" class="method">
  <div id="M000459_title" class="title">
    <b>test_inspect_ns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000459_source')" id="l_M000459_source">show source</a> ]</p>
  <div id="M000459_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 90</span>
 90:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inspect_ns</span>
 91:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot; xmlns:foo=\&quot;bar\&quot;&gt;\n&lt;awesome/&gt;\n&lt;/root&gt;\n&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">noblanks</span> }
 92:         <span class="ruby-identifier">ins</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">inspect</span>
 93: 
 94:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">traverse</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
 95:           <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">ins</span>
 96:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:attributes</span>
 97:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
 98:               <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">k</span>, <span class="ruby-identifier">ins</span>
 99:               <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">v</span>, <span class="ruby-identifier">ins</span>
100:             <span class="ruby-keyword kw">end</span>
101:           <span class="ruby-keyword kw">end</span>
102: 
103:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:namespace</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
104:             <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">ins</span>
105:             <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">href</span>, <span class="ruby-identifier">ins</span>
106:           <span class="ruby-keyword kw">end</span>
107:         <span class="ruby-keyword kw">end</span>
108:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000512" class="method">
  <div id="M000512_title" class="title">
    <b>test_key?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000512_source')" id="l_M000512_source">show source</a> ]</p>
  <div id="M000512_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 566</span>
566:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_key?</span>
567:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
568:         <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'asdfasdf'</span>))
569:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000497" class="method">
  <div id="M000497_title" class="title">
    <b>test_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000497_source')" id="l_M000497_source">show source</a> ]</p>
  <div id="M000497_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 437</span>
437:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_keys</span>
438:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w{ domestic street }</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">keys</span>
439:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000527" class="method">
  <div id="M000527_title" class="title">
    <b>test_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000527_source')" id="l_M000527_source">show source</a> ]</p>
  <div id="M000527_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 738</span>
738:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_line</span>
739:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\nHello world\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
740: 
741:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//a&quot;</span>)
742:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
743:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">line</span>
744:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000510" class="method">
  <div id="M000510_title" class="title">
    <b>test_name=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000510_source')" id="l_M000510_source">show source</a> ]</p>
  <div id="M000510_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 554</span>
554:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_name=</span>
555:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
556:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'awesome'</span>
557:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'awesome'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
558:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000525" class="method">
  <div id="M000525_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000525_source')" id="l_M000525_source">show source</a> ]</p>
  <div id="M000525_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 705</span>
705:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
706:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:a='http://foo.com/' xmlns:b='http://bar.com/'&gt;\n&lt;y xmlns:c='http://bazz.com/'&gt;\n&lt;a:div&gt;hello a&lt;/a:div&gt;\n&lt;b:div&gt;hello b&lt;/b:div&gt;\n&lt;c:div&gt;hello c&lt;/c:div&gt;\n&lt;div&gt;hello moon&lt;/div&gt;\n&lt;/y&gt;\n&lt;/x&gt;\n&quot;</span>)
707:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//y/*&quot;</span>)
708:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">prefix</span>
709:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">prefix</span>
710:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;c&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">prefix</span>
711:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">3</span>].<span class="ruby-identifier">namespace</span>
712:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000479" class="method">
  <div id="M000479_title" class="title">
    <b>test_namespace=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000479_source')" id="l_M000479_source">show source</a> ]</p>
  <div id="M000479_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 287</span>
287:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace=</span>
288:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
289:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
290:         <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-value str">'http://tlm.com/'</span>
291: 
292:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">definition</span>
293: 
294:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">definition</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
295: 
296:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//foo:address'</span>, {
297:           <span class="ruby-value str">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://tlm.com/'</span>
298:         })
299:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000522" class="method">
  <div id="M000522_title" class="title">
    <b>test_namespace_as_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000522_source')" id="l_M000522_source">show source</a> ]</p>
  <div id="M000522_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 643</span>
643:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_as_hash</span>
644:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
645: 
646:         <span class="ruby-identifier">tires</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//bike:tire'</span>, {<span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://schwinn.com/'</span>})
647:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">tires</span>.<span class="ruby-identifier">length</span>
648:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000463" class="method">
  <div id="M000463_title" class="title">
    <b>test_namespace_goes_to_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000463_source')" id="l_M000463_source">show source</a> ]</p>
  <div id="M000463_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 145</span>
145:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_goes_to_children</span>
146:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='www.fruits.org'&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
147:         <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Apple'</span>, <span class="ruby-identifier">fruits</span>)
148:         <span class="ruby-identifier">orange</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Orange'</span>, <span class="ruby-identifier">fruits</span>)
149:         <span class="ruby-identifier">apple</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">orange</span>
150:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">apple</span>
151:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//fruit:Orange'</span>,{<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})
152:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//fruit:Apple'</span>,{<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})
153:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000460" class="method">
  <div id="M000460_title" class="title">
    <b>test_namespace_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000460_source')" id="l_M000460_source">show source</a> ]</p>
  <div id="M000460_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_nodes</span>
116:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot; xmlns:foo=\&quot;bar\&quot;&gt;\n&lt;awesome/&gt;\n&lt;/root&gt;\n&quot;</span>
117:         <span class="ruby-identifier">awesome</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>
118:         <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">awesome</span>.<span class="ruby-identifier">namespace_definitions</span>
119:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">length</span>
120:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000523" class="method">
  <div id="M000523_title" class="title">
    <b>test_namespace_search_with_css</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000523_source')" id="l_M000523_source">show source</a> ]</p>
  <div id="M000523_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 660</span>
660:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_search_with_css</span>
661:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
662: 
663:         <span class="ruby-identifier">tires</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'bike|tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://schwinn.com/'</span>)
664:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">tires</span>.<span class="ruby-identifier">length</span>
665:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000526" class="method">
  <div id="M000526_title" class="title">
    <b>test_namespace_without_an_href_on_html_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000526_source')" id="l_M000526_source">show source</a> ]</p>
  <div id="M000526_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 724</span>
724:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_without_an_href_on_html_node</span>
725:         <span class="ruby-comment cmt"># because microsoft word's HTML formatting does this. ick.</span>
726:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">parse</span> <span class="ruby-value str">&quot;&lt;div&gt;&lt;o:p&gt;foo&lt;/o:p&gt;&lt;/div&gt;\n&quot;</span>
727: 
728:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'p'</span>))
729: 
730:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span>
731:         <span class="ruby-identifier">assert</span>       <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'xmlns:o'</span>)
732:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:o'</span>]
733:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000524" class="method">
  <div id="M000524_title" class="title">
    <b>test_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000524_source')" id="l_M000524_source">show source</a> ]</p>
  <div id="M000524_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 677</span>
677:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespaces</span>
678:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:a='http://foo.com/' xmlns:b='http://bar.com/'&gt;\n&lt;y xmlns:c='http://bazz.com/'&gt;\n&lt;a:div&gt;hello a&lt;/a:div&gt;\n&lt;b:div&gt;hello b&lt;/b:div&gt;\n&lt;c:div&gt;hello c&lt;/c:div&gt;\n&lt;/y&gt;\n&lt;/x&gt;\n&quot;</span>)
679:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span>
680:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:a'</span>)
681:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:a'</span>]
682:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:b'</span>)
683:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bar.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:b'</span>]
684:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:c'</span>)
685: 
686:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>
687:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:a'</span>)
688:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:a'</span>]
689:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:b'</span>)
690:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bar.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:b'</span>]
691: 
692:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello a&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//a:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
693:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello b&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//b:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
694:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000499" class="method">
  <div id="M000499_title" class="title">
    <b>test_new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000499_source')" id="l_M000499_source">show source</a> ]</p>
  <div id="M000499_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 449</span>
449:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new</span>
450:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'input'</span>, <span class="ruby-ivar">@xml</span>)
451:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span>
452:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">node</span>
453:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000517" class="method">
  <div id="M000517_title" class="title">
    <b>test_new_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000517_source')" id="l_M000517_source">show source</a> ]</p>
  <div id="M000517_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 604</span>
604:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_node</span>
605:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
606:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
607:         <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">document</span>)
608:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000472" class="method">
  <div id="M000472_title" class="title">
    <b>test_new_node_can_have_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000472_source')" id="l_M000472_source">show source</a> ]</p>
  <div id="M000472_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 230</span>
230:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_node_can_have_ancestors</span>
231:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;text&lt;/root&gt;'</span>)
232:         <span class="ruby-identifier">item</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'item'</span>, <span class="ruby-identifier">xml</span>)
233:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
234:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000448" class="method">
  <div id="M000448_title" class="title">
    <b>test_next_element_when_next_sibling_is_element_should_return_next_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000448_source')" id="l_M000448_source">show source</a> ]</p>
  <div id="M000448_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 20</span>
20:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_element_when_next_sibling_is_element_should_return_next_sibling</span>
21:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;&lt;quux /&gt;&lt;/root&gt;&quot;</span>
22:         <span class="ruby-identifier">node</span>         = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;foo&quot;</span>)
23:         <span class="ruby-identifier">next_element</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_element</span>
24:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">next_element</span>.<span class="ruby-identifier">element?</span>
25:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;quux&quot;</span>), <span class="ruby-identifier">next_element</span>
26:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000451" class="method">
  <div id="M000451_title" class="title">
    <b>test_next_element_when_next_sibling_is_not_an_element_and_no_following_element_should_return_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000451_source')" id="l_M000451_source">show source</a> ]</p>
  <div id="M000451_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 41</span>
41:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_element_when_next_sibling_is_not_an_element_and_no_following_element_should_return_nil</span>
42:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;bar&lt;/root&gt;&quot;</span>
43:         <span class="ruby-identifier">node</span>         = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;foo&quot;</span>)
44:         <span class="ruby-identifier">next_element</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_element</span>
45:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">next_element</span>
46:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000450" class="method">
  <div id="M000450_title" class="title">
    <b>test_next_element_when_next_sibling_is_not_an_element_should_return_closest_next_element_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000450_source')" id="l_M000450_source">show source</a> ]</p>
  <div id="M000450_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 33</span>
33:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_element_when_next_sibling_is_not_an_element_should_return_closest_next_element_sibling</span>
34:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;bar&lt;quux /&gt;&lt;/root&gt;&quot;</span>
35:         <span class="ruby-identifier">node</span>         = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;foo&quot;</span>)
36:         <span class="ruby-identifier">next_element</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_element</span>
37:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">next_element</span>.<span class="ruby-identifier">element?</span>
38:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;quux&quot;</span>), <span class="ruby-identifier">next_element</span>
39:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000449" class="method">
  <div id="M000449_title" class="title">
    <b>test_next_element_when_there_is_no_next_sibling_should_return_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000449_source')" id="l_M000449_source">show source</a> ]</p>
  <div id="M000449_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 28</span>
28:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_element_when_there_is_no_next_sibling_should_return_nil</span>
29:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;&lt;quux /&gt;&lt;/root&gt;&quot;</span>
30:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;quux&quot;</span>).<span class="ruby-identifier">next_element</span>
31:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000508" class="method">
  <div id="M000508_title" class="title">
    <b>test_next_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000508_source')" id="l_M000508_source">show source</a> ]</p>
  <div id="M000508_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 541</span>
541:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_sibling</span>
542:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
543:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sibling</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>.<span class="ruby-identifier">next_sibling</span>
544:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">name</span>)
545:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000461" class="method">
  <div id="M000461_title" class="title">
    <b>test_no_definitions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000461_source')" id="l_M000461_source">show source</a> ]</p>
  <div id="M000461_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 127</span>
127:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_definitions</span>
128:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot; xmlns:foo=\&quot;bar\&quot;&gt;\n&lt;awesome/&gt;\n&lt;/root&gt;\n&quot;</span>
129:         <span class="ruby-identifier">awesome</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:awesome'</span>)
130:         <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">awesome</span>.<span class="ruby-identifier">namespace_definitions</span>
131:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">length</span>
132:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000471" class="method">
  <div id="M000471_title" class="title">
    <b>test_node_added_to_root_should_get_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000471_source')" id="l_M000471_source">show source</a> ]</p>
  <div id="M000471_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 219</span>
219:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_added_to_root_should_get_namespace</span>
220:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='http://www.fruits.org'&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
221:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;Apple/&gt;'</span>)
222:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">apple</span>
223:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:Apple'</span>).<span class="ruby-identifier">length</span>
224:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000521" class="method">
  <div id="M000521_title" class="title">
    <b>test_node_equality</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000521_source')" id="l_M000521_source">show source</a> ]</p>
  <div id="M000521_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 630</span>
630:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_equality</span>
631:         <span class="ruby-identifier">doc1</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
632:         <span class="ruby-identifier">doc2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
633: 
634:         <span class="ruby-identifier">address1_1</span> = <span class="ruby-identifier">doc1</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
635:         <span class="ruby-identifier">address1_2</span> = <span class="ruby-identifier">doc1</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
636: 
637:         <span class="ruby-identifier">address2</span> = <span class="ruby-identifier">doc2</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
638: 
639:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">address1_1</span>, <span class="ruby-identifier">address2</span> <span class="ruby-comment cmt"># two references to very, very similar nodes</span>
640:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">address1_1</span>, <span class="ruby-identifier">address1_2</span> <span class="ruby-comment cmt"># two references to the exact same node</span>
641:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000515" class="method">
  <div id="M000515_title" class="title">
    <b>test_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000515_source')" id="l_M000515_source">show source</a> ]</p>
  <div id="M000515_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 590</span>
590:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_path</span>
591:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
592:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
593:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'/staff/employee[1]'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">path</span>)
594:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000487" class="method">
  <div id="M000487_title" class="title">
    <b>test_percent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000487_source')" id="l_M000487_source">show source</a> ]</p>
  <div id="M000487_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 351</span>
351:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_percent</span>
352:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span> <span class="ruby-operator">%</span> (<span class="ruby-value str">'address'</span>)
353:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
354:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000452" class="method">
  <div id="M000452_title" class="title">
    <b>test_previous_element_when_previous_sibling_is_element_should_return_previous_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000452_source')" id="l_M000452_source">show source</a> ]</p>
  <div id="M000452_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 48</span>
48:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_element_when_previous_sibling_is_element_should_return_previous_sibling</span>
49:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;&lt;quux /&gt;&lt;/root&gt;&quot;</span>
50:         <span class="ruby-identifier">node</span>             = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;quux&quot;</span>)
51:         <span class="ruby-identifier">previous_element</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_element</span>
52:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">previous_element</span>.<span class="ruby-identifier">element?</span>
53:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;foo&quot;</span>), <span class="ruby-identifier">previous_element</span>
54:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000455" class="method">
  <div id="M000455_title" class="title">
    <b>test_previous_element_when_previous_sibling_is_not_an_element_and_no_following_element_should_return_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000455_source')" id="l_M000455_source">show source</a> ]</p>
  <div id="M000455_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 69</span>
69:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_element_when_previous_sibling_is_not_an_element_and_no_following_element_should_return_nil</span>
70:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;foo&lt;bar /&gt;&lt;/root&gt;&quot;</span>
71:         <span class="ruby-identifier">node</span>             = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;bar&quot;</span>)
72:         <span class="ruby-identifier">previous_element</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_element</span>
73:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">previous_element</span>
74:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000454" class="method">
  <div id="M000454_title" class="title">
    <b>test_previous_element_when_previous_sibling_is_not_an_element_should_return_closest_previous_element_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000454_source')" id="l_M000454_source">show source</a> ]</p>
  <div id="M000454_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_element_when_previous_sibling_is_not_an_element_should_return_closest_previous_element_sibling</span>
62:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;bar&lt;quux /&gt;&lt;/root&gt;&quot;</span>
63:         <span class="ruby-identifier">node</span>             = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;quux&quot;</span>)
64:         <span class="ruby-identifier">previous_element</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_element</span>
65:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">previous_element</span>.<span class="ruby-identifier">element?</span>
66:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;foo&quot;</span>), <span class="ruby-identifier">previous_element</span>
67:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000453" class="method">
  <div id="M000453_title" class="title">
    <b>test_previous_element_when_there_is_no_previous_sibling_should_return_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000453_source')" id="l_M000453_source">show source</a> ]</p>
  <div id="M000453_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 56</span>
56:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_element_when_there_is_no_previous_sibling_should_return_nil</span>
57:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;&lt;foo /&gt;&lt;quux /&gt;&lt;/root&gt;&quot;</span>
58:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at_css</span>(<span class="ruby-value str">&quot;foo&quot;</span>).<span class="ruby-identifier">previous_element</span>
59:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000509" class="method">
  <div id="M000509_title" class="title">
    <b>test_previous_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000509_source')" id="l_M000509_source">show source</a> ]</p>
  <div id="M000509_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 547</span>
547:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_sibling</span>
548:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
549:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sibling</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>.<span class="ruby-identifier">next_sibling</span>
550:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">name</span>)
551:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">previous_sibling</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>)
552:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000502" class="method">
  <div id="M000502_title" class="title">
    <b>test_read_only?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000502_source')" id="l_M000502_source">show source</a> ]</p>
  <div id="M000502_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 468</span>
468:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_read_only?</span>
469:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">entity_decl</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">internal_subset</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
470:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ENTITY_DECL</span>
471:         }
472:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">entity_decl</span>.<span class="ruby-identifier">read_only?</span>
473:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000503" class="method">
  <div id="M000503_title" class="title">
    <b>test_remove_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000503_source')" id="l_M000503_source">show source</a> ]</p>
  <div id="M000503_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 475</span>
475:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_attribute</span>
476:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'/staff/employee/address'</span>).<span class="ruby-identifier">first</span>
477:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
478:         <span class="ruby-identifier">address</span>.<span class="ruby-identifier">remove_attribute</span> <span class="ruby-value str">'domestic'</span>
479:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
480:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000516" class="method">
  <div id="M000516_title" class="title">
    <b>test_search_by_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000516_source')" id="l_M000516_source">show source</a> ]</p>
  <div id="M000516_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 596</span>
596:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_by_symbol</span>
597:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">:employee</span>)
598:         <span class="ruby-identifier">assert</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
599: 
600:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">:employee</span>)
601:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">text</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/EMP0001/</span>
602:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000494" class="method">
  <div id="M000494_title" class="title">
    <b>test_serialize_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000494_source')" id="l_M000494_source">show source</a> ]</p>
  <div id="M000494_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 406</span>
406:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_serialize_with_block</span>
407:         <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">false</span>
408:         <span class="ruby-identifier">conf</span> = <span class="ruby-keyword kw">nil</span>
409:         <span class="ruby-identifier">string</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
410:           <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">true</span>
411:           <span class="ruby-identifier">conf</span> = <span class="ruby-identifier">config</span>
412:           <span class="ruby-identifier">config</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">as_html</span>.<span class="ruby-identifier">no_empty_tags</span>
413:         <span class="ruby-keyword kw">end</span>
414:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">called</span>
415:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">conf</span>.<span class="ruby-identifier">options</span>), <span class="ruby-identifier">string</span>
416:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000505" class="method">
  <div id="M000505_title" class="title">
    <b>test_set_content_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000505_source')" id="l_M000505_source">show source</a> ]</p>
  <div id="M000505_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 489</span>
489:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_content_with_symbol</span>
490:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//name'</span>)
491:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">:foo</span>
492:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>
493:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000482" class="method">
  <div id="M000482_title" class="title">
    <b>test_set_namespace_from_different_doc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000482_source')" id="l_M000482_source">show source</a> ]</p>
  <div id="M000482_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 315</span>
315:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_namespace_from_different_doc</span>
316:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
317:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
318:         <span class="ruby-identifier">decl</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'bar'</span>
319: 
320:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) <span class="ruby-keyword kw">do</span>
321:           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">decl</span>
322:         <span class="ruby-keyword kw">end</span>
323:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000483" class="method">
  <div id="M000483_title" class="title">
    <b>test_set_namespace_must_only_take_a_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000483_source')" id="l_M000483_source">show source</a> ]</p>
  <div id="M000483_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 325</span>
325:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_namespace_must_only_take_a_namespace</span>
326:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
327:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">TypeError</span>) <span class="ruby-keyword kw">do</span>
328:           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">node</span>
329:         <span class="ruby-keyword kw">end</span>
330:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000513" class="method">
  <div id="M000513_title" class="title">
    <b>test_set_property</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000513_source')" id="l_M000513_source">show source</a> ]</p>
  <div id="M000513_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 571</span>
571:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_property</span>
572:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
573:         <span class="ruby-identifier">node</span>[<span class="ruby-value str">'foo'</span>] = <span class="ruby-value str">'bar'</span>
574:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">node</span>[<span class="ruby-value str">'foo'</span>])
575:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000457" class="method">
  <div id="M000457_title" class="title">
    <b>test_slash_search</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000457_source')" id="l_M000457_source">show source</a> ]</p>
  <div id="M000457_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 80</span>
80:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slash_search</span>
81:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EMP0001'</span>, (<span class="ruby-ivar">@xml</span><span class="ruby-operator">/</span><span class="ruby-identifier">:staff</span><span class="ruby-operator">/</span><span class="ruby-identifier">:employee</span><span class="ruby-operator">/</span><span class="ruby-identifier">:employeeId</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">text</span>
82:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000465" class="method">
  <div id="M000465_title" class="title">
    <b>test_spaceship</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000465_source')" id="l_M000465_source">show source</a> ]</p>
  <div id="M000465_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 163</span>
163:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_spaceship</span>
164:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
165:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, (<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">last</span>))
166:         <span class="ruby-identifier">list</span> = [<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">last</span>].<span class="ruby-identifier">sort</span>
167:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">first</span>
168:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">last</span>
169:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000462" class="method">
  <div id="M000462_title" class="title">
    <b>test_subclass_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000462_source')" id="l_M000462_source">show source</a> ]</p>
  <div id="M000462_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_dup</span>
140:         <span class="ruby-identifier">subclass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
141:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>).<span class="ruby-identifier">dup</span>
142:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">subclass</span>, <span class="ruby-identifier">node</span>
143:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000500" class="method">
  <div id="M000500_title" class="title">
    <b>test_to_str</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000500_source')" id="l_M000500_source">show source</a> ]</p>
  <div id="M000500_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 455</span>
455:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_str</span>
456:         <span class="ruby-identifier">name</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//name'</span>).<span class="ruby-identifier">first</span>
457:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/Margaret/</span>, <span class="ruby-value str">''</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>)
458:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Margaret Martin'</span>, <span class="ruby-value str">''</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>)
459:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000507" class="method">
  <div id="M000507_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000507_source')" id="l_M000507_source">show source</a> ]</p>
  <div id="M000507_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 513</span>
513:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
514:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
515:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)[<span class="ruby-value">3</span>]
516:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Hello world'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">text</span>)
517:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
518:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
519:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">document</span>
520:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
521:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
522:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">unlink</span>
523:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
524:         <span class="ruby-comment cmt">#assert !node.document</span>
525:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
526:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
527:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
528:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000496" class="method">
  <div id="M000496_title" class="title">
    <b>test_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000496_source')" id="l_M000496_source">show source</a> ]</p>
  <div id="M000496_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 433</span>
433:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_values</span>
434:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w{ Yes Yes }</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">values</span>
435:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000520" class="method">
  <div id="M000520_title" class="title">
    <b>test_whitespace_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000520_source')" id="l_M000520_source">show source</a> ]</p>
  <div id="M000520_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 623</span>
623:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_whitespace_nodes</span>
624:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;b&gt;Foo&lt;/b&gt;\n&lt;i&gt;Bar&lt;/i&gt; &lt;p&gt;Bazz&lt;/p&gt;&lt;/root&gt;&quot;</span>)
625:         <span class="ruby-identifier">children</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//root'</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">to_s</span>}
626:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\n&quot;</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">1</span>]
627:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot; &quot;</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">3</span>]
628:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000491" class="method">
  <div id="M000491_title" class="title">
    <b>test_write_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000491_source')" id="l_M000491_source">show source</a> ]</p>
  <div id="M000491_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 372</span>
372:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_to</span>
373:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
374:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>
375:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
376:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
377:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000493" class="method">
  <div id="M000493_title" class="title">
    <b>test_write_to_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000493_source')" id="l_M000493_source">show source</a> ]</p>
  <div id="M000493_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 383</span>
383:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_to_with_block</span>
384:         <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">false</span>
385:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
386:         <span class="ruby-identifier">conf</span> = <span class="ruby-keyword kw">nil</span>
387:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
388:           <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">true</span>
389:           <span class="ruby-identifier">conf</span> = <span class="ruby-identifier">config</span>
390:           <span class="ruby-identifier">config</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">as_html</span>.<span class="ruby-identifier">no_empty_tags</span>
391:         <span class="ruby-keyword kw">end</span>
392:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
393:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">called</span>
394:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">conf</span>.<span class="ruby-identifier">options</span>), <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
395:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000490" class="method">
  <div id="M000490_title" class="title">
    <b>visit</b>(node)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000490_source')" id="l_M000490_source">show source</a> ]</p>
  <div id="M000490_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 363</span>
363:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit</span> <span class="ruby-identifier">node</span>
364:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>) }
365:             <span class="ruby-ivar">@visited</span> = <span class="ruby-keyword kw">true</span>
366:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>