  <div id="C00000072">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNode<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_rb.html');">test/xml/test_node.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000718&name=accept" >accept</a></li>
  <li><a href="index.html?a=M000688&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000717&name=test_accept" >test_accept</a></li>
  <li><a href="index.html?a=M000738&name=test_add_child" >test_add_child</a></li>
  <li><a href="index.html?a=M000737&name=test_add_child_from_other_document" >test_add_child_from_other_document</a></li>
  <li><a href="index.html?a=M000736&name=test_add_child_in_same_document" >test_add_child_in_same_document</a></li>
  <li><a href="index.html?a=M000702&name=test_add_child_path_following_sequential_text_nodes" >test_add_child_path_following_sequential_text_nodes</a></li>
  <li><a href="index.html?a=M000721&name=test_add_child_should_inherit_namespace" >test_add_child_should_inherit_namespace</a></li>
  <li><a href="index.html?a=M000707&name=test_add_default_ns" >test_add_default_ns</a></li>
  <li><a href="index.html?a=M000708&name=test_add_multiple_namespaces" >test_add_multiple_namespaces</a></li>
  <li><a href="index.html?a=M000705&name=test_add_namespace" >test_add_namespace</a></li>
  <li><a href="index.html?a=M000694&name=test_add_namespace_add_child" >test_add_namespace_add_child</a></li>
  <li><a href="index.html?a=M000712&name=test_add_namespace_does_not_associate_node" >test_add_namespace_does_not_associate_node</a></li>
  <li><a href="index.html?a=M000706&name=test_add_namespace_twice" >test_add_namespace_twice</a></li>
  <li><a href="index.html?a=M000711&name=test_add_namespace_with_nil_associates_node" >test_add_namespace_with_nil_associates_node</a></li>
  <li><a href="index.html?a=M000743&name=test_add_next_sibling_merge" >test_add_next_sibling_merge</a></li>
  <li><a href="index.html?a=M000741&name=test_add_previous_sibling" >test_add_previous_sibling</a></li>
  <li><a href="index.html?a=M000742&name=test_add_previous_sibling_merge" >test_add_previous_sibling_merge</a></li>
  <li><a href="index.html?a=M000732&name=test_ancestors" >test_ancestors</a></li>
  <li><a href="index.html?a=M000715&name=test_at" >test_at</a></li>
  <li><a href="index.html?a=M000723&name=test_attribute_with_symbol" >test_attribute_with_symbol</a></li>
  <li><a href="index.html?a=M000752&name=test_attributes" >test_attributes</a></li>
  <li><a href="index.html?a=M000739&name=test_chevron_works_as_add_child" >test_chevron_works_as_add_child</a></li>
  <li><a href="index.html?a=M000749&name=test_child" >test_child</a></li>
  <li><a href="index.html?a=M000704&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000757&name=test_content" >test_content</a></li>
  <li><a href="index.html?a=M000709&name=test_default_namespace=" >test_default_namespace=</a></li>
  <li><a href="index.html?a=M000735&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M000693&name=test_description" >test_description</a></li>
  <li><a href="index.html?a=M000698&name=test_different_document_compare" >test_different_document_compare</a></li>
  <li><a href="index.html?a=M000697&name=test_document_compare" >test_document_compare</a></li>
  <li><a href="index.html?a=M000699&name=test_duplicate_node_removes_namespace" >test_duplicate_node_removes_namespace</a></li>
  <li><a href="index.html?a=M000729&name=test_each" >test_each</a></li>
  <li><a href="index.html?a=M000756&name=test_encode_special_chars" >test_encode_special_chars</a></li>
  <li><a href="index.html?a=M000744&name=test_find_by_css_with_tilde_eql" >test_find_by_css_with_tilde_eql</a></li>
  <li><a href="index.html?a=M000700&name=test_fragment_creates_elements" >test_fragment_creates_elements</a></li>
  <li><a href="index.html?a=M000726&name=test_hold_refence_to_subnode" >test_hold_refence_to_subnode</a></li>
  <li><a href="index.html?a=M000760&name=test_illegal_replace_of_node_with_doc" >test_illegal_replace_of_node_with_doc</a></li>
  <li><a href="index.html?a=M000696&name=test_incorrect_spaceship" >test_incorrect_spaceship</a></li>
  <li><a href="index.html?a=M000750&name=test_key?" >test_key?</a></li>
  <li><a href="index.html?a=M000728&name=test_keys" >test_keys</a></li>
  <li><a href="index.html?a=M000767&name=test_line" >test_line</a></li>
  <li><a href="index.html?a=M000748&name=test_name=" >test_name=</a></li>
  <li><a href="index.html?a=M000765&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M000710&name=test_namespace=" >test_namespace=</a></li>
  <li><a href="index.html?a=M000762&name=test_namespace_as_hash" >test_namespace_as_hash</a></li>
  <li><a href="index.html?a=M000692&name=test_namespace_goes_to_children" >test_namespace_goes_to_children</a></li>
  <li><a href="index.html?a=M000689&name=test_namespace_nodes" >test_namespace_nodes</a></li>
  <li><a href="index.html?a=M000763&name=test_namespace_search_with_css" >test_namespace_search_with_css</a></li>
  <li><a href="index.html?a=M000766&name=test_namespace_without_an_href_on_html_node" >test_namespace_without_an_href_on_html_node</a></li>
  <li><a href="index.html?a=M000764&name=test_namespaces" >test_namespaces</a></li>
  <li><a href="index.html?a=M000730&name=test_new" >test_new</a></li>
  <li><a href="index.html?a=M000755&name=test_new_node" >test_new_node</a></li>
  <li><a href="index.html?a=M000703&name=test_new_node_can_have_ancestors" >test_new_node_can_have_ancestors</a></li>
  <li><a href="index.html?a=M000746&name=test_next_sibling" >test_next_sibling</a></li>
  <li><a href="index.html?a=M000690&name=test_no_definitions" >test_no_definitions</a></li>
  <li><a href="index.html?a=M000701&name=test_node_added_to_root_should_get_namespace" >test_node_added_to_root_should_get_namespace</a></li>
  <li><a href="index.html?a=M000761&name=test_node_equality" >test_node_equality</a></li>
  <li><a href="index.html?a=M000753&name=test_path" >test_path</a></li>
  <li><a href="index.html?a=M000716&name=test_percent" >test_percent</a></li>
  <li><a href="index.html?a=M000747&name=test_previous_sibling" >test_previous_sibling</a></li>
  <li><a href="index.html?a=M000733&name=test_read_only?" >test_read_only?</a></li>
  <li><a href="index.html?a=M000734&name=test_remove_attribute" >test_remove_attribute</a></li>
  <li><a href="index.html?a=M000759&name=test_replace" >test_replace</a></li>
  <li><a href="index.html?a=M000720&name=test_replace_with_default_namespaces" >test_replace_with_default_namespaces</a></li>
  <li><a href="index.html?a=M000754&name=test_search_by_symbol" >test_search_by_symbol</a></li>
  <li><a href="index.html?a=M000725&name=test_serialize_with_block" >test_serialize_with_block</a></li>
  <li><a href="index.html?a=M000740&name=test_set_content_with_symbol" >test_set_content_with_symbol</a></li>
  <li><a href="index.html?a=M000713&name=test_set_namespace_from_different_doc" >test_set_namespace_from_different_doc</a></li>
  <li><a href="index.html?a=M000714&name=test_set_namespace_must_only_take_a_namespace" >test_set_namespace_must_only_take_a_namespace</a></li>
  <li><a href="index.html?a=M000751&name=test_set_property" >test_set_property</a></li>
  <li><a href="index.html?a=M000695&name=test_spaceship" >test_spaceship</a></li>
  <li><a href="index.html?a=M000691&name=test_subclass_dup" >test_subclass_dup</a></li>
  <li><a href="index.html?a=M000731&name=test_to_str" >test_to_str</a></li>
  <li><a href="index.html?a=M000745&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000768&name=test_unlink_then_reparent" >test_unlink_then_reparent</a></li>
  <li><a href="index.html?a=M000727&name=test_values" >test_values</a></li>
  <li><a href="index.html?a=M000758&name=test_whitespace_nodes" >test_whitespace_nodes</a></li>
  <li><a href="index.html?a=M000722&name=test_write_to" >test_write_to</a></li>
  <li><a href="index.html?a=M000724&name=test_write_to_with_block" >test_write_to_with_block</a></li>
  <li><a href="index.html?a=M000719&name=visit" >visit</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000718" class="method">
  <div id="M000718_title" class="title">
    <b>accept</b>(target)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000718_source')" id="l_M000718_source">show source</a> ]</p>
  <div id="M000718_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 262</span>
262:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">target</span>
263:             <span class="ruby-identifier">target</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>)
264:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000688" class="method">
  <div id="M000688_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000688_source')" id="l_M000688_source">show source</a> ]</p>
  <div id="M000688_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 8</span>
 8:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:         <span class="ruby-keyword kw">super</span>
10:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
11:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000717" class="method">
  <div id="M000717_title" class="title">
    <b>test_accept</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000717_source')" id="l_M000717_source">show source</a> ]</p>
  <div id="M000717_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 259</span>
259:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_accept</span>
260:         <span class="ruby-identifier">visitor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> {
261:           <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:visited</span>
262:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">target</span>
263:             <span class="ruby-identifier">target</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>)
264:           <span class="ruby-keyword kw">end</span>
265: 
266:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit</span> <span class="ruby-identifier">node</span>
267:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>) }
268:             <span class="ruby-ivar">@visited</span> = <span class="ruby-keyword kw">true</span>
269:           <span class="ruby-keyword kw">end</span>
270:         }.<span class="ruby-identifier">new</span>
271:         <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>)
272:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">visited</span>
273:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000738" class="method">
  <div id="M000738_title" class="title">
    <b>test_add_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000738_source')" id="l_M000738_source">show source</a> ]</p>
  <div id="M000738_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 447</span>
447:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child</span>
448:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
449:         <span class="ruby-identifier">text_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>)
450:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">TEXT_NODE</span>, <span class="ruby-identifier">text_node</span>.<span class="ruby-identifier">type</span>
451:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">text_node</span>
452:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>
453:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000737" class="method">
  <div id="M000737_title" class="title">
    <b>test_add_child_from_other_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000737_source')" id="l_M000737_source">show source</a> ]</p>
  <div id="M000737_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 435</span>
435:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_from_other_document</span>
436:         <span class="ruby-identifier">d1</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;item&gt;1&lt;/item&gt;&lt;item&gt;2&lt;/item&gt;&lt;/root&gt;&quot;</span>)
437:         <span class="ruby-identifier">d2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;item&gt;3&lt;/item&gt;&lt;item&gt;4&lt;/item&gt;&lt;/root&gt;&quot;</span>)
438: 
439:         <span class="ruby-identifier">d2</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'root'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-value str">'item'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
440:           <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'root'</span>).<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">i</span>
441:         <span class="ruby-keyword kw">end</span>
442: 
443:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">d2</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'item'</span>).<span class="ruby-identifier">size</span>
444:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'item'</span>).<span class="ruby-identifier">size</span>
445:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000736" class="method">
  <div id="M000736_title" class="title">
    <b>test_add_child_in_same_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000736_source')" id="l_M000736_source">show source</a> ]</p>
  <div id="M000736_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 422</span>
422:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_in_same_document</span>
423:         <span class="ruby-identifier">child</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">first</span>
424: 
425:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">previous_last_child</span> = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
426:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_child</span> = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>
427: 
428:         <span class="ruby-identifier">last</span> = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
429: 
430:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">new_child</span>)
431:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">new_child</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
432:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
433:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000702" class="method">
  <div id="M000702_title" class="title">
    <b>test_add_child_path_following_sequential_text_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000702_source')" id="l_M000702_source">show source</a> ]</p>
  <div id="M000702_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 140</span>
140:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_path_following_sequential_text_nodes</span>
141:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;text&lt;/root&gt;'</span>)
142:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'text'</span>, <span class="ruby-identifier">xml</span>))
143:         <span class="ruby-identifier">item</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'item'</span>, <span class="ruby-identifier">xml</span>))
144:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/root/item'</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">path</span>
145:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000721" class="method">
  <div id="M000721_title" class="title">
    <b>test_add_child_should_inherit_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000721_source')" id="l_M000721_source">show source</a> ]</p>
  <div id="M000721_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_should_inherit_namespace</span>
292:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;first&gt;\n&lt;/first&gt;\n&lt;/root&gt;\n&quot;</span>)
293:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:first'</span>)
294:         <span class="ruby-identifier">child</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'second'</span>, <span class="ruby-identifier">doc</span>)
295:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">child</span>)
296:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:second'</span>)
297:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000707" class="method">
  <div id="M000707_title" class="title">
    <b>test_add_default_ns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000707_source')" id="l_M000707_source">show source</a> ]</p>
  <div id="M000707_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_default_ns</span>
183:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
184:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
185:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns'</span>]
186:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000708" class="method">
  <div id="M000708_title" class="title">
    <b>test_add_multiple_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000708_source')" id="l_M000708_source">show source</a> ]</p>
  <div id="M000708_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 188</span>
188:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_multiple_namespaces</span>
189:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
190: 
191:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
192:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns'</span>]
193: 
194:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
195:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:foo'</span>]
196:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000705" class="method">
  <div id="M000705_title" class="title">
    <b>test_add_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000705_source')" id="l_M000705_source">show source</a> ]</p>
  <div id="M000705_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 169</span>
169:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace</span>
170:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
171:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
172:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:foo'</span>]
173:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000694" class="method">
  <div id="M000694_title" class="title">
    <b>test_add_namespace_add_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000694_source')" id="l_M000694_source">show source</a> ]</p>
  <div id="M000694_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_add_child</span>
62:         <span class="ruby-identifier">doc</span>   = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
63:         <span class="ruby-identifier">item</span>  = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'item'</span>, <span class="ruby-identifier">doc</span>)
64:         <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span> = <span class="ruby-identifier">item</span>
65: 
66:         <span class="ruby-identifier">entry</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'entry'</span>, <span class="ruby-identifier">doc</span>)
67:         <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'tlm'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
68:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:tlm'</span>]
69:         <span class="ruby-identifier">item</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">entry</span>)
70:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:tlm'</span>]
71:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000712" class="method">
  <div id="M000712_title" class="title">
    <b>test_add_namespace_does_not_associate_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000712_source')" id="l_M000712_source">show source</a> ]</p>
  <div id="M000712_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 225</span>
225:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_does_not_associate_node</span>
226:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
227:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
228:         <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tlm.com/'</span>
229:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
230:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000706" class="method">
  <div id="M000706_title" class="title">
    <b>test_add_namespace_twice</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000706_source')" id="l_M000706_source">show source</a> ]</p>
  <div id="M000706_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 175</span>
175:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_twice</span>
176:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
177:         <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
178:         <span class="ruby-identifier">ns2</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
179:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">ns2</span>
180:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000711" class="method">
  <div id="M000711_title" class="title">
    <b>test_add_namespace_with_nil_associates_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000711_source')" id="l_M000711_source">show source</a> ]</p>
  <div id="M000711_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 218</span>
218:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace_with_nil_associates_node</span>
219:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
220:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
221:         <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'http://tlm.com/'</span>
222:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">definition</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
223:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000743" class="method">
  <div id="M000743_title" class="title">
    <b>test_add_next_sibling_merge</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000743_source')" id="l_M000743_source">show source</a> ]</p>
  <div id="M000743_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 512</span>
512:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_next_sibling_merge</span>
513:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
514: 
515:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">a_tag</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
516: 
517:         <span class="ruby-identifier">left_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">previous</span>
518:         <span class="ruby-identifier">right_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">next</span>
519:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">left_space</span>.<span class="ruby-identifier">text?</span>
520:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">right_space</span>.<span class="ruby-identifier">text?</span>
521: 
522:         <span class="ruby-identifier">right_space</span>.<span class="ruby-identifier">add_next_sibling</span>(<span class="ruby-identifier">left_space</span>)
523:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">left_space</span>, <span class="ruby-identifier">right_space</span>
524:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000741" class="method">
  <div id="M000741_title" class="title">
    <b>test_add_previous_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000741_source')" id="l_M000741_source">show source</a> ]</p>
  <div id="M000741_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 478</span>
478:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_previous_sibling</span>
479:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
480:         <span class="ruby-identifier">b_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'a'</span>, <span class="ruby-identifier">xml</span>)
481:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ELEMENT_NODE</span>, <span class="ruby-identifier">b_node</span>.<span class="ruby-identifier">type</span>
482:         <span class="ruby-identifier">b_node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'first'</span>
483:         <span class="ruby-identifier">a_node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>).<span class="ruby-identifier">first</span>
484:         <span class="ruby-identifier">a_node</span>.<span class="ruby-identifier">add_previous_sibling</span>(<span class="ruby-identifier">b_node</span>)
485:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'first'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">text</span>)
486:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000742" class="method">
  <div id="M000742_title" class="title">
    <b>test_add_previous_sibling_merge</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000742_source')" id="l_M000742_source">show source</a> ]</p>
  <div id="M000742_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 493</span>
493:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_previous_sibling_merge</span>
494:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
495: 
496:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">a_tag</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
497: 
498:         <span class="ruby-identifier">left_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">previous</span>
499:         <span class="ruby-identifier">right_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">next</span>
500:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">left_space</span>.<span class="ruby-identifier">text?</span>
501:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">right_space</span>.<span class="ruby-identifier">text?</span>
502: 
503:         <span class="ruby-identifier">left_space</span>.<span class="ruby-identifier">add_previous_sibling</span>(<span class="ruby-identifier">right_space</span>)
504:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">left_space</span>, <span class="ruby-identifier">right_space</span>
505:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000732" class="method">
  <div id="M000732_title" class="title">
    <b>test_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000732_source')" id="l_M000732_source">show source</a> ]</p>
  <div id="M000732_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 394</span>
394:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ancestors</span>
395:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
396:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">address</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
397:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'employee'</span>, <span class="ruby-value str">'staff'</span>, <span class="ruby-value str">'document'</span>],
398:           <span class="ruby-identifier">address</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">name</span> }
399:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000715" class="method">
  <div id="M000715_title" class="title">
    <b>test_at</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000715_source')" id="l_M000715_source">show source</a> ]</p>
  <div id="M000715_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 249</span>
249:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_at</span>
250:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
251:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
252:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000723" class="method">
  <div id="M000723_title" class="title">
    <b>test_attribute_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000723_source')" id="l_M000723_source">show source</a> ]</p>
  <div id="M000723_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 312</span>
312:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_with_symbol</span>
313:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'address'</span>).<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:domestic</span>]
314:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000752" class="method">
  <div id="M000752_title" class="title">
    <b>test_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000752_source')" id="l_M000752_source">show source</a> ]</p>
  <div id="M000752_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 613</span>
613:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attributes</span>
614:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
615:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node</span>[<span class="ruby-value str">'asdfasdfasdf'</span>])
616:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">node</span>[<span class="ruby-value str">'domestic'</span>])
617: 
618:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">2</span>]
619:         <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>
620:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">size</span>
621:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'domestic'</span>].<span class="ruby-identifier">value</span>
622:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'domestic'</span>].<span class="ruby-identifier">to_s</span>
623:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'No'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'street'</span>].<span class="ruby-identifier">value</span>
624:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000739" class="method">
  <div id="M000739_title" class="title">
    <b>test_chevron_works_as_add_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000739_source')" id="l_M000739_source">show source</a> ]</p>
  <div id="M000739_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 460</span>
460:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_chevron_works_as_add_child</span>
461:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
462:         <span class="ruby-identifier">text_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>)
463:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text_node</span>
464:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>
465:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000749" class="method">
  <div id="M000749_title" class="title">
    <b>test_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000749_source')" id="l_M000749_source">show source</a> ]</p>
  <div id="M000749_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 596</span>
596:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_child</span>
597:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
598:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">child</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>
599:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'text'</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">name</span>)
600:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000704" class="method">
  <div id="M000704_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000704_source')" id="l_M000704_source">show source</a> ]</p>
  <div id="M000704_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 153</span>
153:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
154:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\#{'&lt;a/&gt;' * 9 }&lt;/root&gt;\n&quot;</span>)
155:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
156:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">length</span>
157: 
158:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\#{'&lt;a/&gt;' * 15 }&lt;/root&gt;\n&quot;</span>)
159:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
160:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">length</span>
161:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000757" class="method">
  <div id="M000757_title" class="title">
    <b>test_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000757_source')" id="l_M000757_source">show source</a> ]</p>
  <div id="M000757_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 651</span>
651:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content</span>
652:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
653:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">''</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
654: 
655:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'hello world!'</span>
656:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'hello world!'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
657:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000709" class="method">
  <div id="M000709_title" class="title">
    <b>test_default_namespace=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000709_source')" id="l_M000709_source">show source</a> ]</p>
  <div id="M000709_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 198</span>
198:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_namespace=</span>
199:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
200:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">default_namespace</span> = <span class="ruby-value str">'http://tenderlovemaking.com'</span>
201:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns'</span>]
202:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000735" class="method">
  <div id="M000735_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000735_source')" id="l_M000735_source">show source</a> ]</p>
  <div id="M000735_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 415</span>
415:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
416:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'/staff/employee/address'</span>).<span class="ruby-identifier">first</span>
417:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
418:         <span class="ruby-identifier">address</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">'domestic'</span>
419:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
420:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000693" class="method">
  <div id="M000693_title" class="title">
    <b>test_description</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000693_source')" id="l_M000693_source">show source</a> ]</p>
  <div id="M000693_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 57</span>
57:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_description</span>
58:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">description</span>
59:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000698" class="method">
  <div id="M000698_title" class="title">
    <b>test_different_document_compare</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000698_source')" id="l_M000698_source">show source</a> ]</p>
  <div id="M000698_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 91</span>
91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_different_document_compare</span>
92:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
93:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;a&gt;&lt;b/&gt;&lt;/a&gt;'</span>)
94:         <span class="ruby-identifier">b</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'b'</span>)
95:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>)
96:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000697" class="method">
  <div id="M000697_title" class="title">
    <b>test_document_compare</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000697_source')" id="l_M000697_source">show source</a> ]</p>
  <div id="M000697_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 86</span>
86:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_document_compare</span>
87:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
88:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, (<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-ivar">@xml</span>))
89:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000699" class="method">
  <div id="M000699_title" class="title">
    <b>test_duplicate_node_removes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000699_source')" id="l_M000699_source">show source</a> ]</p>
  <div id="M000699_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_duplicate_node_removes_namespace</span>
 99:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='www.fruits.org'&gt;\n&lt;Apple&gt;&lt;/Apple&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
100:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'fruit:Apple'</span>, {<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})[<span class="ruby-value">0</span>]
101:         <span class="ruby-identifier">new_apple</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">dup</span>
102:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new_apple</span>
103:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:Apple'</span>).<span class="ruby-identifier">length</span>
104:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">to_xml</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-value str">'www.fruits.org'</span>).<span class="ruby-identifier">length</span>
105:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000729" class="method">
  <div id="M000729_title" class="title">
    <b>test_each</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000729_source')" id="l_M000729_source">show source</a> ]</p>
  <div id="M000729_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 374</span>
374:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_each</span>
375:         <span class="ruby-identifier">attributes</span> = []
376:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
377:           <span class="ruby-identifier">attributes</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>]
378:         <span class="ruby-keyword kw">end</span>
379:         <span class="ruby-identifier">assert_equal</span> [[<span class="ruby-value str">'domestic'</span>, <span class="ruby-value str">'Yes'</span>], [<span class="ruby-value str">'street'</span>, <span class="ruby-value str">'Yes'</span>]], <span class="ruby-identifier">attributes</span>
380:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000756" class="method">
  <div id="M000756_title" class="title">
    <b>test_encode_special_chars</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000756_source')" id="l_M000756_source">show source</a> ]</p>
  <div id="M000756_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 646</span>
646:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encode_special_chars</span>
647:         <span class="ruby-identifier">foo</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">encode_special_chars</span>(<span class="ruby-value str">'&amp;'</span>)
648:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&amp;amp;'</span>, <span class="ruby-identifier">foo</span>
649:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000744" class="method">
  <div id="M000744_title" class="title">
    <b>test_find_by_css_with_tilde_eql</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000744_source')" id="l_M000744_source">show source</a> ]</p>
  <div id="M000744_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 531</span>
531:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_by_css_with_tilde_eql</span>
532:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
533:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a[@class~=&quot;bar&quot;]'</span>)
534:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
535:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'Bar'</span>], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> }.<span class="ruby-identifier">uniq</span>
536:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000700" class="method">
  <div id="M000700_title" class="title">
    <b>test_fragment_creates_elements</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000700_source')" id="l_M000700_source">show source</a> ]</p>
  <div id="M000700_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 121</span>
121:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fragment_creates_elements</span>
122:         <span class="ruby-identifier">apple</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;Apple/&gt;'</span>)
123:         <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
124:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ELEMENT_NODE</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">type</span>
125:           <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">child</span>
126:         <span class="ruby-keyword kw">end</span>
127:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000726" class="method">
  <div id="M000726_title" class="title">
    <b>test_hold_refence_to_subnode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000726_source')" id="l_M000726_source">show source</a> ]</p>
  <div id="M000726_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 351</span>
351:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_hold_refence_to_subnode</span>
352:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\n&lt;b /&gt;\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
353:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_a</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
354:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_b</span> = <span class="ruby-identifier">node_a</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'b'</span>).<span class="ruby-identifier">first</span>
355:         <span class="ruby-identifier">node_a</span>.<span class="ruby-identifier">unlink</span>
356:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'b'</span>, <span class="ruby-identifier">node_b</span>.<span class="ruby-identifier">name</span>
357:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000760" class="method">
  <div id="M000760_title" class="title">
    <b>test_illegal_replace_of_node_with_doc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000760_source')" id="l_M000760_source">show source</a> ]</p>
  <div id="M000760_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 684</span>
684:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_illegal_replace_of_node_with_doc</span>
685:         <span class="ruby-identifier">new_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">'&lt;foo&gt;bar&lt;/foo&gt;'</span>)
686:         <span class="ruby-identifier">old_node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//employee'</span>)
687:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>){ <span class="ruby-identifier">old_node</span>.<span class="ruby-identifier">replace</span> <span class="ruby-identifier">new_node</span> }
688:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000696" class="method">
  <div id="M000696_title" class="title">
    <b>test_incorrect_spaceship</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000696_source')" id="l_M000696_source">show source</a> ]</p>
  <div id="M000696_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 81</span>
81:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_incorrect_spaceship</span>
82:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
83:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-value str">'asdf'</span>)
84:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000750" class="method">
  <div id="M000750_title" class="title">
    <b>test_key?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000750_source')" id="l_M000750_source">show source</a> ]</p>
  <div id="M000750_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 602</span>
602:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_key?</span>
603:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
604:         <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'asdfasdf'</span>))
605:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000728" class="method">
  <div id="M000728_title" class="title">
    <b>test_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000728_source')" id="l_M000728_source">show source</a> ]</p>
  <div id="M000728_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 370</span>
370:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_keys</span>
371:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w{ domestic street }</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">keys</span>
372:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000767" class="method">
  <div id="M000767_title" class="title">
    <b>test_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000767_source')" id="l_M000767_source">show source</a> ]</p>
  <div id="M000767_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 801</span>
801:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_line</span>
802:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\nHello world\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
803: 
804:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//a&quot;</span>)
805:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
806:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">line</span>
807:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000748" class="method">
  <div id="M000748_title" class="title">
    <b>test_name=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000748_source')" id="l_M000748_source">show source</a> ]</p>
  <div id="M000748_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 590</span>
590:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_name=</span>
591:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
592:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'awesome'</span>
593:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'awesome'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
594:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000765" class="method">
  <div id="M000765_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000765_source')" id="l_M000765_source">show source</a> ]</p>
  <div id="M000765_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 768</span>
768:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
769:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:a='http://foo.com/' xmlns:b='http://bar.com/'&gt;\n&lt;y xmlns:c='http://bazz.com/'&gt;\n&lt;a:div&gt;hello a&lt;/a:div&gt;\n&lt;b:div&gt;hello b&lt;/b:div&gt;\n&lt;c:div&gt;hello c&lt;/c:div&gt;\n&lt;div&gt;hello moon&lt;/div&gt;\n&lt;/y&gt;\n&lt;/x&gt;\n&quot;</span>)
770:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//y/*&quot;</span>)
771:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">prefix</span>
772:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">prefix</span>
773:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;c&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">prefix</span>
774:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">3</span>].<span class="ruby-identifier">namespace</span>
775:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000710" class="method">
  <div id="M000710_title" class="title">
    <b>test_namespace=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000710_source')" id="l_M000710_source">show source</a> ]</p>
  <div id="M000710_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 204</span>
204:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace=</span>
205:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
206:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
207:         <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-value str">'http://tlm.com/'</span>
208: 
209:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">definition</span>
210: 
211:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">definition</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>
212: 
213:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//foo:address'</span>, {
214:           <span class="ruby-value str">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://tlm.com/'</span>
215:         })
216:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000762" class="method">
  <div id="M000762_title" class="title">
    <b>test_namespace_as_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000762_source')" id="l_M000762_source">show source</a> ]</p>
  <div id="M000762_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 703</span>
703:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_as_hash</span>
704:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
705: 
706:         <span class="ruby-identifier">tires</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//bike:tire'</span>, {<span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://schwinn.com/'</span>})
707:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">tires</span>.<span class="ruby-identifier">length</span>
708:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000692" class="method">
  <div id="M000692_title" class="title">
    <b>test_namespace_goes_to_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000692_source')" id="l_M000692_source">show source</a> ]</p>
  <div id="M000692_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 43</span>
43:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_goes_to_children</span>
44:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='www.fruits.org'&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
45:         <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Apple'</span>, <span class="ruby-identifier">fruits</span>)
46:         <span class="ruby-identifier">orange</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Orange'</span>, <span class="ruby-identifier">fruits</span>)
47:         <span class="ruby-identifier">apple</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">orange</span>
48:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">apple</span>
49:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//fruit:Orange'</span>,{<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})
50:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//fruit:Apple'</span>,{<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})
51:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000689" class="method">
  <div id="M000689_title" class="title">
    <b>test_namespace_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000689_source')" id="l_M000689_source">show source</a> ]</p>
  <div id="M000689_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 13</span>
13:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_nodes</span>
14:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot; xmlns:foo=\&quot;bar\&quot;&gt;\n&lt;awesome/&gt;\n&lt;/root&gt;\n&quot;</span>
15:         <span class="ruby-identifier">awesome</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>
16:         <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">awesome</span>.<span class="ruby-identifier">namespace_definitions</span>
17:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">length</span>
18:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000763" class="method">
  <div id="M000763_title" class="title">
    <b>test_namespace_search_with_css</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000763_source')" id="l_M000763_source">show source</a> ]</p>
  <div id="M000763_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 720</span>
720:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_search_with_css</span>
721:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
722: 
723:         <span class="ruby-identifier">tires</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'bike|tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://schwinn.com/'</span>)
724:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">tires</span>.<span class="ruby-identifier">length</span>
725:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000766" class="method">
  <div id="M000766_title" class="title">
    <b>test_namespace_without_an_href_on_html_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000766_source')" id="l_M000766_source">show source</a> ]</p>
  <div id="M000766_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 787</span>
787:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_without_an_href_on_html_node</span>
788:         <span class="ruby-comment cmt"># because microsoft word's HTML formatting does this. ick.</span>
789:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">parse</span> <span class="ruby-value str">&quot;&lt;div&gt;&lt;o:p&gt;foo&lt;/o:p&gt;&lt;/div&gt;\n&quot;</span>
790: 
791:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'p'</span>))
792: 
793:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span>
794:         <span class="ruby-identifier">assert</span>       <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'xmlns:o'</span>)
795:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:o'</span>]
796:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000764" class="method">
  <div id="M000764_title" class="title">
    <b>test_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000764_source')" id="l_M000764_source">show source</a> ]</p>
  <div id="M000764_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 737</span>
737:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespaces</span>
738:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:a='http://foo.com/' xmlns:b='http://bar.com/'&gt;\n&lt;y xmlns:c='http://bazz.com/'&gt;\n&lt;a:div&gt;hello a&lt;/a:div&gt;\n&lt;b:div&gt;hello b&lt;/b:div&gt;\n&lt;c:div&gt;hello c&lt;/c:div&gt;\n&lt;/y&gt;\n&lt;/x&gt;\n&quot;</span>)
739:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span>
740:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:a'</span>)
741:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:a'</span>]
742:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:b'</span>)
743:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bar.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:b'</span>]
744:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:c'</span>)
745: 
746:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>
747:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:a'</span>)
748:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:a'</span>]
749:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:b'</span>)
750:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bar.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:b'</span>]
751:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:c'</span>)
752:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bazz.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:c'</span>]
753: 
754:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello a&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//a:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
755:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello b&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//b:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
756:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello c&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//c:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
757:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000730" class="method">
  <div id="M000730_title" class="title">
    <b>test_new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000730_source')" id="l_M000730_source">show source</a> ]</p>
  <div id="M000730_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 382</span>
382:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new</span>
383:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'input'</span>, <span class="ruby-ivar">@xml</span>)
384:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span>
385:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>, <span class="ruby-identifier">node</span>
386:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000755" class="method">
  <div id="M000755_title" class="title">
    <b>test_new_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000755_source')" id="l_M000755_source">show source</a> ]</p>
  <div id="M000755_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 640</span>
640:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_node</span>
641:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
642:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
643:         <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">document</span>)
644:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000703" class="method">
  <div id="M000703_title" class="title">
    <b>test_new_node_can_have_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000703_source')" id="l_M000703_source">show source</a> ]</p>
  <div id="M000703_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 147</span>
147:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_node_can_have_ancestors</span>
148:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;text&lt;/root&gt;'</span>)
149:         <span class="ruby-identifier">item</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'item'</span>, <span class="ruby-identifier">xml</span>)
150:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
151:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000746" class="method">
  <div id="M000746_title" class="title">
    <b>test_next_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000746_source')" id="l_M000746_source">show source</a> ]</p>
  <div id="M000746_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 577</span>
577:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_sibling</span>
578:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
579:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sibling</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>.<span class="ruby-identifier">next_sibling</span>
580:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">name</span>)
581:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000690" class="method">
  <div id="M000690_title" class="title">
    <b>test_no_definitions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000690_source')" id="l_M000690_source">show source</a> ]</p>
  <div id="M000690_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 25</span>
25:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_definitions</span>
26:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot; xmlns:foo=\&quot;bar\&quot;&gt;\n&lt;awesome/&gt;\n&lt;/root&gt;\n&quot;</span>
27:         <span class="ruby-identifier">awesome</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:awesome'</span>)
28:         <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">awesome</span>.<span class="ruby-identifier">namespace_definitions</span>
29:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">length</span>
30:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000701" class="method">
  <div id="M000701_title" class="title">
    <b>test_node_added_to_root_should_get_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000701_source')" id="l_M000701_source">show source</a> ]</p>
  <div id="M000701_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 129</span>
129:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_added_to_root_should_get_namespace</span>
130:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='http://www.fruits.org'&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
131:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;Apple/&gt;'</span>)
132:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">apple</span>
133:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:Apple'</span>).<span class="ruby-identifier">length</span>
134:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000761" class="method">
  <div id="M000761_title" class="title">
    <b>test_node_equality</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000761_source')" id="l_M000761_source">show source</a> ]</p>
  <div id="M000761_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 690</span>
690:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_equality</span>
691:         <span class="ruby-identifier">doc1</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
692:         <span class="ruby-identifier">doc2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
693: 
694:         <span class="ruby-identifier">address1_1</span> = <span class="ruby-identifier">doc1</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
695:         <span class="ruby-identifier">address1_2</span> = <span class="ruby-identifier">doc1</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
696: 
697:         <span class="ruby-identifier">address2</span> = <span class="ruby-identifier">doc2</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
698: 
699:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">address1_1</span>, <span class="ruby-identifier">address2</span> <span class="ruby-comment cmt"># two references to very, very similar nodes</span>
700:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">address1_1</span>, <span class="ruby-identifier">address1_2</span> <span class="ruby-comment cmt"># two references to the exact same node</span>
701:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000753" class="method">
  <div id="M000753_title" class="title">
    <b>test_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000753_source')" id="l_M000753_source">show source</a> ]</p>
  <div id="M000753_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 626</span>
626:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_path</span>
627:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
628:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
629:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'/staff/employee[1]'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">path</span>)
630:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000716" class="method">
  <div id="M000716_title" class="title">
    <b>test_percent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000716_source')" id="l_M000716_source">show source</a> ]</p>
  <div id="M000716_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 254</span>
254:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_percent</span>
255:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span> <span class="ruby-operator">%</span> (<span class="ruby-value str">'address'</span>)
256:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">node</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
257:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000747" class="method">
  <div id="M000747_title" class="title">
    <b>test_previous_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000747_source')" id="l_M000747_source">show source</a> ]</p>
  <div id="M000747_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 583</span>
583:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_sibling</span>
584:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
585:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sibling</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>.<span class="ruby-identifier">next_sibling</span>
586:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">name</span>)
587:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">previous_sibling</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>)
588:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000733" class="method">
  <div id="M000733_title" class="title">
    <b>test_read_only?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000733_source')" id="l_M000733_source">show source</a> ]</p>
  <div id="M000733_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 401</span>
401:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_read_only?</span>
402:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">entity_decl</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">internal_subset</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
403:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ENTITY_DECL</span>
404:         }
405:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">entity_decl</span>.<span class="ruby-identifier">read_only?</span>
406:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000734" class="method">
  <div id="M000734_title" class="title">
    <b>test_remove_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000734_source')" id="l_M000734_source">show source</a> ]</p>
  <div id="M000734_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 408</span>
408:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_attribute</span>
409:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'/staff/employee/address'</span>).<span class="ruby-identifier">first</span>
410:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
411:         <span class="ruby-identifier">address</span>.<span class="ruby-identifier">remove_attribute</span> <span class="ruby-value str">'domestic'</span>
412:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
413:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000759" class="method">
  <div id="M000759_title" class="title">
    <b>test_replace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000759_source')" id="l_M000759_source">show source</a> ]</p>
  <div id="M000759_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 666</span>
666:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_replace</span>
667:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
668:         <span class="ruby-identifier">assert</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
669:         <span class="ruby-identifier">assert</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//form'</span>).<span class="ruby-identifier">length</span>
670: 
671:         <span class="ruby-identifier">first</span> = <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>]
672:         <span class="ruby-identifier">second</span> = <span class="ruby-identifier">set</span>[<span class="ruby-value">1</span>]
673: 
674:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
675:         <span class="ruby-identifier">first</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">node</span>)
676: 
677:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
678:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
679:         <span class="ruby-identifier">assert</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//form'</span>).<span class="ruby-identifier">length</span>
680: 
681:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_xml</span>, <span class="ruby-identifier">second</span>.<span class="ruby-identifier">to_xml</span>
682:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000720" class="method">
  <div id="M000720_title" class="title">
    <b>test_replace_with_default_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000720_source')" id="l_M000720_source">show source</a> ]</p>
  <div id="M000720_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 275</span>
275:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_replace_with_default_namespaces</span>
276:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;fruit xmlns=\&quot;http://fruits.org\&quot;&gt;\n&lt;apple /&gt;\n&lt;/fruit&gt;\n&quot;</span>)
277: 
278:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'apple'</span>).<span class="ruby-identifier">first</span>
279: 
280:         <span class="ruby-identifier">orange</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'orange'</span>, <span class="ruby-identifier">fruits</span>)
281:         <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">orange</span>)
282: 
283:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">orange</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'orange'</span>).<span class="ruby-identifier">first</span>
284:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000754" class="method">
  <div id="M000754_title" class="title">
    <b>test_search_by_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000754_source')" id="l_M000754_source">show source</a> ]</p>
  <div id="M000754_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 632</span>
632:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_by_symbol</span>
633:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">:employee</span>)
634:         <span class="ruby-identifier">assert</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
635: 
636:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">:employee</span>)
637:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">text</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/EMP0001/</span>
638:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000725" class="method">
  <div id="M000725_title" class="title">
    <b>test_serialize_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000725_source')" id="l_M000725_source">show source</a> ]</p>
  <div id="M000725_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 339</span>
339:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_serialize_with_block</span>
340:         <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">false</span>
341:         <span class="ruby-identifier">conf</span> = <span class="ruby-keyword kw">nil</span>
342:         <span class="ruby-identifier">string</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
343:           <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">true</span>
344:           <span class="ruby-identifier">conf</span> = <span class="ruby-identifier">config</span>
345:           <span class="ruby-identifier">config</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">as_html</span>.<span class="ruby-identifier">no_empty_tags</span>
346:         <span class="ruby-keyword kw">end</span>
347:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">called</span>
348:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">conf</span>.<span class="ruby-identifier">options</span>), <span class="ruby-identifier">string</span>
349:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000740" class="method">
  <div id="M000740_title" class="title">
    <b>test_set_content_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000740_source')" id="l_M000740_source">show source</a> ]</p>
  <div id="M000740_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 472</span>
472:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_content_with_symbol</span>
473:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//name'</span>)
474:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">:foo</span>
475:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>
476:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000713" class="method">
  <div id="M000713_title" class="title">
    <b>test_set_namespace_from_different_doc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000713_source')" id="l_M000713_source">show source</a> ]</p>
  <div id="M000713_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_namespace_from_different_doc</span>
233:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
234:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
235:         <span class="ruby-identifier">decl</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_namespace_definition</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'bar'</span>
236: 
237:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) <span class="ruby-keyword kw">do</span>
238:           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">decl</span>
239:         <span class="ruby-keyword kw">end</span>
240:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000714" class="method">
  <div id="M000714_title" class="title">
    <b>test_set_namespace_must_only_take_a_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000714_source')" id="l_M000714_source">show source</a> ]</p>
  <div id="M000714_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 242</span>
242:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_namespace_must_only_take_a_namespace</span>
243:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
244:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">TypeError</span>) <span class="ruby-keyword kw">do</span>
245:           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">node</span>
246:         <span class="ruby-keyword kw">end</span>
247:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000751" class="method">
  <div id="M000751_title" class="title">
    <b>test_set_property</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000751_source')" id="l_M000751_source">show source</a> ]</p>
  <div id="M000751_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 607</span>
607:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_property</span>
608:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
609:         <span class="ruby-identifier">node</span>[<span class="ruby-value str">'foo'</span>] = <span class="ruby-value str">'bar'</span>
610:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">node</span>[<span class="ruby-value str">'foo'</span>])
611:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000695" class="method">
  <div id="M000695_title" class="title">
    <b>test_spaceship</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000695_source')" id="l_M000695_source">show source</a> ]</p>
  <div id="M000695_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 73</span>
73:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_spaceship</span>
74:         <span class="ruby-identifier">nodes</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//employee'</span>)
75:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, (<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">last</span>))
76:         <span class="ruby-identifier">list</span> = [<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">last</span>].<span class="ruby-identifier">sort</span>
77:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">first</span>
78:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">list</span>.<span class="ruby-identifier">last</span>
79:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000691" class="method">
  <div id="M000691_title" class="title">
    <b>test_subclass_dup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000691_source')" id="l_M000691_source">show source</a> ]</p>
  <div id="M000691_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 37</span>
37:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_subclass_dup</span>
38:         <span class="ruby-identifier">subclass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
39:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-ivar">@xml</span>).<span class="ruby-identifier">dup</span>
40:         <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">subclass</span>, <span class="ruby-identifier">node</span>
41:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000731" class="method">
  <div id="M000731_title" class="title">
    <b>test_to_str</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000731_source')" id="l_M000731_source">show source</a> ]</p>
  <div id="M000731_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 388</span>
388:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_str</span>
389:         <span class="ruby-identifier">name</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//name'</span>).<span class="ruby-identifier">first</span>
390:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/Margaret/</span>, <span class="ruby-value str">''</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>)
391:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Margaret Martin'</span>, <span class="ruby-value str">''</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>)
392:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000745" class="method">
  <div id="M000745_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000745_source')" id="l_M000745_source">show source</a> ]</p>
  <div id="M000745_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 549</span>
549:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
550:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
551:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)[<span class="ruby-value">3</span>]
552:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Hello world'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">text</span>)
553:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
554:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
555:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">document</span>
556:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
557:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
558:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">unlink</span>
559:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
560:         <span class="ruby-comment cmt">#assert !node.document</span>
561:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
562:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
563:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
564:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000768" class="method">
  <div id="M000768_title" class="title">
    <b>test_unlink_then_reparent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000768_source')" id="l_M000768_source">show source</a> ]</p>
  <div id="M000768_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 816</span>
816:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink_then_reparent</span>
817:         <span class="ruby-comment cmt"># see http://github.com/tenderlove/nokogiri/issues#issue/22</span>
818:         <span class="ruby-value">10</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
819:           <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">putc</span> <span class="ruby-value str">&quot;.&quot;</span>
820:           <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">flush</span>
821:           <span class="ruby-keyword kw">begin</span>
822:             <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span> <span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\n&lt;b/&gt;\n&lt;c/&gt;\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>
823: 
824:             <span class="ruby-identifier">root</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">&quot;root&quot;</span>)
825:             <span class="ruby-identifier">a</span> = <span class="ruby-identifier">root</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">&quot;a&quot;</span>)
826:             <span class="ruby-identifier">b</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">&quot;b&quot;</span>)
827:             <span class="ruby-identifier">c</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">&quot;c&quot;</span>)
828:             <span class="ruby-identifier">a</span>.<span class="ruby-identifier">add_next_sibling</span>(<span class="ruby-identifier">b</span>.<span class="ruby-identifier">unlink</span>)
829:             <span class="ruby-identifier">c</span>.<span class="ruby-identifier">unlink</span>
830:           <span class="ruby-keyword kw">end</span>
831: 
832:           <span class="ruby-constant">GC</span>.<span class="ruby-identifier">start</span>
833:         <span class="ruby-keyword kw">end</span>
834: 
835:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000727" class="method">
  <div id="M000727_title" class="title">
    <b>test_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000727_source')" id="l_M000727_source">show source</a> ]</p>
  <div id="M000727_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 366</span>
366:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_values</span>
367:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w{ Yes Yes }</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">values</span>
368:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000758" class="method">
  <div id="M000758_title" class="title">
    <b>test_whitespace_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000758_source')" id="l_M000758_source">show source</a> ]</p>
  <div id="M000758_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 659</span>
659:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_whitespace_nodes</span>
660:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;b&gt;Foo&lt;/b&gt;\n&lt;i&gt;Bar&lt;/i&gt; &lt;p&gt;Bazz&lt;/p&gt;&lt;/root&gt;&quot;</span>)
661:         <span class="ruby-identifier">children</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//root'</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">to_s</span>}
662:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\n&quot;</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">1</span>]
663:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot; &quot;</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">3</span>]
664:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000722" class="method">
  <div id="M000722_title" class="title">
    <b>test_write_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000722_source')" id="l_M000722_source">show source</a> ]</p>
  <div id="M000722_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 305</span>
305:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_to</span>
306:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
307:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>
308:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
309:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
310:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000724" class="method">
  <div id="M000724_title" class="title">
    <b>test_write_to_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000724_source')" id="l_M000724_source">show source</a> ]</p>
  <div id="M000724_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 316</span>
316:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_to_with_block</span>
317:         <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">false</span>
318:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
319:         <span class="ruby-identifier">conf</span> = <span class="ruby-keyword kw">nil</span>
320:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
321:           <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">true</span>
322:           <span class="ruby-identifier">conf</span> = <span class="ruby-identifier">config</span>
323:           <span class="ruby-identifier">config</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">as_html</span>.<span class="ruby-identifier">no_empty_tags</span>
324:         <span class="ruby-keyword kw">end</span>
325:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
326:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">called</span>
327:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">conf</span>.<span class="ruby-identifier">options</span>), <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
328:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000719" class="method">
  <div id="M000719_title" class="title">
    <b>visit</b>(node)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000719_source')" id="l_M000719_source">show source</a> ]</p>
  <div id="M000719_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 266</span>
266:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit</span> <span class="ruby-identifier">node</span>
267:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">accept</span>(<span class="ruby-keyword kw">self</span>) }
268:             <span class="ruby-ivar">@visited</span> = <span class="ruby-keyword kw">true</span>
269:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>