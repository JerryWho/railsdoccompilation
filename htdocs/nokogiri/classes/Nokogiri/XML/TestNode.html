  <div id="C00000062">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestNode<br/>
  In:
<a href="#" onclick="jsHref('files/test/xml/test_node_rb.html');">test/xml/test_node.rb</a>

Parent:&nbsp;
Nokogiri::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000500&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000523&name=test_add_child" >test_add_child</a></li>
  <li><a href="index.html?a=M000522&name=test_add_child_from_other_document" >test_add_child_from_other_document</a></li>
  <li><a href="index.html?a=M000521&name=test_add_child_in_same_document" >test_add_child_in_same_document</a></li>
  <li><a href="index.html?a=M000503&name=test_add_child_path_following_sequential_text_nodes" >test_add_child_path_following_sequential_text_nodes</a></li>
  <li><a href="index.html?a=M000506&name=test_add_child_should_inherit_namespace" >test_add_child_should_inherit_namespace</a></li>
  <li><a href="index.html?a=M000505&name=test_add_namespace" >test_add_namespace</a></li>
  <li><a href="index.html?a=M000528&name=test_add_next_sibling_merge" >test_add_next_sibling_merge</a></li>
  <li><a href="index.html?a=M000526&name=test_add_previous_sibling" >test_add_previous_sibling</a></li>
  <li><a href="index.html?a=M000527&name=test_add_previous_sibling_merge" >test_add_previous_sibling_merge</a></li>
  <li><a href="index.html?a=M000517&name=test_ancestors" >test_ancestors</a></li>
  <li><a href="index.html?a=M000508&name=test_attribute_with_symbol" >test_attribute_with_symbol</a></li>
  <li><a href="index.html?a=M000537&name=test_attributes" >test_attributes</a></li>
  <li><a href="index.html?a=M000524&name=test_chevron_works_as_add_child" >test_chevron_works_as_add_child</a></li>
  <li><a href="index.html?a=M000534&name=test_child" >test_child</a></li>
  <li><a href="index.html?a=M000504&name=test_children" >test_children</a></li>
  <li><a href="index.html?a=M000542&name=test_content" >test_content</a></li>
  <li><a href="index.html?a=M000520&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M000501&name=test_duplicate_node_removes_namespace" >test_duplicate_node_removes_namespace</a></li>
  <li><a href="index.html?a=M000514&name=test_each" >test_each</a></li>
  <li><a href="index.html?a=M000541&name=test_encode_special_chars" >test_encode_special_chars</a></li>
  <li><a href="index.html?a=M000529&name=test_find_by_css_with_tilde_eql" >test_find_by_css_with_tilde_eql</a></li>
  <li><a href="index.html?a=M000511&name=test_hold_refence_to_subnode" >test_hold_refence_to_subnode</a></li>
  <li><a href="index.html?a=M000545&name=test_illegal_replace_of_node_with_doc" >test_illegal_replace_of_node_with_doc</a></li>
  <li><a href="index.html?a=M000535&name=test_key?" >test_key?</a></li>
  <li><a href="index.html?a=M000513&name=test_keys" >test_keys</a></li>
  <li><a href="index.html?a=M000551&name=test_line" >test_line</a></li>
  <li><a href="index.html?a=M000533&name=test_name=" >test_name=</a></li>
  <li><a href="index.html?a=M000550&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M000547&name=test_namespace_as_hash" >test_namespace_as_hash</a></li>
  <li><a href="index.html?a=M000548&name=test_namespace_search_with_css" >test_namespace_search_with_css</a></li>
  <li><a href="index.html?a=M000549&name=test_namespaces" >test_namespaces</a></li>
  <li><a href="index.html?a=M000515&name=test_new" >test_new</a></li>
  <li><a href="index.html?a=M000540&name=test_new_node" >test_new_node</a></li>
  <li><a href="index.html?a=M000531&name=test_next_sibling" >test_next_sibling</a></li>
  <li><a href="index.html?a=M000502&name=test_node_added_to_root_should_get_namespace" >test_node_added_to_root_should_get_namespace</a></li>
  <li><a href="index.html?a=M000546&name=test_node_equality" >test_node_equality</a></li>
  <li><a href="index.html?a=M000538&name=test_path" >test_path</a></li>
  <li><a href="index.html?a=M000532&name=test_previous_sibling" >test_previous_sibling</a></li>
  <li><a href="index.html?a=M000518&name=test_read_only?" >test_read_only?</a></li>
  <li><a href="index.html?a=M000519&name=test_remove_attribute" >test_remove_attribute</a></li>
  <li><a href="index.html?a=M000544&name=test_replace" >test_replace</a></li>
  <li><a href="index.html?a=M000539&name=test_search_by_symbol" >test_search_by_symbol</a></li>
  <li><a href="index.html?a=M000510&name=test_serialize_with_block" >test_serialize_with_block</a></li>
  <li><a href="index.html?a=M000525&name=test_set_content_with_symbol" >test_set_content_with_symbol</a></li>
  <li><a href="index.html?a=M000536&name=test_set_property" >test_set_property</a></li>
  <li><a href="index.html?a=M000516&name=test_to_str" >test_to_str</a></li>
  <li><a href="index.html?a=M000530&name=test_unlink" >test_unlink</a></li>
  <li><a href="index.html?a=M000512&name=test_values" >test_values</a></li>
  <li><a href="index.html?a=M000543&name=test_whitespace_nodes" >test_whitespace_nodes</a></li>
  <li><a href="index.html?a=M000507&name=test_write_to" >test_write_to</a></li>
  <li><a href="index.html?a=M000509&name=test_write_to_with_block" >test_write_to_with_block</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000500" class="method">
  <div id="M000500_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000500_source')" id="l_M000500_source">show source</a> ]</p>
  <div id="M000500_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 8</span>
 8:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:         <span class="ruby-keyword kw">super</span>
10:         <span class="ruby-ivar">@xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
11:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000523" class="method">
  <div id="M000523_title" class="title">
    <b>test_add_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000523_source')" id="l_M000523_source">show source</a> ]</p>
  <div id="M000523_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 222</span>
222:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child</span>
223:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
224:         <span class="ruby-identifier">text_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>)
225:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">TEXT_NODE</span>, <span class="ruby-identifier">text_node</span>.<span class="ruby-identifier">type</span>
226:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">text_node</span>
227:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>
228:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000522" class="method">
  <div id="M000522_title" class="title">
    <b>test_add_child_from_other_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000522_source')" id="l_M000522_source">show source</a> ]</p>
  <div id="M000522_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 210</span>
210:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_from_other_document</span>
211:         <span class="ruby-identifier">d1</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;item&gt;1&lt;/item&gt;&lt;item&gt;2&lt;/item&gt;&lt;/root&gt;&quot;</span>)
212:         <span class="ruby-identifier">d2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;item&gt;3&lt;/item&gt;&lt;item&gt;4&lt;/item&gt;&lt;/root&gt;&quot;</span>)
213: 
214:         <span class="ruby-identifier">d2</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'root'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-value str">'item'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
215:           <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'root'</span>).<span class="ruby-identifier">add_child</span> <span class="ruby-identifier">i</span>
216:         <span class="ruby-keyword kw">end</span>
217: 
218:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">d2</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'item'</span>).<span class="ruby-identifier">size</span>
219:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">d1</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'item'</span>).<span class="ruby-identifier">size</span>
220:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000521" class="method">
  <div id="M000521_title" class="title">
    <b>test_add_child_in_same_document</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000521_source')" id="l_M000521_source">show source</a> ]</p>
  <div id="M000521_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 197</span>
197:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_in_same_document</span>
198:         <span class="ruby-identifier">child</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">first</span>
199: 
200:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">previous_last_child</span> = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
201:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">new_child</span> = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>
202: 
203:         <span class="ruby-identifier">last</span> = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
204: 
205:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">new_child</span>)
206:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">new_child</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
207:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">last</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">last</span>
208:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000503" class="method">
  <div id="M000503_title" class="title">
    <b>test_add_child_path_following_sequential_text_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000503_source')" id="l_M000503_source">show source</a> ]</p>
  <div id="M000503_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 38</span>
38:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_path_following_sequential_text_nodes</span>
39:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">'&lt;root&gt;text&lt;/root&gt;'</span>)
40:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'text'</span>, <span class="ruby-identifier">xml</span>))
41:         <span class="ruby-identifier">item</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'item'</span>, <span class="ruby-identifier">xml</span>))
42:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/root/item'</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">path</span>
43:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000506" class="method">
  <div id="M000506_title" class="title">
    <b>test_add_child_should_inherit_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000506_source')" id="l_M000506_source">show source</a> ]</p>
  <div id="M000506_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 67</span>
67:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_child_should_inherit_namespace</span>
68:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root xmlns=\&quot;http://tenderlovemaking.com/\&quot;&gt;\n&lt;first&gt;\n&lt;/first&gt;\n&lt;/root&gt;\n&quot;</span>)
69:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:first'</span>)
70:         <span class="ruby-identifier">child</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'second'</span>, <span class="ruby-identifier">doc</span>)
71:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">child</span>)
72:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//xmlns:second'</span>)
73:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000505" class="method">
  <div id="M000505_title" class="title">
    <b>test_add_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000505_source')" id="l_M000505_source">show source</a> ]</p>
  <div id="M000505_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_namespace</span>
62:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'address'</span>)
63:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">add_namespace</span>(<span class="ruby-value str">'foo'</span>, <span class="ruby-value str">'http://tenderlovemaking.com'</span>)
64:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://tenderlovemaking.com'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:foo'</span>]
65:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000528" class="method">
  <div id="M000528_title" class="title">
    <b>test_add_next_sibling_merge</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000528_source')" id="l_M000528_source">show source</a> ]</p>
  <div id="M000528_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 287</span>
287:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_next_sibling_merge</span>
288:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
289: 
290:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">a_tag</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
291: 
292:         <span class="ruby-identifier">left_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">previous</span>
293:         <span class="ruby-identifier">right_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">next</span>
294:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">left_space</span>.<span class="ruby-identifier">text?</span>
295:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">right_space</span>.<span class="ruby-identifier">text?</span>
296: 
297:         <span class="ruby-identifier">right_space</span>.<span class="ruby-identifier">add_next_sibling</span>(<span class="ruby-identifier">left_space</span>)
298:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">left_space</span>, <span class="ruby-identifier">right_space</span>
299:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000526" class="method">
  <div id="M000526_title" class="title">
    <b>test_add_previous_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000526_source')" id="l_M000526_source">show source</a> ]</p>
  <div id="M000526_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 253</span>
253:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_previous_sibling</span>
254:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
255:         <span class="ruby-identifier">b_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'a'</span>, <span class="ruby-identifier">xml</span>)
256:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ELEMENT_NODE</span>, <span class="ruby-identifier">b_node</span>.<span class="ruby-identifier">type</span>
257:         <span class="ruby-identifier">b_node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'first'</span>
258:         <span class="ruby-identifier">a_node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>).<span class="ruby-identifier">first</span>
259:         <span class="ruby-identifier">a_node</span>.<span class="ruby-identifier">add_previous_sibling</span>(<span class="ruby-identifier">b_node</span>)
260:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'first'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">text</span>)
261:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000527" class="method">
  <div id="M000527_title" class="title">
    <b>test_add_previous_sibling_merge</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000527_source')" id="l_M000527_source">show source</a> ]</p>
  <div id="M000527_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 268</span>
268:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_previous_sibling_merge</span>
269:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
270: 
271:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">a_tag</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
272: 
273:         <span class="ruby-identifier">left_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">previous</span>
274:         <span class="ruby-identifier">right_space</span> = <span class="ruby-identifier">a_tag</span>.<span class="ruby-identifier">next</span>
275:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">left_space</span>.<span class="ruby-identifier">text?</span>
276:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">right_space</span>.<span class="ruby-identifier">text?</span>
277: 
278:         <span class="ruby-identifier">left_space</span>.<span class="ruby-identifier">add_previous_sibling</span>(<span class="ruby-identifier">right_space</span>)
279:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">left_space</span>, <span class="ruby-identifier">right_space</span>
280:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000517" class="method">
  <div id="M000517_title" class="title">
    <b>test_ancestors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000517_source')" id="l_M000517_source">show source</a> ]</p>
  <div id="M000517_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 169</span>
169:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ancestors</span>
170:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
171:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">address</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">length</span>
172:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'employee'</span>, <span class="ruby-value str">'staff'</span>, <span class="ruby-value str">'document'</span>],
173:           <span class="ruby-identifier">address</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">name</span> }
174:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000508" class="method">
  <div id="M000508_title" class="title">
    <b>test_attribute_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000508_source')" id="l_M000508_source">show source</a> ]</p>
  <div id="M000508_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 88</span>
88:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_with_symbol</span>
89:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'address'</span>).<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:domestic</span>]
90:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000537" class="method">
  <div id="M000537_title" class="title">
    <b>test_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000537_source')" id="l_M000537_source">show source</a> ]</p>
  <div id="M000537_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 388</span>
388:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attributes</span>
389:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
390:         <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">node</span>[<span class="ruby-value str">'asdfasdfasdf'</span>])
391:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">node</span>[<span class="ruby-value str">'domestic'</span>])
392: 
393:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">2</span>]
394:         <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>
395:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">size</span>
396:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'domestic'</span>].<span class="ruby-identifier">value</span>
397:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'domestic'</span>].<span class="ruby-identifier">to_s</span>
398:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'No'</span>, <span class="ruby-identifier">attr</span>[<span class="ruby-value str">'street'</span>].<span class="ruby-identifier">value</span>
399:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000524" class="method">
  <div id="M000524_title" class="title">
    <b>test_chevron_works_as_add_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000524_source')" id="l_M000524_source">show source</a> ]</p>
  <div id="M000524_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 235</span>
235:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_chevron_works_as_add_child</span>
236:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
237:         <span class="ruby-identifier">text_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>)
238:         <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text_node</span>
239:         <span class="ruby-identifier">assert_match</span> <span class="ruby-value str">'hello'</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>
240:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000534" class="method">
  <div id="M000534_title" class="title">
    <b>test_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000534_source')" id="l_M000534_source">show source</a> ]</p>
  <div id="M000534_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 371</span>
371:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_child</span>
372:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
373:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">child</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>
374:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'text'</span>, <span class="ruby-identifier">child</span>.<span class="ruby-identifier">name</span>)
375:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000504" class="method">
  <div id="M000504_title" class="title">
    <b>test_children</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000504_source')" id="l_M000504_source">show source</a> ]</p>
  <div id="M000504_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 45</span>
45:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children</span>
46:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\#{'&lt;a/&gt;' * 9 }&lt;/root&gt;\n&quot;</span>)
47:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
48:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">length</span>
49: 
50:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\#{'&lt;a/&gt;' * 15 }&lt;/root&gt;\n&quot;</span>)
51:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">length</span>
52:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">length</span>
53:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000542" class="method">
  <div id="M000542_title" class="title">
    <b>test_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000542_source')" id="l_M000542_source">show source</a> ]</p>
  <div id="M000542_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 426</span>
426:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content</span>
427:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
428:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">''</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
429: 
430:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-value str">'hello world!'</span>
431:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'hello world!'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>)
432:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000520" class="method">
  <div id="M000520_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000520_source')" id="l_M000520_source">show source</a> ]</p>
  <div id="M000520_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 190</span>
190:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
191:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'/staff/employee/address'</span>).<span class="ruby-identifier">first</span>
192:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
193:         <span class="ruby-identifier">address</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">'domestic'</span>
194:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
195:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000501" class="method">
  <div id="M000501_title" class="title">
    <b>test_duplicate_node_removes_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000501_source')" id="l_M000501_source">show source</a> ]</p>
  <div id="M000501_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 13</span>
13:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_duplicate_node_removes_namespace</span>
14:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='www.fruits.org'&gt;\n&lt;Apple&gt;&lt;/Apple&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
15:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'fruit:Apple'</span>, {<span class="ruby-value str">'fruit'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'www.fruits.org'</span>})[<span class="ruby-value">0</span>]
16:         <span class="ruby-identifier">new_apple</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">dup</span>
17:         <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">new_apple</span>
18:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:Apple'</span>).<span class="ruby-identifier">length</span>
19:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">to_xml</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-value str">'www.fruits.org'</span>).<span class="ruby-identifier">length</span>
20:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000514" class="method">
  <div id="M000514_title" class="title">
    <b>test_each</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000514_source')" id="l_M000514_source">show source</a> ]</p>
  <div id="M000514_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 150</span>
150:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_each</span>
151:         <span class="ruby-identifier">attributes</span> = []
152:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
153:           <span class="ruby-identifier">attributes</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>]
154:         <span class="ruby-keyword kw">end</span>
155:         <span class="ruby-identifier">assert_equal</span> [[<span class="ruby-value str">'domestic'</span>, <span class="ruby-value str">'Yes'</span>], [<span class="ruby-value str">'street'</span>, <span class="ruby-value str">'Yes'</span>]], <span class="ruby-identifier">attributes</span>
156:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000541" class="method">
  <div id="M000541_title" class="title">
    <b>test_encode_special_chars</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000541_source')" id="l_M000541_source">show source</a> ]</p>
  <div id="M000541_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 421</span>
421:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encode_special_chars</span>
422:         <span class="ruby-identifier">foo</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'employee'</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">encode_special_chars</span>(<span class="ruby-value str">'&amp;'</span>)
423:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&amp;amp;'</span>, <span class="ruby-identifier">foo</span>
424:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000529" class="method">
  <div id="M000529_title" class="title">
    <b>test_find_by_css_with_tilde_eql</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000529_source')" id="l_M000529_source">show source</a> ]</p>
  <div id="M000529_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 306</span>
306:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_by_css_with_tilde_eql</span>
307:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
308:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a[@class~=&quot;bar&quot;]'</span>)
309:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
310:         <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'Bar'</span>], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> }.<span class="ruby-identifier">uniq</span>
311:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000511" class="method">
  <div id="M000511_title" class="title">
    <b>test_hold_refence_to_subnode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000511_source')" id="l_M000511_source">show source</a> ]</p>
  <div id="M000511_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 127</span>
127:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_hold_refence_to_subnode</span>
128:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\n&lt;b /&gt;\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
129:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_a</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'a'</span>).<span class="ruby-identifier">first</span>
130:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node_b</span> = <span class="ruby-identifier">node_a</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'b'</span>).<span class="ruby-identifier">first</span>
131:         <span class="ruby-identifier">node_a</span>.<span class="ruby-identifier">unlink</span>
132:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'b'</span>, <span class="ruby-identifier">node_b</span>.<span class="ruby-identifier">name</span>
133:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000545" class="method">
  <div id="M000545_title" class="title">
    <b>test_illegal_replace_of_node_with_doc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000545_source')" id="l_M000545_source">show source</a> ]</p>
  <div id="M000545_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 459</span>
459:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_illegal_replace_of_node_with_doc</span>
460:         <span class="ruby-identifier">new_node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">'&lt;foo&gt;bar&lt;/foo&gt;'</span>)
461:         <span class="ruby-identifier">old_node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//employee'</span>)
462:         <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>){ <span class="ruby-identifier">old_node</span>.<span class="ruby-identifier">replace</span> <span class="ruby-identifier">new_node</span> }
463:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000535" class="method">
  <div id="M000535_title" class="title">
    <b>test_key?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000535_source')" id="l_M000535_source">show source</a> ]</p>
  <div id="M000535_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 377</span>
377:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_key?</span>
378:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
379:         <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'asdfasdf'</span>))
380:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000513" class="method">
  <div id="M000513_title" class="title">
    <b>test_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000513_source')" id="l_M000513_source">show source</a> ]</p>
  <div id="M000513_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 146</span>
146:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_keys</span>
147:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w{ domestic street }</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">keys</span>
148:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000551" class="method">
  <div id="M000551_title" class="title">
    <b>test_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000551_source')" id="l_M000551_source">show source</a> ]</p>
  <div id="M000551_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 562</span>
562:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_line</span>
563:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a&gt;\nHello world\n&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
564: 
565:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//a&quot;</span>)
566:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
567:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">line</span>
568:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000533" class="method">
  <div id="M000533_title" class="title">
    <b>test_name=</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000533_source')" id="l_M000533_source">show source</a> ]</p>
  <div id="M000533_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 365</span>
365:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_name=</span>
366:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
367:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'awesome'</span>
368:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'awesome'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
369:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000550" class="method">
  <div id="M000550_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000550_source')" id="l_M000550_source">show source</a> ]</p>
  <div id="M000550_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 543</span>
543:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
544:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:a='http://foo.com/' xmlns:b='http://bar.com/'&gt;\n&lt;y xmlns:c='http://bazz.com/'&gt;\n&lt;a:div&gt;hello a&lt;/a:div&gt;\n&lt;b:div&gt;hello b&lt;/b:div&gt;\n&lt;c:div&gt;hello c&lt;/c:div&gt;\n&lt;div&gt;hello moon&lt;/div&gt;\n&lt;/y&gt;\n&lt;/x&gt;\n&quot;</span>)
545:         <span class="ruby-identifier">set</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//y/*&quot;</span>)
546:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">namespace</span>
547:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">namespace</span>
548:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;c&quot;</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">namespace</span>
549:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">set</span>[<span class="ruby-value">3</span>].<span class="ruby-identifier">namespace</span>
550:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000547" class="method">
  <div id="M000547_title" class="title">
    <b>test_namespace_as_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000547_source')" id="l_M000547_source">show source</a> ]</p>
  <div id="M000547_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 478</span>
478:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_as_hash</span>
479:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
480: 
481:         <span class="ruby-identifier">tires</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//bike:tire'</span>, {<span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://schwinn.com/'</span>})
482:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">tires</span>.<span class="ruby-identifier">length</span>
483:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000548" class="method">
  <div id="M000548_title" class="title">
    <b>test_namespace_search_with_css</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000548_source')" id="l_M000548_source">show source</a> ]</p>
  <div id="M000548_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 495</span>
495:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_search_with_css</span>
496:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;car xmlns:part=\&quot;http://general-motors.com/\&quot;&gt;\n&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;\n&lt;/car&gt;\n&lt;bicycle xmlns:part=\&quot;http://schwinn.com/\&quot;&gt;\n&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;\n&lt;/bicycle&gt;\n&lt;/root&gt;\n&quot;</span>)
497: 
498:         <span class="ruby-identifier">tires</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">css</span>(<span class="ruby-value str">'bike|tire'</span>, <span class="ruby-value str">'bike'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://schwinn.com/'</span>)
499:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">tires</span>.<span class="ruby-identifier">length</span>
500:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000549" class="method">
  <div id="M000549_title" class="title">
    <b>test_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000549_source')" id="l_M000549_source">show source</a> ]</p>
  <div id="M000549_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 512</span>
512:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespaces</span>
513:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;x xmlns:a='http://foo.com/' xmlns:b='http://bar.com/'&gt;\n&lt;y xmlns:c='http://bazz.com/'&gt;\n&lt;a:div&gt;hello a&lt;/a:div&gt;\n&lt;b:div&gt;hello b&lt;/b:div&gt;\n&lt;c:div&gt;hello c&lt;/c:div&gt;\n&lt;/y&gt;\n&lt;/x&gt;\n&quot;</span>)
514:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span>
515:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:a'</span>)
516:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:a'</span>]
517:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:b'</span>)
518:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bar.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:b'</span>]
519:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:c'</span>)
520: 
521:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>
522:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:a'</span>)
523:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:a'</span>]
524:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:b'</span>)
525:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bar.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:b'</span>]
526:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">'xmlns:c'</span>)
527:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://bazz.com/'</span>, <span class="ruby-identifier">namespaces</span>[<span class="ruby-value str">'xmlns:c'</span>]
528: 
529:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello a&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//a:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
530:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello b&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//b:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
531:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;hello c&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">&quot;//c:div&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">namespaces</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">inner_text</span>
532:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000515" class="method">
  <div id="M000515_title" class="title">
    <b>test_new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000515_source')" id="l_M000515_source">show source</a> ]</p>
  <div id="M000515_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 158</span>
158:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new</span>
159:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'input'</span>, <span class="ruby-ivar">@xml</span>)
160:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span>
161:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000540" class="method">
  <div id="M000540_title" class="title">
    <b>test_new_node</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000540_source')" id="l_M000540_source">show source</a> ]</p>
  <div id="M000540_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 415</span>
415:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_node</span>
416:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
417:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">name</span>)
418:         <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">document</span>)
419:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000531" class="method">
  <div id="M000531_title" class="title">
    <b>test_next_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000531_source')" id="l_M000531_source">show source</a> ]</p>
  <div id="M000531_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 352</span>
352:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_sibling</span>
353:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
354:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sibling</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>.<span class="ruby-identifier">next_sibling</span>
355:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">name</span>)
356:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000502" class="method">
  <div id="M000502_title" class="title">
    <b>test_node_added_to_root_should_get_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000502_source')" id="l_M000502_source">show source</a> ]</p>
  <div id="M000502_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 27</span>
27:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_added_to_root_should_get_namespace</span>
28:         <span class="ruby-identifier">fruits</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>(<span class="ruby-value str">&quot;&lt;Fruit xmlns='http://www.fruits.org'&gt;\n&lt;/Fruit&gt;\n&quot;</span>)
29:         <span class="ruby-identifier">apple</span> = <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">fragment</span>(<span class="ruby-value str">'&lt;Apple/&gt;'</span>)
30:         <span class="ruby-identifier">fruits</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">apple</span>
31:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fruits</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//xmlns:Apple'</span>).<span class="ruby-identifier">length</span>
32:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000546" class="method">
  <div id="M000546_title" class="title">
    <b>test_node_equality</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000546_source')" id="l_M000546_source">show source</a> ]</p>
  <div id="M000546_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 465</span>
465:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_node_equality</span>
466:         <span class="ruby-identifier">doc1</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
467:         <span class="ruby-identifier">doc2</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">XML_FILE</span>), <span class="ruby-constant">XML_FILE</span>)
468:         
469:         <span class="ruby-identifier">address1_1</span> = <span class="ruby-identifier">doc1</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
470:         <span class="ruby-identifier">address1_2</span> = <span class="ruby-identifier">doc1</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
471:         
472:         <span class="ruby-identifier">address2</span> = <span class="ruby-identifier">doc2</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
473:         
474:         <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">address1_1</span>, <span class="ruby-identifier">address2</span> <span class="ruby-comment cmt"># two references to very, very similar nodes</span>
475:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">address1_1</span>, <span class="ruby-identifier">address1_2</span> <span class="ruby-comment cmt"># two references to the exact same node</span>
476:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000538" class="method">
  <div id="M000538_title" class="title">
    <b>test_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000538_source')" id="l_M000538_source">show source</a> ]</p>
  <div id="M000538_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 401</span>
401:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_path</span>
402:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
403:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">first</span>
404:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'/staff/employee[1]'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">path</span>)
405:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000532" class="method">
  <div id="M000532_title" class="title">
    <b>test_previous_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000532_source')" id="l_M000532_source">show source</a> ]</p>
  <div id="M000532_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 358</span>
358:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_previous_sibling</span>
359:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">root</span>
360:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sibling</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>.<span class="ruby-identifier">next_sibling</span>
361:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'employee'</span>, <span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">name</span>)
362:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">sibling</span>.<span class="ruby-identifier">previous_sibling</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">child</span>)
363:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000518" class="method">
  <div id="M000518_title" class="title">
    <b>test_read_only?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000518_source')" id="l_M000518_source">show source</a> ]</p>
  <div id="M000518_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_read_only?</span>
177:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">entity_decl</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">internal_subset</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
178:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">ENTITY_DECL</span>
179:         }
180:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">entity_decl</span>.<span class="ruby-identifier">read_only?</span>
181:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000519" class="method">
  <div id="M000519_title" class="title">
    <b>test_remove_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000519_source')" id="l_M000519_source">show source</a> ]</p>
  <div id="M000519_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 183</span>
183:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remove_attribute</span>
184:         <span class="ruby-identifier">address</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'/staff/employee/address'</span>).<span class="ruby-identifier">first</span>
185:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Yes'</span>, <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
186:         <span class="ruby-identifier">address</span>.<span class="ruby-identifier">remove_attribute</span> <span class="ruby-value str">'domestic'</span>
187:         <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">address</span>[<span class="ruby-value str">'domestic'</span>]
188:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000544" class="method">
  <div id="M000544_title" class="title">
    <b>test_replace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000544_source')" id="l_M000544_source">show source</a> ]</p>
  <div id="M000544_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 441</span>
441:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_replace</span>
442:         <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
443:         <span class="ruby-identifier">assert</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
444:         <span class="ruby-identifier">assert</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//form'</span>).<span class="ruby-identifier">length</span>
445: 
446:         <span class="ruby-identifier">first</span> = <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>]
447:         <span class="ruby-identifier">second</span> = <span class="ruby-identifier">set</span>[<span class="ruby-value">1</span>]
448: 
449:         <span class="ruby-identifier">node</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'form'</span>, <span class="ruby-ivar">@xml</span>)
450:         <span class="ruby-identifier">first</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">node</span>)
451: 
452:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//employee'</span>)
453:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
454:         <span class="ruby-identifier">assert</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//form'</span>).<span class="ruby-identifier">length</span>
455: 
456:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_xml</span>, <span class="ruby-identifier">second</span>.<span class="ruby-identifier">to_xml</span>
457:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000539" class="method">
  <div id="M000539_title" class="title">
    <b>test_search_by_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000539_source')" id="l_M000539_source">show source</a> ]</p>
  <div id="M000539_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 407</span>
407:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_search_by_symbol</span>
408:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">set</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">:employee</span>)
409:         <span class="ruby-identifier">assert</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">length</span>
410: 
411:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">:employee</span>)
412:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">text</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/EMP0001/</span>
413:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000510" class="method">
  <div id="M000510_title" class="title">
    <b>test_serialize_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000510_source')" id="l_M000510_source">show source</a> ]</p>
  <div id="M000510_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_serialize_with_block</span>
116:         <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">false</span>
117:         <span class="ruby-identifier">conf</span> = <span class="ruby-keyword kw">nil</span>
118:         <span class="ruby-identifier">string</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
119:           <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">true</span>
120:           <span class="ruby-identifier">conf</span> = <span class="ruby-identifier">config</span>
121:           <span class="ruby-identifier">config</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">as_html</span>.<span class="ruby-identifier">no_empty_tags</span>
122:         <span class="ruby-keyword kw">end</span>
123:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">called</span>
124:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">conf</span>.<span class="ruby-identifier">options</span>), <span class="ruby-identifier">string</span>
125:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000525" class="method">
  <div id="M000525_title" class="title">
    <b>test_set_content_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000525_source')" id="l_M000525_source">show source</a> ]</p>
  <div id="M000525_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 247</span>
247:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_content_with_symbol</span>
248:         <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//name'</span>)
249:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">:foo</span>
250:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>
251:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000536" class="method">
  <div id="M000536_title" class="title">
    <b>test_set_property</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000536_source')" id="l_M000536_source">show source</a> ]</p>
  <div id="M000536_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 382</span>
382:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_property</span>
383:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">search</span>(<span class="ruby-value str">'//address'</span>).<span class="ruby-identifier">first</span>
384:         <span class="ruby-identifier">node</span>[<span class="ruby-value str">'foo'</span>] = <span class="ruby-value str">'bar'</span>
385:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'bar'</span>, <span class="ruby-identifier">node</span>[<span class="ruby-value str">'foo'</span>])
386:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000516" class="method">
  <div id="M000516_title" class="title">
    <b>test_to_str</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000516_source')" id="l_M000516_source">show source</a> ]</p>
  <div id="M000516_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 163</span>
163:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_str</span>
164:         <span class="ruby-identifier">name</span> = <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//name'</span>).<span class="ruby-identifier">first</span>
165:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/Margaret/</span>, <span class="ruby-value str">''</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>)
166:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Margaret Martin'</span>, <span class="ruby-value str">''</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span>)
167:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000530" class="method">
  <div id="M000530_title" class="title">
    <b>test_unlink</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000530_source')" id="l_M000530_source">show source</a> ]</p>
  <div id="M000530_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 324</span>
324:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unlink</span>
325:         <span class="ruby-identifier">xml</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;\n&lt;a class='foo bar'&gt;Bar&lt;/a&gt;\n&lt;a class='bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bar'&gt;Bar&lt;/a&gt;\n&lt;a&gt;Hello world&lt;/a&gt;\n&lt;a class='baz bar foo'&gt;Bar&lt;/a&gt;\n&lt;a class='bazbarfoo'&gt;Awesome&lt;/a&gt;\n&lt;a class='bazbar'&gt;Awesome&lt;/a&gt;\n&lt;/root&gt;\n&quot;</span>)
326:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//a'</span>)[<span class="ruby-value">3</span>]
327:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Hello world'</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">text</span>)
328:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
329:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
330:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">document</span>
331:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
332:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
333:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">unlink</span>
334:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
335:         <span class="ruby-comment cmt">#assert !node.document</span>
336:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">previous_sibling</span>
337:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">next_sibling</span>
338:         <span class="ruby-identifier">assert_no_match</span>(<span class="ruby-regexp re">/Hello world/</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">to_s</span>)
339:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000512" class="method">
  <div id="M000512_title" class="title">
    <b>test_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000512_source')" id="l_M000512_source">show source</a> ]</p>
  <div id="M000512_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 142</span>
142:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_values</span>
143:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w{ Yes Yes }</span>, <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">xpath</span>(<span class="ruby-value str">'//address'</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">values</span>
144:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000543" class="method">
  <div id="M000543_title" class="title">
    <b>test_whitespace_nodes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000543_source')" id="l_M000543_source">show source</a> ]</p>
  <div id="M000543_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 434</span>
434:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_whitespace_nodes</span>
435:         <span class="ruby-identifier">doc</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">&quot;&lt;root&gt;&lt;b&gt;Foo&lt;/b&gt;\n&lt;i&gt;Bar&lt;/i&gt; &lt;p&gt;Bazz&lt;/p&gt;&lt;/root&gt;&quot;</span>)
436:         <span class="ruby-identifier">children</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value str">'//root'</span>).<span class="ruby-identifier">children</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">to_s</span>}
437:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\n&quot;</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">1</span>]
438:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot; &quot;</span>, <span class="ruby-identifier">children</span>[<span class="ruby-value">3</span>]
439:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000507" class="method">
  <div id="M000507_title" class="title">
    <b>test_write_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000507_source')" id="l_M000507_source">show source</a> ]</p>
  <div id="M000507_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 81</span>
81:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_to</span>
82:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
83:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>
84:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
85:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">to_xml</span>, <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
86:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000509" class="method">
  <div id="M000509_title" class="title">
    <b>test_write_to_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000509_source')" id="l_M000509_source">show source</a> ]</p>
  <div id="M000509_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/xml/test_node.rb, line 92</span>
 92:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_write_to_with_block</span>
 93:         <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">false</span>
 94:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
 95:         <span class="ruby-identifier">conf</span> = <span class="ruby-keyword kw">nil</span>
 96:         <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
 97:           <span class="ruby-identifier">called</span> = <span class="ruby-keyword kw">true</span>
 98:           <span class="ruby-identifier">conf</span> = <span class="ruby-identifier">config</span>
 99:           <span class="ruby-identifier">config</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">as_html</span>.<span class="ruby-identifier">no_empty_tags</span>
100:         <span class="ruby-keyword kw">end</span>
101:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">rewind</span>
102:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">called</span>
103:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@xml</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">conf</span>.<span class="ruby-identifier">options</span>), <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
104:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>