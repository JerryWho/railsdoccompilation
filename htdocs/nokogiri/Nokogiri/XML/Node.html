<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Nokogiri::XML::Node</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (N)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span>
     &raquo; 
    <span class="title">Node</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Nokogiri::XML::Node
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nokogiri::XML::Node</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Enumerable, <span class='object_link'><a href="PP/Node.html" title="Nokogiri::XML::PP::Node (module)">PP::Node</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/nokogiri/xml/node.rb<span class="defines">,<br />
  ext/nokogiri/xml_dtd.c,<br /> ext/nokogiri/xml_text.c,<br /> ext/nokogiri/xml_node.c,<br /> ext/nokogiri/xml_attr.c,<br /> ext/nokogiri/xml_cdata.c,<br /> ext/nokogiri/xml_comment.c,<br /> ext/nokogiri/xml_document.c,<br /> ext/nokogiri/html_document.c,<br /> lib/nokogiri/ffi/xml/node.rb,<br /> ext/nokogiri/xml_entity_decl.c,<br /> ext/nokogiri/xml_element_decl.c,<br /> ext/nokogiri/xml_attribute_decl.c,<br /> ext/nokogiri/xml_entity_reference.c,<br /> ext/nokogiri/xml_document_fragment.c,<br /> lib/nokogiri/xml/node/save_options.rb,<br /> ext/nokogiri/xml_processing_instruction.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
## Nokogiri::XML::Node is your window to the fun filled world of dealing
with XML and HTML tags.  A Nokogiri::XML::Node may be treated similarly to
a hash with regard to attributes.  For example (from irb):
</p>
<pre class="code">
  irb(main):004:0&gt; node
  =&gt; &lt;a href=&quot;#foo&quot; id=&quot;link&quot;&gt;link&lt;/a&gt;
  irb(main):005:0&gt; node['href']
  =&gt; &quot;#foo&quot;
  irb(main):006:0&gt; node.keys
  =&gt; [&quot;href&quot;, &quot;id&quot;]
  irb(main):007:0&gt; node.values
  =&gt; [&quot;#foo&quot;, &quot;link&quot;]
  irb(main):008:0&gt; node['class'] = 'green'
  =&gt; &quot;green&quot;
  irb(main):009:0&gt; node
  =&gt; &lt;a href=&quot;#foo&quot; id=&quot;link&quot; class=&quot;green&quot;&gt;link&lt;/a&gt;
  irb(main):010:0&gt;
</pre>
<p>
See Nokogiri::XML::Node#[] and Nokogiri::XML#[]= for more information.
</p>
<p>
Nokogiri::XML::Node also has methods that let you move around your tree. 
For navigating your tree, see:
</p>
<ul>
<li><p>
Nokogiri::XML::Node#parent
</p>
</li>
<li><p>
Nokogiri::XML::Node#children
</p>
</li>
<li><p>
Nokogiri::XML::Node#next
</p>
</li>
<li><p>
Nokogiri::XML::Node#previous
</p>
</li>
</ul>
<p>
You may search this node&#8217;s subtree using Node#xpath and Node#css
</p>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Attr.html" title="Nokogiri::XML::Attr (class)">Attr</a></span>, <span class='object_link'><a href="AttributeDecl.html" title="Nokogiri::XML::AttributeDecl (class)">AttributeDecl</a></span>, <span class='object_link'><a href="CharacterData.html" title="Nokogiri::XML::CharacterData (class)">CharacterData</a></span>, <span class='object_link'><a href="DTD.html" title="Nokogiri::XML::DTD (class)">DTD</a></span>, <span class='object_link'><a href="Document.html" title="Nokogiri::XML::Document (class)">Document</a></span>, <span class='object_link'><a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)">DocumentFragment</a></span>, <span class='object_link'><a href="Element.html" title="Nokogiri::XML::Element (class)">Element</a></span>, <span class='object_link'><a href="ElementDecl.html" title="Nokogiri::XML::ElementDecl (class)">ElementDecl</a></span>, <span class='object_link'><a href="EntityDecl.html" title="Nokogiri::XML::EntityDecl (class)">EntityDecl</a></span>, <span class='object_link'><a href="EntityReference.html" title="Nokogiri::XML::EntityReference (class)">EntityReference</a></span>, <span class='object_link'><a href="ProcessingInstruction.html" title="Nokogiri::XML::ProcessingInstruction (class)">ProcessingInstruction</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ELEMENT_NODE-constant" class="">ELEMENT_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Element node type, see Nokogiri::XML::Node#element?
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>1</span></pre></dd>
      
        <dt id="ATTRIBUTE_NODE-constant" class="">ATTRIBUTE_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Attribute node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>2</span></pre></dd>
      
        <dt id="TEXT_NODE-constant" class="">TEXT_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Text node type, see Nokogiri::XML::Node#text?
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>3</span></pre></dd>
      
        <dt id="CDATA_SECTION_NODE-constant" class="">CDATA_SECTION_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
CDATA node type, see Nokogiri::XML::Node#cdata?
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>4</span></pre></dd>
      
        <dt id="ENTITY_REF_NODE-constant" class="">ENTITY_REF_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Entity reference node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>5</span></pre></dd>
      
        <dt id="ENTITY_NODE-constant" class="">ENTITY_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Entity node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>6</span></pre></dd>
      
        <dt id="PI_NODE-constant" class="">PI_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
PI node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>7</span></pre></dd>
      
        <dt id="COMMENT_NODE-constant" class="">COMMENT_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Comment node type, see Nokogiri::XML::Node#comment?
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>8</span></pre></dd>
      
        <dt id="DOCUMENT_NODE-constant" class="">DOCUMENT_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Document node type, see Nokogiri::XML::Node#xml?
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>9</span></pre></dd>
      
        <dt id="DOCUMENT_TYPE_NODE-constant" class="">DOCUMENT_TYPE_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Document type node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>10</span></pre></dd>
      
        <dt id="DOCUMENT_FRAG_NODE-constant" class="">DOCUMENT_FRAG_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Document fragment node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>11</span></pre></dd>
      
        <dt id="NOTATION_NODE-constant" class="">NOTATION_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
Notation node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>12</span></pre></dd>
      
        <dt id="HTML_DOCUMENT_NODE-constant" class="">HTML_DOCUMENT_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
HTML document node type, see Nokogiri::XML::Node#html?
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>13</span></pre></dd>
      
        <dt id="DTD_NODE-constant" class="">DTD_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
DTD node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>14</span></pre></dd>
      
        <dt id="ELEMENT_DECL-constant" class="">ELEMENT_DECL =
          <div class="docstring">
  <div class="discussion">
    <p>
Element declaration type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>15</span></pre></dd>
      
        <dt id="ATTRIBUTE_DECL-constant" class="">ATTRIBUTE_DECL =
          <div class="docstring">
  <div class="discussion">
    <p>
Attribute declaration type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>16</span></pre></dd>
      
        <dt id="ENTITY_DECL-constant" class="">ENTITY_DECL =
          <div class="docstring">
  <div class="discussion">
    <p>
Entity declaration type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>17</span></pre></dd>
      
        <dt id="NAMESPACE_DECL-constant" class="">NAMESPACE_DECL =
          <div class="docstring">
  <div class="discussion">
    <p>
Namespace declaration type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>18</span></pre></dd>
      
        <dt id="XINCLUDE_START-constant" class="">XINCLUDE_START =
          <div class="docstring">
  <div class="discussion">
    <p>
XInclude start type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>19</span></pre></dd>
      
        <dt id="XINCLUDE_END-constant" class="">XINCLUDE_END =
          <div class="docstring">
  <div class="discussion">
    <p>
XInclude end type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>20</span></pre></dd>
      
        <dt id="DOCB_DOCUMENT_NODE-constant" class="">DOCB_DOCUMENT_NODE =
          <div class="docstring">
  <div class="discussion">
    <p>
DOCB document node type
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='int'>21</span></pre></dd>
      
    </dl>
  


  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cstruct-instance_method" title="#cstruct (instance method)">- (Object) <strong>cstruct</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:stopdoc:.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-class_method" title="new (class method)">+ (Object) <strong>new</strong>(name, document) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Create a new node with <tt>name</tt> sharing GC lifecycle with
<tt>document</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#node_properties-class_method" title="node_properties (class method)">+ (Object) <strong>node_properties</strong>(cstruct) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wrap-class_method" title="wrap (class method)">+ (Object) <strong>wrap</strong>(node_struct, klass = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">- (Object) <strong>&lt;=&gt;</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Compare two Node objects with respect to their Document.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Object) <strong>==</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Test to see if this Node is equal to <tt>other</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3E-instance_method" title="#&gt; (instance method)">- (Object) <strong>&gt;</strong>(selector) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Search this node&#8217;s immediate children using CSS selector
<tt>selector</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(name) </a>
    

    
      (also: #get_attribute, #attr)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Get the attribute value for the attribute <tt>name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">- (Object) <strong>[]=</strong>(property, value) </a>
    

    
      (also: #set_attribute)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Set the <tt>property</tt> to <tt>value</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accept-instance_method" title="#accept (instance method)">- (Object) <strong>accept</strong>(visitor) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Accept a visitor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_child-instance_method" title="#add_child (instance method)">- (Object) <strong>add_child</strong>(node_or_tags) </a>
    

    
      (also: #&lt;&lt;)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Add <tt>node_or_tags</tt> as a child of this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_child_node-instance_method" title="#add_child_node (instance method)">- (Object) <strong>add_child_node</strong>(child) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_namespace_definition-instance_method" title="#add_namespace_definition (instance method)">- (Object) <strong>add_namespace_definition</strong>(prefix, href) </a>
    

    
      (also: #add_namespace)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Adds a namespace definition with <tt>prefix</tt> using <tt>href</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_next_sibling-instance_method" title="#add_next_sibling (instance method)">- (Object) <strong>add_next_sibling</strong>(node_or_tags) </a>
    

    
      (also: #next=)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Insert <tt>node_or_tags</tt> after this Node (as a sibling).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_next_sibling_node-instance_method" title="#add_next_sibling_node (instance method)">- (Object) <strong>add_next_sibling_node</strong>(next_sibling) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_previous_sibling-instance_method" title="#add_previous_sibling (instance method)">- (Object) <strong>add_previous_sibling</strong>(node_or_tags) </a>
    

    
      (also: #previous=)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Insert <tt>node_or_tags</tt> before this Node (as a sibling).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_previous_sibling_node-instance_method" title="#add_previous_sibling_node (instance method)">- (Object) <strong>add_previous_sibling_node</strong>(prev_sibling) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-instance_method" title="#after (instance method)">- (Object) <strong>after</strong>(node_or_tags) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Insert <tt>node_or_tags</tt> after this node (as a sibling).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ancestors-instance_method" title="#ancestors (instance method)">- (Object) <strong>ancestors</strong>(selector = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Get a list of ancestor Node for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at-instance_method" title="#at (instance method)">- (Object) <strong>at</strong>(path, ns = document.root ? document.root.namespaces : {}) </a>
    

    
      (also: #%)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Search for the first occurrence of <tt>path</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_css-instance_method" title="#at_css (instance method)">- (Object) <strong>at_css</strong>(*rules) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Search this node for the first occurrence of CSS <tt>rules</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_xpath-instance_method" title="#at_xpath (instance method)">- (Object) <strong>at_xpath</strong>(*paths) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Search this node for the first occurrence of XPath <tt>paths</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute-instance_method" title="#attribute (instance method)">- (Object) <strong>attribute</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the attribute node with <tt>name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute_nodes-instance_method" title="#attribute_nodes (instance method)">- (Object) <strong>attribute_nodes</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a list containing the Node attributes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attribute_with_ns-instance_method" title="#attribute_with_ns (instance method)">- (Object) <strong>attribute_with_ns</strong>(name, namespace) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the attribute node with <tt>name</tt> and <tt>namespace</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attributes-instance_method" title="#attributes (instance method)">- (Object) <strong>attributes</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Returns a hash containing the node&#8217;s attributes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-instance_method" title="#before (instance method)">- (Object) <strong>before</strong>(node_or_tags) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Insert <tt>node_or_tags</tt> before this node (as a sibling).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#blank%3F-instance_method" title="#blank? (instance method)">- (Object) <strong>blank?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Is this node blank?.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cdata%3F-instance_method" title="#cdata? (instance method)">- (Boolean) <strong>cdata?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is a CDATA.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#child-instance_method" title="#child (instance method)">- (Object) <strong>child</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the child node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#children-instance_method" title="#children (instance method)">- (Object) <strong>children</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the list of children for this node as a NodeSet.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#comment%3F-instance_method" title="#comment? (instance method)">- (Boolean) <strong>comment?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is a Comment.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compare-instance_method" title="#compare (instance method)">- (Object) <strong>compare</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Compare this Node to <tt>other</tt> with respect to their Document.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#content-instance_method" title="#content (instance method)">- (Object) <strong>content</strong> </a>
    

    
      (also: #text, #inner_text)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the content for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#content%3D-instance_method" title="#content= (instance method)">- (Object) <strong>content=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Set the Node&#8217;s content to a Text node containing <tt>string</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_external_subset-instance_method" title="#create_external_subset (instance method)">- (Object) <strong>create_external_subset</strong>(name, external_id, system_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Create an external subset.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_internal_subset-instance_method" title="#create_internal_subset (instance method)">- (Object) <strong>create_internal_subset</strong>(name, external_id, system_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Create an internal subset.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#css-instance_method" title="#css (instance method)">- (Object) <strong>css</strong>(*rules) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Search this node for CSS <tt>rules</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#css_path-instance_method" title="#css_path (instance method)">- (Object) <strong>css_path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the path to this node as a CSS expression.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorate%21-instance_method" title="#decorate! (instance method)">- (Object) <strong>decorate!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Decorate this node with the decorators set up in this node&#8217;s
Document.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#default_namespace%3D-instance_method" title="#default_namespace= (instance method)">- (Object) <strong>default_namespace=</strong>(url) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Set the default namespace for this node to <tt>url</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#description-instance_method" title="#description (instance method)">- (Object) <strong>description</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Fetch the Nokogiri::HTML::ElementDescription for this node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#document-instance_method" title="#document (instance method)">- (Object) <strong>document</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the document for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump_html-instance_method" title="#dump_html (instance method)">- (Object) <strong>dump_html</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the Node as html.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dup-instance_method" title="#dup (instance method)">- (Object) <strong>dup</strong> </a>
    

    
      (also: #clone)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Copy this node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (Object) <strong>each</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Iterate over each attribute name and value pair for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#element%3F-instance_method" title="#element? (instance method)">- (Boolean) <strong>element?</strong> </a>
    

    
      (also: #elem?)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is an Element node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#element_children-instance_method" title="#element_children (instance method)">- (Object) <strong>element_children</strong> </a>
    

    
      (also: #elements)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the list of children for this node as a NodeSet.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encode_special_chars-instance_method" title="#encode_special_chars (instance method)">- (Object) <strong>encode_special_chars</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Encode any special characters in <tt>string</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#external_subset-instance_method" title="#external_subset (instance method)">- (Object) <strong>external_subset</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the external subset.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#first_element_child-instance_method" title="#first_element_child (instance method)">- (Object) <strong>first_element_child</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the first child node of this node that is an element.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fragment-instance_method" title="#fragment (instance method)">- (Object) <strong>fragment</strong>(tags) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Create a DocumentFragment containing <tt>tags</tt> that is relative to
<em>this</em> context node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fragment%3F-instance_method" title="#fragment? (instance method)">- (Boolean) <strong>fragment?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is a DocumentFragment.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-instance_method" title="#get (instance method)">- (Object) <strong>get</strong>(attribute) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the value for <tt>attribute</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#html%3F-instance_method" title="#html? (instance method)">- (Boolean) <strong>html?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is an HTML::Document node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#in_context-instance_method" title="#in_context (instance method)">- (Object) <strong>in_context</strong>(string, options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
TODO: DOCUMENT ME.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Node) <strong>initialize</strong>(name, document) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inner_html-instance_method" title="#inner_html (instance method)">- (Object) <strong>inner_html</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the inner_html for this node&#8217;s Node#children.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inner_html%3D-instance_method" title="#inner_html= (instance method)">- (Object) <strong>inner_html=</strong>(node_or_tags) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Set the inner_html for this Node to <tt>node_or_tags</tt>
<tt>node_or_tags</tt> can be a Nokogiri::XML::Node, a
Nokogiri::XML::DocumentFragment, or a string containing markup.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_subset-instance_method" title="#internal_subset (instance method)">- (Object) <strong>internal_subset</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the internal subset.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#key%3F-instance_method" title="#key? (instance method)">- (Object) <strong>key?</strong>(attribute) </a>
    

    
      (also: #has_attribute?)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if <tt>attribute</tt> is set.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keys-instance_method" title="#keys (instance method)">- (Object) <strong>keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Get the attribute names for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_element_child-instance_method" title="#last_element_child (instance method)">- (Object) <strong>last_element_child</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the last child node of this node that is an element.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line-instance_method" title="#line (instance method)">- (Object) <strong>line</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the line for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#matches%3F-instance_method" title="#matches? (instance method)">- (Boolean) <strong>matches?</strong>(selector) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Returns true if this Node matches <tt>selector</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace-instance_method" title="#namespace (instance method)">- (Object) <strong>namespace</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns the Nokogiri::XML::Namespace for the node, if one exists.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace%3D-instance_method" title="#namespace= (instance method)">- (Object) <strong>namespace=</strong>(ns) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Set the namespace for this node to <tt>ns</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace_definitions-instance_method" title="#namespace_definitions (instance method)">- (Object) <strong>namespace_definitions</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a list of Namespace nodes defined on <em>self</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace_scopes-instance_method" title="#namespace_scopes (instance method)">- (Object) <strong>namespace_scopes</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a list of Namespace nodes in scope for <em>self</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespaced_key%3F-instance_method" title="#namespaced_key? (instance method)">- (Object) <strong>namespaced_key?</strong>(attribute, namespace) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if <tt>attribute</tt> is set with <tt>namespace</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespaces-instance_method" title="#namespaces (instance method)">- (Object) <strong>namespaces</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Get a hash containing the Namespace definitions for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#content%3D-instance_method" title="#content= (instance method)">- (Object) <strong>content=</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Set the content for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#native_write_to-instance_method" title="#native_write_to (instance method)">- (Object) <strong>native_write_to</strong>(io, encoding, options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Write this Node to <tt>io</tt> with <tt>encoding</tt> and <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next_element-instance_method" title="#next_element (instance method)">- (Object) <strong>next_element</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the next Nokogiri::XML::Element type sibling node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next_sibling-instance_method" title="#next_sibling (instance method)">- (Object) <strong>next_sibling</strong> </a>
    

    
      (also: #next)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the next sibling node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">- (Object) <strong>name</strong> </a>
    

    
      (also: #name)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the name for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name%3D-instance_method" title="#name= (instance method)">- (Object) <strong>name=</strong>(new_name) </a>
    

    
      (also: #name=)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Set the name for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#node_type-instance_method" title="#node_type (instance method)">- (Object) <strong>node_type</strong> </a>
    

    
      (also: #type)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the type for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent-instance_method" title="#parent (instance method)">- (Object) <strong>parent</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the parent Node for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent%3D-instance_method" title="#parent= (instance method)">- (Object) <strong>parent=</strong>(parent_node) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Set the parent Node for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-instance_method" title="#parse (instance method)">- (Object) <strong>parse</strong>(string_or_io, options = ParseOptions::DEFAULT_XML) {|options| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Parse <tt>string_or_io</tt> as a document fragment within the context of
<b>this</b> node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the path associated with this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pointer_id-instance_method" title="#pointer_id (instance method)">- (Object) <strong>pointer_id</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Get the internal pointer number.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#previous_element-instance_method" title="#previous_element (instance method)">- (Object) <strong>previous_element</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the previous Nokogiri::XML::Element type sibling node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#previous_sibling-instance_method" title="#previous_sibling (instance method)">- (Object) <strong>previous_sibling</strong> </a>
    

    
      (also: #previous)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the previous sibling node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_only%3F-instance_method" title="#read_only? (instance method)">- (Boolean) <strong>read_only?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Is this a read only node?.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_attribute-instance_method" title="#remove_attribute (instance method)">- (Object) <strong>remove_attribute</strong>(name) </a>
    

    
      (also: #delete)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Remove the attribute named <tt>name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#replace-instance_method" title="#replace (instance method)">- (Object) <strong>replace</strong>(node_or_tags) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Replace this Node with <tt>node_or_tags</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#replace_node-instance_method" title="#replace_node (instance method)">- (Object) <strong>replace_node</strong>(new_node) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search-instance_method" title="#search (instance method)">- (Object) <strong>search</strong>(*paths) </a>
    

    
      (also: #/)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Search this node for <tt>paths</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#serialize-instance_method" title="#serialize (instance method)">- (Object) <strong>serialize</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Serialize Node using <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_namespace-instance_method" title="#set_namespace (instance method)">- (Object) <strong>set_namespace</strong>(namespace) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Set the namespace to <tt>namespace</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#swap-instance_method" title="#swap (instance method)">- (Object) <strong>swap</strong>(node_or_tags) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Swap this Node for <tt>node_or_tags</tt> <tt>node_or_tags</tt> can be a
Nokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a string
containing markup.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#text%3F-instance_method" title="#text? (instance method)">- (Boolean) <strong>text?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is a Text node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_html-instance_method" title="#to_html (instance method)">- (Object) <strong>to_html</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Serialize this Node to HTML.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Turn this node in to a string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_xhtml-instance_method" title="#to_xhtml (instance method)">- (Object) <strong>to_xhtml</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Serialize this Node to XHTML using <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_xml-instance_method" title="#to_xml (instance method)">- (Object) <strong>to_xml</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Serialize this Node to XML using <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#traverse-instance_method" title="#traverse (instance method)">- (Object) <strong>traverse</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
## Yields self and all children to <tt>block</tt> recursively.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink-instance_method" title="#unlink (instance method)">- (Object) <strong>unlink</strong> </a>
    

    
      (also: #remove)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Unlink this node from its current context.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#values-instance_method" title="#values (instance method)">- (Object) <strong>values</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Get the attribute values for this Node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_html_to-instance_method" title="#write_html_to (instance method)">- (Object) <strong>write_html_to</strong>(io, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Write Node as HTML to <tt>io</tt> with <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_to-instance_method" title="#write_to (instance method)">- (Object) <strong>write_to</strong>(io, *options) {|config| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Write Node to <tt>io</tt> with <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_xhtml_to-instance_method" title="#write_xhtml_to (instance method)">- (Object) <strong>write_xhtml_to</strong>(io, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Write Node as XHTML to <tt>io</tt> with <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_xml_to-instance_method" title="#write_xml_to (instance method)">- (Object) <strong>write_xml_to</strong>(io, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Write Node as XML to <tt>io</tt> with <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xml%3F-instance_method" title="#xml? (instance method)">- (Boolean) <strong>xml?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if this is an XML::Document node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xpath-instance_method" title="#xpath (instance method)">- (Object) <strong>xpath</strong>(*paths) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Search this node for XPath <tt>paths</tt>.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="PP/Node.html" title="Nokogiri::XML::PP::Node (module)">PP::Node</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PP/Node.html#inspect-instance_method" title="Nokogiri::XML::PP::Node#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="PP/Node.html#pretty_print-instance_method" title="Nokogiri::XML::PP::Node#pretty_print (method)">#pretty_print</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nokogiri::XML::Node (class)">Node</a></span></tt>) <strong>initialize</strong>(name, document) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 83</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id document'>document</span> <span class='comment'># :nodoc:
</span>  <span class='comment'># ... Ya.  This is empty on purpose.
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="cstruct=-instance_method"></span>
      <span id="cstruct-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="cstruct-instance_method">
  
    - (<tt>Object</tt>) <strong>cstruct</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:stopdoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/ffi/xml/node.rb', line 6</span>

<span class='kw'>def</span> <span class='id cstruct'>cstruct</span>
  <span class='ivar'>@cstruct</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="new-class_method">
  
    + (<tt>Object</tt>) <strong>new</strong>(name, document) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Create a new node with <tt>name</tt> sharing GC lifecycle with
<tt>document</tt>
</p>


  </div>
</div>
<div class="tags">
  
  
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>node</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def self.new(name, doc, *rest)
  ptr = LibXML.xmlNewNode(nil, name.to_s)

  node_cstruct = LibXML::XmlNode.new(ptr)
  node_cstruct[:doc] = doc.cstruct[:doc]
  node_cstruct.keep_reference_from_document!

  node = Node.wrap(
    node_cstruct,
    Node == self ? nil : self
  )
  node.send :initialize, name, doc, *rest
  yield node if block_given?
  node
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="node_properties-class_method">
  
    + (<tt>Object</tt>) <strong>node_properties</strong>(cstruct) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


431
432
433
434
435
436
437
438
439
440</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/ffi/xml/node.rb', line 431</span>

<span class='kw'>def</span> <span class='id node_properties'>node_properties</span><span class='lparen'>(</span><span class='id cstruct'>cstruct</span><span class='rparen'>)</span>
  <span class='id attr'>attr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id prop_cstruct'>prop_cstruct</span> <span class='op'>=</span> <span class='id cstruct'>cstruct</span><span class='lbracket'>[</span><span class='symbol'>:properties</span><span class='rbracket'>]</span>
  <span class='kw'>while</span> <span class='op'>!</span> <span class='id prop_cstruct'>prop_cstruct</span><span class='period'>.</span><span class='id null?'>null?</span>
    <span class='id prop'>prop</span> <span class='op'>=</span> <span class='const'>Node</span><span class='period'>.</span><span class='id wrap'>wrap</span><span class='lparen'>(</span><span class='id prop_cstruct'>prop_cstruct</span><span class='rparen'>)</span>
    <span class='id attr'>attr</span> <span class='op'>&lt;&lt;</span> <span class='id prop'>prop</span>
    <span class='id prop_cstruct'>prop_cstruct</span> <span class='op'>=</span> <span class='id prop'>prop</span><span class='period'>.</span><span class='id cstruct'>cstruct</span><span class='lbracket'>[</span><span class='symbol'>:next</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id attr'>attr</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="wrap-class_method">
  
    + (<tt>Object</tt>) <strong>wrap</strong>(node_struct, klass = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/ffi/xml/node.rb', line 350</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id wrap'>wrap</span><span class='lparen'>(</span><span class='id node_struct'>node_struct</span><span class='comma'>,</span> <span class='id klass'>klass</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id node_struct'>node_struct</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>FFI</span><span class='op'>::</span><span class='const'>Pointer</span><span class='rparen'>)</span>
    <span class='comment'># cast native pointers up into a node cstruct
</span>    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id node_struct'>node_struct</span><span class='period'>.</span><span class='id null?'>null?</span>
    <span class='id node_struct'>node_struct</span> <span class='op'>=</span> <span class='const'>LibXML</span><span class='op'>::</span><span class='const'>XmlNode</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id node_struct'>node_struct</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wrapping a node without a document</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id node_struct'>node_struct</span><span class='period'>.</span><span class='id document'>document</span>

  <span class='id document_struct'>document_struct</span> <span class='op'>=</span> <span class='id node_struct'>node_struct</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='id document_obj'>document_obj</span> <span class='op'>=</span> <span class='id document_struct'>document_struct</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id document_struct'>document_struct</span><span class='period'>.</span><span class='id ruby_doc'>ruby_doc</span>
  <span class='kw'>if</span> <span class='id node_struct'>node_struct</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='const'>DOCUMENT_NODE</span> <span class='op'>||</span> <span class='id node_struct'>node_struct</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='const'>HTML_DOCUMENT_NODE</span>
    <span class='kw'>return</span> <span class='id document_obj'>document_obj</span>
  <span class='kw'>end</span>

  <span class='id ruby_node'>ruby_node</span> <span class='op'>=</span> <span class='id node_struct'>node_struct</span><span class='period'>.</span><span class='id ruby_node'>ruby_node</span>
  <span class='kw'>return</span> <span class='id ruby_node'>ruby_node</span> <span class='kw'>unless</span> <span class='id ruby_node'>ruby_node</span><span class='period'>.</span><span class='id nil?'>nil?</span>

  <span class='id klasses'>klasses</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id node_struct'>node_struct</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>ELEMENT_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Element</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>TEXT_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Text</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>ENTITY_REF_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>EntityReference</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>ATTRIBUTE_DECL</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>AttributeDecl</span><span class='comma'>,</span> <span class='const'>LibXML</span><span class='op'>::</span><span class='const'>XmlAttribute</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>ELEMENT_DECL</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>ElementDecl</span><span class='comma'>,</span> <span class='const'>LibXML</span><span class='op'>::</span><span class='const'>XmlElement</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>COMMENT_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Comment</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>DOCUMENT_FRAG_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>DocumentFragment</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>PI_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>ProcessingInstruction</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>ATTRIBUTE_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Attr</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>ENTITY_DECL</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>EntityDecl</span><span class='comma'>,</span> <span class='const'>LibXML</span><span class='op'>::</span><span class='const'>XmlEntity</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>CDATA_SECTION_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>CDATA</span><span class='rbracket'>]</span>
            <span class='kw'>when</span> <span class='const'>DTD_NODE</span> <span class='kw'>then</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>DTD</span><span class='comma'>,</span> <span class='const'>LibXML</span><span class='op'>::</span><span class='const'>XmlDtd</span><span class='rbracket'>]</span>
            <span class='kw'>else</span> <span class='lbracket'>[</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Node</span><span class='rbracket'>]</span>
            <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id klass'>klass</span>
    <span class='id node'>node</span> <span class='op'>=</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id allocate'>allocate</span>
  <span class='kw'>else</span>
    <span class='id node'>node</span> <span class='op'>=</span> <span class='id klasses'>klasses</span><span class='period'>.</span><span class='id first'>first</span><span class='period'>.</span><span class='id allocate'>allocate</span>
  <span class='kw'>end</span>
  <span class='id node'>node</span><span class='period'>.</span><span class='id cstruct'>cstruct</span> <span class='op'>=</span> <span class='id klasses'>klasses</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id klasses'>klasses</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id node_struct'>node_struct</span><span class='period'>.</span><span class='id pointer'>pointer</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id node_struct'>node_struct</span>

  <span class='id node'>node</span><span class='period'>.</span><span class='id cstruct'>cstruct</span><span class='period'>.</span><span class='id ruby_node'>ruby_node</span> <span class='op'>=</span> <span class='id node'>node</span>

  <span class='kw'>if</span> <span class='id document_obj'>document_obj</span>
    <span class='id node'>node</span><span class='period'>.</span><span class='id instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@document</span><span class='comma'>,</span> <span class='id document_obj'>document_obj</span><span class='rparen'>)</span>
    <span class='id cache'>cache</span> <span class='op'>=</span> <span class='id document_obj'>document_obj</span><span class='period'>.</span><span class='id instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='symbol'>:@node_cache</span><span class='rparen'>)</span>
    <span class='id cache'>cache</span> <span class='op'>&lt;&lt;</span> <span class='id node'>node</span>
    <span class='id document_obj'>document_obj</span><span class='period'>.</span><span class='id decorate'>decorate</span><span class='lparen'>(</span><span class='id node'>node</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id node'>node</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="<=>-instance_method">
  
    - (<tt>Object</tt>) <strong>&lt;=&gt;</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Compare two Node objects with respect to their Document.  Nodes from
different documents cannot be compared.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


767
768
769
770
771</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 767</span>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span> <span class='id other'>other</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id other'>other</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Node</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id document'>document</span> <span class='op'>==</span> <span class='id other'>other</span><span class='period'>.</span><span class='id document'>document</span>
  <span class='id compare'>compare</span> <span class='id other'>other</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="==-instance_method">
  
    - (<tt>Object</tt>) <strong>==</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Test to see if this Node is equal to <tt>other</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


606
607
608
609
610</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 606</span>

<span class='kw'>def</span> <span class='op'>==</span> <span class='id other'>other</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id other'>other</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id other'>other</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:pointer_id</span><span class='rparen'>)</span>
  <span class='id pointer_id'>pointer_id</span> <span class='op'>==</span> <span class='id other'>other</span><span class='period'>.</span><span class='id pointer_id'>pointer_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id=">-instance_method">
  
    - (<tt>Object</tt>) <strong>&gt;</strong>(selector) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Search this node&#8217;s immediate children using CSS selector
<tt>selector</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 194</span>

<span class='kw'>def</span> <span class='op'>&gt;</span> <span class='id selector'>selector</span>
  <span class='id ns'>ns</span> <span class='op'>=</span> <span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span><span class='period'>.</span><span class='id namespaces'>namespaces</span>
  <span class='id xpath'>xpath</span> <span class='const'>CSS</span><span class='period'>.</span><span class='id xpath_for'>xpath_for</span><span class='lparen'>(</span><span class='id selector'>selector</span><span class='comma'>,</span> <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>./</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:ns</span> <span class='op'>=&gt;</span> <span class='id ns'>ns</span><span class='rparen'>)</span><span class='period'>.</span><span class='id first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="[]-instance_method">
  
    - (<tt>Object</tt>) <strong>[]</strong>(name) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='get_attribute-instance_method'>get_attribute</span>, <span id='attr-instance_method'>attr</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Get the attribute value for the attribute <tt>name</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 228</span>

<span class='kw'>def</span> <span class='op'>[]</span> <span class='id name'>name</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id key?'>key?</span><span class='lparen'>(</span><span class='id name'>name</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span>
  <span class='id get'>get</span><span class='lparen'>(</span><span class='id name'>name</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="[]=-instance_method">
  
    - (<tt>Object</tt>) <strong>[]=</strong>(property, value) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='set_attribute-instance_method'>set_attribute</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Set the <tt>property</tt> to <tt>value</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def []=(property, value)
  LibXML.xmlSetProp(cstruct, property, value)
  value
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="accept-instance_method">
  
    - (<tt>Object</tt>) <strong>accept</strong>(visitor) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Accept a visitor.  This method calls &#8220;visit&#8221; on
<tt>visitor</tt> with self.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


600
601
602</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 600</span>

<span class='kw'>def</span> <span class='id accept'>accept</span> <span class='id visitor'>visitor</span>
  <span class='id visitor'>visitor</span><span class='period'>.</span><span class='id visit'>visit</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_child-instance_method">
  
    - (<tt>Object</tt>) <strong>add_child</strong>(node_or_tags) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='<<-instance_method'>&lt;&lt;</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Add <tt>node_or_tags</tt> as a child of this Node. <tt>node_or_tags</tt>
can be a Nokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a
string containing markup.
</p>
<p>
Returns the new child node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 238</span>

<span class='kw'>def</span> <span class='id add_child'>add_child</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id coerce'>coerce</span><span class='lparen'>(</span><span class='id node_or_tags'>node_or_tags</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>NodeSet</span><span class='rparen'>)</span>
    <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id n'>n</span><span class='op'>|</span> <span class='id add_child_node'>add_child_node</span> <span class='id n'>n</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id add_child_node'>add_child_node</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_child_node-instance_method">
  
    - (<tt>Object</tt>) <strong>add_child_node</strong>(child) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def add_child_node child
  Node.reparent_node_with(self, child) do |pivot_struct, reparentee_struct|
    LibXML.xmlAddChild(pivot_struct, reparentee_struct)
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_namespace_definition-instance_method">
  
    - (<tt>Object</tt>) <strong>add_namespace_definition</strong>(prefix, href) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='add_namespace-instance_method'>add_namespace</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Adds a namespace definition with <tt>prefix</tt> using <tt>href</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def add_namespace_definition(prefix, href)
  ns = LibXML.xmlSearchNs(cstruct.document, cstruct, prefix.nil? ? nil : prefix.to_s)
  namespacee = self
  if ns.null?
    namespacee = parent if type != ELEMENT_NODE
    ns = LibXML.xmlNewNs(namespacee.cstruct, href, prefix)
  end
  return nil if ns.null?
  LibXML.xmlSetNs(cstruct, ns) if (prefix.nil? || self != namespacee)
  Namespace.wrap(cstruct.document, ns)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_next_sibling-instance_method">
  
    - (<tt>Object</tt>) <strong>add_next_sibling</strong>(node_or_tags) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='next=-instance_method'>next=</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Insert <tt>node_or_tags</tt> after this Node (as a sibling).
<tt>node_or_tags</tt> can be a Nokogiri::XML::Node, a ::DocumentFragment, a
::NodeSet, or a string containing markup.
</p>
<p>
Returns the new sibling node.
</p>
<p>
Also see related method <tt>after</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272
273
274
275
276
277
278
279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 270</span>

<span class='kw'>def</span> <span class='id add_next_sibling'>add_next_sibling</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id coerce'>coerce</span><span class='lparen'>(</span><span class='id node_or_tags'>node_or_tags</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>NodeSet</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1.8.6</span><span class='tstring_end'>'</span></span> <span class='op'>==</span> <span class='const'>RUBY_VERSION</span>
      <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id reverse'>reverse</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id n'>n</span><span class='op'>|</span> <span class='id add_next_sibling_node'>add_next_sibling_node</span> <span class='id n'>n</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id reverse_each'>reverse_each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id n'>n</span><span class='op'>|</span> <span class='id add_next_sibling_node'>add_next_sibling_node</span> <span class='id n'>n</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id add_next_sibling_node'>add_next_sibling_node</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_next_sibling_node-instance_method">
  
    - (<tt>Object</tt>) <strong>add_next_sibling_node</strong>(next_sibling) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def add_next_sibling_node next_sibling
  Node.reparent_node_with(self, next_sibling) do |pivot_struct, reparentee_struct|
    LibXML.xmlAddNextSibling(pivot_struct, reparentee_struct)
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_previous_sibling-instance_method">
  
    - (<tt>Object</tt>) <strong>add_previous_sibling</strong>(node_or_tags) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='previous=-instance_method'>previous=</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Insert <tt>node_or_tags</tt> before this Node (as a sibling).
<tt>node_or_tags</tt> can be a Nokogiri::XML::Node, a ::DocumentFragment, a
::NodeSet, or a string containing markup.
</p>
<p>
Returns the new sibling node.
</p>
<p>
Also see related method <tt>before</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256
257
258
259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 254</span>

<span class='kw'>def</span> <span class='id add_previous_sibling'>add_previous_sibling</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id coerce'>coerce</span><span class='lparen'>(</span><span class='id node_or_tags'>node_or_tags</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>NodeSet</span><span class='rparen'>)</span>
    <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id n'>n</span><span class='op'>|</span> <span class='id add_previous_sibling_node'>add_previous_sibling_node</span> <span class='id n'>n</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id add_previous_sibling_node'>add_previous_sibling_node</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_previous_sibling_node-instance_method">
  
    - (<tt>Object</tt>) <strong>add_previous_sibling_node</strong>(prev_sibling) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def add_previous_sibling_node prev_sibling
  Node.reparent_node_with(self, prev_sibling) do |pivot_struct, reparentee_struct|
    LibXML.xmlAddPrevSibling(pivot_struct, reparentee_struct)
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="after-instance_method">
  
    - (<tt>Object</tt>) <strong>after</strong>(node_or_tags) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Insert <tt>node_or_tags</tt> after this node (as a sibling).
<tt>node_or_tags</tt> can be a Nokogiri::XML::Node, a
Nokogiri::XML::DocumentFragment, or a string containing markup.
</p>
<p>
Returns self, to support chaining of calls.
</p>
<p>
Also see related method <tt>add_next_sibling</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


302
303
304
305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 302</span>

<span class='kw'>def</span> <span class='id after'>after</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id add_next_sibling'>add_next_sibling</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ancestors-instance_method">
  
    - (<tt>Object</tt>) <strong>ancestors</strong>(selector = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Get a list of ancestor Node for this Node.  If <tt>selector</tt> is
given, the ancestors must match <tt>selector</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 549</span>

<span class='kw'>def</span> <span class='id ancestors'>ancestors</span> <span class='id selector'>selector</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>return</span> <span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:parent</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id parent'>parent</span>

  <span class='id parents'>parents</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id parent'>parent</span><span class='rbracket'>]</span>

  <span class='kw'>while</span> <span class='id parents'>parents</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:parent</span><span class='rparen'>)</span>
    <span class='kw'>break</span> <span class='kw'>unless</span> <span class='id ctx_parent'>ctx_parent</span> <span class='op'>=</span> <span class='id parents'>parents</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id parent'>parent</span>
    <span class='id parents'>parents</span> <span class='op'>&lt;&lt;</span> <span class='id ctx_parent'>ctx_parent</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='comma'>,</span> <span class='id parents'>parents</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id selector'>selector</span>

  <span class='id root'>root</span> <span class='op'>=</span> <span class='id parents'>parents</span><span class='period'>.</span><span class='id last'>last</span>

  <span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='comma'>,</span> <span class='id parents'>parents</span><span class='period'>.</span><span class='id find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id parent'>parent</span><span class='op'>|</span>
    <span class='id root'>root</span><span class='period'>.</span><span class='id search'>search</span><span class='lparen'>(</span><span class='id selector'>selector</span><span class='rparen'>)</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="at-instance_method">
  
    - (<tt>Object</tt>) <strong>at</strong>(path, ns = document.root ? document.root.namespaces : {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='%-instance_method'>%</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Search for the first occurrence of <tt>path</tt>.
</p>
<p>
Returns nil if nothing is found, otherwise a Node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 203</span>

<span class='kw'>def</span> <span class='id at'>at</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id ns'>ns</span> <span class='op'>=</span> <span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span> <span class='op'>?</span> <span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span><span class='period'>.</span><span class='id namespaces'>namespaces</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id search'>search</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id ns'>ns</span><span class='rparen'>)</span><span class='period'>.</span><span class='id first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="at_css-instance_method">
  
    - (<tt>Object</tt>) <strong>at_css</strong>(*rules) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Search this node for the first occurrence of CSS <tt>rules</tt>. Equivalent
to <tt>css(rules).first</tt> See Node#css for more information.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 222</span>

<span class='kw'>def</span> <span class='id at_css'>at_css</span> <span class='op'>*</span><span class='id rules'>rules</span>
  <span class='id css'>css</span><span class='lparen'>(</span><span class='op'>*</span><span class='id rules'>rules</span><span class='rparen'>)</span><span class='period'>.</span><span class='id first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="at_xpath-instance_method">
  
    - (<tt>Object</tt>) <strong>at_xpath</strong>(*paths) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Search this node for the first occurrence of XPath <tt>paths</tt>.
Equivalent to <tt>xpath(paths).first</tt> See Node#xpath for more
information.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 213</span>

<span class='kw'>def</span> <span class='id at_xpath'>at_xpath</span> <span class='op'>*</span><span class='id paths'>paths</span>
  <span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='op'>*</span><span class='id paths'>paths</span><span class='rparen'>)</span><span class='period'>.</span><span class='id first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attribute-instance_method">
  
    - (<tt>Object</tt>) <strong>attribute</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the attribute node with <tt>name</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def attribute(name)
  attribute_nodes.find { |x| x.name == name }
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attribute_nodes-instance_method">
  
    - (<tt>Object</tt>) <strong>attribute_nodes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a list containing the Node attributes.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def attribute_nodes
  Node.node_properties cstruct
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attribute_with_ns-instance_method">
  
    - (<tt>Object</tt>) <strong>attribute_with_ns</strong>(name, namespace) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the attribute node with <tt>name</tt> and <tt>namespace</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def attribute_with_ns(name, namespace)
  prop = LibXML.xmlHasNsProp(cstruct, name.to_s,
    namespace.nil? ? NULL : namespace.to_s)
  return prop if prop.null?
  Node.wrap(prop)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attributes-instance_method">
  
    - (<tt>Object</tt>) <strong>attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Returns a hash containing the node&#8217;s attributes.  The key is the
attribute name without any namespace, the value is a Nokogiri::XML::Attr
representing the attribute. If you need to distinguish attributes with the
same name, with different namespaces use #attribute_nodes instead.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 382</span>

<span class='kw'>def</span> <span class='id attributes'>attributes</span>
  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='op'>*</span><span class='lparen'>(</span><span class='id attribute_nodes'>attribute_nodes</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id node'>node</span><span class='period'>.</span><span class='id node_name'>node_name</span><span class='comma'>,</span> <span class='id node'>node</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id flatten'>flatten</span><span class='rparen'>)</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="before-instance_method">
  
    - (<tt>Object</tt>) <strong>before</strong>(node_or_tags) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Insert <tt>node_or_tags</tt> before this node (as a sibling).
<tt>node_or_tags</tt> can be a Nokogiri::XML::Node, a ::DocumentFragment, a
::NodeSet, or a string containing markup.
</p>
<p>
Returns self, to support chaining of calls.
</p>
<p>
Also see related method <tt>add_previous_sibling</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292
293</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 290</span>

<span class='kw'>def</span> <span class='id before'>before</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id add_previous_sibling'>add_previous_sibling</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="blank?-instance_method">
  
    - (<tt>Object</tt>) <strong>blank?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Is this node blank?
</p>


  </div>
</div>
<div class="tags">
  
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def blank?
  LibXML.xmlIsBlankNode(cstruct) == 1
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="cdata?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>cdata?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is a CDATA
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


482
483
484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 482</span>

<span class='kw'>def</span> <span class='id cdata?'>cdata?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>CDATA_SECTION_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="child-instance_method">
  
    - (<tt>Object</tt>) <strong>child</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the child node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def child
  (val = cstruct[:children]).null? ? nil : Node.wrap(val)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="children-instance_method">
  
    - (<tt>Object</tt>) <strong>children</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the list of children for this node as a NodeSet
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def children
  return NodeSet.new(nil) if cstruct[:children].null?
  child = Node.wrap(cstruct[:children])

  set = NodeSet.wrap(LibXML.xmlXPathNodeSetCreate(child.cstruct), self.document)
  return set unless child

  child_ptr = child.cstruct[:next]
  while ! child_ptr.null?
    child = Node.wrap(child_ptr)
    LibXML.xmlXPathNodeSetAddUnique(set.cstruct, child.cstruct)
    child_ptr = child.cstruct[:next]
  end

  return set
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="comment?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>comment?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is a Comment
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 477</span>

<span class='kw'>def</span> <span class='id comment?'>comment?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>COMMENT_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="compare-instance_method">
  
    - (<tt>Object</tt>) <strong>compare</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Compare this Node to <tt>other</tt> with respect to their Document
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def compare(other)
  LibXML.xmlXPathCmpNodes(other.cstruct, self.cstruct)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="content-instance_method">
  
    - (<tt>Object</tt>) <strong>content</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='text-instance_method'>text</span>, <span id='inner_text-instance_method'>inner_text</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the content for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def content
  content_ptr = LibXML.xmlNodeGetContent(cstruct)
  return nil if content_ptr.null?
  content = content_ptr.read_string # TODO: encoding?
  LibXML.xmlFree(content_ptr)
  content
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="content=-instance_method">
  
    - (<tt>Object</tt>) <strong>content=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Set the Node&#8217;s content to a Text node containing <tt>string</tt>.
The string gets XML escaped, not interpreted as markup.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


450
451
452</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 450</span>

<span class='kw'>def</span> <span class='id content='>content=</span> <span class='id string'>string</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id native_content'>native_content</span> <span class='op'>=</span> <span class='id encode_special_chars'>encode_special_chars</span><span class='lparen'>(</span><span class='id string'>string</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_external_subset-instance_method">
  
    - (<tt>Object</tt>) <strong>create_external_subset</strong>(name, external_id, system_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Create an external subset
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def create_external_subset name, external_id, system_id
  raise(&quot;Document already has an external subset&quot;) if external_subset

  doc = cstruct.document
  dtd_ptr = LibXML.xmlNewDtd doc, name, external_id, system_id

  return nil if dtd_ptr.null?

  Node.wrap dtd_ptr
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_internal_subset-instance_method">
  
    - (<tt>Object</tt>) <strong>create_internal_subset</strong>(name, external_id, system_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Create an internal subset
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def create_internal_subset name, external_id, system_id
  raise(&quot;Document already has an internal subset&quot;) if internal_subset

  doc = cstruct.document
  dtd_ptr = LibXML.xmlCreateIntSubset doc, name, external_id, system_id

  return nil if dtd_ptr.null?

  Node.wrap dtd_ptr
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="css-instance_method">
  
    - (<tt>Object</tt>) <strong>css</strong>(*rules) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Search this node for CSS <tt>rules</tt>. <tt>rules</tt> must be one or
more CSS selectors.  For example:
</p>
<pre class="code">
  <span class='id node'>node</span><span class='period'>.</span><span class='id css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>title</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id node'>node</span><span class='period'>.</span><span class='id css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>body h1.bold</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id node'>node</span><span class='period'>.</span><span class='id css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>div + p.green</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>div#one</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
</pre>
<p>
Custom CSS pseudo classes may also be defined.  To define custom pseudo
classes, create a class and implement the custom pseudo class you want
defined.  The first argument to the method will be the current matching
NodeSet.  Any other arguments are ones that you pass in. For example:
</p>
<pre class="code">
  <span class='id node'>node</span><span class='period'>.</span><span class='id css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>title:regex(&quot;\w+&quot;)</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>Class</span><span class='period'>.</span><span class='id new'>new</span> <span class='lbrace'>{</span>
    <span class='kw'>def</span> <span class='id regex'>regex</span> <span class='id node_set'>node_set</span><span class='comma'>,</span> <span class='id regex'>regex</span>
      <span class='id node_set'>node_set</span><span class='period'>.</span><span class='id find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span> <span class='id node'>node</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>some_attribute</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id regex'>regex</span><span class='rbrace'>}</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id new'>new</span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182
183
184
185
186
187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 176</span>

<span class='kw'>def</span> <span class='id css'>css</span> <span class='op'>*</span><span class='id rules'>rules</span>
  <span class='comment'># Pop off our custom function handler if it exists
</span>  <span class='id handler'>handler</span> <span class='op'>=</span> <span class='op'>!</span><span class='lbracket'>[</span>
    <span class='const'>Hash</span><span class='comma'>,</span> <span class='const'>String</span><span class='comma'>,</span> <span class='const'>Symbol</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id rules'>rules</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id class'>class</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id rules'>rules</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span> <span class='kw'>nil</span>

  <span class='id ns'>ns</span> <span class='op'>=</span> <span class='id rules'>rules</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id rules'>rules</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span>
    <span class='lparen'>(</span><span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span> <span class='op'>?</span> <span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span><span class='period'>.</span><span class='id namespaces'>namespaces</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='id rules'>rules</span> <span class='op'>=</span> <span class='id rules'>rules</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id rule'>rule</span><span class='op'>|</span>
    <span class='const'>CSS</span><span class='period'>.</span><span class='id xpath_for'>xpath_for</span><span class='lparen'>(</span><span class='id rule'>rule</span><span class='comma'>,</span> <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.//</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:ns</span> <span class='op'>=&gt;</span> <span class='id ns'>ns</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id flatten'>flatten</span><span class='period'>.</span><span class='id uniq'>uniq</span> <span class='op'>+</span> <span class='lbracket'>[</span><span class='id ns'>ns</span><span class='comma'>,</span> <span class='id handler'>handler</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id compact'>compact</span>

  <span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='op'>*</span><span class='id rules'>rules</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="css_path-instance_method">
  
    - (<tt>Object</tt>) <strong>css_path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the path to this node as a CSS expression
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


540
541
542
543
544</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 540</span>

<span class='kw'>def</span> <span class='id css_path'>css_path</span>
  <span class='id path'>path</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id part'>part</span><span class='op'>|</span>
    <span class='id part'>part</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id part'>part</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\[(\d+)\]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>:nth-of-type(\1)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id compact'>compact</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> &gt; </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="decorate!-instance_method">
  
    - (<tt>Object</tt>) <strong>decorate!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Decorate this node with the decorators set up in this node&#8217;s
Document
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 89</span>

<span class='kw'>def</span> <span class='id decorate!'>decorate!</span>
  <span class='id document'>document</span><span class='period'>.</span><span class='id decorate'>decorate</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="default_namespace=-instance_method">
  
    - (<tt>Object</tt>) <strong>default_namespace=</strong>(url) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Set the default namespace for this node to <tt>url</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


571
572
573</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 571</span>

<span class='kw'>def</span> <span class='id default_namespace='>default_namespace=</span> <span class='id url'>url</span>
  <span class='id add_namespace_definition'>add_namespace_definition</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id url'>url</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="description-instance_method">
  
    - (<tt>Object</tt>) <strong>description</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Fetch the Nokogiri::HTML::ElementDescription for this node.  Returns nil
on XML documents and on unknown tags.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


509
510
511
512</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 509</span>

<span class='kw'>def</span> <span class='id description'>description</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id document'>document</span><span class='period'>.</span><span class='id xml?'>xml?</span>
  <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>HTML</span><span class='op'>::</span><span class='const'>ElementDescription</span><span class='lbracket'>[</span><span class='id name'>name</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="document-instance_method">
  
    - (<tt>Object</tt>) <strong>document</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the document for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def document
  cstruct.document.ruby_doc
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dump_html-instance_method">
  
    - (<tt>Object</tt>) <strong>dump_html</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the Node as html.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def dump_html
  return to_xml if type == DOCUMENT_NODE
  buffer = LibXML::XmlBuffer.new(LibXML.xmlBufferCreate())
  LibXML.htmlNodeDump(buffer, cstruct[:doc], cstruct)
  buffer[:content] # TODO: encoding?
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dup-instance_method">
  
    - (<tt>Object</tt>) <strong>dup</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='clone-instance_method'>clone</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Copy this node.  An optional depth may be passed in, but it defaults to a
deep copy.  0 is a shallow copy, 1 is a deep copy.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def dup(deep = 1)
  dup_ptr = LibXML.xmlDocCopyNode(cstruct, cstruct.document, deep)
  return nil if dup_ptr.null?
  Node.wrap(dup_ptr, self.class)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each-instance_method">
  
    - (<tt>Object</tt>) <strong>each</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Iterate over each attribute name and value pair for this Node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 402</span>

<span class='kw'>def</span> <span class='id each'>each</span> <span class='op'>&amp;</span><span class='id block'>block</span>
  <span class='id attribute_nodes'>attribute_nodes</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span>
    <span class='id block'>block</span><span class='period'>.</span><span class='id call'>call</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id node'>node</span><span class='period'>.</span><span class='id node_name'>node_name</span><span class='comma'>,</span> <span class='id node'>node</span><span class='period'>.</span><span class='id value'>value</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="element?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>element?</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='elem?-instance_method'>elem?</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is an Element node
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


522
523
524</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 522</span>

<span class='kw'>def</span> <span class='id element?'>element?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>ELEMENT_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="element_children-instance_method">
  
    - (<tt>Object</tt>) <strong>element_children</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='elements-instance_method'>elements</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the list of children for this node as a NodeSet.  All nodes will be
element nodes.
</p>
<p>
Example:
</p>
<pre class="code">
  @doc.root.element_children.all? { |x| x.element? } # =&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def element_children
  child = LibXML.xmlFirstElementChildHack(self)
  return NodeSet.new(nil) if child.nil?

  set = NodeSet.wrap(LibXML.xmlXPathNodeSetCreate(child.cstruct), self.document)
  return set unless child

  next_sibling = LibXML.xmlNextElementSiblingHack(child)
  while ! next_sibling.nil?
    child = next_sibling
    LibXML.xmlXPathNodeSetAddUnique(set.cstruct, child.cstruct)
    next_sibling = LibXML.xmlNextElementSiblingHack(child)
  end

  return set
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="encode_special_chars-instance_method">
  
    - (<tt>Object</tt>) <strong>encode_special_chars</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Encode any special characters in <tt>string</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def encode_special_chars(string)
  char_ptr = LibXML.xmlEncodeSpecialChars(self[:doc], string)
  encoded = char_ptr.read_string
  # TODO: encoding?
  LibXML.xmlFree(char_ptr)
  encoded
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="external_subset-instance_method">
  
    - (<tt>Object</tt>) <strong>external_subset</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the external subset
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def external_subset
  doc = cstruct.document
  return nil if doc[:extSubset].null?

  Node.wrap(doc[:extSubset])
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="first_element_child-instance_method">
  
    - (<tt>Object</tt>) <strong>first_element_child</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the first child node of this node that is an element.
</p>
<p>
Example:
</p>
<pre class="code">
  @doc.root.first_element_child.element? # =&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def first_element_child
  LibXML.xmlFirstElementChildHack(self)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="fragment-instance_method">
  
    - (<tt>Object</tt>) <strong>fragment</strong>(tags) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Create a DocumentFragment containing <tt>tags</tt> that is relative to
<em>this</em> context node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


424
425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 424</span>

<span class='kw'>def</span> <span class='id fragment'>fragment</span> <span class='id tags'>tags</span>
  <span class='id type'>type</span> <span class='op'>=</span> <span class='id document'>document</span><span class='period'>.</span><span class='id html?'>html?</span> <span class='op'>?</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>HTML</span> <span class='op'>:</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span>
  <span class='id type'>type</span><span class='op'>::</span><span class='const'>DocumentFragment</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='comma'>,</span> <span class='id tags'>tags</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="fragment?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>fragment?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is a DocumentFragment
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


502
503
504</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 502</span>

<span class='kw'>def</span> <span class='id fragment?'>fragment?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>DOCUMENT_FRAG_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get-instance_method">
  
    - (<tt>Object</tt>) <strong>get</strong>(attribute) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the value for <tt>attribute</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def get(attribute)
  return nil unless attribute
  propstr = LibXML.xmlGetProp(cstruct, attribute.to_s)
  return nil if propstr.null?
  rval = propstr.read_string # TODO: encoding?
  LibXML.xmlFree(propstr)
  rval
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="html?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>html?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is an HTML::Document node
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


492
493
494</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 492</span>

<span class='kw'>def</span> <span class='id html?'>html?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>HTML_DOCUMENT_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="in_context-instance_method">
  
    - (<tt>Object</tt>) <strong>in_context</strong>(string, options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
TODO: DOCUMENT ME
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def in_context(string, options)
  raise RuntimeError, &quot;no contextual parsing on unlinked nodes&quot; if parent.nil?

  @errors = []
  LibXML.xmlSetStructuredErrorFunc(nil, SyntaxError.error_array_pusher(@errors))
  LibXML.htmlHandleOmittedElem(0)

  list_memory = FFI::MemoryPointer.new :pointer
  LibXML.xmlParseInNodeContext(cstruct, string, string.length, options, list_memory)

  LibXML.htmlHandleOmittedElem(1)
  LibXML.xmlSetStructuredErrorFunc(nil, nil)

  set = NodeSet.wrap(LibXML.xmlXPathNodeSetCreate(nil), document)
  list_ptr = list_memory.get_pointer(0)
  while ! list_ptr.null?
    list = Node.wrap(list_ptr)
    LibXML.xmlXPathNodeSetAddUnique(set.cstruct, list.cstruct)
    list_ptr = list.cstruct[:next]
  end
  set
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inner_html-instance_method">
  
    - (<tt>Object</tt>) <strong>inner_html</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the inner_html for this node&#8217;s Node#children
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


535
536
537</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 535</span>

<span class='kw'>def</span> <span class='id inner_html'>inner_html</span> <span class='op'>*</span><span class='id args'>args</span>
  <span class='id children'>children</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id x'>x</span><span class='op'>|</span> <span class='id x'>x</span><span class='period'>.</span><span class='id to_html'>to_html</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id join'>join</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inner_html=-instance_method">
  
    - (<tt>Object</tt>) <strong>inner_html=</strong>(node_or_tags) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Set the inner_html for this Node to <tt>node_or_tags</tt>
<tt>node_or_tags</tt> can be a Nokogiri::XML::Node, a
Nokogiri::XML::DocumentFragment, or a string containing markup.
</p>
<p>
Returns self.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314
315
316
317
318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 312</span>

<span class='kw'>def</span> <span class='id inner_html='>inner_html=</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id coerce'>coerce</span><span class='lparen'>(</span><span class='id node_or_tags'>node_or_tags</span><span class='rparen'>)</span>
  <span class='id children'>children</span><span class='period'>.</span><span class='id unlink'>unlink</span>
  <span class='kw'>if</span> <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>NodeSet</span><span class='rparen'>)</span>
    <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id n'>n</span><span class='op'>|</span> <span class='id add_child_node'>add_child_node</span> <span class='id n'>n</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id add_child'>add_child</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="internal_subset-instance_method">
  
    - (<tt>Object</tt>) <strong>internal_subset</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the internal subset
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def internal_subset
  doc = cstruct.document
  dtd = LibXML.xmlGetIntSubset(doc)
  return nil if dtd.null?
  Node.wrap(dtd)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="key?-instance_method">
  
    - (<tt>Object</tt>) <strong>key?</strong>(attribute) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='has_attribute?-instance_method'>has_attribute?</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if <tt>attribute</tt> is set
</p>


  </div>
</div>
<div class="tags">
  
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def key?(attribute)
  ! (prop = LibXML.xmlHasProp(cstruct, attribute.to_s)).null?
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="keys-instance_method">
  
    - (<tt>Object</tt>) <strong>keys</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Get the attribute names for this Node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


396
397
398</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 396</span>

<span class='kw'>def</span> <span class='id keys'>keys</span>
  <span class='id attribute_nodes'>attribute_nodes</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span> <span class='id node'>node</span><span class='period'>.</span><span class='id node_name'>node_name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="last_element_child-instance_method">
  
    - (<tt>Object</tt>) <strong>last_element_child</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the last child node of this node that is an element.
</p>
<p>
Example:
</p>
<pre class="code">
  @doc.root.last_element_child.element? # =&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def last_element_child
  LibXML.xmlLastElementChildHack(self)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="line-instance_method">
  
    - (<tt>Object</tt>) <strong>line</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the line for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def line
  cstruct[:line]
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="matches?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>matches?</strong>(selector) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Returns true if this Node matches <tt>selector</tt>
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


417
418
419</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 417</span>

<span class='kw'>def</span> <span class='id matches?'>matches?</span> <span class='id selector'>selector</span>
  <span class='id ancestors'>ancestors</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id search'>search</span><span class='lparen'>(</span><span class='id selector'>selector</span><span class='rparen'>)</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespace-instance_method">
  
    - (<tt>Object</tt>) <strong>namespace</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns the Nokogiri::XML::Namespace for the node, if one exists.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def namespace
  cstruct[:ns].null? ? nil : Namespace.wrap(cstruct.document, cstruct[:ns])
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespace=-instance_method">
  
    - (<tt>Object</tt>) <strong>namespace=</strong>(ns) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Set the namespace for this node to <tt>ns</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


578
579
580
581
582
583
584
585
586
587
588
589</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 578</span>

<span class='kw'>def</span> <span class='id namespace='>namespace=</span> <span class='id ns'>ns</span>
  <span class='kw'>return</span> <span class='id set_namespace'>set_namespace</span><span class='lparen'>(</span><span class='id ns'>ns</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id ns'>ns</span>

  <span class='kw'>unless</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Namespace</span> <span class='op'>===</span> <span class='id ns'>ns</span>
    <span class='id raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id ns'>ns</span><span class='period'>.</span><span class='id class'>class</span><span class='rbrace'>}</span><span class='tstring_content'> can't be coerced into Nokogiri::XML::Namespace</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id ns'>ns</span><span class='period'>.</span><span class='id document'>document</span> <span class='op'>!=</span> <span class='id document'>document</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>namespace must be declared on the same document</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>

  <span class='id set_namespace'>set_namespace</span> <span class='id ns'>ns</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespace_definitions-instance_method">
  
    - (<tt>Object</tt>) <strong>namespace_definitions</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a list of Namespace nodes defined on <em>self</em>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def namespace_definitions
  list = []
  ns_ptr = cstruct[:nsDef]
  return list if ns_ptr.null?
  while ! ns_ptr.null?
    ns = Namespace.wrap(cstruct.document, ns_ptr)
    list &lt;&lt; ns
    ns_ptr = ns.cstruct[:next]
  end
  list
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespace_scopes-instance_method">
  
    - (<tt>Object</tt>) <strong>namespace_scopes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a list of Namespace nodes in scope for <em>self</em>. this is all
namespaces defined in the node, or in any ancestor node.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def namespace_scopes
  ns_list = LibXML.xmlGetNsList(self.cstruct[:doc], self.cstruct)
  return [] if ns_list.null?

  list = []
  until (ns_ptr = ns_list.get_pointer(LibXML.pointer_offset(list.length))).null?
    list &lt;&lt; Namespace.wrap(cstruct.document, ns_ptr)
  end

  LibXML.xmlFree(ns_list)
  list
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespaced_key?-instance_method">
  
    - (<tt>Object</tt>) <strong>namespaced_key?</strong>(attribute, namespace) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if <tt>attribute</tt> is set with <tt>namespace</tt>
</p>


  </div>
</div>
<div class="tags">
  
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def namespaced_key?(attribute, namespace)
  prop = LibXML.xmlHasNsProp(cstruct, attribute.to_s,
    namespace.nil? ? nil : namespace.to_s)
  !prop.null?
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespaces-instance_method">
  
    - (<tt>Object</tt>) <strong>namespaces</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Get a hash containing the Namespace definitions for this Node
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466
467
468
469
470
471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 463</span>

<span class='kw'>def</span> <span class='id namespaces'>namespaces</span>
  <span class='const'>Hash</span><span class='lbracket'>[</span><span class='op'>*</span><span class='id namespace_scopes'>namespace_scopes</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id nd'>nd</span><span class='op'>|</span>
    <span class='id key'>key</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id nd'>nd</span><span class='period'>.</span><span class='id prefix'>prefix</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id compact'>compact</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>:</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='const'>RUBY_VERSION</span> <span class='op'>&gt;=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1.9</span><span class='tstring_end'>'</span></span> <span class='op'>&amp;&amp;</span> <span class='id document'>document</span><span class='period'>.</span><span class='id encoding'>encoding</span>
      <span class='kw'>begin</span>
        <span class='id key'>key</span><span class='period'>.</span><span class='id force_encoding'>force_encoding</span> <span class='id document'>document</span><span class='period'>.</span><span class='id encoding'>encoding</span>
      <span class='kw'>rescue</span> <span class='const'>ArgumentError</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='lbracket'>[</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id nd'>nd</span><span class='period'>.</span><span class='id href'>href</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id flatten'>flatten</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="native_content=-instance_method">
  
    - (<tt>Object</tt>) <strong>content=</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Set the content for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def native_content=(content)
  child_ptr = cstruct[:children]
  while ! child_ptr.null?
    child    = Node.wrap(child_ptr)
    next_ptr = child.cstruct[:next]
    LibXML.xmlUnlinkNode(child.cstruct)
    cstruct.keep_reference_from_document!
    child_ptr = next_ptr
  end
  LibXML.xmlNodeSetContent(cstruct, content)
  content
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="native_write_to-instance_method">
  
    - (<tt>Object</tt>) <strong>native_write_to</strong>(io, encoding, options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Write this Node to <tt>io</tt> with <tt>encoding</tt> and <tt>options</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def native_write_to(io, encoding, indent_string, options)
  set_xml_indent_tree_output 1
  set_xml_tree_indent_string indent_string
  savectx = LibXML.xmlSaveToIO(IoCallbacks.writer(io), nil, nil, encoding, options)
  LibXML.xmlSaveTree(savectx, cstruct)
  LibXML.xmlSaveClose(savectx)
  io
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="next_element-instance_method">
  
    - (<tt>Object</tt>) <strong>next_element</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the next Nokogiri::XML::Element type sibling node.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def next_element
  LibXML.xmlNextElementSiblingHack self
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="next_sibling-instance_method">
  
    - (<tt>Object</tt>) <strong>next_sibling</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='next-instance_method'>next</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the next sibling node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def next_sibling
  cstruct_node_from :next
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="node_name-instance_method">
  
    - (<tt>Object</tt>) <strong>name</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='name-instance_method'>name</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the name for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def node_name
  cstruct[:name] # TODO: encoding?
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="node_name=-instance_method">
  
    - (<tt>Object</tt>) <strong>name=</strong>(new_name) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='name=-instance_method'>name=</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Set the name for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def node_name=(string)
  LibXML.xmlNodeSetName(cstruct, string)
  string
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="node_type-instance_method">
  
    - (<tt>Object</tt>) <strong>node_type</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='type-instance_method'>type</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the type for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def node_type
  cstruct[:type]
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parent-instance_method">
  
    - (<tt>Object</tt>) <strong>parent</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the parent Node for this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def parent
  cstruct_node_from :parent
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parent=-instance_method">
  
    - (<tt>Object</tt>) <strong>parent=</strong>(parent_node) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Set the parent Node for this Node
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458
459</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 456</span>

<span class='kw'>def</span> <span class='id parent='>parent=</span> <span class='id parent_node'>parent_node</span>
  <span class='id parent_node'>parent_node</span><span class='period'>.</span><span class='id add_child'>add_child</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='id parent_node'>parent_node</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parse-instance_method">
  
    - (<tt>Object</tt>) <strong>parse</strong>(string_or_io, options = ParseOptions::DEFAULT_XML) {|options| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Parse <tt>string_or_io</tt> as a document fragment within the context of
<b>this</b> node.  Returns a XML::NodeSet containing the nodes parsed from
<tt>string_or_io</tt>.
</p>


  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>options</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435
436
437
438
439
440
441
442
443
444
445
446</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 433</span>

<span class='kw'>def</span> <span class='id parse'>parse</span> <span class='id string_or_io'>string_or_io</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='const'>ParseOptions</span><span class='op'>::</span><span class='const'>DEFAULT_XML</span>
  <span class='kw'>if</span> <span class='const'>Fixnum</span> <span class='op'>===</span> <span class='id options'>options</span>
    <span class='id options'>options</span> <span class='op'>=</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>ParseOptions</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='comment'># Give the options to the user
</span>  <span class='kw'>yield</span> <span class='id options'>options</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>

  <span class='id contents'>contents</span> <span class='op'>=</span> <span class='id string_or_io'>string_or_io</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span> <span class='op'>?</span>
    <span class='id string_or_io'>string_or_io</span><span class='period'>.</span><span class='id read'>read</span> <span class='op'>:</span>
    <span class='id string_or_io'>string_or_io</span>

  <span class='kw'>return</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id contents'>contents</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='id in_context'>in_context</span><span class='lparen'>(</span><span class='id contents'>contents</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id to_i'>to_i</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt>Object</tt>) <strong>path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the path associated with this Node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def path
  path_ptr = LibXML.xmlGetNodePath(cstruct)
  val = path_ptr.null? ? nil : path_ptr.read_string # TODO: encoding?
  LibXML.xmlFree(path_ptr)
  val
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pointer_id-instance_method">
  
    - (<tt>Object</tt>) <strong>pointer_id</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Get the internal pointer number
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def pointer_id
  cstruct.pointer
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="previous_element-instance_method">
  
    - (<tt>Object</tt>) <strong>previous_element</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the previous Nokogiri::XML::Element type sibling node.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def previous_element
  #
  #  note that we don't use xmlPreviousElementSibling here because it's buggy pre-2.7.7.
  #
  sibling_ptr = cstruct[:prev]

  while ! sibling_ptr.null?
    sibling_cstruct = LibXML::XmlNode.new(sibling_ptr)
    break if sibling_cstruct[:type] == ELEMENT_NODE
    sibling_ptr = sibling_cstruct[:prev]
  end

  return sibling_ptr.null? ? nil : Node.wrap(sibling_ptr)
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="previous_sibling-instance_method">
  
    - (<tt>Object</tt>) <strong>previous_sibling</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='previous-instance_method'>previous</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the previous sibling node
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def previous_sibling
  cstruct_node_from :prev
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="read_only?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>read_only?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Is this a read only node?
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


516
517
518
519</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 516</span>

<span class='kw'>def</span> <span class='id read_only?'>read_only?</span>
  <span class='comment'># According to gdome2, these are read-only node types
</span>  <span class='lbracket'>[</span><span class='const'>NOTATION_NODE</span><span class='comma'>,</span> <span class='const'>ENTITY_NODE</span><span class='comma'>,</span> <span class='const'>ENTITY_DECL</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id type'>type</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_attribute-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_attribute</strong>(name) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='delete-instance_method'>delete</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Remove the attribute named <tt>name</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 410</span>

<span class='kw'>def</span> <span class='id remove_attribute'>remove_attribute</span> <span class='id name'>name</span>
  <span class='id attributes'>attributes</span><span class='lbracket'>[</span><span class='id name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id remove'>remove</span> <span class='kw'>if</span> <span class='id key?'>key?</span> <span class='id name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="replace-instance_method">
  
    - (<tt>Object</tt>) <strong>replace</strong>(node_or_tags) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Replace this Node with <tt>node_or_tags</tt>. <tt>node_or_tags</tt> can
be a Nokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a string
containing markup.
</p>
<p>
Returns the new child node.
</p>
<p>
Also see related method <tt>swap</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


330
331
332
333
334
335
336
337
338</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 330</span>

<span class='kw'>def</span> <span class='id replace'>replace</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id node_or_tags'>node_or_tags</span> <span class='op'>=</span> <span class='id coerce'>coerce</span><span class='lparen'>(</span><span class='id node_or_tags'>node_or_tags</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>NodeSet</span><span class='rparen'>)</span>
    <span class='id node_or_tags'>node_or_tags</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id n'>n</span><span class='op'>|</span> <span class='id add_previous_sibling'>add_previous_sibling</span> <span class='id n'>n</span> <span class='rbrace'>}</span>
    <span class='id unlink'>unlink</span>
  <span class='kw'>else</span>
    <span class='id replace_node'>replace_node</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="replace_node-instance_method">
  
    - (<tt>Object</tt>) <strong>replace_node</strong>(new_node) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def replace_node new_node
  Node.reparent_node_with(self, new_node) do |pivot_struct, reparentee_struct|
    retval = LibXML.xmlReplaceNode(pivot_struct, reparentee_struct)
    retval = reparentee_struct if retval == pivot_struct.pointer # for reparent_node_with semantics
    retval = LibXML::XmlNode.new(retval) if retval.is_a?(FFI::Pointer)
    if retval[:type] == TEXT_NODE
      if !retval[:prev].null? &amp;&amp; LibXML::XmlNode.new(retval[:prev])[:type] == TEXT_NODE
        retval = LibXML::XmlNode.new(LibXML.xmlTextMerge(retval[:prev], retval))
      end
      if !retval[:next].null? &amp;&amp; LibXML::XmlNode.new(retval[:next])[:type] == TEXT_NODE
        retval = LibXML::XmlNode.new(LibXML.xmlTextMerge(retval, retval[:next]))
      end
    end
    retval
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="search-instance_method">
  
    - (<tt>Object</tt>) <strong>search</strong>(*paths) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='/-instance_method'>/</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Search this node for <tt>paths</tt>.  <tt>paths</tt> can be XPath or CSS,
and an optional hash of namespaces may be appended. See Node#xpath and
Node#css.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 97</span>

<span class='kw'>def</span> <span class='id search'>search</span> <span class='op'>*</span><span class='id paths'>paths</span>
  <span class='id ns'>ns</span> <span class='op'>=</span> <span class='id paths'>paths</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id paths'>paths</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span>
    <span class='lparen'>(</span><span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span> <span class='op'>?</span> <span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span><span class='period'>.</span><span class='id namespaces'>namespaces</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='op'>*</span><span class='lparen'>(</span><span class='id paths'>paths</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id path'>path</span><span class='op'>|</span>
    <span class='id path'>path</span> <span class='op'>=</span> <span class='id path'>path</span><span class='period'>.</span><span class='id to_s'>to_s</span>
    <span class='id path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(\.\/|\/)</span><span class='regexp_end'>/</span></span> <span class='op'>?</span> <span class='id path'>path</span> <span class='op'>:</span> <span class='const'>CSS</span><span class='period'>.</span><span class='id xpath_for'>xpath_for</span><span class='lparen'>(</span>
      <span class='id path'>path</span><span class='comma'>,</span>
      <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.//</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='symbol'>:ns</span>     <span class='op'>=&gt;</span> <span class='id ns'>ns</span>
    <span class='rparen'>)</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id flatten'>flatten</span><span class='period'>.</span><span class='id uniq'>uniq</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='lbracket'>[</span><span class='id ns'>ns</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="serialize-instance_method">
  
    - (<tt>Object</tt>) <strong>serialize</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Serialize Node using <tt>options</tt>.  Save options can also be set
using a block. See SaveOptions.
</p>
<p>
These two statements are equivalent:
</p>
<pre class="code">
 <span class='id node'>node</span><span class='period'>.</span><span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='symbol'>:encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:save_with</span> <span class='op'>=&gt;</span> <span class='const'>FORMAT</span> <span class='op'>|</span> <span class='const'>AS_XML</span><span class='rparen'>)</span>
</pre>
<p>
or
</p>
<pre class="code">
  <span class='id node'>node</span><span class='period'>.</span><span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='symbol'>:encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id config'>config</span><span class='op'>|</span>
    <span class='id config'>config</span><span class='period'>.</span><span class='id format'>format</span><span class='period'>.</span><span class='id as_xml'>as_xml</span>
  <span class='kw'>end</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 626</span>

<span class='kw'>def</span> <span class='id serialize'>serialize</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id first'>first</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id args'>args</span><span class='period'>.</span><span class='id shift'>shift</span> <span class='op'>:</span> <span class='lbrace'>{</span>
    <span class='symbol'>:encoding</span>   <span class='op'>=&gt;</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='symbol'>:save_with</span>  <span class='op'>=&gt;</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span>
  <span class='rbrace'>}</span>

  <span class='id encoding'>encoding</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:encoding</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id document'>document</span><span class='period'>.</span><span class='id encoding'>encoding</span>

  <span class='id outstring'>outstring</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id encoding'>encoding</span> <span class='op'>&amp;&amp;</span> <span class='id outstring'>outstring</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:force_encoding</span><span class='rparen'>)</span>
    <span class='id outstring'>outstring</span><span class='period'>.</span><span class='id force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='period'>.</span><span class='id find'>find</span><span class='lparen'>(</span><span class='id encoding'>encoding</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id io'>io</span> <span class='op'>=</span> <span class='const'>StringIO</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id outstring'>outstring</span><span class='rparen'>)</span>
  <span class='id write_to'>write_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span>
  <span class='id io'>io</span><span class='period'>.</span><span class='id string'>string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_namespace-instance_method">
  
    - (<tt>Object</tt>) <strong>set_namespace</strong>(namespace) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Set the namespace to <tt>namespace</tt>
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def set_namespace(namespace)
  LibXML.xmlSetNs(cstruct, namespace ? namespace.cstruct : nil)
  self
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="swap-instance_method">
  
    - (<tt>Object</tt>) <strong>swap</strong>(node_or_tags) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Swap this Node for <tt>node_or_tags</tt> <tt>node_or_tags</tt> can be a
Nokogiri::XML::Node, a ::DocumentFragment, a ::NodeSet, or a string
containing markup.
</p>
<p>
Returns self, to support chaining of calls.
</p>
<p>
Also see related method <tt>replace</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


347
348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 347</span>

<span class='kw'>def</span> <span class='id swap'>swap</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='id replace'>replace</span> <span class='id node_or_tags'>node_or_tags</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="text?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>text?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is a Text node
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 497</span>

<span class='kw'>def</span> <span class='id text?'>text?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>TEXT_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_html-instance_method">
  
    - (<tt>Object</tt>) <strong>to_html</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Serialize this Node to HTML
</p>
<pre class="code">
  <span class='id doc'>doc</span><span class='period'>.</span><span class='id to_html'>to_html</span>
</pre>
<p>
See Node#write_to for a list of <tt>options</tt>.  For formatted output,
use Node#to_xhtml instead.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657
658
659
660</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 650</span>

<span class='kw'>def</span> <span class='id to_html'>to_html</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># FIXME: this is a hack around broken libxml versions
</span>  <span class='kw'>return</span> <span class='id dump_html'>dump_html</span> <span class='kw'>if</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>2</span><span class='words_sep'> </span><span class='tstring_content'>6</span><span class='words_sep'>]</span> <span class='op'>===</span> <span class='const'>LIBXML_VERSION</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rbracket'>]</span>

  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span> <span class='op'>|</span>
                          <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_DECLARATION</span> <span class='op'>|</span>
                          <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_EMPTY_TAGS</span> <span class='op'>|</span>
                          <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>AS_HTML</span>

  <span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_s-instance_method">
  
    - (<tt>Object</tt>) <strong>to_s</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Turn this node in to a string.  If the document is HTML, this method
returns html.  If the document is XML, this method returns XML.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


530
531
532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 530</span>

<span class='kw'>def</span> <span class='id to_s'>to_s</span>
  <span class='id document'>document</span><span class='period'>.</span><span class='id xml?'>xml?</span> <span class='op'>?</span> <span class='id to_xml'>to_xml</span> <span class='op'>:</span> <span class='id to_html'>to_html</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_xhtml-instance_method">
  
    - (<tt>Object</tt>) <strong>to_xhtml</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Serialize this Node to XHTML using <tt>options</tt>
</p>
<pre class="code">
  <span class='id doc'>doc</span><span class='period'>.</span><span class='id to_xhtml'>to_xhtml</span><span class='lparen'>(</span><span class='symbol'>:indent</span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span> <span class='symbol'>:encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
</pre>
<p>
See Node#write_to for a list of <tt>options</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


680
681
682
683
684
685
686
687
688
689
690</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 680</span>

<span class='kw'>def</span> <span class='id to_xhtml'>to_xhtml</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># FIXME: this is a hack around broken libxml versions
</span>  <span class='kw'>return</span> <span class='id dump_html'>dump_html</span> <span class='kw'>if</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>2</span><span class='words_sep'> </span><span class='tstring_content'>6</span><span class='words_sep'>]</span> <span class='op'>===</span> <span class='const'>LIBXML_VERSION</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rbracket'>]</span>

  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span> <span class='op'>|</span>
                          <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_DECLARATION</span> <span class='op'>|</span>
                          <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_EMPTY_TAGS</span> <span class='op'>|</span>
                          <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>AS_XHTML</span>

  <span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_xml-instance_method">
  
    - (<tt>Object</tt>) <strong>to_xml</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Serialize this Node to XML using <tt>options</tt>
</p>
<pre class="code">
  <span class='id doc'>doc</span><span class='period'>.</span><span class='id to_xml'>to_xml</span><span class='lparen'>(</span><span class='symbol'>:indent</span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span> <span class='symbol'>:encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
</pre>
<p>
See Node#write_to for a list of <tt>options</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


668
669
670
671
672</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 668</span>

<span class='kw'>def</span> <span class='id to_xml'>to_xml</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span> <span class='op'>|</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>AS_XML</span>

  <span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="traverse-instance_method">
  
    - (<tt>Object</tt>) <strong>traverse</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
## Yields self and all children to <tt>block</tt> recursively.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


593
594
595
596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 593</span>

<span class='kw'>def</span> <span class='id traverse'>traverse</span> <span class='op'>&amp;</span><span class='id block'>block</span>
  <span class='id children'>children</span><span class='period'>.</span><span class='id each'>each</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id j'>j</span><span class='op'>|</span> <span class='id j'>j</span><span class='period'>.</span><span class='id traverse'>traverse</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id block'>block</span><span class='period'>.</span><span class='id call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="unlink-instance_method">
  
    - (<tt>Object</tt>) <strong>unlink</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='remove-instance_method'>remove</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Unlink this node from its current context.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node.c'</span>

def unlink
  LibXML.xmlUnlinkNode(cstruct)
  cstruct.keep_reference_from_document!
  self
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="values-instance_method">
  
    - (<tt>Object</tt>) <strong>values</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Get the attribute values for this Node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390
391
392</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 390</span>

<span class='kw'>def</span> <span class='id values'>values</span>
  <span class='id attribute_nodes'>attribute_nodes</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span> <span class='id node'>node</span><span class='period'>.</span><span class='id value'>value</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_html_to-instance_method">
  
    - (<tt>Object</tt>) <strong>write_html_to</strong>(io, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Write Node as HTML to <tt>io</tt> with <tt>options</tt>
</p>
<p>
See Node#write_to for a list of <tt>options</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


727
728
729
730
731
732
733
734
735
736</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 727</span>

<span class='kw'>def</span> <span class='id write_html_to'>write_html_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># FIXME: this is a hack around broken libxml versions
</span>  <span class='kw'>return</span> <span class='lparen'>(</span><span class='id io'>io</span> <span class='op'>&lt;&lt;</span> <span class='id dump_html'>dump_html</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>2</span><span class='words_sep'> </span><span class='tstring_content'>6</span><span class='words_sep'>]</span> <span class='op'>===</span> <span class='const'>LIBXML_VERSION</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rbracket'>]</span>

  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span> <span class='op'>|</span>
    <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_DECLARATION</span> <span class='op'>|</span>
    <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_EMPTY_TAGS</span> <span class='op'>|</span>
    <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>AS_HTML</span>
  <span class='id write_to'>write_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_to-instance_method">
  
    - (<tt>Object</tt>) <strong>write_to</strong>(io, *options) {|config| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Write Node to <tt>io</tt> with <tt>options</tt>. <tt>options</tt> modify
the output of this method.  Valid options are:
</p>
<ul>
<li><p>
<tt>:encoding</tt> for changing the encoding
</p>
</li>
<li><p>
<tt>:indent_text</tt> the indentation text, defaults to one space
</p>
</li>
<li><p>
<tt>:indent</tt> the number of <tt>:indent_text</tt> to use, defaults to 2
</p>
</li>
<li><p>
<tt>:save_with</tt> a combination of SaveOptions constants.
</p>
</li>
</ul>
<p>
To save with UTF-8 indented twice:
</p>
<pre class="code">
  <span class='id node'>node</span><span class='period'>.</span><span class='id write_to'>write_to</span><span class='lparen'>(</span><span class='id io'>io</span><span class='comma'>,</span> <span class='symbol'>:encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:indent</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='rparen'>)</span>
</pre>
<p>
To save indented with two dashes:
</p>
<pre class="code">
  node.write_to(io, :indent_text =&gt; '-', :indent =&gt; 2</pre>


  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>config</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


709
710
711
712
713
714
715
716
717
718
719
720
721</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 709</span>

<span class='kw'>def</span> <span class='id write_to'>write_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='op'>*</span><span class='id options'>options</span>
  <span class='id options'>options</span>       <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id first'>first</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id options'>options</span><span class='period'>.</span><span class='id shift'>shift</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id encoding'>encoding</span>      <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:encoding</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id save_options'>save_options</span>  <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span>
  <span class='id indent_text'>indent_text</span>   <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent_text</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> </span><span class='tstring_end'>'</span></span>
  <span class='id indent_times'>indent_times</span>  <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>2</span>


  <span class='id config'>config</span> <span class='op'>=</span> <span class='const'>SaveOptions</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id save_options'>save_options</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='id config'>config</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>

  <span class='id native_write_to'>native_write_to</span><span class='lparen'>(</span><span class='id io'>io</span><span class='comma'>,</span> <span class='id encoding'>encoding</span><span class='comma'>,</span> <span class='id indent_text'>indent_text</span> <span class='op'>*</span> <span class='id indent_times'>indent_times</span><span class='comma'>,</span> <span class='id config'>config</span><span class='period'>.</span><span class='id options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_xhtml_to-instance_method">
  
    - (<tt>Object</tt>) <strong>write_xhtml_to</strong>(io, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Write Node as XHTML to <tt>io</tt> with <tt>options</tt>
</p>
<p>
See Node#write_to for a list of <tt>options</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


742
743
744
745
746
747
748
749
750
751</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 742</span>

<span class='kw'>def</span> <span class='id write_xhtml_to'>write_xhtml_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># FIXME: this is a hack around broken libxml versions
</span>  <span class='kw'>return</span> <span class='lparen'>(</span><span class='id io'>io</span> <span class='op'>&lt;&lt;</span> <span class='id dump_html'>dump_html</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>2</span><span class='words_sep'> </span><span class='tstring_content'>6</span><span class='words_sep'>]</span> <span class='op'>===</span> <span class='const'>LIBXML_VERSION</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rbracket'>]</span>

  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span> <span class='op'>|</span>
    <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_DECLARATION</span> <span class='op'>|</span>
    <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>NO_EMPTY_TAGS</span> <span class='op'>|</span>
    <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>AS_XHTML</span>
  <span class='id write_to'>write_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_xml_to-instance_method">
  
    - (<tt>Object</tt>) <strong>write_xml_to</strong>(io, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Write Node as XML to <tt>io</tt> with <tt>options</tt>
</p>
<pre class="code">
  <span class='id doc'>doc</span><span class='period'>.</span><span class='id write_xml_to'>write_xml_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='symbol'>:encoding</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>'</span></span>
</pre>
<p>
See Node#write_to for a list of options
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


759
760
761
762</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 759</span>

<span class='kw'>def</span> <span class='id write_xml_to'>write_xml_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:save_with</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>FORMAT</span> <span class='op'>|</span> <span class='const'>SaveOptions</span><span class='op'>::</span><span class='const'>AS_XML</span>
  <span class='id write_to'>write_to</span> <span class='id io'>io</span><span class='comma'>,</span> <span class='id options'>options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xml?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>xml?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if this is an XML::Document node
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 487</span>

<span class='kw'>def</span> <span class='id xml?'>xml?</span>
  <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>DOCUMENT_NODE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xpath-instance_method">
  
    - (<tt>Object</tt>) <strong>xpath</strong>(*paths) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Search this node for XPath <tt>paths</tt>. <tt>paths</tt> must be one or
more XPath queries.  A hash of namespaces may be appended.  For example:
</p>
<pre class="code">
  <span class='id node'>node</span><span class='period'>.</span><span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.//title</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id node'>node</span><span class='period'>.</span><span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.//foo:name</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>foo</span><span class='tstring_end'>'</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>http://example.org/</span><span class='tstring_end'>'</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id node'>node</span><span class='period'>.</span><span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.//xmlns:name</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id node'>node</span><span class='period'>.</span><span class='id root'>root</span><span class='period'>.</span><span class='id namespaces'>namespaces</span><span class='rparen'>)</span>
</pre>
<p>
Custom XPath functions may also be defined.  To define custom functions
create a class and implement the # function you want to define. For
example:
</p>
<pre class="code">
  <span class='id node'>node</span><span class='period'>.</span><span class='id xpath'>xpath</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.//title[regex(., &quot;\w+&quot;)]</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>Class</span><span class='period'>.</span><span class='id new'>new</span> <span class='lbrace'>{</span>
    <span class='kw'>def</span> <span class='id regex'>regex</span> <span class='id node_set'>node_set</span><span class='comma'>,</span> <span class='id regex'>regex</span>
      <span class='id node_set'>node_set</span><span class='period'>.</span><span class='id find_all'>find_all</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span> <span class='id node'>node</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>some_attribute</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id regex'>regex</span><span class='rbrace'>}</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id new'>new</span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node.rb', line 129</span>

<span class='kw'>def</span> <span class='id xpath'>xpath</span> <span class='op'>*</span><span class='id paths'>paths</span>
  <span class='comment'># Pop off our custom function handler if it exists
</span>  <span class='id handler'>handler</span> <span class='op'>=</span> <span class='op'>!</span><span class='lbracket'>[</span>
    <span class='const'>Hash</span><span class='comma'>,</span> <span class='const'>String</span><span class='comma'>,</span> <span class='const'>Symbol</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id paths'>paths</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id class'>class</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id paths'>paths</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span> <span class='kw'>nil</span>

  <span class='id ns'>ns</span> <span class='op'>=</span> <span class='id paths'>paths</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id paths'>paths</span><span class='period'>.</span><span class='id pop'>pop</span> <span class='op'>:</span>
    <span class='lparen'>(</span><span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span> <span class='op'>?</span> <span class='id document'>document</span><span class='period'>.</span><span class='id root'>root</span><span class='period'>.</span><span class='id namespaces'>namespaces</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id document'>document</span>

  <span class='id sets'>sets</span> <span class='op'>=</span> <span class='id paths'>paths</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id path'>path</span><span class='op'>|</span>
    <span class='id ctx'>ctx</span> <span class='op'>=</span> <span class='const'>XPathContext</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
    <span class='id ctx'>ctx</span><span class='period'>.</span><span class='id register_namespaces'>register_namespaces</span><span class='lparen'>(</span><span class='id ns'>ns</span><span class='rparen'>)</span>
    <span class='id ctx'>ctx</span><span class='period'>.</span><span class='id evaluate'>evaluate</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id handler'>handler</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id sets'>sets</span><span class='period'>.</span><span class='id first'>first</span> <span class='kw'>if</span> <span class='id sets'>sets</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>==</span> <span class='int'>1</span>

  <span class='const'>NodeSet</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id document'>document</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id combined'>combined</span><span class='op'>|</span>
    <span class='id sets'>sets</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id set'>set</span><span class='op'>|</span>
      <span class='id set'>set</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id node'>node</span><span class='op'>|</span>
        <span class='id combined'>combined</span> <span class='op'>&lt;&lt;</span> <span class='id node'>node</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 19:07:03 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>