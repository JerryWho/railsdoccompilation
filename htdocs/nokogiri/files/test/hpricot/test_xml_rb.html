  <div id="fileHeader">
    <h1>test_xml.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>test/hpricot/test_xml.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 19:03:28 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.expand_path(File.join(File.dirname(__FILE__), '..', &quot;helper&quot;))
require File.join(File.dirname(__FILE__),&quot;load_files&quot;)

class TestParser &lt; Nokogiri::TestCase
  include Nokogiri
  # normally, the link tags are empty HTML tags.
  # contributed by laudney.
  def test_normally_empty
    doc = Nokogiri::XML(&quot;&lt;rss&gt;&lt;channel&gt;&lt;title&gt;this is title&lt;/title&gt;&lt;link&gt;http://fake.com&lt;/link&gt;&lt;/channel&gt;&lt;/rss&gt;&quot;)
    assert_equal &quot;this is title&quot;, (doc/:rss/:channel/:title).text
    assert_equal &quot;http://fake.com&quot;, (doc/:rss/:channel/:link).text
  end

  # make sure XML doesn't get downcased
  def test_casing
    doc = Nokogiri::XML(TestFiles::WHY)

    ### Modified.
    # I don't want to differentiate pseudo classes from namespaces.  If
    # you're parsing xml, use XPath.  That's what its for.  :-P
    assert_equal &quot;hourly&quot;, (doc.at &quot;//sy:updatePeriod&quot;).content
    assert_equal 1, (doc/&quot;guid[@isPermaLink]&quot;).length
  end

  # be sure tags named &quot;text&quot; are ok
  def test_text_tags
    doc = Nokogiri::XML(&quot;&lt;feed&gt;&lt;title&gt;City Poisoned&lt;/title&gt;&lt;text&gt;Rita Lee has poisoned Brazil.&lt;/text&gt;&lt;/feed&gt;&quot;)
    assert_equal &quot;City Poisoned&quot;, (doc/&quot;title&quot;).text
  end
end
</pre>
    </div>