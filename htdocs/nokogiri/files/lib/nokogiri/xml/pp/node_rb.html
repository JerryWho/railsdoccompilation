  <div id="fileHeader">
    <h1>node.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/nokogiri/xml/pp/node.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Thu Nov 26 17:53:40 +0100 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>module Nokogiri
  module XML
    module PP
      module Node
        def inspect # :nodoc:
          attributes = inspect_attributes.reject { |x|
            begin
              attribute = send x
              !attribute || (attribute.respond_to?(:empty?) &amp;&amp; attribute.empty?)
            rescue NoMethodError
              true
            end
          }.map { |attribute|
            &quot;#{attribute.to_s.sub(/_\w+/, 's')}=#{send(attribute).inspect}&quot;
          }.join ' '
          &quot;#&lt;#{self.class.name}:#{sprintf(&quot;0x%x&quot;, object_id)} #{attributes}&gt;&quot;
        end

        def pretty_print pp # :nodoc:
          nice_name = self.class.name.split('::').last
          pp.group(2, &quot;#(#{nice_name}:#{sprintf(&quot;0x%x&quot;, object_id)} {&quot;, '})') do

            pp.breakable
            attrs = inspect_attributes.map { |t|
              [t, send(t)] if respond_to?(t)
            }.compact.find_all { |x|
              if x.last
                if [:attribute_nodes, :children].include? x.first
                  !x.last.empty?
                else
                  true
                end
              end
            }

            pp.seplist(attrs) do |v|
              if [:attribute_nodes, :children].include? v.first
                pp.group(2, &quot;#{v.first.to_s.sub(/_\w+$/, 's')} = [&quot;, &quot;]&quot;) do
                  pp.breakable
                  pp.seplist(v.last) do |item|
                    pp.pp item
                  end
                end
              else
                pp.text &quot;#{v.first} = &quot;
                pp.pp v.last
              end
            end
            pp.breakable

          end
        end
      end
    end
  end
end
</pre>
    </div>