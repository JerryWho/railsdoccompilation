  <div id="fileHeader">
    <h1>html_entity_lookup.c</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>ext/nokogiri/html_entity_lookup.c</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 19:03:28 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>#include &lt;html_entity_lookup.h&gt;

/*
 * call-seq:
 *  get(key)
 *
 * Get the HTML::EntityDescription for +key+
 */
static VALUE get(VALUE self, VALUE key)
{
  const htmlEntityDesc * desc =
    htmlEntityLookup((const xmlChar *)StringValuePtr(key));

  if(NULL == desc) return Qnil;
  VALUE klass = rb_const_get(mNokogiriHtml, rb_intern(&quot;EntityDescription&quot;));

  return rb_funcall(klass, rb_intern(&quot;new&quot;), 3,
      INT2NUM((int)desc-&gt;value),
      NOKOGIRI_STR_NEW2(desc-&gt;name, &quot;UTF-8&quot;),
      NOKOGIRI_STR_NEW2(desc-&gt;desc, &quot;UTF-8&quot;));
}

void init_html_entity_lookup()
{
  VALUE nokogiri = rb_define_module(&quot;Nokogiri&quot;);
  VALUE html = rb_define_module_under(nokogiri, &quot;HTML&quot;);
  VALUE klass = rb_define_class_under(html, &quot;EntityLookup&quot;, rb_cObject);

  rb_define_method(klass, &quot;get&quot;, get, 1);
}
</pre>
    </div>