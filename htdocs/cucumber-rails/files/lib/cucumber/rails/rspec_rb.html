  <div id="fileHeader">
    <h1>rspec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/cucumber/rails/rspec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 18:23:07 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre># TODO: Not even sure is this is necessary anymore, since we're doing this in Cucumber's rb_world.rb...
require 'cucumber/rails/world'

begin
  require 'rspec/rails/matchers'

  [Cucumber::Rails::World, ActionController::Integration::Session].each do |klass|
    klass.class_eval do
      include RSpec::Matchers
    end
  end
rescue LoadError =&gt; try_rspec_1
  require 'spec/expectations'
  require 'spec/rails'

  [Cucumber::Rails::World, ActionController::Integration::Session].each do |klass|
    klass.class_eval do
      include Spec::Matchers
      include Spec::Rails::Matchers if defined?(Spec::Rails::Matchers)
    end
  end
end
</pre>
    </div>