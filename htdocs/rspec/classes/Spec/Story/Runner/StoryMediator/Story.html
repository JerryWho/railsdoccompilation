  <div id="C00000115">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Story<br/>
  In:
<a href="#" onclick="jsHref('files/lib/spec/story/runner/story_mediator_rb.html');">lib/spec/story/runner/story_mediator.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000238&name=add_scenario" >add_scenario</a></li>
  <li><a href="index.html?a=M000239&name=current_scenario" >current_scenario</a></li>
  <li><a href="index.html?a=M000236&name=new" >new</a></li>
  <li><a href="index.html?a=M000237&name=to_proc" >to_proc</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M000236" class="method">
  <div id="M000236_title" class="title">
    <b>new</b>(title, narrative, step_group, options)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000236_source')" id="l_M000236_source">show source</a> ]</p>
  <div id="M000236_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 63</span>
63:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">narrative</span>, <span class="ruby-identifier">step_group</span>, <span class="ruby-identifier">options</span>)
64:             <span class="ruby-ivar">@title</span> = <span class="ruby-identifier">title</span>
65:             <span class="ruby-ivar">@narrative</span> = <span class="ruby-identifier">narrative</span>
66:             <span class="ruby-ivar">@scenarios</span> = []
67:             <span class="ruby-ivar">@step_group</span> = <span class="ruby-identifier">step_group</span>
68:             <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
69:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000238" class="method">
  <div id="M000238_title" class="title">
    <b>add_scenario</b>(scenario)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000238_source')" id="l_M000238_source">show source</a> ]</p>
  <div id="M000238_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 83</span>
83:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_scenario</span>(<span class="ruby-identifier">scenario</span>)
84:             <span class="ruby-ivar">@scenarios</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">scenario</span>
85:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000239" class="method">
  <div id="M000239_title" class="title">
    <b>current_scenario</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000239_source')" id="l_M000239_source">show source</a> ]</p>
  <div id="M000239_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 87</span>
87:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_scenario</span>
88:             <span class="ruby-ivar">@scenarios</span>.<span class="ruby-identifier">last</span>
89:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000237" class="method">
  <div id="M000237_title" class="title">
    <b>to_proc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000237_source')" id="l_M000237_source">show source</a> ]</p>
  <div id="M000237_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 71</span>
71:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_proc</span>
72:             <span class="ruby-identifier">title</span> = <span class="ruby-ivar">@title</span>
73:             <span class="ruby-identifier">narrative</span> = <span class="ruby-ivar">@narrative</span>
74:             <span class="ruby-identifier">scenarios</span> = <span class="ruby-ivar">@scenarios</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">scenario</span><span class="ruby-operator">|</span> <span class="ruby-identifier">scenario</span>.<span class="ruby-identifier">to_proc</span> }
75:             <span class="ruby-identifier">options</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:steps_for</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@step_group</span>)
76:             <span class="ruby-identifier">lambda</span> <span class="ruby-keyword kw">do</span>
77:               <span class="ruby-constant">Story</span> <span class="ruby-identifier">title</span>, <span class="ruby-identifier">narrative</span>, <span class="ruby-identifier">options</span> <span class="ruby-keyword kw">do</span>
78:                 <span class="ruby-identifier">scenarios</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">scenario</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">scenario</span>) }
79:               <span class="ruby-keyword kw">end</span>
80:             <span class="ruby-keyword kw">end</span>
81:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>