  <div id="C00000114">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />StoryMediator<br/>
  In:
<a href="#" onclick="jsHref('files/lib/spec/story/runner/story_mediator_rb.html');">lib/spec/story/runner/story_mediator.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000234&name=add_to_last" >add_to_last</a></li>
  <li><a href="index.html?a=M000229&name=create_given" >create_given</a></li>
  <li><a href="index.html?a=M000230&name=create_given_scenario" >create_given_scenario</a></li>
  <li><a href="index.html?a=M000228&name=create_scenario" >create_scenario</a></li>
  <li><a href="index.html?a=M000227&name=create_story" >create_story</a></li>
  <li><a href="index.html?a=M000232&name=create_then" >create_then</a></li>
  <li><a href="index.html?a=M000231&name=create_when" >create_when</a></li>
  <li><a href="index.html?a=M000233&name=last_step" >last_step</a></li>
  <li><a href="index.html?a=M000225&name=new" >new</a></li>
  <li><a href="index.html?a=M000235&name=run_stories" >run_stories</a></li>
  <li><a href="index.html?a=M000226&name=stories" >stories</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/Spec/Story/Runner/StoryMediator/Scenario.html');" class="link">Spec::Story::Runner::StoryMediator::Scenario</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Spec/Story/Runner/StoryMediator/Step.html');" class="link">Spec::Story::Runner::StoryMediator::Step</a>"<br />
Class "<a href="#" onclick="jsHref('classes/Spec/Story/Runner/StoryMediator/Story.html');" class="link">Spec::Story::Runner::StoryMediator::Story</a>"<br />




<div class="sectiontitle">Public Class methods</div>
<div id="M000225" class="method">
  <div id="M000225_title" class="title">
    <b>new</b>(step_group, runner, options={})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000225_source')" id="l_M000225_source">show source</a> ]</p>
  <div id="M000225_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 6</span>
 6:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">step_group</span>, <span class="ruby-identifier">runner</span>, <span class="ruby-identifier">options</span>={})
 7:           <span class="ruby-ivar">@step_group</span> = <span class="ruby-identifier">step_group</span>
 8:           <span class="ruby-ivar">@stories</span> = []
 9:           <span class="ruby-ivar">@runner</span> = <span class="ruby-identifier">runner</span>
10:           <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
11:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000234" class="method">
  <div id="M000234_title" class="title">
    <b>add_to_last</b>(name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000234_source')" id="l_M000234_source">show source</a> ]</p>
  <div id="M000234_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 45</span>
45:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_to_last</span>(<span class="ruby-identifier">name</span>)
46:           <span class="ruby-identifier">last_step</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span>
47:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000229" class="method">
  <div id="M000229_title" class="title">
    <b>create_given</b>(name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000229_source')" id="l_M000229_source">show source</a> ]</p>
  <div id="M000229_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 25</span>
25:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_given</span>(<span class="ruby-identifier">name</span>)
26:           <span class="ruby-identifier">current_scenario</span>.<span class="ruby-identifier">add_step</span> <span class="ruby-constant">Step</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Given'</span>, <span class="ruby-identifier">name</span>)
27:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000230" class="method">
  <div id="M000230_title" class="title">
    <b>create_given_scenario</b>(name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000230_source')" id="l_M000230_source">show source</a> ]</p>
  <div id="M000230_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 29</span>
29:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_given_scenario</span>(<span class="ruby-identifier">name</span>)
30:           <span class="ruby-identifier">current_scenario</span>.<span class="ruby-identifier">add_step</span> <span class="ruby-constant">Step</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'GivenScenario'</span>, <span class="ruby-identifier">name</span>)
31:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000228" class="method">
  <div id="M000228_title" class="title">
    <b>create_scenario</b>(title)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000228_source')" id="l_M000228_source">show source</a> ]</p>
  <div id="M000228_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 21</span>
21:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_scenario</span>(<span class="ruby-identifier">title</span>)
22:           <span class="ruby-identifier">current_story</span>.<span class="ruby-identifier">add_scenario</span> <span class="ruby-constant">Scenario</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">title</span>)
23:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000227" class="method">
  <div id="M000227_title" class="title">
    <b>create_story</b>(title, narrative)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000227_source')" id="l_M000227_source">show source</a> ]</p>
  <div id="M000227_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 17</span>
17:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_story</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">narrative</span>)
18:           <span class="ruby-ivar">@stories</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Story</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">narrative</span>, <span class="ruby-ivar">@step_group</span>, <span class="ruby-ivar">@options</span>)
19:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000232" class="method">
  <div id="M000232_title" class="title">
    <b>create_then</b>(name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000232_source')" id="l_M000232_source">show source</a> ]</p>
  <div id="M000232_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 37</span>
37:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_then</span>(<span class="ruby-identifier">name</span>)
38:           <span class="ruby-identifier">current_scenario</span>.<span class="ruby-identifier">add_step</span> <span class="ruby-constant">Step</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Then'</span>, <span class="ruby-identifier">name</span>)
39:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000231" class="method">
  <div id="M000231_title" class="title">
    <b>create_when</b>(name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000231_source')" id="l_M000231_source">show source</a> ]</p>
  <div id="M000231_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 33</span>
33:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_when</span>(<span class="ruby-identifier">name</span>)
34:           <span class="ruby-identifier">current_scenario</span>.<span class="ruby-identifier">add_step</span> <span class="ruby-constant">Step</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'When'</span>, <span class="ruby-identifier">name</span>)
35:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000233" class="method">
  <div id="M000233_title" class="title">
    <b>last_step</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000233_source')" id="l_M000233_source">show source</a> ]</p>
  <div id="M000233_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 41</span>
41:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">last_step</span>
42:           <span class="ruby-identifier">current_scenario</span>.<span class="ruby-identifier">last_step</span>
43:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000235" class="method">
  <div id="M000235_title" class="title">
    <b>run_stories</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000235_source')" id="l_M000235_source">show source</a> ]</p>
  <div id="M000235_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 49</span>
49:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_stories</span>
50:           <span class="ruby-identifier">stories</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">story</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@runner</span>.<span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">story</span>) }
51:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000226" class="method">
  <div id="M000226_title" class="title">
    <b>stories</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000226_source')" id="l_M000226_source">show source</a> ]</p>
  <div id="M000226_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/story/runner/story_mediator.rb, line 13</span>
13:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stories</span>
14:           <span class="ruby-ivar">@stories</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">to_proc</span> }
15:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>