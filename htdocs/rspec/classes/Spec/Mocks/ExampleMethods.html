  <div id="C00000031">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />ExampleMethods<br/>
  In:
<a href="#" onclick="jsHref('files/lib/spec/mocks/example_methods_rb.html');">lib/spec/mocks/example_methods.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000066&name=allow_message_expectations_on_nil" >allow_message_expectations_on_nil</a></li>
  <li><a href="index.html?a=M000062&name=double" >double</a></li>
  <li><a href="index.html?a=M000063&name=mock" >mock</a></li>
  <li><a href="index.html?a=M000064&name=stub" >stub</a></li>
  <li><a href="index.html?a=M000065&name=stub_everything" >stub_everything</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/Spec/Mocks/ArgumentMatchers.html');">Spec::Mocks::ArgumentMatchers</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div id="M000066" class="method">
  <div id="M000066_title" class="title">
    <b>allow_message_expectations_on_nil</b>()
  </div>
  <div class="description">
  <p>
Disables warning messages about expectations being set on nil.
</p>
<p>
By default warning messages are issued when expectations are set on nil.
This is to prevent false-positives and to catch potential bugs early on.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000066_source')" id="l_M000066_source">show source</a> ]</p>
  <div id="M000066_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/mocks/example_methods.rb, line 64</span>
64:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">allow_message_expectations_on_nil</span>
65:         <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">allow_message_expectations_on_nil</span>
66:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000062" class="method">
  <div id="M000062_title" class="title">
    <b>double</b>(*args)
  </div>
  <div class="description">
  <p>
Shortcut for creating an instance of <a
href="index.html?a=C00000042&name=Spec::Mocks::Mock">Spec::Mocks::Mock</a>.
</p>
<p>
<tt>name</tt> is used for failure reporting, so you should use the role
that the double is playing in the example.
</p>
<p>
<tt>stubs_and_options</tt> lets you assign options and stub values at the
same time. The only option available is :null_object. Anything else is
treated as a stub value.
</p>
<h2>Examples</h2>
<pre>
  thing = double(&quot;thing&quot;, :a =&gt; &quot;A&quot;)
  thing.a == &quot;A&quot; =&gt; true

  person = double(&quot;thing&quot;, :name =&gt; &quot;Joe&quot;, :email =&gt; &quot;joe@domain.com&quot;)
  person.name =&gt; &quot;Joe&quot;
  person.email =&gt; &quot;joe@domain.com&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000062_source')" id="l_M000062_source">show source</a> ]</p>
  <div id="M000062_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/mocks/example_methods.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">double</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
24:         <span class="ruby-identifier">__declare_double</span>(<span class="ruby-value str">'Double'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
25:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000063" class="method">
  <div id="M000063_title" class="title">
    <b>mock</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for double
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000063_source')" id="l_M000063_source">show source</a> ]</p>
  <div id="M000063_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/mocks/example_methods.rb, line 28</span>
28:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mock</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
29:         <span class="ruby-identifier">__declare_double</span>(<span class="ruby-value str">'Mock'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
30:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000064" class="method">
  <div id="M000064_title" class="title">
    <b>stub</b>(*args)
  </div>
  <div class="description">
  <p>
Alias for double
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000064_source')" id="l_M000064_source">show source</a> ]</p>
  <div id="M000064_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/mocks/example_methods.rb, line 33</span>
33:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stub</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
34:         <span class="ruby-identifier">__declare_double</span>(<span class="ruby-value str">'Stub'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
35:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000065" class="method">
  <div id="M000065_title" class="title">
    <b>stub_everything</b>(name = 'stub')
  </div>
  <div class="description">
  <p>
DEPRECATED - use double(&#8216;name&#8217;).as_null_object instead
</p>
<p>
Shortcut for creating a mock object that will return itself in response to
any message it receives that it hasn&#8217;t been explicitly instructed to
respond to.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000065_source')" id="l_M000065_source">show source</a> ]</p>
  <div id="M000065_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/mocks/example_methods.rb, line 48</span>
48:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stub_everything</span>(<span class="ruby-identifier">name</span> = <span class="ruby-value str">'stub'</span>)
49:         <span class="ruby-constant">Spec</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-value str">&quot;\nDEPRECATION: stub_everything('\#{name}') is deprecated and will be removed\nfrom a future version of rspec. Please use double('\#{name}').as_null_object\n(or stub('\#{name}').as_null_object or mock('\#{name}').as_null_object instead.\n\n&quot;</span>)
50:         <span class="ruby-identifier">mock</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">:null_object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
51:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>