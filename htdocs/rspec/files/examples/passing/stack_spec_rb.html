  <div id="fileHeader">
    <h1>stack_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>examples/passing/stack_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:11:11 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/spec_helper'
require File.dirname(__FILE__) + &quot;/stack&quot;
require File.dirname(__FILE__) + '/shared_stack_examples'

describe Stack, &quot; (empty)&quot; do
  before(:each) do
    @stack = Stack.new
  end
  
  # This uses @stack (because the described class is Stack) auto-generates the
  # description &quot;should be empty&quot;
  it { should be_empty }
  
  it_should_behave_like &quot;non-full Stack&quot;
  
  it &quot;should complain when sent #peek&quot; do
    lambda { @stack.peek }.should raise_error(StackUnderflowError)
  end
  
  it &quot;should complain when sent #pop&quot; do
    lambda { @stack.pop }.should raise_error(StackUnderflowError)
  end
end

describe Stack, &quot; (with one item)&quot; do
  before(:each) do
    @stack = Stack.new
    @stack.push 3
    @last_item_added = 3
  end

  it_should_behave_like &quot;non-empty Stack&quot;
  it_should_behave_like &quot;non-full Stack&quot;

end

describe Stack, &quot; (with one item less than capacity)&quot; do
  before(:each) do
    @stack = Stack.new
    (1..9).each { |i| @stack.push i }
    @last_item_added = 9
  end
  
  it_should_behave_like &quot;non-empty Stack&quot;
  it_should_behave_like &quot;non-full Stack&quot;
end

describe Stack, &quot; (full)&quot; do
  before(:each) do
    @stack = Stack.new
    (1..10).each { |i| @stack.push i }
    @last_item_added = 10
  end

  # NOTE that this one auto-generates the description &quot;should be full&quot;
  it { @stack.should be_full }  

  it_should_behave_like &quot;non-empty Stack&quot;

  it &quot;should complain on #push&quot; do
    lambda { @stack.push Object.new }.should raise_error(StackOverflowError)
  end
  
end
</pre>
    </div>