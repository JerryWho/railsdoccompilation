  <div id="fileHeader">
    <h1>main.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/spec/dsl/main.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:57:53 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>module Spec
  module DSL
    module Main
      include Spec::Example::ArgsAndOptions

      # Creates and returns a class that includes the ExampleGroupMethods
      # module. Which ExampleGroup type is created depends on the directory of the file
      # calling this method. For example, Spec::Rails will use different
      # classes for specs living in &lt;tt&gt;spec/models&lt;/tt&gt;,
      # &lt;tt&gt;spec/helpers&lt;/tt&gt;, &lt;tt&gt;spec/views&lt;/tt&gt; and
      # &lt;tt&gt;spec/controllers&lt;/tt&gt;.
      #
      # It is also possible to override autodiscovery of the example group
      # type with an options Hash as the last argument:
      #
      #   describe &quot;name&quot;, :type =&gt; :something_special do ...
      #
      # The reason for using different example group classes is to have different
      # matcher methods available from within the &lt;tt&gt;describe&lt;/tt&gt; block.
      #
      # See Spec::Example::ExampleGroupFactory#register for details about how to
      # register special implementations.
      #
      def describe(*args, &amp;block)
        raise Spec::Example::NoDescriptionError.new(&quot;example group&quot;, caller(0)[1]) if args.empty?
        add_options(args, :scope =&gt; self)
        set_location(args.options, caller(0)[1])
        Spec::Example::ExampleGroupFactory.create_example_group(*args, &amp;block)
      end
      alias :context :describe

      # Creates an example group that can be shared by other example groups
      #
      # == Examples
      #
      #  share_examples_for &quot;All Editions&quot; do
      #    it &quot;all editions behaviour&quot; ...
      #  end
      #
      #  describe SmallEdition do
      #    it_should_behave_like &quot;All Editions&quot;
      #
      #    it &quot;should do small edition stuff&quot; do
      #      ...
      #    end
      #  end
      def share_examples_for(*args, &amp;block)
        add_options(args)
        set_location(args.options, caller(0)[1])
        Spec::Example::ExampleGroupFactory.create_shared_example_group(*args, &amp;block)
      end
      alias :shared_examples_for :share_examples_for

      # Creates a Shared Example Group and assigns it to a constant
      #
      #  share_as :AllEditions do
      #    it &quot;should do all editions stuff&quot; ...
      #  end
      #
      #  describe SmallEdition do
      #    it_should_behave_like AllEditions
      #
      #    it &quot;should do small edition stuff&quot; do
      #      ...
      #    end
      #  end
      #
      # And, for those of you who prefer to use something more like Ruby, you
      # can just include the module directly
      #
      #  describe SmallEdition do
      #    include AllEditions
      #
      #    it &quot;should do small edition stuff&quot; do
      #      ...
      #    end
      #  end
      def share_as(name, &amp;block)
        begin
          args = [name]
          add_options(args)
          set_location(args.options, caller(0)[1])
          Object.const_set(name, Spec::Example::ExampleGroupFactory.create_shared_example_group(*args, &amp;block))
        rescue NameError =&gt; e
          raise NameError.new(e.message + &quot;\nThe first argument to share_as must be a legal name for a constant\n&quot;)
        end
      end
    end
  end
end

include Spec::DSL::Main
</pre>
    </div>