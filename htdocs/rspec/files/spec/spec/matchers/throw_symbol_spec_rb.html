  <div id="fileHeader">
    <h1>throw_symbol_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/matchers/throw_symbol_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:11:11 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper.rb'

module Spec
  module Matchers
    describe ThrowSymbol do
      describe &quot;with no args&quot; do
        before(:each) { @matcher = ThrowSymbol.new }
      
        it &quot;should match if any Symbol is thrown&quot; do
          @matcher.matches?(lambda{ throw :sym }).should be_true
        end
        it &quot;should match if any Symbol is thrown with an arg&quot; do
          @matcher.matches?(lambda{ throw :sym, &quot;argument&quot; }).should be_true
        end
        it &quot;should not match if no Symbol is thrown&quot; do
          @matcher.matches?(lambda{ }).should be_false
        end
        it &quot;should provide a failure message&quot; do
          @matcher.matches?(lambda{})
          @matcher.failure_message.should == &quot;expected a Symbol but nothing was thrown&quot;
        end
        it &quot;should provide a negative failure message&quot; do
          @matcher.matches?(lambda{ throw :sym})
          @matcher.negative_failure_message.should == &quot;expected no Symbol, got :sym&quot;
        end
      end
          
      describe &quot;with a symbol&quot; do
        before(:each) { @matcher = ThrowSymbol.new(:sym) }
      
        it &quot;should match if correct Symbol is thrown&quot; do
          @matcher.matches?(lambda{ throw :sym }).should be_true
        end
        it &quot;should match if correct Symbol is thrown with an arg&quot; do
          @matcher.matches?(lambda{ throw :sym, &quot;argument&quot; }).should be_true
        end
        it &quot;should not match if no Symbol is thrown&quot; do
          @matcher.matches?(lambda{ }).should be_false
        end
        it &quot;should not match if correct Symbol is thrown&quot; do
          @matcher.matches?(lambda{ throw :other_sym }).should be_false
        end
        it &quot;should provide a failure message when no Symbol is thrown&quot; do
          @matcher.matches?(lambda{})
          @matcher.failure_message.should == &quot;expected :sym but nothing was thrown&quot;
        end
        it &quot;should provide a failure message when wrong Symbol is thrown&quot; do
          @matcher.matches?(lambda{ throw :other_sym })
          @matcher.failure_message.should == &quot;expected :sym, got :other_sym&quot;
        end
        it &quot;should provide a negative failure message&quot; do
          @matcher.matches?(lambda{ throw :sym })
          @matcher.negative_failure_message.should == &quot;expected :sym not to be thrown&quot;
        end
        it &quot;should only match NameErrors raised by uncaught throws&quot; do
          @matcher.matches?(lambda{ sym }).should be_false
        end
      end

      describe &quot;with a symbol and an arg&quot; do
        before(:each) { @matcher = ThrowSymbol.new(:sym, &quot;a&quot;) }
    
        it &quot;should match if correct Symbol and args are thrown&quot; do
          @matcher.matches?(lambda{ throw :sym, &quot;a&quot; }).should be_true
        end
        it &quot;should not match if nothing is thrown&quot; do
          @matcher.matches?(lambda{ }).should be_false
        end
        it &quot;should not match if other Symbol is thrown&quot; do
          @matcher.matches?(lambda{ throw :other_sym, &quot;a&quot; }).should be_false
        end
        it &quot;should not match if no arg is thrown&quot; do
          @matcher.matches?(lambda{ throw :sym }).should be_false
        end
        it &quot;should not match if wrong arg is thrown&quot; do
          @matcher.matches?(lambda{ throw :sym, &quot;b&quot; }).should be_false
        end
        it &quot;should provide a failure message when no Symbol is thrown&quot; do
          @matcher.matches?(lambda{})
          @matcher.failure_message.should == %q[expected :sym with &quot;a&quot; but nothing was thrown]
        end
        it &quot;should provide a failure message when wrong Symbol is thrown&quot; do
          @matcher.matches?(lambda{ throw :other_sym })
          @matcher.failure_message.should == %q[expected :sym with &quot;a&quot;, got :other_sym]
        end
        it &quot;should provide a negative failure message&quot; do
          @matcher.matches?(lambda{ throw :sym })
          @matcher.negative_failure_message.should == %q[expected :sym with &quot;a&quot; not to be thrown]
        end
        it &quot;should only match NameErrors raised by uncaught throws&quot; do
          @matcher.matches?(lambda{ sym }).should be_false
        end
      end
    end
  end
end
</pre>
    </div>