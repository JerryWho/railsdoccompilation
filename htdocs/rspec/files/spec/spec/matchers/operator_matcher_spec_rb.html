  <div id="fileHeader">
    <h1>operator_matcher_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/matchers/operator_matcher_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:11:11 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper.rb'

require 'spec/expectations/differs/default'

describe &quot;should ==&quot; do
  
  it &quot;should delegate message to target&quot; do
    subject = &quot;apple&quot;
    subject.should_receive(:==).with(&quot;apple&quot;).and_return(true)
    subject.should == &quot;apple&quot;
  end
  
  it &quot;should return true on success&quot; do
    subject = &quot;apple&quot;
    (subject.should == &quot;apple&quot;).should be_true
  end
  
  it &quot;should fail when target.==(actual) returns false&quot; do
    subject = &quot;apple&quot;
    Spec::Expectations.should_receive(:fail_with).with(%[expected: &quot;orange&quot;,\n     got: &quot;apple&quot; (using ==)], &quot;orange&quot;, &quot;apple&quot;)
    subject.should == &quot;orange&quot;
  end
  
end

describe &quot;should_not ==&quot; do
  
  it &quot;should delegate message to target&quot; do
    subject = &quot;orange&quot;
    subject.should_receive(:==).with(&quot;apple&quot;).and_return(false)
    subject.should_not == &quot;apple&quot;
  end
  
  it &quot;should return true on success&quot; do
    subject = &quot;apple&quot;
    (subject.should_not == &quot;orange&quot;).should be_true
  end

  it &quot;should fail when target.==(actual) returns false&quot; do
    subject = &quot;apple&quot;
    Spec::Expectations.should_receive(:fail_with).with(%[expected not: == &quot;apple&quot;,\n         got:    &quot;apple&quot;], &quot;apple&quot;, &quot;apple&quot;)
    subject.should_not == &quot;apple&quot;
  end
  
end

describe &quot;should ===&quot; do
  
  it &quot;should delegate message to target&quot; do
    subject = &quot;apple&quot;
    subject.should_receive(:===).with(&quot;apple&quot;).and_return(true)
    subject.should === &quot;apple&quot;
  end
  
  it &quot;should fail when target.===(actual) returns false&quot; do
    subject = &quot;apple&quot;
    subject.should_receive(:===).with(&quot;orange&quot;).and_return(false)
    Spec::Expectations.should_receive(:fail_with).with(%[expected: &quot;orange&quot;,\n     got: &quot;apple&quot; (using ===)], &quot;orange&quot;, &quot;apple&quot;)
    subject.should === &quot;orange&quot;
  end
  
end

describe &quot;should_not ===&quot; do
  
  it &quot;should delegate message to target&quot; do
    subject = &quot;orange&quot;
    subject.should_receive(:===).with(&quot;apple&quot;).and_return(false)
    subject.should_not === &quot;apple&quot;
  end
  
  it &quot;should fail when target.===(actual) returns false&quot; do
    subject = &quot;apple&quot;
    subject.should_receive(:===).with(&quot;apple&quot;).and_return(true)
    Spec::Expectations.should_receive(:fail_with).with(%[expected not: === &quot;apple&quot;,\n         got:     &quot;apple&quot;], &quot;apple&quot;, &quot;apple&quot;)
    subject.should_not === &quot;apple&quot;
  end

end

describe &quot;should =~&quot; do
  
  it &quot;should delegate message to target&quot; do
    subject = &quot;foo&quot;
    subject.should_receive(:=~).with(/oo/).and_return(true)
    subject.should =~ /oo/
  end
  
  it &quot;should fail when target.=~(actual) returns false&quot; do
    subject = &quot;fu&quot;
    subject.should_receive(:=~).with(/oo/).and_return(false)
    Spec::Expectations.should_receive(:fail_with).with(%[expected: /oo/,\n     got: &quot;fu&quot; (using =~)], /oo/, &quot;fu&quot;)
    subject.should =~ /oo/
  end

end

describe &quot;should_not =~&quot; do
  
  it &quot;should delegate message to target&quot; do
    subject = &quot;fu&quot;
    subject.should_receive(:=~).with(/oo/).and_return(false)
    subject.should_not =~ /oo/
  end
  
  it &quot;should fail when target.=~(actual) returns false&quot; do
    subject = &quot;foo&quot;
    subject.should_receive(:=~).with(/oo/).and_return(true)
    Spec::Expectations.should_receive(:fail_with).with(%[expected not: =~ /oo/,\n         got:    &quot;foo&quot;], /oo/, &quot;foo&quot;)
    subject.should_not =~ /oo/
  end

end

describe &quot;should &gt;&quot; do
  
  it &quot;should pass if &gt; passes&quot; do
    4.should &gt; 3
  end

  it &quot;should fail if &gt; fails&quot; do
    Spec::Expectations.should_receive(:fail_with).with(%[expected: &gt; 5,\n     got:   4], 5, 4)
    4.should &gt; 5
  end

end

describe &quot;should &gt;=&quot; do
  
  it &quot;should pass if &gt;= passes&quot; do
    4.should &gt; 3
    4.should &gt;= 4
  end

  it &quot;should fail if &gt; fails&quot; do
    Spec::Expectations.should_receive(:fail_with).with(%[expected: &gt;= 5,\n     got:    4], 5, 4)
    4.should &gt;= 5
  end

end

describe &quot;should &lt;&quot; do
  
  it &quot;should pass if &lt; passes&quot; do
    4.should &lt; 5
  end

  it &quot;should fail if &gt; fails&quot; do
    Spec::Expectations.should_receive(:fail_with).with(%[expected: &lt; 3,\n     got:   4], 3, 4)
    4.should &lt; 3
  end

end

describe &quot;should &lt;=&quot; do
  
  it &quot;should pass if &lt;= passes&quot; do
    4.should &lt;= 5
    4.should &lt;= 4
  end

  it &quot;should fail if &gt; fails&quot; do
    Spec::Expectations.should_receive(:fail_with).with(%[expected: &lt;= 3,\n     got:    4], 3, 4)
    4.should &lt;= 3
  end

end

describe Spec::Matchers::PositiveOperatorMatcher do

  it &quot;should work when the target has implemented #send&quot; do
    o = Object.new
    def o.send(*args); raise &quot;DOH! Library developers shouldn't use #send!&quot; end
    lambda {
      o.should == o
    }.should_not raise_error
  end

end

describe Spec::Matchers::NegativeOperatorMatcher do

  it &quot;should work when the target has implemented #send&quot; do
    o = Object.new
    def o.send(*args); raise &quot;DOH! Library developers shouldn't use #send!&quot; end
    lambda {
      o.should_not == :foo
    }.should_not raise_error
  end

end
</pre>
    </div>