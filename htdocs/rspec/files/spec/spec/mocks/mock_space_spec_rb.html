  <div id="fileHeader">
    <h1>mock_space_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/mocks/mock_space_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:11:11 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper.rb'
require 'spec/mocks'

module Spec
  module Mocks
    describe Space do
      before :each do
        @space = Space.new
        klazz = Class.new do
          def rspec_verify
            @verified = true
          end
          def verified?
            @verified
          end
          def rspec_reset
            @reset = true
          end
          def reset?
            @reset
          end
        end
        @m1 = klazz.new
        @m2 = klazz.new
      end
      it &quot;should verify all mocks within&quot; do
        @space.add(@m1)
        @space.add(@m2)
        @space.verify_all
        @m1.should be_verified
        @m2.should be_verified
      end
      it &quot;should reset all mocks within&quot; do
        @space.add(m1 = mock(&quot;mock1&quot;))
        @space.add(m2 = mock(&quot;mock2&quot;))
        m1.should_receive(:rspec_reset)
        m2.should_receive(:rspec_reset)
        @space.reset_all
      end
      it &quot;should clear internal mocks on reset_all&quot; do
        @space.add(m = mock(&quot;mock&quot;))
        @space.reset_all
        @space.instance_eval { mocks.empty? }.should be_true
      end
      it &quot;should only add an instance once&quot; do
        @space.add(m1 = mock(&quot;mock1&quot;))
        @space.add(m1)
        m1.should_receive(:rspec_verify)
        @space.verify_all
      end
    end
  end
end
    
</pre>
    </div>