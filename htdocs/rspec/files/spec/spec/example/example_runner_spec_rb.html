  <div id="fileHeader">
    <h1>example_runner_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/example/example_runner_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:11:11 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper.rb'

module Spec
  module Example
    # describe &quot;Spec::Example::ExampleRunner&quot;, &quot;#run&quot;, :shared =&gt; true do
    #   before(:each) do
    #     @options = ::Spec::Runner::Options.new(StringIO.new, StringIO.new)
    #     @reporter = ::Spec::Runner::Reporter.new(@options)
    #     @options.reporter = @reporter
    #     @example_group_class = Class.new(ExampleGroup) do
    #       plugin_mock_framework
    #       describe(&quot;Some Examples&quot;)
    #     end
    #   end
    # 
    #   def create_runner(example_definition)
    #     example = @example_group_class.new(example_definition)
    #     runner = ExampleGroup.new(@options, example)
    #     runner.stub!(:verify_mocks)
    #     runner.stub!(:teardown_mocks)
    #     runner
    #   end
    # end
    # 
    # describe ExampleRunner, &quot;#run with blank passing example&quot; do
    #   it_should_behave_like &quot;Spec::Example::ExampleRunner#run&quot;
    # 
    #   before do
    #     @e = @example_group_class.it(&quot;example&quot;) {}
    #     @runner = create_runner(@e)
    #   end
    #   
    #   it &quot;should send reporter example_started&quot; do
    #     @reporter.should_receive(:example_started).with(equal(@e))
    #     @runner.run
    #   end
    # 
    #   it &quot;should report its name for dry run&quot; do
    #     @options.dry_run = true
    #     @reporter.should_receive(:example_finished).with(equal(@e), nil)
    #     @runner.run
    #   end
    # 
    #   it &quot;should report success&quot; do
    #     @reporter.should_receive(:example_finished).with(equal(@e), nil)
    #     @runner.run
    #   end
    # end
    # 
    # describe ExampleRunner, &quot;#run with a failing example&quot; do
    #   predicate_matchers[:is_a] = [:is_a?]
    #   it_should_behave_like &quot;Spec::Example::ExampleRunner#run&quot;
    # 
    #   before do
    #     @e = @example_group_class.it(&quot;example&quot;) do
    #       (2+2).should == 5
    #     end
    #     @runner = create_runner(@e)
    #   end
    # 
    #   it &quot;should report failure due to failure&quot; do
    #     @reporter.should_receive(:example_finished).with(
    #       equal(@e),
    #       is_a(Spec::Expectations::ExpectationNotMetError)
    #     )
    #     @runner.run
    #   end
    # end
    # 
    # describe ExampleRunner, &quot;#run with a erroring example&quot; do
    #   it_should_behave_like &quot;Spec::Example::ExampleRunner#run&quot;
    # 
    #   before do
    #     @error = error = NonStandardError.new(&quot;in body&quot;)
    #     @example_definition = @example_group_class.it(&quot;example&quot;) do
    #       raise(error)
    #     end
    #     @runner = create_runner(@example_definition)
    #   end
    # 
    #   it &quot;should report failure due to error&quot; do
    #     @reporter.should_receive(:example_finished).with(
    #       equal(@example_definition),
    #       @error
    #     )
    #     @runner.run
    #   end
    # 
    #   it &quot;should run after_each block&quot; do
    #     @example_group_class.after(:each) do
    #       raise(&quot;in after_each&quot;)
    #     end
    #     @reporter.should_receive(:example_finished) do |example_definition, error|
    #       example_definition.should equal(@example_definition)
    #       error.message.should eql(&quot;in body&quot;)
    #     end
    #     @runner.run
    #   end      
    # end
    # 
    # describe ExampleRunner, &quot;#run where after_each fails&quot; do
    #   it_should_behave_like &quot;Spec::Example::ExampleRunner#run&quot;
    # 
    #   before do
    #     @example_ran = example_ran = false
    #     @example_definition = @example_group_class.it(&quot;should not run&quot;) do
    #       example_ran = true
    #     end
    #     @runner = create_runner(@example_definition)
    #     @example_group_class.after(:each) { raise(NonStandardError.new(&quot;in after_each&quot;)) }
    #   end
    # 
    #   it &quot;should report failure location when in after_each&quot; do
    #     @reporter.should_receive(:example_finished) do |example_definition, error|
    #       example_definition.should equal(@example_definition)
    #       error.message.should eql(&quot;in after_each&quot;)
    #     end
    #     @runner.run
    #   end
    # end
    # 
    # describe ExampleRunner, &quot;#run with use cases&quot; do
    #   predicate_matchers[:is_a] = [:is_a?]
    #   it_should_behave_like &quot;Spec::Example::ExampleRunner#run&quot;
    # 
    #   it &quot;should report NO NAME when told to use generated description with --dry-run&quot; do
    #     @options.dry_run = true
    #     example_definition = @example_group_class.it() do
    #       5.should == 5
    #     end
    #     runner = create_runner(example_definition)
    # 
    #     @reporter.should_receive(:example_finished) do |example_definition, error|
    #       example_definition.description.should == &quot;NO NAME (Because of --dry-run)&quot;
    #      end
    #     runner.run
    #   end
    # 
    #   it &quot;should report given name if present with --dry-run&quot; do
    #     @options.dry_run = true
    #     example_definition = @example_group_class.it(&quot;example name&quot;) do
    #       5.should == 5
    #     end
    #     runner = create_runner(example_definition)
    # 
    #     @reporter.should_receive(:example_finished) do |example_definition, error|
    #       example_definition.description.should == &quot;example name&quot;
    #      end
    #     runner.run
    #   end
    # 
    #   it &quot;should report NO NAME when told to use generated description with no expectations&quot; do
    #     example_definition = @example_group_class.it() {}
    #     runner = create_runner(example_definition)
    #     @reporter.should_receive(:example_finished) do |example, error|
    #       example.description.should == &quot;NO NAME (Because there were no expectations)&quot;
    #     end
    #     runner.run
    #   end
    # 
    #   it &quot;should report NO NAME when told to use generated description and matcher fails&quot; do
    #     example_definition = @example_group_class.it() do
    #       5.should &quot;&quot; # Has no matches? method..
    #     end
    #     runner = create_runner(example_definition)
    # 
    #     @reporter.should_receive(:example_finished) do |example, error|
    #       example_definition.description.should == &quot;NO NAME (Because of Error raised in matcher)&quot;
    #     end
    #     runner.run
    #   end
    # 
    #   it &quot;should report generated description when told to and it is available&quot; do
    #     example_definition = @example_group_class.it() {
    #       5.should == 5
    #     }
    #     runner = create_runner(example_definition)
    #     
    #     @reporter.should_receive(:example_finished) do |example_definition, error|
    #       example_definition.description.should == &quot;should == 5&quot;
    #     end
    #     runner.run
    #   end
    # 
    #   it &quot;should unregister description_generated callback (lest a memory leak should build up)&quot; do
    #     example_definition = @example_group_class.it(&quot;something&quot;)
    #     runner = create_runner(example_definition)
    # 
    #     Spec::Matchers.should_receive(:example_finished)
    #     runner.run
    #   end
    # end
  end
end
</pre>
    </div>