  <div id="fileHeader">
    <h1>object_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/expectations/extensions/object_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:11:11 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../../spec_helper.rb'

describe Object, &quot;#should&quot; do
  before(:each) do
    @target = &quot;target&quot;
    @matcher = mock(&quot;matcher&quot;)
    @matcher.stub!(:matches?).and_return(true)
    @matcher.stub!(:failure_message)
  end
  
  it &quot;should accept and interact with a matcher&quot; do
    @matcher.should_receive(:matches?).with(@target).and_return(true)    
    @target.should @matcher
  end
  
  it &quot;should ask for a failure_message when matches? returns false&quot; do
    @matcher.should_receive(:matches?).with(@target).and_return(false)
    @matcher.should_receive(:failure_message).and_return(&quot;the failure message&quot;)
    lambda {
      @target.should @matcher
    }.should fail_with(&quot;the failure message&quot;)
  end
  
  it &quot;should raise error if it receives false directly&quot; do
    lambda {
      @target.should false
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
  
  it &quot;should raise error if it receives false (evaluated)&quot; do
    lambda {
      @target.should eql?(&quot;foo&quot;)
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
  
  it &quot;should raise error if it receives true&quot; do
    lambda {
      @target.should true
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
  
  it &quot;should raise error if it receives no argument and it is not used as a left side of an operator&quot; do
    pending &quot;Is it even possible to catch this?&quot;
    lambda {
      @target.should
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
end

describe Object, &quot;#should_not&quot; do
  before(:each) do
    @target = &quot;target&quot;
    @matcher = mock(&quot;matcher&quot;)
  end
  
  it &quot;should accept and interact with a matcher&quot; do
    @matcher.should_receive(:matches?).with(@target).and_return(false)
    @matcher.stub!(:negative_failure_message)
    
    @target.should_not @matcher
  end
  
  it &quot;should ask for a negative_failure_message when matches? returns true&quot; do
    @matcher.should_receive(:matches?).with(@target).and_return(true)
    @matcher.should_receive(:negative_failure_message).and_return(&quot;the negative failure message&quot;)
    lambda {
      @target.should_not @matcher
    }.should fail_with(&quot;the negative failure message&quot;)
  end

  it &quot;should raise error if it receives false directly&quot; do
    lambda {
      @target.should_not false
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
  
  it &quot;should raise error if it receives false (evaluated)&quot; do
    lambda {
      @target.should_not eql?(&quot;foo&quot;)
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
  
  it &quot;should raise error if it receives true&quot; do
    lambda {
      @target.should_not true
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end

  it &quot;should raise error if it receives no argument and it is not used as a left side of an operator&quot; do
    pending &quot;Is it even possible to catch this?&quot;
    lambda {
      @target.should_not
    }.should raise_error(Spec::Expectations::InvalidMatcherError)
  end
end
</pre>
    </div>