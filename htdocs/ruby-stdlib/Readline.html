<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: Readline</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo; 
    
    
    <span class="title">Readline</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Readline
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="IRB/HistorySavingAbility.html" title="IRB::HistorySavingAbility (module)">IRB::HistorySavingAbility</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">ext/readline/readline.c</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
The Readline module provides interface for GNU Readline. This module
defines a number of methods to facilitate completion and accesses input
history from the Ruby interpreter. This module supported Edit Line(libedit)
too. libedit is compatible with GNU Readline.
</p>
<table>
<tr><td valign="top">GNU Readline</td><td><p>
<a
href="http://www.gnu.org/directory/readline.html">www.gnu.org/directory/readline.html</a>
</p>
</td></tr>
<tr><td valign="top">libedit</td><td><p>
<a href="http://www.thrysoee.dk/editline">www.thrysoee.dk/editline</a>/
</p>
</td></tr>
</table>
<p>
Reads one inputted line with line edit by Readline.readline method. At this
time, the facilitatation completion and the key bind like Emacs can be
operated like GNU Readline.
</p>
<pre class="code">
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>while</span> <span class='id buf'>buf</span> <span class='op'>=</span> <span class='const'>Readline</span><span class='period'>.</span><span class='id readline'>readline</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id p'>p</span> <span class='id buf'>buf</span>
  <span class='kw'>end</span>
</pre>
<p>
The content that the user input can be recorded to the history. The history
can be accessed by Readline::HISTORY constant.
</p>
<pre class="code">
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>while</span> <span class='id buf'>buf</span> <span class='op'>=</span> <span class='const'>Readline</span><span class='period'>.</span><span class='id readline'>readline</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id p'>p</span> <span class='const'>Readline</span><span class='op'>::</span><span class='const'>HISTORY</span><span class='period'>.</span><span class='id to_a'>to_a</span>
    <span class='id print'>print</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id buf'>buf</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
</pre>
<p>
Most of methods raise SecurityError exception if $SAFE is 4.
</p>
<p>
Documented by TAKAO Kouji <kouji at takao7 dot net>.
</p>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_quote_characters-class_method" title="basic_quote_characters (class method)">+ (String) <strong>basic_quote_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Gets a list of quote characters which can cause a word break.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_quote_characters%3D-class_method" title="basic_quote_characters= (class method)">+ (Object) <strong>basic_quote_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets a list of quote characters which can cause a word break.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_word_break_characters-class_method" title="basic_word_break_characters (class method)">+ (String) <strong>basic_word_break_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Gets the basic list of characters that signal a break between words for the
completer routine.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_word_break_characters%3D-class_method" title="basic_word_break_characters= (class method)">+ (Object) <strong>basic_word_break_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets the basic list of characters that signal a break between words for the
completer routine.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_quote_characters-class_method" title="completer_quote_characters (class method)">+ (String) <strong>completer_quote_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Gets a list of characters which can be used to quote a substring of the
line.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_quote_characters%3D-class_method" title="completer_quote_characters= (class method)">+ (Object) <strong>completer_quote_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets a list of characters which can be used to quote a substring of the
line.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_word_break_characters-class_method" title="completer_word_break_characters (class method)">+ (String) <strong>completer_word_break_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Gets the basic list of characters that signal a break between words for
rl_complete_internal().
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_word_break_characters%3D-class_method" title="completer_word_break_characters= (class method)">+ (Object) <strong>completer_word_break_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets the basic list of characters that signal a break between words for
rl_complete_internal().
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_append_character-class_method" title="completion_append_character (class method)">+ (Object) <strong>completion_append_character</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a string containing a character to be appended on completion.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_append_character%3D-class_method" title="completion_append_character= (class method)">+ (Object) <strong>completion_append_character=</strong>(char) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies a character to be appended on completion.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_case_fold-class_method" title="completion_case_fold (class method)">+ (Object) <strong>completion_case_fold</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if completion ignores case.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_case_fold%3D-class_method" title="completion_case_fold= (class method)">+ (Object) <strong>completion_case_fold=</strong>(bool) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets whether or not to ignore case on completion.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_proc-class_method" title="completion_proc (class method)">+ (Proc) <strong>completion_proc</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the completion Proc object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_proc%3D-class_method" title="completion_proc= (class method)">+ (Object) <strong>completion_proc=</strong>(proc) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies a Proc object <tt>proc</tt> to determine completion behavior.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emacs_editing_mode-class_method" title="emacs_editing_mode (class method)">+ (nil) <strong>emacs_editing_mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies Emacs editing mode.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emacs_editing_mode%3F-class_method" title="emacs_editing_mode? (class method)">+ (Object) <strong>emacs_editing_mode?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if emacs mode is active.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename_quote_characters-class_method" title="filename_quote_characters (class method)">+ (String) <strong>filename_quote_characters</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename_quote_characters%3D-class_method" title="filename_quote_characters= (class method)">+ (Object) <strong>filename_quote_characters=</strong>(string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_screen_size-class_method" title="get_screen_size (class method)">+ (Array) <strong>get_screen_size</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the terminal&#8217;s rows and columns.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#input%3D-class_method" title="input= (class method)">+ (Object) <strong>input=</strong>(input) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies a File object <tt>input</tt> that is input stream for
Readline.readline method.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_buffer-class_method" title="line_buffer (class method)">+ (String) <strong>line_buffer</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the full line that is being edited.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#output%3D-class_method" title="output= (class method)">+ (Object) <strong>output=</strong>(output) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies a File object <tt>output</tt> that is output stream for
Readline.readline method.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#point-class_method" title="point (class method)">+ (Integer) <strong>point</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the index of the current cursor position in
<tt>Readline.line_buffer</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline-class_method" title="readline (class method)">+ (String<sup>?</sup>) <strong>readline</strong>(prompt = &quot;&quot;, add_hist = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Shows the <tt>prompt</tt> and reads the inputted line with line editing.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh_line-class_method" title="refresh_line (class method)">+ (nil) <strong>refresh_line</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Clear the current input line.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_screen_size-class_method" title="set_screen_size (class method)">+ (Readline) <strong>set_screen_size</strong>(rows, columns) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Set terminal size to <tt>rows</tt> and <tt>columns</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vi_editing_mode-class_method" title="vi_editing_mode (class method)">+ (nil) <strong>vi_editing_mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Specifies VI editing mode.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vi_editing_mode%3F-class_method" title="vi_editing_mode? (class method)">+ (Object) <strong>vi_editing_mode?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if vi mode is active.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="basic_quote_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>basic_quote_characters</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Gets a list of quote characters which can cause a word break.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.basic_quote_characters -&gt; string
 *
 * Gets a list of quote characters which can cause a word break.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_basic_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_quote_characters == NULL)
    return Qnil;
    return rb_locale_str_new_cstr(rl_basic_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="basic_quote_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>basic_quote_characters=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets a list of quote characters which can cause a word break.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.basic_quote_characters = string
 *
 * Sets a list of quote characters which can cause a word break.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_basic_quote_characters(VALUE self, VALUE str)
{
    static char *basic_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_quote_characters == NULL) {
    basic_quote_characters =
        ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
    REALLOC_N(basic_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_quote_characters,
        RSTRING_PTR(str), RSTRING_LEN(str));
    basic_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_quote_characters = basic_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="basic_word_break_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>basic_word_break_characters</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Gets the basic list of characters that signal a break between words for the
completer routine.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.basic_word_break_characters -&gt; string
 *
 * Gets the basic list of characters that signal a break between words
 * for the completer routine.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_basic_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_basic_word_break_characters == NULL)
    return Qnil;
    return rb_locale_str_new_cstr(rl_basic_word_break_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="basic_word_break_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>basic_word_break_characters=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets the basic list of characters that signal a break between words for the
completer routine. The default is the characters which break words for
completion in Bash: &#8220;\t\n\&#8221;\&#8217;`@$><=;|&amp;{(&#8220;.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.basic_word_break_characters = string
 *
 * Sets the basic list of characters that signal a break between words
 * for the completer routine. The default is the characters which
 * break words for completion in Bash: &quot;\t\n\&quot;\\'`@$&gt;&lt;=;|&amp;{(&quot;.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_basic_word_break_characters(VALUE self, VALUE str)
{
    static char *basic_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (basic_word_break_characters == NULL) {
    basic_word_break_characters =
        ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
    REALLOC_N(basic_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_word_break_characters,
        RSTRING_PTR(str), RSTRING_LEN(str));
    basic_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_basic_word_break_characters = basic_word_break_characters;
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completer_quote_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>completer_quote_characters</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Gets a list of characters which can be used to quote a substring of the
line.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completer_quote_characters -&gt; string
 *
 * Gets a list of characters which can be used to quote a substring of
 * the line.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_completer_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_quote_characters == NULL)
    return Qnil;
    return rb_locale_str_new_cstr(rl_completer_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completer_quote_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completer_quote_characters=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets a list of characters which can be used to quote a substring of the
line. Completion occurs on the entire substring, and within the substring
Readline.completer_word_break_characters are treated as any other
character, unless they also appear within this list.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completer_quote_characters = string
 *
 * Sets a list of characters which can be used to quote a substring of
 * the line. Completion occurs on the entire substring, and within
 * the substring Readline.completer_word_break_characters are treated
 * as any other character, unless they also appear within this list.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_completer_quote_characters(VALUE self, VALUE str)
{
    static char *completer_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_quote_characters == NULL) {
    completer_quote_characters =
        ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
    REALLOC_N(completer_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    completer_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_quote_characters = completer_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completer_word_break_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>completer_word_break_characters</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Gets the basic list of characters that signal a break between words for
rl_complete_internal().
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completer_word_break_characters -&gt; string
 *
 * Gets the basic list of characters that signal a break between words
 * for rl_complete_internal().
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_completer_word_break_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_completer_word_break_characters == NULL)
    return Qnil;
    return rb_locale_str_new_cstr(rl_completer_word_break_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completer_word_break_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completer_word_break_characters=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets the basic list of characters that signal a break between words for
rl_complete_internal(). The default is the value of
Readline.basic_word_break_characters.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completer_word_break_characters = string
 *
 * Sets the basic list of characters that signal a break between words
 * for rl_complete_internal(). The default is the value of
 * Readline.basic_word_break_characters.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_completer_word_break_characters(VALUE self, VALUE str)
{
    static char *completer_word_break_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (completer_word_break_characters == NULL) {
    completer_word_break_characters =
        ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
    REALLOC_N(completer_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_word_break_characters,
        RSTRING_PTR(str), RSTRING_LEN(str));
    completer_word_break_characters[RSTRING_LEN(str)] = '\0';
    rl_completer_word_break_characters = completer_word_break_characters;
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completion_append_character-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_append_character</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a string containing a character to be appended on completion. The
default is a space (&#8220; &#8220;).
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completion_append_character -&gt; char
 *
 * Returns a string containing a character to be appended on
 * completion. The default is a space (&quot; &quot;).
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_completion_append_character(VALUE self)
{
    char buf[1];

    rb_secure(4);
    if (rl_completion_append_character == '\0')
    return Qnil;

    buf[0] = (char) rl_completion_append_character;
    return rb_locale_str_new(buf, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completion_append_character=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_append_character=</strong>(char) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies a character to be appended on completion. Nothing will be
appended if an empty string (&#8220;&#8221;) or nil is specified.
</p>
<p>
For example:
</p>
<pre class="code">
  require &quot;readline&quot;

  Readline.readline(&quot;&gt; &quot;, true)
  Readline.completion_append_character = &quot; &quot;
</pre>
<p>
Result:
</p>
<pre class="code">
  &gt;
  Input &quot;/var/li&quot;.

  &gt; /var/li
  Press TAB key.

  &gt; /var/lib
  Completes &quot;b&quot; and appends &quot; &quot;. So, you can continuously input &quot;/usr&quot;.

  &gt; /var/lib /usr
</pre>
<p>
NOTE: Only one character can be specified. When &#8220;string&#8221; is
specified, sets only &#8220;s&#8221; that is the first.
</p>
<pre class="code">
  require &quot;readline&quot;

  Readline.completion_append_character = &quot;string&quot;
  p Readline.completion_append_character # =&gt; &quot;s&quot;
</pre>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completion_append_character = char
 *
 * Specifies a character to be appended on completion.
 * Nothing will be appended if an empty string (&quot;&quot;) or nil is
 * specified.
 *
 * For example:
 *   require &quot;readline&quot;
 *
 *   Readline.readline(&quot;&gt; &quot;, true)
 *   Readline.completion_append_character = &quot; &quot;
 *
 * Result:
 *   &gt;
 *   Input &quot;/var/li&quot;.
 *
 *   &gt; /var/li
 *   Press TAB key.
 *
 *   &gt; /var/lib
 *   Completes &quot;b&quot; and appends &quot; &quot;. So, you can continuously input &quot;/usr&quot;.
 *
 *   &gt; /var/lib /usr
 *
 * NOTE: Only one character can be specified. When &quot;string&quot; is
 * specified, sets only &quot;s&quot; that is the first.
 *
 *   require &quot;readline&quot;
 *
 *   Readline.completion_append_character = &quot;string&quot;
 *   p Readline.completion_append_character # =&gt; &quot;s&quot;
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_completion_append_character(VALUE self, VALUE str)
{
    rb_secure(4);
    if (NIL_P(str)) {
    rl_completion_append_character = '\0';
    }
    else {
    OutputStringValue(str);
    if (RSTRING_LEN(str) == 0) {
        rl_completion_append_character = '\0';
    } else {
        rl_completion_append_character = RSTRING_PTR(str)[0];
    }
    }
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completion_case_fold-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_case_fold</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if completion ignores case. If no, returns false.
</p>
<p>
NOTE: Returns the same object that is specified by
Readline.completion_case_fold= method.
</p>
<pre class="code">
  require &quot;readline&quot;

  Readline.completion_case_fold = &quot;This is a String.&quot;
  p Readline.completion_case_fold # =&gt; &quot;This is a String.&quot;
</pre>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completion_case_fold -&gt; bool
 *
 * Returns true if completion ignores case. If no, returns false.
 *
 * NOTE: Returns the same object that is specified by
 * Readline.completion_case_fold= method.
 *
 *   require &quot;readline&quot;
 *
 *   Readline.completion_case_fold = &quot;This is a String.&quot;
 *   p Readline.completion_case_fold # =&gt; &quot;This is a String.&quot;
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_completion_case_fold(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_case_fold);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completion_case_fold=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_case_fold=</strong>(bool) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets whether or not to ignore case on completion.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completion_case_fold = bool
 *
 * Sets whether or not to ignore case on completion.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_completion_case_fold(VALUE self, VALUE val)
{
    rb_secure(4);
    return rb_ivar_set(mReadline, completion_case_fold, val);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completion_proc-class_method">
  
    + (<tt>Proc</tt>) <strong>completion_proc</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the completion Proc object.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completion_proc -&gt; proc
 *
 * Returns the completion Proc object.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_completion_proc(VALUE self)
{
    rb_secure(4);
    return rb_attr_get(mReadline, completion_proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="completion_proc=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>completion_proc=</strong>(proc) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies a Proc object <tt>proc</tt> to determine completion behavior. It
should take input-string, and return an array of completion candidates.
</p>
<p>
Set default if <tt>proc</tt> is nil.
</p>
<p>
Raises ArgumentError exception if <tt>proc</tt> does not respond to call
method.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.completion_proc = proc
 *
 * Specifies a Proc object +proc+ to determine completion behavior. It
 * should take input-string, and return an array of completion
 * candidates.
 *
 * Set default if +proc+ is nil.
 *
 * Raises ArgumentError exception if +proc+ does not respond to call method.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_completion_proc(VALUE self, VALUE proc)
{
    rb_secure(4);
    if (!NIL_P(proc) &amp;&amp; !rb_respond_to(proc, rb_intern(&quot;call&quot;)))
    rb_raise(rb_eArgError, &quot;argument must respond to `call'&quot;);
    return rb_ivar_set(mReadline, completion_proc, proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="emacs_editing_mode-class_method">
  
    + (<tt>nil</tt>) <strong>emacs_editing_mode</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies Emacs editing mode. The default is this mode. See the manual of
GNU Readline for details of Emacs editing mode.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.emacs_editing_mode -&gt; nil
 *
 * Specifies Emacs editing mode. The default is this mode. See the
 * manual of GNU Readline for details of Emacs editing mode.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_emacs_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_emacs_editing_mode(1,0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="emacs_editing_mode?-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>emacs_editing_mode?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if emacs mode is active. Returns false if not.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.emacs_editing_mode? -&gt; bool
 *
 * Returns true if emacs mode is active. Returns false if not.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_emacs_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 1 ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="filename_quote_characters-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>filename_quote_characters</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.filename_quote_characters -&gt; string
 *
 * Gets a list of characters that cause a filename to be quoted by the completer
 * when they appear in a completed filename.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_filename_quote_characters(VALUE self, VALUE str)
{
    rb_secure(4);
    if (rl_filename_quote_characters == NULL)
    return Qnil;
    return rb_locale_str_new_cstr(rl_filename_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="filename_quote_characters=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>filename_quote_characters=</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename. The default is nil.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.filename_quote_characters = string
 *
 * Sets a list of characters that cause a filename to be quoted by the completer
 * when they appear in a completed filename. The default is nil.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_filename_quote_characters(VALUE self, VALUE str)
{
    static char *filename_quote_characters = NULL;

    rb_secure(4);
    OutputStringValue(str);
    if (filename_quote_characters == NULL) {
    filename_quote_characters =
        ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
    REALLOC_N(filename_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(filename_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    filename_quote_characters[RSTRING_LEN(str)] = '\0';
    rl_filename_quote_characters = filename_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_screen_size-class_method">
  
    + (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>get_screen_size</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the terminal&#8217;s rows and columns.
</p>
<p>
See GNU Readline&#8217;s rl_get_screen_size function.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.get_screen_size -&gt; [rows, columns]
 *
 * Returns the terminal's rows and columns.
 *
 * See GNU Readline's rl_get_screen_size function.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_get_screen_size(VALUE self)
{
    int rows, columns;
    VALUE res;

    rb_secure(4);
    rl_get_screen_size(&amp;rows, &amp;columns);
    res = rb_ary_new();
    rb_ary_push(res, INT2NUM(rows));
    rb_ary_push(res, INT2NUM(columns));
    return res;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="input=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>input=</strong>(input) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies a File object <tt>input</tt> that is input stream for
Readline.readline method.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.input = input
 *
 * Specifies a File object +input+ that is input stream for
 * Readline.readline method.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_input(VALUE self, VALUE input)
{
    rb_io_t *ifp;

    rb_secure(4);
    Check_Type(input, T_FILE);
    GetOpenFile(input, ifp);
    rl_instream = rb_io_stdio_file(ifp);
#ifdef HAVE_RL_GETC_FUNCTION
    readline_instream = input;
#endif
    return input;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="line_buffer-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>line_buffer</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the full line that is being edited. This is useful from within the
complete_proc for determining the context of the completion request.
</p>
<p>
The length of <tt>Readline.line_buffer</tt> and GNU Readline&#8217;s rl_end
are same.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.line_buffer -&gt; string
 *
 * Returns the full line that is being edited. This is useful from
 * within the complete_proc for determining the context of the
 * completion request.
 *
 * The length of +Readline.line_buffer+ and GNU Readline's rl_end are
 * same.
 */
static VALUE
readline_s_get_line_buffer(VALUE self)
{
    rb_secure(4);
    if (rl_line_buffer == NULL)
    return Qnil;
    return rb_tainted_str_new2(rl_line_buffer);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="output=-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>output=</strong>(output) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies a File object <tt>output</tt> that is output stream for
Readline.readline method.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.output = output
 *
 * Specifies a File object +output+ that is output stream for
 * Readline.readline method.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_output(VALUE self, VALUE output)
{
    rb_io_t *ofp;

    rb_secure(4);
    Check_Type(output, T_FILE);
    GetOpenFile(output, ofp);
    rl_outstream = rb_io_stdio_file(ofp);
    return output;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="point-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>point</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the index of the current cursor position in
<tt>Readline.line_buffer</tt>.
</p>
<p>
The index in <tt>Readline.line_buffer</tt> which matches the start of
input-string passed to completion_proc is computed by subtracting the
length of input-string from <tt>Readline.point</tt>.
</p>
<pre class="code">
  start = (the length of input-string) - Readline.point</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.point -&gt; int
 *
 * Returns the index of the current cursor position in
 * +Readline.line_buffer+.
 *
 * The index in +Readline.line_buffer+ which matches the start of
 * input-string passed to completion_proc is computed by subtracting
 * the length of input-string from +Readline.point+.
 *
 *   start = (the length of input-string) - Readline.point
 */
static VALUE
readline_s_get_point(VALUE self)
{
    rb_secure(4);
    return INT2NUM(rl_point);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readline-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup>) <strong>readline</strong>(prompt = &quot;&quot;, add_hist = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Shows the <tt>prompt</tt> and reads the inputted line with line editing.
The inputted line is added to the history if <tt>add_hist</tt> is true.
</p>
<p>
Returns nil when the inputted line is empty and user inputs EOF (Presses ^D
on UNIX).
</p>
<p>
Raises IOError exception if below conditions are satisfied.
</p>
<ol>
<li><p>
stdin is not tty.
</p>
</li>
<li><p>
stdin was closed. (errno is EBADF after called isatty(2).)
</p>
</li>
</ol>
<p>
This method supports thread. Switchs the thread context when waits
inputting line.
</p>
<p>
Supports line edit when inputs line. Provides VI and Emacs editing mode.
Default is Emacs editing mode.
</p>
<p>
NOTE: Terminates ruby interpreter and does not return the terminal status
after user pressed &#8217;^C&#8217; when wait inputting line. Give 3
examples that avoid it.
</p>
<ul>
<li><p>
Catches the Interrupt exception by pressed ^C after returns terminal
status:
</p>
<pre class="code">
  require &quot;readline&quot;

  stty_save = `stty -g`.chomp
  begin
    while buf = Readline.readline
        p buf
        end
      rescue Interrupt
        system(&quot;stty&quot;, stty_save)
        exit
      end
    end
  end
</pre>
</li>
<li><p>
Catches the INT signal by pressed ^C after returns terminal status:
</p>
<pre class="code">
  require &quot;readline&quot;

  stty_save = `stty -g`.chomp
  trap(&quot;INT&quot;) { system &quot;stty&quot;, stty_save; exit }

  while buf = Readline.readline
    p buf
  end
</pre>
</li>
<li><p>
Ignores pressing ^C:
</p>
<pre class="code">
  require &quot;readline&quot;

  trap(&quot;INT&quot;, &quot;SIG_IGN&quot;)

  while buf = Readline.readline
    p buf
  end
</pre>
</li>
</ul>
<p>
Can make as follows with Readline::HISTORY constant. It does not record to
the history if the inputted line is empty or the same it as last one.
</p>
<pre class="code">
  require &quot;readline&quot;

  while buf = Readline.readline(&quot;&gt; &quot;, true)
    # p Readline::HISTORY.to_a
    Readline::HISTORY.pop if /^\s*$/ =~ buf

    begin
      if Readline::HISTORY[Readline::HISTORY.length-2] == buf
        Readline::HISTORY.pop
      end
    rescue IndexError
    end

    # p Readline::HISTORY.to_a
    print &quot;-&gt; &quot;, buf, &quot;\n&quot;
  end
</pre>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.readline(prompt = &quot;&quot;, add_hist = false) -&gt; string or nil
 *
 * Shows the +prompt+ and reads the inputted line with line editing.
 * The inputted line is added to the history if +add_hist+ is true.
 *
 * Returns nil when the inputted line is empty and user inputs EOF
 * (Presses ^D on UNIX).
 *
 * Raises IOError exception if below conditions are satisfied.
 * 1. stdin is not tty.
 * 2. stdin was closed. (errno is EBADF after called isatty(2).)
 *
 * This method supports thread. Switchs the thread context when waits
 * inputting line.
 *
 * Supports line edit when inputs line. Provides VI and Emacs editing mode.
 * Default is Emacs editing mode.
 *
 * NOTE: Terminates ruby interpreter and does not return the terminal
 * status after user pressed '^C' when wait inputting line.
 * Give 3 examples that avoid it.
 *
 * * Catches the Interrupt exception by pressed ^C after returns
 *   terminal status:
 *
 *     require &quot;readline&quot;
 *
 *     stty_save = `stty -g`.chomp
 *     begin
 *       while buf = Readline.readline
 *           p buf
 *           end
 *         rescue Interrupt
 *           system(&quot;stty&quot;, stty_save)
 *           exit
 *         end
 *       end
 *     end
 *
 * * Catches the INT signal by pressed ^C after returns terminal
 *   status:
 *
 *     require &quot;readline&quot;
 *
 *     stty_save = `stty -g`.chomp
 *     trap(&quot;INT&quot;) { system &quot;stty&quot;, stty_save; exit }
 *
 *     while buf = Readline.readline
 *       p buf
 *     end
 *
 * * Ignores pressing ^C:
 *
 *     require &quot;readline&quot;
 *
 *     trap(&quot;INT&quot;, &quot;SIG_IGN&quot;)
 *
 *     while buf = Readline.readline
 *       p buf
 *     end
 *
 * Can make as follows with Readline::HISTORY constant.
 * It does not record to the history if the inputted line is empty or
 * the same it as last one.
 *
 *   require &quot;readline&quot;
 *
 *   while buf = Readline.readline(&quot;&gt; &quot;, true)
 *     # p Readline::HISTORY.to_a
 *     Readline::HISTORY.pop if /^\s*$/ =~ buf
 *
 *     begin
 *       if Readline::HISTORY[Readline::HISTORY.length-2] == buf
 *         Readline::HISTORY.pop
 *       end
 *     rescue IndexError
 *     end
 *
 *     # p Readline::HISTORY.to_a
 *     print &quot;-&gt; &quot;, buf, &quot;\n&quot;
 *   end
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_readline(int argc, VALUE *argv, VALUE self)
{
    VALUE tmp, add_hist, result;
    char *prompt = NULL;
    char *buff;
    int status;

    rb_secure(4);
    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;tmp, &amp;add_hist) &gt; 0) {
    OutputStringValue(tmp);
    prompt = RSTRING_PTR(tmp);
    }

    if (!isatty(fileno(rl_instream)) &amp;&amp; errno == EBADF) rb_raise(rb_eIOError, &quot;closed stdin&quot;);

#ifdef _WIN32
    rl_prep_terminal(1);
#endif
    buff = (char*)rb_protect(readline_get, (VALUE)prompt, &amp;status);
    if (status) {
#if defined HAVE_RL_CLEANUP_AFTER_SIGNAL
        /* restore terminal mode and signal handler*/
        rl_free_line_state();
        rl_cleanup_after_signal();
#elif defined HAVE_RL_DEPREP_TERM_FUNCTION
        /* restore terminal mode */
    if (rl_deprep_term_function != NULL) /* NULL in libedit. [ruby-dev:29116] */
        (*rl_deprep_term_function)();
    else
#else
        rl_deprep_terminal();
#endif
        rb_jump_tag(status);
    }

    if (RTEST(add_hist) &amp;&amp; buff) {
    add_history(buff);
    }
    if (buff) {
    result = rb_locale_str_new_cstr(buff);
    }
    else
    result = Qnil;
    if (buff) free(buff);
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="refresh_line-class_method">
  
    + (<tt>nil</tt>) <strong>refresh_line</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Clear the current input line.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.refresh_line -&gt; nil
 *
 * Clear the current input line.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_refresh_line(VALUE self)
{
    rb_secure(4);
    rl_refresh_line(0, 0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_screen_size-class_method">
  
    + (<tt><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></tt>) <strong>set_screen_size</strong>(rows, columns) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Set terminal size to <tt>rows</tt> and <tt>columns</tt>.
</p>
<p>
See GNU Readline&#8217;s rl_set_screen_size function.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.set_screen_size(rows, columns) -&gt; self
 *
 * Set terminal size to +rows+ and +columns+.
 *
 * See GNU Readline's rl_set_screen_size function.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_set_screen_size(VALUE self, VALUE rows, VALUE columns)
{
    rb_secure(4);
    rl_set_screen_size(NUM2INT(rows), NUM2INT(columns));
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="vi_editing_mode-class_method">
  
    + (<tt>nil</tt>) <strong>vi_editing_mode</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Specifies VI editing mode. See the manual of GNU Readline for details of VI
editing mode.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.vi_editing_mode -&gt; nil
 *
 * Specifies VI editing mode. See the manual of GNU Readline for
 * details of VI editing mode.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_vi_editing_mode(VALUE self)
{
    rb_secure(4);
    rl_vi_editing_mode(1,0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="vi_editing_mode?-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>vi_editing_mode?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if vi mode is active. Returns false if not.
</p>
<p>
Raises NotImplementedError if the using readline library does not support.
</p>
<p>
Raises SecurityError exception if $SAFE is 4.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c'</span>

/*
 * call-seq:
 *   Readline.vi_editing_mode? -&gt; bool
 *
 * Returns true if vi mode is active. Returns false if not.
 *
 * Raises NotImplementedError if the using readline library does not support.
 *
 * Raises SecurityError exception if $SAFE is 4.
 */
static VALUE
readline_s_vi_editing_mode_p(VALUE self)
{
    rb_secure(4);
    return rl_editing_mode == 0 ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:01:43 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>