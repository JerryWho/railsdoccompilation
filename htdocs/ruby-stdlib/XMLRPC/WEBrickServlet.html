<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: XMLRPC::WEBrickServlet</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (W)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../XMLRPC.html" title="XMLRPC (module)">XMLRPC</a></span></span>
     &raquo; 
    <span class="title">WEBrickServlet</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: XMLRPC::WEBrickServlet
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="BasicServer.html" title="XMLRPC::BasicServer (class)">BasicServer</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="BasicServer.html" title="XMLRPC::BasicServer (class)">BasicServer</a></span></li>
          
            <li class="next">XMLRPC::WEBrickServlet</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/xmlrpc/server.rb<span class="defines">,<br />
  lib/xmlrpc/server.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h1>XMLRPC::WEBrickServlet</h1>
<h2>Synopsis</h2>
<pre class="code">
    <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>webrick</span><span class='tstring_end'>&quot;</span></span>
    <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlrpc/server</span><span class='tstring_end'>&quot;</span></span>

    <span class='id s'>s</span> <span class='op'>=</span> <span class='const'>XMLRPC</span><span class='op'>::</span><span class='const'>WEBrickServlet</span><span class='period'>.</span><span class='id new'>new</span>
    <span class='id s'>s</span><span class='period'>.</span><span class='id add_handler'>add_handler</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>michael.add</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id a'>a</span><span class='comma'>,</span><span class='id b'>b</span><span class='op'>|</span>
      <span class='id a'>a</span> <span class='op'>+</span> <span class='id b'>b</span>
    <span class='kw'>end</span>

    <span class='id s'>s</span><span class='period'>.</span><span class='id add_handler'>add_handler</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>michael.div</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id a'>a</span><span class='comma'>,</span><span class='id b'>b</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id b'>b</span> <span class='op'>==</span> <span class='int'>0</span>
        <span class='id raise'>raise</span> <span class='const'>XMLRPC</span><span class='op'>::</span><span class='const'>FaultException</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>division by zero</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id a'>a</span> <span class='op'>/</span> <span class='id b'>b</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='id s'>s</span><span class='period'>.</span><span class='id set_default_handler'>set_default_handler</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id name'>name</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='op'>|</span>
      <span class='id raise'>raise</span> <span class='const'>XMLRPC</span><span class='op'>::</span><span class='const'>FaultException</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>99</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Method </span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'> missing</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
                                       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> or wrong number of parameters!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id httpserver'>httpserver</span> <span class='op'>=</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPServer</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:Port</span> <span class='op'>=&gt;</span> <span class='int'>8080</span><span class='rparen'>)</span>
    <span class='id httpserver'>httpserver</span><span class='period'>.</span><span class='id mount'>mount</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/RPC2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id s'>s</span><span class='rparen'>)</span>
    <span class='id trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HUP</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id httpserver'>httpserver</span><span class='period'>.</span><span class='id shutdown'>shutdown</span> <span class='rbrace'>}</span>   <span class='comment'># use 1 instead of &quot;HUP&quot; on Windows
</span>    <span class='id httpserver'>httpserver</span><span class='period'>.</span><span class='id start'>start</span>
</pre>
<h2>Instance Methods</h2>
<p>
&#8212; XMLRPC::WEBrickServlet#set_valid_ip( *ip_addr )
</p>
<pre class="code">
    Specifies the valid IP addresses that are allowed to connect to the server.
    Each IP is either a (({String})) or a (({Regexp})).
</pre>
<p>
&#8212; XMLRPC::WEBrickServlet#get_valid_ip
</p>
<pre class="code">
    Return the via method ((&lt;set_valid_ip|XMLRPC::Server#set_valid_ip&gt;)) specified
    valid IP addresses.
</pre>
<h2>Description</h2>
<p>
Implements a servlet for use with WEBrick, a pure Ruby (HTTP-) server
framework.
</p>
<h2>Superclass</h2>
<p>
((<XMLRPC::BasicServer>))
</p>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Server.html" title="XMLRPC::Server (class)">Server</a></span></p>
</div>

  <h2>Constant Summary</h2>
  


  
  
  
  
  <h3 class="inherited">Constants inherited from <span class='object_link'><a href="BasicServer.html" title="XMLRPC::BasicServer (class)">BasicServer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="BasicServer.html#ERR_MC_EXPECTED_STRUCT-constant" title="XMLRPC::BasicServer::ERR_MC_EXPECTED_STRUCT (constant)">ERR_MC_EXPECTED_STRUCT</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_MC_MISSING_METHNAME-constant" title="XMLRPC::BasicServer::ERR_MC_MISSING_METHNAME (constant)">ERR_MC_MISSING_METHNAME</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_MC_MISSING_PARAMS-constant" title="XMLRPC::BasicServer::ERR_MC_MISSING_PARAMS (constant)">ERR_MC_MISSING_PARAMS</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_MC_RECURSIVE_CALL-constant" title="XMLRPC::BasicServer::ERR_MC_RECURSIVE_CALL (constant)">ERR_MC_RECURSIVE_CALL</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_MC_WRONG_PARAM-constant" title="XMLRPC::BasicServer::ERR_MC_WRONG_PARAM (constant)">ERR_MC_WRONG_PARAM</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_MC_WRONG_PARAM_PARAMS-constant" title="XMLRPC::BasicServer::ERR_MC_WRONG_PARAM_PARAMS (constant)">ERR_MC_WRONG_PARAM_PARAMS</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_METHOD_MISSING-constant" title="XMLRPC::BasicServer::ERR_METHOD_MISSING (constant)">ERR_METHOD_MISSING</a></span>, <span class='object_link'><a href="BasicServer.html#ERR_UNCAUGHT_EXCEPTION-constant" title="XMLRPC::BasicServer::ERR_UNCAUGHT_EXCEPTION (constant)">ERR_UNCAUGHT_EXCEPTION</a></span></p>

  
  
  
  
  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_instance-instance_method" title="#get_instance (instance method)">- (Object) <strong>get_instance</strong>(config, *options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_valid_ip-instance_method" title="#get_valid_ip (instance method)">- (Object) <strong>get_valid_ip</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (WEBrickServlet) <strong>initialize</strong>(*a) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of WEBrickServlet.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require_path_info%3F-instance_method" title="#require_path_info? (instance method)">- (Boolean) <strong>require_path_info?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
deprecated from WEBrick/1.2.2.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#service-instance_method" title="#service (instance method)">- (Object) <strong>service</strong>(request, response) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_valid_ip-instance_method" title="#set_valid_ip (instance method)">- (Object) <strong>set_valid_ip</strong>(*ip_addr) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="BasicServer.html" title="XMLRPC::BasicServer (class)">BasicServer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="BasicServer.html#add_handler-instance_method" title="XMLRPC::BasicServer#add_handler (method)">#add_handler</a></span>, <span class='object_link'><a href="BasicServer.html#add_introspection-instance_method" title="XMLRPC::BasicServer#add_introspection (method)">#add_introspection</a></span>, <span class='object_link'><a href="BasicServer.html#add_multicall-instance_method" title="XMLRPC::BasicServer#add_multicall (method)">#add_multicall</a></span>, <span class='object_link'><a href="BasicServer.html#get_default_handler-instance_method" title="XMLRPC::BasicServer#get_default_handler (method)">#get_default_handler</a></span>, <span class='object_link'><a href="BasicServer.html#get_service_hook-instance_method" title="XMLRPC::BasicServer#get_service_hook (method)">#get_service_hook</a></span>, <span class='object_link'><a href="BasicServer.html#process-instance_method" title="XMLRPC::BasicServer#process (method)">#process</a></span>, <span class='object_link'><a href="BasicServer.html#set_default_handler-instance_method" title="XMLRPC::BasicServer#set_default_handler (method)">#set_default_handler</a></span>, <span class='object_link'><a href="BasicServer.html#set_service_hook-instance_method" title="XMLRPC::BasicServer#set_service_hook (method)">#set_service_hook</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ParseContentType.html" title="XMLRPC::ParseContentType (module)">ParseContentType</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ParseContentType.html#parse_content_type-instance_method" title="XMLRPC::ParseContentType#parse_content_type (method)">#parse_content_type</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ParserWriterChooseMixin.html" title="XMLRPC::ParserWriterChooseMixin (module)">ParserWriterChooseMixin</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ParserWriterChooseMixin.html#set_parser-instance_method" title="XMLRPC::ParserWriterChooseMixin#set_parser (method)">#set_parser</a></span>, <span class='object_link'><a href="ParserWriterChooseMixin.html#set_writer-instance_method" title="XMLRPC::ParserWriterChooseMixin#set_writer (method)">#set_writer</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="XMLRPC::WEBrickServlet (class)">WEBrickServlet</a></span></tt>) <strong>initialize</strong>(*a) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of WEBrickServlet
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


704
705
706
707
708</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xmlrpc/server.rb', line 704</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id a'>a</span><span class='rparen'>)</span>
  <span class='kw'>super</span>
  <span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>webrick/httpstatus</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@valid_ip</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="get_instance-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_instance</strong>(config, *options) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


716
717
718
719</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xmlrpc/server.rb', line 716</span>

<span class='kw'>def</span> <span class='id get_instance'>get_instance</span><span class='lparen'>(</span><span class='id config'>config</span><span class='comma'>,</span> <span class='op'>*</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='comment'># TODO: set config &amp; options
</span>  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_valid_ip-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_valid_ip</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


729
730
731</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xmlrpc/server.rb', line 729</span>

<span class='kw'>def</span> <span class='id get_valid_ip'>get_valid_ip</span>
  <span class='ivar'>@valid_ip</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="require_path_info?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>require_path_info?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
deprecated from WEBrick/1.2.2. but does not break anything.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


712
713
714</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xmlrpc/server.rb', line 712</span>

<span class='kw'>def</span> <span class='id require_path_info?'>require_path_info?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="service-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>service</strong>(request, response) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>WEBrick::HTTPStatus::LengthRequired</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xmlrpc/server.rb', line 733</span>

<span class='kw'>def</span> <span class='id service'>service</span><span class='lparen'>(</span><span class='id request'>request</span><span class='comma'>,</span> <span class='id response'>response</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='ivar'>@valid_ip</span>
    <span class='id raise'>raise</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPStatus</span><span class='op'>::</span><span class='const'>Forbidden</span> <span class='kw'>unless</span> <span class='ivar'>@valid_ip</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id ip'>ip</span><span class='op'>|</span> <span class='id request'>request</span><span class='period'>.</span><span class='id peeraddr'>peeraddr</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='id ip'>ip</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id request'>request</span><span class='period'>.</span><span class='id request_method'>request_method</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span>
    <span class='id raise'>raise</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPStatus</span><span class='op'>::</span><span class='const'>MethodNotAllowed</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unsupported method `</span><span class='embexpr_beg'>#{</span><span class='id request'>request</span><span class='period'>.</span><span class='id request_method'>request_method</span><span class='rbrace'>}</span><span class='tstring_content'>'.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id parse_content_type'>parse_content_type</span><span class='lparen'>(</span><span class='id request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id first'>first</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/xml</span><span class='tstring_end'>&quot;</span></span>
    <span class='id raise'>raise</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPStatus</span><span class='op'>::</span><span class='const'>BadRequest</span>
  <span class='kw'>end</span>

  <span class='id length'>length</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-length</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_i'>to_i</span>

  <span class='id raise'>raise</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPStatus</span><span class='op'>::</span><span class='const'>LengthRequired</span> <span class='kw'>unless</span> <span class='id length'>length</span> <span class='op'>&gt;</span> <span class='int'>0</span>

  <span class='id data'>data</span> <span class='op'>=</span> <span class='id request'>request</span><span class='period'>.</span><span class='id body'>body</span>

  <span class='kw'>if</span> <span class='id data'>data</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='kw'>or</span> <span class='id data'>data</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>!=</span> <span class='id length'>length</span>
    <span class='id raise'>raise</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPStatus</span><span class='op'>::</span><span class='const'>BadRequest</span>
  <span class='kw'>end</span>

  <span class='id resp'>resp</span> <span class='op'>=</span> <span class='id process'>process</span><span class='lparen'>(</span><span class='id data'>data</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id resp'>resp</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='kw'>or</span> <span class='id resp'>resp</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='id raise'>raise</span> <span class='const'>WEBrick</span><span class='op'>::</span><span class='const'>HTTPStatus</span><span class='op'>::</span><span class='const'>InternalServerError</span>
  <span class='kw'>end</span>

  <span class='id response'>response</span><span class='period'>.</span><span class='id status'>status</span> <span class='op'>=</span> <span class='int'>200</span>
  <span class='id response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-Length</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id resp'>resp</span><span class='period'>.</span><span class='id size'>size</span>
  <span class='id response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>   <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/xml; charset=utf-8</span><span class='tstring_end'>&quot;</span></span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id body'>body</span> <span class='op'>=</span> <span class='id resp'>resp</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_valid_ip-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>set_valid_ip</strong>(*ip_addr) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


721
722
723
724
725
726
727</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/xmlrpc/server.rb', line 721</span>

<span class='kw'>def</span> <span class='id set_valid_ip'>set_valid_ip</span><span class='lparen'>(</span><span class='op'>*</span><span class='id ip_addr'>ip_addr</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id ip_addr'>ip_addr</span><span class='period'>.</span><span class='id size'>size</span> <span class='op'>==</span> <span class='int'>1</span> <span class='kw'>and</span> <span class='id ip_addr'>ip_addr</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id nil?'>nil?</span>
    <span class='ivar'>@valid_ip</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='ivar'>@valid_ip</span> <span class='op'>=</span> <span class='id ip_addr'>ip_addr</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:03:04 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>