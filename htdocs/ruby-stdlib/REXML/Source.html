<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: REXML::Source</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../REXML.html" title="REXML (module)">REXML</a></span></span>
     &raquo; 
    <span class="title">Source</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: REXML::Source
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">REXML::Source</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Encoding.html" title="REXML::Encoding (module)">Encoding</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/rexml/source.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
A Source can be searched for patterns, and wraps buffers and other objects
and provides consumption of text
</p>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="IOSource.html" title="REXML::IOSource (class)">IOSource</a></span></p>
</div>

  <h2>Constant Summary</h2>
  


  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="Encoding.html" title="REXML::Encoding (module)">Encoding</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Encoding.html#UNILE-constant" title="REXML::Encoding::UNILE (constant)">UNILE</a></span>, <span class='object_link'><a href="Encoding.html#UTF_16-constant" title="REXML::Encoding::UTF_16 (constant)">UTF_16</a></span>, <span class='object_link'><a href="Encoding.html#UTF_8-constant" title="REXML::Encoding::UTF_8 (constant)">UTF_8</a></span></p>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#buffer-instance_method" title="#buffer (instance method)">- (Object) <strong>buffer</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The current buffer (what we&#8217;re going to read next).
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#encoding-instance_method" title="#encoding (instance method)">- (Object) <strong>encoding</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute encoding.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#line-instance_method" title="#line (instance method)">- (Object) <strong>line</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The line number of the last consumed text.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#consume-instance_method" title="#consume (instance method)">- (Object) <strong>consume</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_line-instance_method" title="#current_line (instance method)">- (Object) <strong>current_line</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The current line in the source.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">- (Boolean) <strong>empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
True if the Source is exhausted.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Source) <strong>initialize</strong>(arg, encoding = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Constructor value, overriding all encoding detection.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">- (Object) <strong>match</strong>(pattern, cons = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match_to-instance_method" title="#match_to (instance method)">- (Object) <strong>match_to</strong>(char, pattern) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match_to_consume-instance_method" title="#match_to_consume (instance method)">- (Object) <strong>match_to_consume</strong>(char, pattern) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#position-instance_method" title="#position (instance method)">- (Object) <strong>position</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read-instance_method" title="#read (instance method)">- (Object) <strong>read</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scan-instance_method" title="#scan (instance method)">- (Object) <strong>scan</strong>(pattern, cons = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Scans the source for a given pattern.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Encoding.html" title="REXML::Encoding (module)">Encoding</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Encoding.html#apply-class_method" title="REXML::Encoding.apply (method)">apply</a></span>, <span class='object_link'><a href="Encoding.html#check_encoding-instance_method" title="REXML::Encoding#check_encoding (method)">#check_encoding</a></span>, <span class='object_link'><a href="Encoding.html#decode_ascii-instance_method" title="REXML::Encoding#decode_ascii (method)">#decode_ascii</a></span>, <span class='object_link'><a href="Encoding.html#decode_cp1252-instance_method" title="REXML::Encoding#decode_cp1252 (method)">#decode_cp1252</a></span>, <span class='object_link'><a href="Encoding.html#decode_iconv-instance_method" title="REXML::Encoding#decode_iconv (method)">#decode_iconv</a></span>, <span class='object_link'><a href="Encoding.html#decode_unile-instance_method" title="REXML::Encoding#decode_unile (method)">#decode_unile</a></span>, <span class='object_link'><a href="Encoding.html#decode_utf16-instance_method" title="REXML::Encoding#decode_utf16 (method)">#decode_utf16</a></span>, <span class='object_link'><a href="Encoding.html#decode_utf8-instance_method" title="REXML::Encoding#decode_utf8 (method)">#decode_utf8</a></span>, <span class='object_link'><a href="Encoding.html#encode_ascii-instance_method" title="REXML::Encoding#encode_ascii (method)">#encode_ascii</a></span>, <span class='object_link'><a href="Encoding.html#encode_cp1252-instance_method" title="REXML::Encoding#encode_cp1252 (method)">#encode_cp1252</a></span>, <span class='object_link'><a href="Encoding.html#encode_iconv-instance_method" title="REXML::Encoding#encode_iconv (method)">#encode_iconv</a></span>, <span class='object_link'><a href="Encoding.html#encode_unile-instance_method" title="REXML::Encoding#encode_unile (method)">#encode_unile</a></span>, <span class='object_link'><a href="Encoding.html#encode_utf16-instance_method" title="REXML::Encoding#encode_utf16 (method)">#encode_utf16</a></span>, <span class='object_link'><a href="Encoding.html#encode_utf8-instance_method" title="REXML::Encoding#encode_utf8 (method)">#encode_utf8</a></span>, <span class='object_link'><a href="Encoding.html#encoding_method-class_method" title="REXML::Encoding.encoding_method (method)">encoding_method</a></span>, <span class='object_link'><a href="Encoding.html#from_iso_8859_15-instance_method" title="REXML::Encoding#from_iso_8859_15 (method)">#from_iso_8859_15</a></span>, <span class='object_link'><a href="Encoding.html#register-class_method" title="REXML::Encoding.register (method)">register</a></span>, <span class='object_link'><a href="Encoding.html#to_iso_8859_15-instance_method" title="REXML::Encoding#to_iso_8859_15 (method)">#to_iso_8859_15</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="REXML::Source (class)">Source</a></span></tt>) <strong>initialize</strong>(arg, encoding = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Constructor value, overriding all encoding detection
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>arg</span>
      
      
      
        &mdash;
        <div class='inline'><p>
must be a String, and should be a valid XML document
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>encoding</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
if non-null, sets the encoding of the source to this
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 41</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id arg'>arg</span><span class='comma'>,</span> <span class='id encoding'>encoding</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@orig</span> <span class='op'>=</span> <span class='ivar'>@buffer</span> <span class='op'>=</span> <span class='id arg'>arg</span>
  <span class='kw'>if</span> <span class='id encoding'>encoding</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id encoding'>encoding</span> <span class='op'>=</span> <span class='id encoding'>encoding</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id encoding'>encoding</span> <span class='op'>=</span> <span class='id check_encoding'>check_encoding</span><span class='lparen'>(</span> <span class='ivar'>@buffer</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@line</span> <span class='op'>=</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="buffer-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="buffer-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>buffer</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The current buffer (what we&#8217;re going to read next)
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 32</span>

<span class='kw'>def</span> <span class='id buffer'>buffer</span>
  <span class='ivar'>@buffer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="encoding=-instance_method"></span>
      <span id="encoding-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="encoding-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>encoding</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute encoding
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 35</span>

<span class='kw'>def</span> <span class='id encoding'>encoding</span>
  <span class='ivar'>@encoding</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="line-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="line-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>line</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The line number of the last consumed text
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 34</span>

<span class='kw'>def</span> <span class='id line'>line</span>
  <span class='ivar'>@line</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="consume-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>consume</strong>(pattern) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 94</span>

<span class='kw'>def</span> <span class='id consume'>consume</span><span class='lparen'>(</span> <span class='id pattern'>pattern</span> <span class='rparen'>)</span>
  <span class='ivar'>@buffer</span> <span class='op'>=</span> <span class='backref'>$'</span> <span class='kw'>if</span> <span class='id pattern'>pattern</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span> <span class='ivar'>@buffer</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="current_line-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>current_line</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The current line in the source
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
the current line in the source
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 124</span>

<span class='kw'>def</span> <span class='id current_line'>current_line</span>
  <span class='id lines'>lines</span> <span class='op'>=</span> <span class='ivar'>@orig</span><span class='period'>.</span><span class='id split'>split</span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='id lines'>lines</span><span class='period'>.</span><span class='id grep'>grep</span> <span class='ivar'>@buffer</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>30</span><span class='rbracket'>]</span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='id res'>res</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id res'>res</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span> <span class='const'>Array</span>
  <span class='id lines'>lines</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span> <span class='id res'>res</span> <span class='rparen'>)</span> <span class='kw'>if</span> <span class='id res'>res</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>empty?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
True if the Source is exhausted
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
true if the Source is exhausted
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 115</span>

<span class='kw'>def</span> <span class='id empty?'>empty?</span>
  <span class='ivar'>@buffer</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match</strong>(pattern, cons = false) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 108</span>

<span class='kw'>def</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='id pattern'>pattern</span><span class='comma'>,</span> <span class='id cons'>cons</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id md'>md</span> <span class='op'>=</span> <span class='id pattern'>pattern</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='ivar'>@buffer</span><span class='rparen'>)</span>
  <span class='ivar'>@buffer</span> <span class='op'>=</span> <span class='backref'>$'</span> <span class='kw'>if</span> <span class='id cons'>cons</span> <span class='kw'>and</span> <span class='id md'>md</span>
  <span class='kw'>return</span> <span class='id md'>md</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match_to-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match_to</strong>(char, pattern) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 98</span>

<span class='kw'>def</span> <span class='id match_to'>match_to</span><span class='lparen'>(</span> <span class='id char'>char</span><span class='comma'>,</span> <span class='id pattern'>pattern</span> <span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id pattern'>pattern</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='ivar'>@buffer</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match_to_consume-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match_to_consume</strong>(char, pattern) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 102</span>

<span class='kw'>def</span> <span class='id match_to_consume'>match_to_consume</span><span class='lparen'>(</span> <span class='id char'>char</span><span class='comma'>,</span> <span class='id pattern'>pattern</span> <span class='rparen'>)</span>
  <span class='id md'>md</span> <span class='op'>=</span> <span class='id pattern'>pattern</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='ivar'>@buffer</span><span class='rparen'>)</span>
  <span class='ivar'>@buffer</span> <span class='op'>=</span> <span class='backref'>$'</span>
  <span class='kw'>return</span> <span class='id md'>md</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="position-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>position</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 119</span>

<span class='kw'>def</span> <span class='id position'>position</span>
  <span class='ivar'>@orig</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span> <span class='ivar'>@buffer</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="read-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>read</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 91</span>

<span class='kw'>def</span> <span class='id read'>read</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="scan-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>scan</strong>(pattern, cons = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Scans the source for a given pattern.  Note, that this is not your usual
scan() method.  For one thing, the pattern argument has some requirements;
for another, the source can be consumed.  You can easily confuse this
method.  Originally, the patterns were easier to construct and this method
more robust, because this method generated search regexes on the fly;
however, this was computationally expensive and slowed down the entire
REXML package considerably, since this is by far the most commonly called
method. /^\s*(#pattern, with no groups)(.*)/.  The first group will
be returned; the second group is used if the consume flag is set.
everything after it in the Source. pattern is not found.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>pattern</span>
      
      
      
        &mdash;
        <div class='inline'><p>
must be a Regexp, and must be in the form of
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
        <span class='name'>consume</span>
      
      
      
        &mdash;
        <div class='inline'><p>
if true, the pattern returned will be consumed, leaving
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
the pattern, if found, or nil if the Source is empty or the
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86
87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rexml/source.rb', line 84</span>

<span class='kw'>def</span> <span class='id scan'>scan</span><span class='lparen'>(</span><span class='id pattern'>pattern</span><span class='comma'>,</span> <span class='id cons'>cons</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id rv'>rv</span> <span class='op'>=</span> <span class='ivar'>@buffer</span><span class='period'>.</span><span class='id scan'>scan</span><span class='lparen'>(</span><span class='id pattern'>pattern</span><span class='rparen'>)</span>
  <span class='ivar'>@buffer</span> <span class='op'>=</span> <span class='backref'>$'</span> <span class='kw'>if</span> <span class='id cons'>cons</span> <span class='kw'>and</span> <span class='id rv'>rv</span><span class='period'>.</span><span class='id size'>size</span><span class='op'>&gt;</span><span class='int'>0</span>
  <span class='id rv'>rv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:02:09 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>