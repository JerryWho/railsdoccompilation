<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: RDoc::Generator::Darkfish</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../RDoc.html" title="RDoc (module)">RDoc</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Generator.html" title="RDoc::Generator (module)">Generator</a></span></span>
     &raquo; 
    <span class="title">Darkfish</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: RDoc::Generator::Darkfish
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">RDoc::Generator::Darkfish</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../../ERB/Util.html" title="ERB::Util (module)">ERB::Util</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/rdoc/generator/darkfish.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Darkfish RDoc HTML Generator
</p>
<p>
$Id: darkfish.rb 52 2009-01-07 02:08:11Z deveiant $
</p>
<h2>Author/s</h2>
<ul>
<li><p>
Michael Granger (ged@FaerieMUD.org)
</p>
</li>
</ul>
<h2>Contributors</h2>
<ul>
<li><p>
Mahlon E. Smith (mahlon@martini.nu)
</p>
</li>
<li><p>
Eric Hodel (drbrain@segment7.net)
</p>
</li>
</ul>
<h2>License</h2>
<p>
Copyright &#169; 2007, 2008, Michael Granger. All rights reserved.
</p>
<p>
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
</p>
<ul>
<li><p>
Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.
</p>
</li>
<li><p>
Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.
</p>
</li>
<li><p>
Neither the name of the author/s, nor the names of the project&#8217;s
contributors may be used to endorse or promote products derived from this
software without specific prior written permission.
</p>
</li>
</ul>
<p>
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT
NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="SVNRev-constant" class="">SVNRev =
          <div class="docstring">
  <div class="discussion">
    <p>
Subversion rev
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>%$</span><span class='tstring_content'>Rev: 52 </span><span class='tstring_end'>$</span></span></pre></dd>
      
        <dt id="SVNId-constant" class="">SVNId =
          <div class="docstring">
  <div class="discussion">
    <p>
Subversion ID
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>%$</span><span class='tstring_content'>Id: darkfish.rb 52 2009-01-07 02:08:11Z deveiant </span><span class='tstring_end'>$</span></span></pre></dd>
      
        <dt id="GENERATOR_DIR-constant" class="">GENERATOR_DIR =
          <div class="docstring">
  <div class="discussion">
    <p>
Path to this file&#8217;s parent directory. Used to find templates and
other resources.
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rdoc</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>generator</span><span class='tstring_end'>'</span></span></pre></dd>
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    <p>
Release Version
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1.1.6</span><span class='tstring_end'>'</span></span></pre></dd>
      
        <dt id="CLASS_DIR-constant" class="">CLASS_DIR =
          <div class="docstring">
  <div class="discussion">
    <p>
Directory where generated classes live relative to the root
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='kw'>nil</span></pre></dd>
      
        <dt id="FILE_DIR-constant" class="">FILE_DIR =
          <div class="docstring">
  <div class="discussion">
    <p>
Directory where generated files live relative to the root
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='kw'>nil</span></pre></dd>
      
        <dt id="SVNID_PATTERN-constant" class="">SVNID_PATTERN =
          <div class="docstring">
  <div class="discussion">
    <p>
%q$Id: darkfish.rb 52 2009-01-07 02:08:11Z deveiant $&#8220;
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>
	\$Id:\s
		(\S+)\s					# filename
		(\d+)\s					# rev
		(\d{4}-\d{2}-\d{2})\s	# Date (YYYY-MM-DD)
		(\d{2}:\d{2}:\d{2}Z)\s	# Time (HH:MM:SSZ)
		(\w+)\s				 	# committer
	\$$
</span><span class='regexp_end'>/x</span></span></pre></dd>
      
    </dl>
  


  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#outputdir-instance_method" title="#outputdir (instance method)">- (Object) <strong>outputdir</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The output directory.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#for-class_method" title="for (class method)">+ (Object) <strong>for</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Standard generator factory method.
</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_dir-instance_method" title="#class_dir (instance method)">- (Object) <strong>class_dir</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#debug_msg-instance_method" title="#debug_msg (instance method)">- (Object) <strong>debug_msg</strong>(*msg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Output progress information if debugging is enabled.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#file_dir-instance_method" title="#file_dir (instance method)">- (Object) <strong>file_dir</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gen_sub_directories-instance_method" title="#gen_sub_directories (instance method)">- (Object) <strong>gen_sub_directories</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Create the directories the generated docs will live in if # they
don&#8217;t already exist.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate-instance_method" title="#generate (instance method)">- (Object) <strong>generate</strong>(top_levels) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Build the initial indices and output objects # based on an array of
TopLevel objects containing # the extracted information.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Darkfish) <strong>initialize</strong>(options) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Initialize a few instance variables before we start.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_style_sheet-instance_method" title="#write_style_sheet (instance method)">- (Object) <strong>write_style_sheet</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
# Copy over the stylesheet into the appropriate place in the output #
directory.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../ERB/Util.html" title="ERB::Util (module)">ERB::Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ERB/Util.html#html_escape-instance_method" title="ERB::Util#html_escape (method)">#html_escape</a></span>, <span class='object_link'><a href="../../ERB/Util.html#url_encode-instance_method" title="ERB::Util#url_encode (method)">#url_encode</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RDoc::Generator::Darkfish (class)">Darkfish</a></span></tt>) <strong>initialize</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Initialize a few instance variables before we start
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Error.html" title="RDoc::Error (class)">RDoc::Error</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 94</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span> <span class='id options'>options</span> <span class='rparen'>)</span>
	<span class='ivar'>@options</span> <span class='op'>=</span> <span class='id options'>options</span>

	<span class='id template'>template</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id template'>template</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>darkfish</span><span class='tstring_end'>'</span></span>

	<span class='id template_dir'>template_dir</span> <span class='op'>=</span> <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id path'>path</span><span class='op'>|</span>
		<span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>GENERATOR_DIR</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>template</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id template'>template</span>
	<span class='kw'>end</span><span class='period'>.</span><span class='id find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id dir'>dir</span><span class='op'>|</span>
		<span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span> <span class='id dir'>dir</span>
	<span class='kw'>end</span>

	<span class='id raise'>raise</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>could not find template </span><span class='embexpr_beg'>#{</span><span class='id template'>template</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span>
		<span class='id template_dir'>template_dir</span>

	<span class='ivar'>@template_dir</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id new'>new</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id template_dir'>template_dir</span><span class='rparen'>)</span>

	<span class='ivar'>@files</span>      <span class='op'>=</span> <span class='kw'>nil</span>
	<span class='ivar'>@classes</span>    <span class='op'>=</span> <span class='kw'>nil</span>

	<span class='ivar'>@basedir</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id pwd'>pwd</span><span class='period'>.</span><span class='id expand_path'>expand_path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="outputdir-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="outputdir-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>outputdir</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The output directory
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 121</span>

<span class='kw'>def</span> <span class='id outputdir'>outputdir</span>
  <span class='ivar'>@outputdir</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="for-class_method">
  
    + (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>for</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Standard generator factory method
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 84</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='op'>::</span><span class='kw'>for</span><span class='lparen'>(</span> <span class='id options'>options</span> <span class='rparen'>)</span>
	<span class='id new'>new</span><span class='lparen'>(</span> <span class='id options'>options</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="class_dir-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_dir</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 130</span>

<span class='kw'>def</span> <span class='id class_dir'>class_dir</span>
	<span class='const'>CLASS_DIR</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="debug_msg-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>debug_msg</strong>(*msg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Output progress information if debugging is enabled
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 125</span>

<span class='kw'>def</span> <span class='id debug_msg'>debug_msg</span><span class='lparen'>(</span> <span class='op'>*</span><span class='id msg'>msg</span> <span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='kw'>unless</span> <span class='gvar'>$DEBUG_RDOC</span>
	<span class='gvar'>$stderr</span><span class='period'>.</span><span class='id puts'>puts</span><span class='lparen'>(</span> <span class='op'>*</span><span class='id msg'>msg</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="file_dir-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>file_dir</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 134</span>

<span class='kw'>def</span> <span class='id file_dir'>file_dir</span>
	<span class='const'>FILE_DIR</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="gen_sub_directories-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>gen_sub_directories</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Create the directories the generated docs will live in if # they
don&#8217;t already exist.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 140</span>

<span class='kw'>def</span> <span class='id gen_sub_directories'>gen_sub_directories</span>
	<span class='ivar'>@outputdir</span><span class='period'>.</span><span class='id mkpath'>mkpath</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="generate-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>generate</strong>(top_levels) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Build the initial indices and output objects # based on an array of
TopLevel objects containing # the extracted information.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 169</span>

<span class='kw'>def</span> <span class='id generate'>generate</span><span class='lparen'>(</span> <span class='id top_levels'>top_levels</span> <span class='rparen'>)</span>
	<span class='ivar'>@outputdir</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id op_dir'>op_dir</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span> <span class='ivar'>@basedir</span> <span class='rparen'>)</span>

	<span class='ivar'>@files</span> <span class='op'>=</span> <span class='id top_levels'>top_levels</span><span class='period'>.</span><span class='id sort'>sort</span>
	<span class='ivar'>@classes</span> <span class='op'>=</span> <span class='const'>RDoc</span><span class='op'>::</span><span class='const'>TopLevel</span><span class='period'>.</span><span class='id all_classes_and_modules'>all_classes_and_modules</span><span class='period'>.</span><span class='id sort'>sort</span>
	<span class='ivar'>@methods</span> <span class='op'>=</span> <span class='ivar'>@classes</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id m'>m</span><span class='op'>|</span> <span class='id m'>m</span><span class='period'>.</span><span class='id method_list'>method_list</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id flatten'>flatten</span><span class='period'>.</span><span class='id sort'>sort</span>
	<span class='ivar'>@modsort</span> <span class='op'>=</span> <span class='id get_sorted_module_list'>get_sorted_module_list</span><span class='lparen'>(</span> <span class='ivar'>@classes</span> <span class='rparen'>)</span>

	<span class='comment'># Now actually write the output
</span>	<span class='id write_style_sheet'>write_style_sheet</span>
	<span class='id generate_index'>generate_index</span>
	<span class='id generate_class_files'>generate_class_files</span>
	<span class='id generate_file_files'>generate_file_files</span>

<span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id err'>err</span>
	<span class='id debug_msg'>debug_msg</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s: %s\n  %s</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span> <span class='id err'>err</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id err'>err</span><span class='period'>.</span><span class='id message'>message</span><span class='comma'>,</span> <span class='id err'>err</span><span class='period'>.</span><span class='id backtrace'>backtrace</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbracket'>]</span>
	<span class='id raise'>raise</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_style_sheet-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>write_style_sheet</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
# Copy over the stylesheet into the appropriate place in the output #
directory.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/generator/darkfish.rb', line 146</span>

<span class='kw'>def</span> <span class='id write_style_sheet'>write_style_sheet</span>
	<span class='id debug_msg'>debug_msg</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Copying static files</span><span class='tstring_end'>&quot;</span></span>
	<span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='symbol'>:verbose</span> <span class='op'>=&gt;</span> <span class='gvar'>$DEBUG_RDOC</span><span class='comma'>,</span> <span class='symbol'>:noop</span> <span class='op'>=&gt;</span> <span class='gvar'>$DARKFISH_DRYRUN</span> <span class='rbrace'>}</span>

	<span class='const'>FileUtils</span><span class='period'>.</span><span class='id cp'>cp</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rdoc.css</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id options'>options</span>

	<span class='const'>Dir</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{js,images}/**/*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id path'>path</span><span class='op'>|</span>
		<span class='kw'>next</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span> <span class='id path'>path</span>
		<span class='kw'>next</span> <span class='kw'>if</span> <span class='id path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='op'>::</span><span class='const'>SEPARATOR</span><span class='rbrace'>}</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span>

		<span class='id dst'>dst</span> <span class='op'>=</span> <span class='const'>Pathname</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id relative_path_from'>relative_path_from</span> <span class='ivar'>@template_dir</span>

		<span class='comment'># I suck at glob
</span>		<span class='id dst_dir'>dst_dir</span> <span class='op'>=</span> <span class='id dst'>dst</span><span class='period'>.</span><span class='id dirname'>dirname</span>
		<span class='const'>FileUtils</span><span class='period'>.</span><span class='id mkdir_p'>mkdir_p</span> <span class='id dst_dir'>dst_dir</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id exist?'>exist?</span> <span class='id dst_dir'>dst_dir</span>

		<span class='const'>FileUtils</span><span class='period'>.</span><span class='id cp'>cp</span> <span class='ivar'>@template_dir</span> <span class='op'>+</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id dst'>dst</span><span class='comma'>,</span> <span class='id options'>options</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:03:16 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>