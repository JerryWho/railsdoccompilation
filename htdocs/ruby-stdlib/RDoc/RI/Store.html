<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: RDoc::RI::Store</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../RDoc.html" title="RDoc (module)">RDoc</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../RI.html" title="RDoc::RI (module)">RI</a></span></span>
     &raquo; 
    <span class="title">Store</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: RDoc::RI::Store
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">RDoc::RI::Store</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rdoc/ri/store.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
A set of ri data.
</p>
<p>
The store manages reading and writing ri data for a project (gem, path,
etc.) and maintains a cache of methods, classes and ancestors in the store.
</p>


  </div>
</div>
<div class="tags">
  
</div>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cache-instance_method" title="#cache (instance method)">- (Object) <strong>cache</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute cache.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Path this store reads or writes.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">- (Object) <strong>type</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Type of ri datastore this was loaded from.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ancestors-instance_method" title="#ancestors (instance method)">- (Object) <strong>ancestors</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Ancestors cache accessor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attributes-instance_method" title="#attributes (instance method)">- (Object) <strong>attributes</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attributes cache accessor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cache_path-instance_method" title="#cache_path (instance method)">- (Object) <strong>cache_path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Path to the cache file.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_file-instance_method" title="#class_file (instance method)">- (Object) <strong>class_file</strong>(klass_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Path to the ri data for <tt>klass_name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_methods-instance_method" title="#class_methods (instance method)">- (Object) <strong>class_methods</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Class methods cache accessor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_path-instance_method" title="#class_path (instance method)">- (Object) <strong>class_path</strong>(klass_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Path where data for <tt>klass_name</tt> will be stored (methods or class
data).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#friendly_path-instance_method" title="#friendly_path (instance method)">- (Object) <strong>friendly_path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Friendly rendition of #path.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Store) <strong>initialize</strong>(path, type = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a new Store of <tt>type</tt> that will load or save to
<tt>path</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#instance_methods-instance_method" title="#instance_methods (instance method)">- (Object) <strong>instance_methods</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Instance methods cache accessor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_cache-instance_method" title="#load_cache (instance method)">- (Object) <strong>load_cache</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Loads cache file for this store.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_class-instance_method" title="#load_class (instance method)">- (Object) <strong>load_class</strong>(klass_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Loads ri data for <tt>klass_name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_method-instance_method" title="#load_method (instance method)">- (Object) <strong>load_method</strong>(klass_name, method_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Loads ri data for <tt>method_name</tt> in <tt>klass_name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#method_file-instance_method" title="#method_file (instance method)">- (Object) <strong>method_file</strong>(klass_name, method_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Path to the ri data for <tt>method_name</tt> in <tt>klass_name</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#modules-instance_method" title="#modules (instance method)">- (Object) <strong>modules</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Modules cache accessor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_cache-instance_method" title="#save_cache (instance method)">- (Object) <strong>save_cache</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Writes the cache file for this store.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_class-instance_method" title="#save_class (instance method)">- (Object) <strong>save_class</strong>(klass) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Writes the ri data for <tt>klass</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_method-instance_method" title="#save_method (instance method)">- (Object) <strong>save_method</strong>(klass, method) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Writes the ri data for <tt>method</tt> on <tt>klass</tt>.
</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RDoc::RI::Store (class)">Store</a></span></tt>) <strong>initialize</strong>(path, type = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a new Store of <tt>type</tt> that will load or save to
<tt>path</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 29</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@type</span> <span class='op'>=</span> <span class='id type'>type</span>
  <span class='ivar'>@path</span> <span class='op'>=</span> <span class='id path'>path</span>

  <span class='ivar'>@cache</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:class_methods</span>    <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:instance_methods</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:attributes</span>       <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:modules</span>          <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='symbol'>:ancestors</span>        <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="cache-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="cache-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>cache</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute cache
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 24</span>

<span class='kw'>def</span> <span class='id cache'>cache</span>
  <span class='ivar'>@cache</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="path=-instance_method"></span>
      <span id="path-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Path this store reads or writes
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 16</span>

<span class='kw'>def</span> <span class='id path'>path</span>
  <span class='ivar'>@path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="type=-instance_method"></span>
      <span id="type-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="type-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>type</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Type of ri datastore this was loaded from.  See RDoc::RI::Driver,
RDoc::RI::Paths.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 22</span>

<span class='kw'>def</span> <span class='id type'>type</span>
  <span class='ivar'>@type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="ancestors-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ancestors</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Ancestors cache accessor.  Maps a klass name to an Array of its ancestors
in this store.  If Foo in this store inherits from Object, Kernel
won&#8217;t be listed (it will be included from ruby&#8217;s ri store).
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 47</span>

<span class='kw'>def</span> <span class='id ancestors'>ancestors</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attributes-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>attributes</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attributes cache accessor.  Maps a class to an Array of its attributes.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 54</span>

<span class='kw'>def</span> <span class='id attributes'>attributes</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="cache_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>cache_path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Path to the cache file
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 61</span>

<span class='kw'>def</span> <span class='id cache_path'>cache_path</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>cache.ri</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_file</strong>(klass_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Path to the ri data for <tt>klass_name</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 68</span>

<span class='kw'>def</span> <span class='id class_file'>class_file</span> <span class='id klass_name'>klass_name</span>
  <span class='id name'>name</span> <span class='op'>=</span> <span class='id klass_name'>klass_name</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id last'>last</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='id class_path'>class_path</span><span class='lparen'>(</span><span class='id klass_name'>klass_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cdesc-</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>.ri</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_methods-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_methods</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Class methods cache accessor.  Maps a class to an Array of its class
methods (not full name).
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 77</span>

<span class='kw'>def</span> <span class='id class_methods'>class_methods</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_path</strong>(klass_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Path where data for <tt>klass_name</tt> will be stored (methods or class
data)
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 84</span>

<span class='kw'>def</span> <span class='id class_path'>class_path</span> <span class='id klass_name'>klass_name</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='op'>*</span><span class='id klass_name'>klass_name</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="friendly_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>friendly_path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Friendly rendition of #path
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97
98
99
100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 91</span>

<span class='kw'>def</span> <span class='id friendly_path'>friendly_path</span>
  <span class='kw'>case</span> <span class='id type'>type</span>
  <span class='kw'>when</span> <span class='symbol'>:gem</span>    <span class='kw'>then</span>
    <span class='id sep'>sep</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id union'>union</span><span class='lparen'>(</span><span class='op'>*</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>ALT_SEPARATOR</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id compact'>compact</span><span class='rparen'>)</span>
    <span class='ivar'>@path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='id sep'>sep</span><span class='rbrace'>}</span><span class='tstring_content'>doc</span><span class='embexpr_beg'>#{</span><span class='id sep'>sep</span><span class='rbrace'>}</span><span class='tstring_content'>(.*?)</span><span class='embexpr_beg'>#{</span><span class='id sep'>sep</span><span class='rbrace'>}</span><span class='tstring_content'>ri$</span><span class='regexp_end'>/</span></span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gem </span><span class='embexpr_beg'>#{</span><span class='backref'>$1</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:home</span>   <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>~/.ri</span><span class='tstring_end'>'</span></span>
  <span class='kw'>when</span> <span class='symbol'>:site</span>   <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ruby site</span><span class='tstring_end'>'</span></span>
  <span class='kw'>when</span> <span class='symbol'>:system</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ruby core</span><span class='tstring_end'>'</span></span>
  <span class='kw'>else</span> <span class='ivar'>@path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 104</span>

<span class='kw'>def</span> <span class='id inspect'>inspect</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;%s:0x%x %s %p&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='comma'>,</span> <span class='id object_id'>object_id</span><span class='comma'>,</span> <span class='ivar'>@path</span><span class='comma'>,</span> <span class='id modules'>modules</span><span class='period'>.</span><span class='id sort'>sort</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="instance_methods-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>instance_methods</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Instance methods cache accessor.  Maps a class to an Array of its instance
methods (not full name).
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 112</span>

<span class='kw'>def</span> <span class='id instance_methods'>instance_methods</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_cache-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_cache</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Loads cache file for this store
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 119</span>

<span class='kw'>def</span> <span class='id load_cache'>load_cache</span>
  <span class='id open'>open</span> <span class='id cache_path'>cache_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
    <span class='ivar'>@cache</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id load'>load</span> <span class='id io'>io</span><span class='period'>.</span><span class='id read'>read</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_class-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_class</strong>(klass_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Loads ri data for <tt>klass_name</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 129</span>

<span class='kw'>def</span> <span class='id load_class'>load_class</span> <span class='id klass_name'>klass_name</span>
  <span class='id open'>open</span> <span class='id class_file'>class_file</span><span class='lparen'>(</span><span class='id klass_name'>klass_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
    <span class='const'>Marshal</span><span class='period'>.</span><span class='id load'>load</span> <span class='id io'>io</span><span class='period'>.</span><span class='id read'>read</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_method-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_method</strong>(klass_name, method_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Loads ri data for <tt>method_name</tt> in <tt>klass_name</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 138</span>

<span class='kw'>def</span> <span class='id load_method'>load_method</span> <span class='id klass_name'>klass_name</span><span class='comma'>,</span> <span class='id method_name'>method_name</span>
  <span class='id open'>open</span> <span class='id method_file'>method_file</span><span class='lparen'>(</span><span class='id klass_name'>klass_name</span><span class='comma'>,</span> <span class='id method_name'>method_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
    <span class='const'>Marshal</span><span class='period'>.</span><span class='id load'>load</span> <span class='id io'>io</span><span class='period'>.</span><span class='id read'>read</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="method_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>method_file</strong>(klass_name, method_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Path to the ri data for <tt>method_name</tt> in <tt>klass_name</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149
150
151
152
153
154
155
156
157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 147</span>

<span class='kw'>def</span> <span class='id method_file'>method_file</span> <span class='id klass_name'>klass_name</span><span class='comma'>,</span> <span class='id method_name'>method_name</span>
  <span class='id method_name'>method_name</span> <span class='op'>=</span> <span class='id method_name'>method_name</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id last'>last</span>
  <span class='id method_name'>method_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>#(.*)</span><span class='regexp_end'>/</span></span>
  <span class='id method_type'>method_type</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>i</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>c</span><span class='tstring_end'>'</span></span>
  <span class='id method_name'>method_name</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='backref'>$1</span>

  <span class='id method_name'>method_name</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span> <span class='symbol'>:ord</span> <span class='kw'>then</span>
                  <span class='id method_name'>method_name</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\W</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%%%02x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='backref'>$&amp;</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id ord'>ord</span> <span class='rbrace'>}</span>
                <span class='kw'>else</span>
                  <span class='id method_name'>method_name</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\W</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%%%02x</span><span class='tstring_end'>&quot;</span></span> <span class='op'>%</span> <span class='backref'>$&amp;</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
                <span class='kw'>end</span>

  <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span> <span class='id class_path'>class_path</span><span class='lparen'>(</span><span class='id klass_name'>klass_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id method_name'>method_name</span><span class='rbrace'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id method_type'>method_type</span><span class='rbrace'>}</span><span class='tstring_content'>.ri</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modules-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>modules</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Modules cache accessor.  An Array of all the modules (and classes) in the
store.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 166</span>

<span class='kw'>def</span> <span class='id modules'>modules</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:modules</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_cache-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>save_cache</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Writes the cache file for this store
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 173</span>

<span class='kw'>def</span> <span class='id save_cache'>save_cache</span>
  <span class='comment'># HACK mongrel-1.1.5 documents its files twice
</span>  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span><span class='period'>.</span>      <span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id m'>m</span><span class='op'>|</span> <span class='id m'>m</span><span class='period'>.</span><span class='id uniq!'>uniq!</span><span class='semicolon'>;</span> <span class='id m'>m</span><span class='period'>.</span><span class='id sort!'>sort!</span> <span class='kw'>end</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span><span class='period'>.</span>   <span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id m'>m</span><span class='op'>|</span> <span class='id m'>m</span><span class='period'>.</span><span class='id uniq!'>uniq!</span><span class='semicolon'>;</span> <span class='id m'>m</span><span class='period'>.</span><span class='id sort!'>sort!</span> <span class='kw'>end</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id _'>_</span><span class='comma'>,</span> <span class='id m'>m</span><span class='op'>|</span> <span class='id m'>m</span><span class='period'>.</span><span class='id uniq!'>uniq!</span><span class='semicolon'>;</span> <span class='id m'>m</span><span class='period'>.</span><span class='id sort!'>sort!</span> <span class='kw'>end</span>

  <span class='id open'>open</span> <span class='id cache_path'>cache_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>wb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
    <span class='const'>Marshal</span><span class='period'>.</span><span class='id dump'>dump</span> <span class='ivar'>@cache</span><span class='comma'>,</span> <span class='id io'>io</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_class-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>save_class</strong>(klass) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Writes the ri data for <tt>klass</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 187</span>

<span class='kw'>def</span> <span class='id save_class'>save_class</span> <span class='id klass'>klass</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id mkdir_p'>mkdir_p</span> <span class='id class_path'>class_path</span><span class='lparen'>(</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rparen'>)</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:modules</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span>

  <span class='id path'>path</span> <span class='op'>=</span> <span class='id class_file'>class_file</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span>

  <span class='kw'>begin</span>
    <span class='id disk_klass'>disk_klass</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id open'>open</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
      <span class='id disk_klass'>disk_klass</span> <span class='op'>=</span> <span class='const'>Marshal</span><span class='period'>.</span><span class='id load'>load</span> <span class='id io'>io</span><span class='period'>.</span><span class='id read'>read</span>
    <span class='kw'>end</span>

    <span class='id klass'>klass</span><span class='period'>.</span><span class='id merge'>merge</span> <span class='id disk_klass'>disk_klass</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
  <span class='kw'>end</span>

  <span class='comment'># BasicObject has no ancestors
</span>  <span class='id ancestors'>ancestors</span> <span class='op'>=</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id ancestors'>ancestors</span><span class='period'>.</span><span class='id compact'>compact</span><span class='period'>.</span><span class='id map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id ancestor'>ancestor</span><span class='op'>|</span>
    <span class='comment'># HACK for classes we don't know about (class X &lt; RuntimeError)
</span>    <span class='const'>String</span> <span class='op'>===</span> <span class='id ancestor'>ancestor</span> <span class='op'>?</span> <span class='id ancestor'>ancestor</span> <span class='op'>:</span> <span class='id ancestor'>ancestor</span><span class='period'>.</span><span class='id full_name'>full_name</span>
  <span class='kw'>end</span>

  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:ancestors</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id push'>push</span><span class='lparen'>(</span><span class='op'>*</span><span class='id ancestors'>ancestors</span><span class='rparen'>)</span>

  <span class='id attributes'>attributes</span> <span class='op'>=</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id attributes'>attributes</span><span class='period'>.</span><span class='id map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id attribute'>attribute</span><span class='op'>|</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id attribute'>attribute</span><span class='period'>.</span><span class='id type'>type</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id attribute'>attribute</span><span class='period'>.</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id attributes'>attributes</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='kw'>then</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id push'>push</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attributes'>attributes</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id open'>open</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>wb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
    <span class='const'>Marshal</span><span class='period'>.</span><span class='id dump'>dump</span> <span class='id klass'>klass</span><span class='comma'>,</span> <span class='id io'>io</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="save_method-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>save_method</strong>(klass, method) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Writes the ri data for <tt>method</tt> on <tt>klass</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


231
232
233
234
235
236
237
238
239
240
241
242
243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdoc/ri/store.rb', line 231</span>

<span class='kw'>def</span> <span class='id save_method'>save_method</span> <span class='id klass'>klass</span><span class='comma'>,</span> <span class='id method'>method</span>
  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id mkdir_p'>mkdir_p</span> <span class='id class_path'>class_path</span><span class='lparen'>(</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rparen'>)</span>

  <span class='id cache'>cache</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id method'>method</span><span class='period'>.</span><span class='id singleton'>singleton</span> <span class='kw'>then</span>
            <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:class_methods</span><span class='rbracket'>]</span>
          <span class='kw'>else</span>
            <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='symbol'>:instance_methods</span><span class='rbracket'>]</span>
          <span class='kw'>end</span>
  <span class='id cache'>cache</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id cache'>cache</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id method'>method</span><span class='period'>.</span><span class='id name'>name</span>

  <span class='id open'>open</span> <span class='id method_file'>method_file</span><span class='lparen'>(</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='period'>.</span><span class='id full_name'>full_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>wb</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id io'>io</span><span class='op'>|</span>
    <span class='const'>Marshal</span><span class='period'>.</span><span class='id dump'>dump</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='id io'>io</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:02:18 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>