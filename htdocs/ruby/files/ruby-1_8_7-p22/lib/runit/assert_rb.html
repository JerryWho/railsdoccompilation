  <div id="fileHeader">
    <h1>assert.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>ruby-1.8.7-p22/lib/runit/assert.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Feb 12 17:01:19 -0600 2007</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre># Author:: Nathaniel Talbott.
# Copyright:: Copyright (c) 2000-2002 Nathaniel Talbott. All rights reserved.
# License:: Ruby license.

require 'test/unit/assertions'
require 'runit/error'

module RUNIT
  module Assert
    include Test::Unit::Assertions

    def setup_assert
    end

    def assert_no_exception(*args, &amp;block)
      assert_nothing_raised(*args, &amp;block)
    end

    # To deal with the fact that RubyUnit does not check that the
    # regular expression is, indeed, a regular expression, if it is
    # not, we do our own assertion using the same semantics as
    # RubyUnit
    def assert_match(actual_string, expected_re, message=&quot;&quot;)
      _wrap_assertion {
        full_message = build_message(message, &quot;Expected &lt;?&gt; to match &lt;?&gt;&quot;, actual_string, expected_re)
        assert_block(full_message) {
          expected_re =~ actual_string
        }
        Regexp.last_match
      }
    end

    def assert_not_nil(actual, message=&quot;&quot;)
      assert(!actual.nil?, message)
    end

    def assert_not_match(actual_string, expected_re, message=&quot;&quot;)
      assert_no_match(expected_re, actual_string, message)
    end

    def assert_matches(*args)
      assert_match(*args)
    end

    def assert_fail(message=&quot;&quot;)
      flunk(message)
    end

    def assert_equal_float(expected, actual, delta, message=&quot;&quot;)
      assert_in_delta(expected, actual, delta, message)
    end

    def assert_send(object, method, *args)
      super([object, method, *args])
    end

    def assert_exception(exception, message=&quot;&quot;, &amp;block)
      assert_raises(exception, message, &amp;block)
    end

    def assert_respond_to(method, object, message=&quot;&quot;)
      if (called_internally?)
        super
      else
        super(object, method, message)
      end
    end

    def called_internally?
      /assertions\.rb/.match(caller[1])
    end
  end
end
</pre>
    </div>