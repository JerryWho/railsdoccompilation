  <div id="fileHeader">
    <h1>taxonomy.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>ruby-1.8.7-p22/lib/rss/taxonomy.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Oct 21 07:19:43 -0500 2007</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require &quot;rss/1.0&quot;
require &quot;rss/dublincore&quot;

module RSS

  TAXO_PREFIX = &quot;taxo&quot;
  TAXO_URI = &quot;http://purl.org/rss/1.0/modules/taxonomy/&quot;

  RDF.install_ns(TAXO_PREFIX, TAXO_URI)

  TAXO_ELEMENTS = []

  %w(link).each do |name|
    full_name = &quot;#{TAXO_PREFIX}_#{name}&quot;
    BaseListener.install_get_text_element(TAXO_URI, name, full_name)
    TAXO_ELEMENTS &lt;&lt; &quot;#{TAXO_PREFIX}_#{name}&quot;
  end

  %w(topic topics).each do |name|
    class_name = Utils.to_class_name(name)
    BaseListener.install_class_name(TAXO_URI, name, &quot;Taxonomy#{class_name}&quot;)
    TAXO_ELEMENTS &lt;&lt; &quot;#{TAXO_PREFIX}_#{name}&quot;
  end

  module TaxonomyTopicsModel
    extend BaseModel
    
    def self.append_features(klass)
      super

      klass.install_must_call_validator(TAXO_PREFIX, TAXO_URI)
      %w(topics).each do |name|
        klass.install_have_child_element(name, TAXO_URI, &quot;?&quot;,
                                         &quot;#{TAXO_PREFIX}_#{name}&quot;)
      end
    end

    class TaxonomyTopics &lt; Element
      include RSS10
      
      Bag = ::RSS::RDF::Bag

      class &lt;&lt; self
        def required_prefix
          TAXO_PREFIX
        end
        
        def required_uri
          TAXO_URI
        end
      end

      @tag_name = &quot;topics&quot;
      
      install_have_child_element(&quot;Bag&quot;, RDF::URI, nil)
      install_must_call_validator('rdf', RDF::URI)

      def initialize(*args)
        if Utils.element_initialize_arguments?(args)
          super
        else
          super()
          self.Bag = args[0]
        end
        self.Bag ||= Bag.new
      end

      def full_name
        tag_name_with_prefix(TAXO_PREFIX)
      end

      def maker_target(target)
        target.taxo_topics
      end

      def resources
        if @Bag
          @Bag.lis.collect do |li|
            li.resource
          end
        else
          []
        end
      end
    end
  end
  
  module TaxonomyTopicModel
    extend BaseModel
    
    def self.append_features(klass)
      super
      var_name = &quot;#{TAXO_PREFIX}_topic&quot;
      klass.install_have_children_element(&quot;topic&quot;, TAXO_URI, &quot;*&quot;, var_name)
    end

    class TaxonomyTopic &lt; Element
      include RSS10

      include DublinCoreModel
      include TaxonomyTopicsModel
      
      class &lt;&lt; self
        def required_prefix
          TAXO_PREFIX
        end
        
        def required_uri
          TAXO_URI
        end
      end

      @tag_name = &quot;topic&quot;

      install_get_attribute(&quot;about&quot;, ::RSS::RDF::URI, true, nil, nil,
                            &quot;#{RDF::PREFIX}:about&quot;)
      install_text_element(&quot;link&quot;, TAXO_URI, &quot;?&quot;, &quot;#{TAXO_PREFIX}_link&quot;)
        
      def initialize(*args)
        if Utils.element_initialize_arguments?(args)
          super
        else
          super()
          self.about = args[0]
        end
      end

      def full_name
        tag_name_with_prefix(TAXO_PREFIX)
      end

      def maker_target(target)
        target.new_taxo_topic
      end
    end
  end

  class RDF
    include TaxonomyTopicModel
    class Channel
      include TaxonomyTopicsModel
    end
    class Item; include TaxonomyTopicsModel; end
  end
end
</pre>
    </div>