  <div id="fileHeader">
    <h1>1.0.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>ruby-1.8.7-p22/lib/rss/maker/1.0.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Feb 11 02:26:47 -0600 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require &quot;rss/1.0&quot;

require &quot;rss/maker/base&quot;

module RSS
  module Maker

    class RSS10 &lt; RSSBase

      def initialize(feed_version=&quot;1.0&quot;)
        super
        @feed_type = &quot;rss&quot;
      end

      private
      def make_feed
        RDF.new(@version, @encoding, @standalone)
      end

      def setup_elements(rss)
        setup_channel(rss)
        setup_image(rss)
        setup_items(rss)
        setup_textinput(rss)
      end

      class Channel &lt; ChannelBase

        def to_feed(rss)
          set_default_values do
            _not_set_required_variables = not_set_required_variables
            if _not_set_required_variables.empty?
              channel = RDF::Channel.new(@about)
              set = setup_values(channel)
              channel.dc_dates.clear
              rss.channel = channel
              set_parent(channel, rss)
              setup_items(rss)
              setup_image(rss)
              setup_textinput(rss)
              setup_other_elements(rss, channel)
            else
              raise NotSetError.new(&quot;maker.channel&quot;, _not_set_required_variables)
            end
          end
        end

        private
        def setup_items(rss)
          items = RDF::Channel::Items.new
          seq = items.Seq
          set_parent(items, seq)
          target_items = @maker.items.normalize
          raise NotSetError.new(&quot;maker&quot;, [&quot;items&quot;]) if target_items.empty?
          target_items.each do |item|
            li = RDF::Channel::Items::Seq::Li.new(item.link)
            seq.lis &lt;&lt; li
            set_parent(li, seq)
          end
          rss.channel.items = items
          set_parent(rss.channel, items)
        end
        
        def setup_image(rss)
          if @maker.image.have_required_values?
            image = RDF::Channel::Image.new(@maker.image.url)
            rss.channel.image = image
            set_parent(image, rss.channel)
          end
        end

        def setup_textinput(rss)
          if @maker.textinput.have_required_values?
            textinput = RDF::Channel::Textinput.new(@maker.textinput.link)
            rss.channel.textinput = textinput
            set_parent(textinput, rss.channel)
          end
        end

        def required_variable_names
          %w(about link)
        end

        def not_set_required_variables
          vars = super
          vars &lt;&lt; &quot;description&quot; unless description {|d| d.have_required_values?}
          vars &lt;&lt; &quot;title&quot; unless title {|t| t.have_required_values?}
          vars
        end

        class SkipDays &lt; SkipDaysBase
          def to_feed(*args)
          end
          
          class Day &lt; DayBase
          end
        end
        
        class SkipHours &lt; SkipHoursBase
          def to_feed(*args)
          end

          class Hour &lt; HourBase
          end
        end
        
        class Cloud &lt; CloudBase
          def to_feed(*args)
          end
        end

        class Categories &lt; CategoriesBase
          def to_feed(*args)
          end

          class Category &lt; CategoryBase
          end
        end

        class Links &lt; LinksBase
          def to_feed(rss, channel)
            return if @links.empty?
            @links.first.to_feed(rss, channel)
          end

          class Link &lt; LinkBase
            def to_feed(rss, channel)
              if have_required_values?
                channel.link = href
              else
                raise NotSetError.new(&quot;maker.channel.link&quot;,
                                      not_set_required_variables)
              end
            end

            private
            def required_variable_names
              %w(href)
            end
          end
        end

        class Authors &lt; AuthorsBase
          def to_feed(rss, channel)
          end

          class Author &lt; AuthorBase
            def to_feed(rss, channel)
            end
          end
        end

        class Contributors &lt; ContributorsBase
          def to_feed(rss, channel)
          end

          class Contributor &lt; ContributorBase
          end
        end

        class Generator &lt; GeneratorBase
          def to_feed(rss, channel)
          end
        end

        class Copyright &lt; CopyrightBase
          def to_feed(rss, channel)
          end
        end

        class Description &lt; DescriptionBase
          def to_feed(rss, channel)
            channel.description = content if have_required_values?
          end

          private
          def required_variable_names
            %w(content)
          end
        end

        class Title &lt; TitleBase
          def to_feed(rss, channel)
            channel.title = content if have_required_values?
          end

          private
          def required_variable_names
            %w(content)
          end
        end
      end

      class Image &lt; ImageBase
        def to_feed(rss)
          if @url
            image = RDF::Image.new(@url)
            set = setup_values(image)
            if set
              rss.image = image
              set_parent(image, rss)
              setup_other_elements(rss, image)
            end
          end
        end

        def have_required_values?
          super and @maker.channel.have_required_values?
        end

        private
        def variables
          super + [&quot;link&quot;]
        end

        def required_variable_names
          %w(url title link)
        end
      end

      class Items &lt; ItemsBase
        def to_feed(rss)
          if rss.channel
            normalize.each do |item|
              item.to_feed(rss)
            end
            setup_other_elements(rss, rss.items)
          end
        end

        class Item &lt; ItemBase
          def to_feed(rss)
            set_default_values do
              item = RDF::Item.new(link)
              set = setup_values(item)
              if set
                item.dc_dates.clear
                rss.items &lt;&lt; item
                set_parent(item, rss)
                setup_other_elements(rss, item)
              elsif !have_required_values?
                raise NotSetError.new(&quot;maker.item&quot;, not_set_required_variables)
              end
            end
          end

          private
          def required_variable_names
            %w(link)
          end

          def variables
            super + %w(link)
          end

          def not_set_required_variables
            set_default_values do
              vars = super
              vars &lt;&lt; &quot;title&quot; unless title {|t| t.have_required_values?}
              vars
            end
          end

          class Guid &lt; GuidBase
            def to_feed(*args)
            end
          end

          class Enclosure &lt; EnclosureBase
            def to_feed(*args)
            end
          end

          class Source &lt; SourceBase
            def to_feed(*args)
            end

            class Authors &lt; AuthorsBase
              def to_feed(*args)
              end

              class Author &lt; AuthorBase
              end
            end

            class Categories &lt; CategoriesBase
              def to_feed(*args)
              end

              class Category &lt; CategoryBase
              end
            end

            class Contributors &lt; ContributorsBase
              def to_feed(*args)
              end

              class Contributor &lt; ContributorBase
              end
            end

            class Generator &lt; GeneratorBase
              def to_feed(*args)
              end
            end

            class Icon &lt; IconBase
              def to_feed(*args)
              end
            end

            class Links &lt; LinksBase
              def to_feed(*args)
              end

              class Link &lt; LinkBase
              end
            end

            class Logo &lt; LogoBase
              def to_feed(*args)
              end
            end

            class Rights &lt; RightsBase
              def to_feed(*args)
              end
            end

            class Subtitle &lt; SubtitleBase
              def to_feed(*args)
              end
            end

            class Title &lt; TitleBase
              def to_feed(*args)
              end
            end
          end

          class Categories &lt; CategoriesBase
            def to_feed(*args)
            end

            class Category &lt; CategoryBase
            end
          end

          class Authors &lt; AuthorsBase
            def to_feed(*args)
            end

            class Author &lt; AuthorBase
            end
          end

          class Links &lt; LinksBase
            def to_feed(*args)
            end

            class Link &lt; LinkBase
            end
          end

          class Contributors &lt; ContributorsBase
            def to_feed(rss, item)
            end

            class Contributor &lt; ContributorBase
            end
          end

          class Rights &lt; RightsBase
            def to_feed(rss, item)
            end
          end

          class Description &lt; DescriptionBase
            def to_feed(rss, item)
              item.description = content if have_required_values?
            end

            private
            def required_variable_names
              %w(content)
            end
          end

          class Content &lt; ContentBase
            def to_feed(rss, item)
            end
          end

          class Title &lt; TitleBase
            def to_feed(rss, item)
              item.title = content if have_required_values?
            end

            private
            def required_variable_names
              %w(content)
            end
          end
        end
      end
      
      class Textinput &lt; TextinputBase
        def to_feed(rss)
          if @link
            textinput = RDF::Textinput.new(@link)
            set = setup_values(textinput)
            if set
              rss.textinput = textinput
              set_parent(textinput, rss)
              setup_other_elements(rss, textinput)
            end
          end
        end

        def have_required_values?
          super and @maker.channel.have_required_values?
        end

        private
        def required_variable_names
          %w(title description name link)
        end
      end
    end

    add_maker(&quot;1.0&quot;, &quot;1.0&quot;, RSS10)
    add_maker(&quot;rss1.0&quot;, &quot;1.0&quot;, RSS10)
  end
end
</pre>
    </div>