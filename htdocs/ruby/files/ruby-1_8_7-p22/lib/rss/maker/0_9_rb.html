  <div id="fileHeader">
    <h1>0.9.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>ruby-1.8.7-p22/lib/rss/maker/0.9.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Feb 11 02:26:47 -0600 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require &quot;rss/0.9&quot;

require &quot;rss/maker/base&quot;

module RSS
  module Maker
    
    class RSS09 &lt; RSSBase
      
      def initialize(feed_version=&quot;0.92&quot;)
        super
        @feed_type = &quot;rss&quot;
      end
      
      private
      def make_feed
        Rss.new(@feed_version, @version, @encoding, @standalone)
      end

      def setup_elements(rss)
        setup_channel(rss)
      end

      class Channel &lt; ChannelBase
        def to_feed(rss)
          channel = Rss::Channel.new
          set = setup_values(channel)
          _not_set_required_variables = not_set_required_variables
          if _not_set_required_variables.empty?
            rss.channel = channel
            set_parent(channel, rss)
            setup_items(rss)
            setup_image(rss)
            setup_textinput(rss)
            setup_other_elements(rss, channel)
            rss
          else
            raise NotSetError.new(&quot;maker.channel&quot;, _not_set_required_variables)
          end
        end
        
        private
        def setup_items(rss)
          @maker.items.to_feed(rss)
        end
        
        def setup_image(rss)
          @maker.image.to_feed(rss)
        end
        
        def setup_textinput(rss)
          @maker.textinput.to_feed(rss)
        end
        
        def variables
          super + [&quot;pubDate&quot;]
        end

        def required_variable_names
          %w(link language)
        end

        def not_set_required_variables
          vars = super
          vars &lt;&lt; &quot;description&quot; unless description {|d| d.have_required_values?}
          vars &lt;&lt; &quot;title&quot; unless title {|t| t.have_required_values?}
          vars
        end

        class SkipDays &lt; SkipDaysBase
          def to_feed(rss, channel)
            unless @days.empty?
              skipDays = Rss::Channel::SkipDays.new
              channel.skipDays = skipDays
              set_parent(skipDays, channel)
              @days.each do |day|
                day.to_feed(rss, skipDays.days)
              end
            end
          end
          
          class Day &lt; DayBase
            def to_feed(rss, days)
              day = Rss::Channel::SkipDays::Day.new
              set = setup_values(day)
              if set
                days &lt;&lt; day
                set_parent(day, days)
                setup_other_elements(rss, day)
              end
            end

            private
            def required_variable_names
              %w(content)
            end
          end
        end
        
        class SkipHours &lt; SkipHoursBase
          def to_feed(rss, channel)
            unless @hours.empty?
              skipHours = Rss::Channel::SkipHours.new
              channel.skipHours = skipHours
              set_parent(skipHours, channel)
              @hours.each do |hour|
                hour.to_feed(rss, skipHours.hours)
              end
            end
          end
          
          class Hour &lt; HourBase
            def to_feed(rss, hours)
              hour = Rss::Channel::SkipHours::Hour.new
              set = setup_values(hour)
              if set
                hours &lt;&lt; hour
                set_parent(hour, hours)
                setup_other_elements(rss, hour)
              end
            end

            private
            def required_variable_names
              %w(content)
            end
          end
        end
        
        class Cloud &lt; CloudBase
          def to_feed(*args)
          end
        end

        class Categories &lt; CategoriesBase
          def to_feed(*args)
          end

          class Category &lt; CategoryBase
          end
        end

        class Links &lt; LinksBase
          def to_feed(rss, channel)
            return if @links.empty?
            @links.first.to_feed(rss, channel)
          end

          class Link &lt; LinkBase
            def to_feed(rss, channel)
              if have_required_values?
                channel.link = href
              else
                raise NotSetError.new(&quot;maker.channel.link&quot;,
                                      not_set_required_variables)
              end
            end

            private
            def required_variable_names
              %w(href)
            end
          end
        end

        class Authors &lt; AuthorsBase
          def to_feed(rss, channel)
          end

          class Author &lt; AuthorBase
            def to_feed(rss, channel)
            end
          end
        end

        class Contributors &lt; ContributorsBase
          def to_feed(rss, channel)
          end

          class Contributor &lt; ContributorBase
          end
        end

        class Generator &lt; GeneratorBase
          def to_feed(rss, channel)
          end
        end

        class Copyright &lt; CopyrightBase
          def to_feed(rss, channel)
            channel.copyright = content if have_required_values?
          end

          private
          def required_variable_names
            %w(content)
          end
        end

        class Description &lt; DescriptionBase
          def to_feed(rss, channel)
            channel.description = content if have_required_values?
          end

          private
          def required_variable_names
            %w(content)
          end
        end

        class Title &lt; TitleBase
          def to_feed(rss, channel)
            channel.title = content if have_required_values?
          end

          private
          def required_variable_names
            %w(content)
          end
        end
      end

      class Image &lt; ImageBase
        def to_feed(rss)
          image = Rss::Channel::Image.new
          set = setup_values(image)
          if set
            image.link = link
            rss.channel.image = image
            set_parent(image, rss.channel)
            setup_other_elements(rss, image)
          elsif required_element?
            raise NotSetError.new(&quot;maker.image&quot;, not_set_required_variables)
          end
        end

        private
        def required_variable_names
          %w(url title link)
        end

        def required_element?
          true
        end
      end
      
      class Items &lt; ItemsBase
        def to_feed(rss)
          if rss.channel
            normalize.each do |item|
              item.to_feed(rss)
            end
            setup_other_elements(rss, rss.items)
          end
        end
        
        class Item &lt; ItemBase
          def to_feed(rss)
            item = Rss::Channel::Item.new
            set = setup_values(item)
            _not_set_required_variables = not_set_required_variables
            if _not_set_required_variables.empty?
              rss.items &lt;&lt; item
              set_parent(item, rss.channel)
              setup_other_elements(rss, item)
            elsif variable_is_set?
              raise NotSetError.new(&quot;maker.items&quot;, _not_set_required_variables)
            end
          end

          private
          def required_variable_names
            []
          end

          def not_set_required_variables
            vars = super
            if @maker.feed_version == &quot;0.91&quot;
              vars &lt;&lt; &quot;title&quot; unless title {|t| t.have_required_values?}
              vars &lt;&lt; &quot;link&quot; unless link {|l| l.have_required_values?}
            end
            vars
          end

          class Guid &lt; GuidBase
            def to_feed(*args)
            end
          end

          class Enclosure &lt; EnclosureBase
            def to_feed(*args)
            end
          end

          class Source &lt; SourceBase
            def to_feed(*args)
            end

            class Authors &lt; AuthorsBase
              def to_feed(*args)
              end

              class Author &lt; AuthorBase
              end
            end

            class Categories &lt; CategoriesBase
              def to_feed(*args)
              end

              class Category &lt; CategoryBase
              end
            end

            class Contributors &lt; ContributorsBase
              def to_feed(*args)
              end

              class Contributor &lt; ContributorBase
              end
            end

            class Generator &lt; GeneratorBase
              def to_feed(*args)
              end
            end

            class Icon &lt; IconBase
              def to_feed(*args)
              end
            end

            class Links &lt; LinksBase
              def to_feed(*args)
              end

              class Link &lt; LinkBase
              end
            end

            class Logo &lt; LogoBase
              def to_feed(*args)
              end
            end

            class Rights &lt; RightsBase
              def to_feed(*args)
              end
            end

            class Subtitle &lt; SubtitleBase
              def to_feed(*args)
              end
            end

            class Title &lt; TitleBase
              def to_feed(*args)
              end
            end
          end

          class Categories &lt; CategoriesBase
            def to_feed(*args)
            end

            class Category &lt; CategoryBase
            end
          end

          class Authors &lt; AuthorsBase
            def to_feed(*args)
            end

            class Author &lt; AuthorBase
            end
          end

          class Links &lt; LinksBase
            def to_feed(rss, item)
              return if @links.empty?
              @links.first.to_feed(rss, item)
            end

            class Link &lt; LinkBase
              def to_feed(rss, item)
                if have_required_values?
                  item.link = href
                else
                  raise NotSetError.new(&quot;maker.link&quot;,
                                        not_set_required_variables)
                end
              end

              private
              def required_variable_names
                %w(href)
              end
            end
          end

          class Contributors &lt; ContributorsBase
            def to_feed(rss, item)
            end

            class Contributor &lt; ContributorBase
            end
          end

          class Rights &lt; RightsBase
            def to_feed(rss, item)
            end
          end

          class Description &lt; DescriptionBase
            def to_feed(rss, item)
              item.description = content if have_required_values?
            end

            private
            def required_variable_names
              %w(content)
            end
          end

          class Content &lt; ContentBase
            def to_feed(rss, item)
            end
          end

          class Title &lt; TitleBase
            def to_feed(rss, item)
              item.title = content if have_required_values?
            end

            private
            def required_variable_names
              %w(content)
            end
          end
        end
      end
      
      class Textinput &lt; TextinputBase
        def to_feed(rss)
          textInput = Rss::Channel::TextInput.new
          set = setup_values(textInput)
          if set
            rss.channel.textInput = textInput
            set_parent(textInput, rss.channel)
            setup_other_elements(rss, textInput)
          end
        end

        private
        def required_variable_names
          %w(title description name link)
        end
      end
    end
    
    add_maker(&quot;0.9&quot;, &quot;0.92&quot;, RSS09)
    add_maker(&quot;0.91&quot;, &quot;0.91&quot;, RSS09)
    add_maker(&quot;0.92&quot;, &quot;0.92&quot;, RSS09)
    add_maker(&quot;rss0.91&quot;, &quot;0.91&quot;, RSS09)
    add_maker(&quot;rss0.92&quot;, &quot;0.92&quot;, RSS09)
  end
end
</pre>
    </div>