  <div id="C00001557">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />BaseEmitter<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/yaml/baseemitter_rb.html');">ruby-1.8.7-p22/lib/yaml/baseemitter.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007658&name=binary_base64" >binary_base64</a></li>
  <li><a href="index.html?a=M007661&name=double" >double</a></li>
  <li><a href="index.html?a=M007666&name=fold" >fold</a></li>
  <li><a href="index.html?a=M007664&name=indent" >indent</a></li>
  <li><a href="index.html?a=M007665&name=indent!" >indent!</a></li>
  <li><a href="index.html?a=M007663&name=indent_text" >indent_text</a></li>
  <li><a href="index.html?a=M007667&name=map" >map</a></li>
  <li><a href="index.html?a=M007659&name=node_text" >node_text</a></li>
  <li><a href="index.html?a=M007656&name=options" >options</a></li>
  <li><a href="index.html?a=M007657&name=options=" >options=</a></li>
  <li><a href="index.html?a=M007669&name=seq" >seq</a></li>
  <li><a href="index.html?a=M007668&name=seq_map_shortcut" >seq_map_shortcut</a></li>
  <li><a href="index.html?a=M007660&name=simple" >simple</a></li>
  <li><a href="index.html?a=M007662&name=single" >single</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M007658" class="method">
  <div id="M007658_title" class="title">
    <b>binary_base64</b>( value )
  </div>
  <div class="description">
  <p>
Emit binary data
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007658_source')" id="l_M007658_source">show source</a> ]</p>
  <div id="M007658_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 28</span>
28:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">binary_base64</span>( <span class="ruby-identifier">value</span> )
29:             <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;!binary &quot;</span>
30:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">node_text</span>( [<span class="ruby-identifier">value</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">&quot;m&quot;</span>), <span class="ruby-value str">'|'</span> )
31:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007661" class="method">
  <div id="M007661_title" class="title">
    <b>double</b>( value )
  </div>
  <div class="description">
  <p>
Emit double-quoted string
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007661_source')" id="l_M007661_source">show source</a> ]</p>
  <div id="M007661_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 89</span>
89:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">double</span>( <span class="ruby-identifier">value</span> )
90:                         <span class="ruby-node">&quot;\&quot;#{YAML.escape( value )}\&quot;&quot;</span> 
91:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007666" class="method">
  <div id="M007666_title" class="title">
    <b>fold</b>( value )
  </div>
  <div class="description">
  <p>
Folding paragraphs within a column
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007666_source')" id="l_M007666_source">show source</a> ]</p>
  <div id="M007666_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 134</span>
134:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fold</span>( <span class="ruby-identifier">value</span> )
135:             <span class="ruby-identifier">value</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-node">/(^[ \t]+.*$)|(\S.{0,#{options(:BestWidth) - 1}})(?:[ \t]+|(\n+(?=[ \t]|\Z))|$)/</span> ) <span class="ruby-keyword kw">do</span>
136:                 <span class="ruby-identifier">$1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">$2</span> <span class="ruby-operator">+</span> ( <span class="ruby-identifier">$3</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;\n&quot;</span> )
137:             <span class="ruby-keyword kw">end</span>
138:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007664" class="method">
  <div id="M007664_title" class="title">
    <b>indent</b>( mod = nil )
  </div>
  <div class="description">
  <p>
Write a current indent
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007664_source')" id="l_M007664_source">show source</a> ]</p>
  <div id="M007664_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 113</span>
113:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">indent</span>( <span class="ruby-identifier">mod</span> = <span class="ruby-keyword kw">nil</span> )
114:             <span class="ruby-comment cmt">#p [ self.id, level, mod, :INDENT ]</span>
115:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
116:                 <span class="ruby-identifier">mod</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
117:             <span class="ruby-keyword kw">else</span>
118:                 <span class="ruby-identifier">mod</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">:Indent</span>)
119:                 <span class="ruby-identifier">mod</span> <span class="ruby-operator">+=</span> ( <span class="ruby-identifier">level</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span> ) <span class="ruby-operator">*</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">:Indent</span>)
120:             <span class="ruby-keyword kw">end</span>
121:             <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">mod</span>
122:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007665" class="method">
  <div id="M007665_title" class="title">
    <b>indent!</b>()
  </div>
  <div class="description">
  <p>
Add indent to the buffer
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007665_source')" id="l_M007665_source">show source</a> ]</p>
  <div id="M007665_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 127</span>
127:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">indent!</span>
128:                         <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">indent</span>
129:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007663" class="method">
  <div id="M007663_title" class="title">
    <b>indent_text</b>( text, mod, first_line = true )
  </div>
  <div class="description">
  <p>
Write a text block with the current indent
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007663_source')" id="l_M007663_source">show source</a> ]</p>
  <div id="M007663_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 103</span>
103:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">indent_text</span>( <span class="ruby-identifier">text</span>, <span class="ruby-identifier">mod</span>, <span class="ruby-identifier">first_line</span> = <span class="ruby-keyword kw">true</span> )
104:                         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">empty?</span>
105:             <span class="ruby-identifier">spacing</span> = <span class="ruby-identifier">indent</span>( <span class="ruby-identifier">mod</span> )
106:             <span class="ruby-identifier">text</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp re">/\A([^\n])/</span>, <span class="ruby-node">&quot;#{ spacing }\\1&quot;</span> ) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">first_line</span>
107:                         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp re">/\n^([^\n])/</span>, <span class="ruby-node">&quot;\n#{spacing}\\1&quot;</span> )
108:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007667" class="method">
  <div id="M007667_title" class="title">
    <b>map</b>( type, &amp;e )
  </div>
  <div class="description">
  <p>
Quick mapping
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007667_source')" id="l_M007667_source">show source</a> ]</p>
  <div id="M007667_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 143</span>
143:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map</span>( <span class="ruby-identifier">type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">e</span> )
144:             <span class="ruby-identifier">val</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">new</span>
145:             <span class="ruby-identifier">e</span>.<span class="ruby-identifier">call</span>( <span class="ruby-identifier">val</span> )
146:                         <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{type} &quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">nonzero?</span>
147: 
148:                         <span class="ruby-comment cmt">#</span>
149:                         <span class="ruby-comment cmt"># Empty hashes</span>
150:                         <span class="ruby-comment cmt">#</span>
151:                         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">zero?</span>
152:                                 <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;{}&quot;</span>
153:                 <span class="ruby-ivar">@seq_map</span> = <span class="ruby-keyword kw">false</span>
154:                         <span class="ruby-keyword kw">else</span>
155:                 <span class="ruby-comment cmt"># FIXME</span>
156:                 <span class="ruby-comment cmt"># if @buffer.length == 1 and options(:UseHeader) == false and type.length.zero? </span>
157:                             <span class="ruby-comment cmt">#     @headless = 1 </span>
158:                 <span class="ruby-comment cmt"># end</span>
159: 
160:                 <span class="ruby-identifier">defkey</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-identifier">:DefaultKey</span> )
161:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">defkey</span>
162:                     <span class="ruby-identifier">seq_map_shortcut</span>
163:                     <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;= : &quot;</span>
164:                     <span class="ruby-identifier">defkey</span>.<span class="ruby-identifier">to_yaml</span>( <span class="ruby-identifier">:Emitter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span> )
165:                 <span class="ruby-keyword kw">end</span>
166: 
167:                                 <span class="ruby-comment cmt">#</span>
168:                                 <span class="ruby-comment cmt"># Emit the key and value</span>
169:                                 <span class="ruby-comment cmt">#</span>
170:                 <span class="ruby-identifier">val</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
171:                     <span class="ruby-identifier">seq_map_shortcut</span>
172:                     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_complex_yaml?</span>
173:                         <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;? &quot;</span>
174:                     <span class="ruby-keyword kw">end</span>
175:                     <span class="ruby-identifier">v</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_yaml</span>( <span class="ruby-identifier">:Emitter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span> )
176:                     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">is_complex_yaml?</span>
177:                         <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\n&quot;</span>
178:                         <span class="ruby-identifier">indent!</span>
179:                     <span class="ruby-keyword kw">end</span>
180:                     <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;: &quot;</span> 
181:                     <span class="ruby-identifier">v</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_yaml</span>( <span class="ruby-identifier">:Emitter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span> )
182:                 }
183:                         <span class="ruby-keyword kw">end</span>
184:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007659" class="method">
  <div id="M007659_title" class="title">
    <b>node_text</b>( value, block = nil )
  </div>
  <div class="description">
  <p>
Emit plain, normal flowing text
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007659_source')" id="l_M007659_source">show source</a> ]</p>
  <div id="M007659_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 36</span>
36:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_text</span>( <span class="ruby-identifier">value</span>, <span class="ruby-identifier">block</span> = <span class="ruby-keyword kw">nil</span> )
37:             <span class="ruby-ivar">@seq_map</span> = <span class="ruby-keyword kw">false</span>
38:                         <span class="ruby-identifier">valx</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">dup</span>
39:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">block</span>
40:             <span class="ruby-identifier">block</span> =
41:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">:UseBlock</span>)
42:                     <span class="ruby-value str">'|'</span>
43:                 <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">:UseFold</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">valx</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\n[ \t]/</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">valx</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/#{YAML::ESCAPE_CHAR}/</span>
44:                     <span class="ruby-value str">'|'</span>
45:                 <span class="ruby-keyword kw">else</span>
46:                     <span class="ruby-value str">'&gt;'</span>
47:                 <span class="ruby-keyword kw">end</span> 
48: 
49:                 <span class="ruby-identifier">indt</span> = <span class="ruby-identifier">$&amp;</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\d+/</span>
50:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">valx</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(\A\n*[ \t#]|^---\s+)/</span>
51:                     <span class="ruby-identifier">indt</span> = <span class="ruby-identifier">options</span>(<span class="ruby-identifier">:Indent</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">indt</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
52:                     <span class="ruby-identifier">block</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">indt</span>.<span class="ruby-identifier">to_s</span>
53:                 <span class="ruby-keyword kw">end</span>
54: 
55:             <span class="ruby-identifier">block</span> <span class="ruby-operator">+=</span>
56:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">valx</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\n\Z\n/</span>
57:                     <span class="ruby-value str">&quot;+&quot;</span>
58:                 <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">valx</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\Z\n/</span>
59:                     <span class="ruby-value str">&quot;&quot;</span>
60:                 <span class="ruby-keyword kw">else</span>
61:                     <span class="ruby-value str">&quot;-&quot;</span>
62:                 <span class="ruby-keyword kw">end</span>
63:             <span class="ruby-keyword kw">end</span>
64:             <span class="ruby-identifier">block</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;\n&quot;</span>
65:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?&quot;</span>
66:                 <span class="ruby-identifier">esc_skip</span> = ( <span class="ruby-value str">&quot;\t\n&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">valx</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[ \t]/</span> ) <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;&quot;</span>
67:                 <span class="ruby-identifier">valx</span> = <span class="ruby-identifier">fold</span>( <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">escape</span>( <span class="ruby-identifier">valx</span>, <span class="ruby-identifier">esc_skip</span> ) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\&quot;&quot;</span> ).<span class="ruby-identifier">chomp</span>
68:                 <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&quot;'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">indent_text</span>( <span class="ruby-identifier">valx</span>, <span class="ruby-identifier">indt</span>, <span class="ruby-keyword kw">false</span> )
69:             <span class="ruby-keyword kw">else</span>
70:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?&gt;</span> 
71:                     <span class="ruby-identifier">valx</span> = <span class="ruby-identifier">fold</span>( <span class="ruby-identifier">valx</span> ) 
72:                 <span class="ruby-keyword kw">end</span>
73:                 <span class="ruby-comment cmt">#p [block, indt]</span>
74:                 <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">indent_text</span>( <span class="ruby-identifier">valx</span>, <span class="ruby-identifier">indt</span> )
75:             <span class="ruby-keyword kw">end</span>
76:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007656" class="method">
  <div id="M007656_title" class="title">
    <b>options</b>( opt = nil )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007656_source')" id="l_M007656_source">show source</a> ]</p>
  <div id="M007656_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 13</span>
13:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options</span>( <span class="ruby-identifier">opt</span> = <span class="ruby-keyword kw">nil</span> )
14:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>
15:                 <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">opt</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULTS</span>[<span class="ruby-identifier">opt</span>]
16:             <span class="ruby-keyword kw">else</span>
17:                 <span class="ruby-ivar">@options</span>
18:             <span class="ruby-keyword kw">end</span>
19:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007657" class="method">
  <div id="M007657_title" class="title">
    <b>options=</b>( opt )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007657_source')" id="l_M007657_source">show source</a> ]</p>
  <div id="M007657_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 21</span>
21:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options=</span>( <span class="ruby-identifier">opt</span> )
22:             <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">opt</span>
23:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007669" class="method">
  <div id="M007669_title" class="title">
    <b>seq</b>( type, &amp;e )
  </div>
  <div class="description">
  <p>
Quick sequence
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007669_source')" id="l_M007669_source">show source</a> ]</p>
  <div id="M007669_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 200</span>
200:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">seq</span>( <span class="ruby-identifier">type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">e</span> )
201:             <span class="ruby-ivar">@seq_map</span> = <span class="ruby-keyword kw">false</span>
202:             <span class="ruby-identifier">val</span> = <span class="ruby-constant">Sequence</span>.<span class="ruby-identifier">new</span>
203:             <span class="ruby-identifier">e</span>.<span class="ruby-identifier">call</span>( <span class="ruby-identifier">val</span> )
204:                         <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{type} &quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">nonzero?</span>
205: 
206:                         <span class="ruby-comment cmt">#</span>
207:                         <span class="ruby-comment cmt"># Empty arrays</span>
208:                         <span class="ruby-comment cmt">#</span>
209:                         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">zero?</span>
210:                                 <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;[]&quot;</span>
211:                         <span class="ruby-keyword kw">else</span>
212:                 <span class="ruby-comment cmt"># FIXME</span>
213:                 <span class="ruby-comment cmt"># if @buffer.length == 1 and options(:UseHeader) == false and type.length.zero? </span>
214:                             <span class="ruby-comment cmt">#     @headless = 1 </span>
215:                 <span class="ruby-comment cmt"># end</span>
216: 
217:                                 <span class="ruby-comment cmt">#</span>
218:                                 <span class="ruby-comment cmt"># Emit the key and value</span>
219:                                 <span class="ruby-comment cmt">#</span>
220:                 <span class="ruby-identifier">val</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
221:                     <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\n&quot;</span>
222:                     <span class="ruby-identifier">indent!</span>
223:                     <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;- &quot;</span>
224:                     <span class="ruby-ivar">@seq_map</span> = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Hash</span>
225:                     <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_yaml</span>( <span class="ruby-identifier">:Emitter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span> )
226:                 }
227:                         <span class="ruby-keyword kw">end</span>
228:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007668" class="method">
  <div id="M007668_title" class="title">
    <b>seq_map_shortcut</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007668_source')" id="l_M007668_source">show source</a> ]</p>
  <div id="M007668_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 186</span>
186:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">seq_map_shortcut</span>
187:             <span class="ruby-comment cmt"># FIXME: seq_map needs to work with the new anchoring system</span>
188:             <span class="ruby-comment cmt"># if @seq_map</span>
189:             <span class="ruby-comment cmt">#     @anchor_extras[@buffer.length - 1] = &quot;\n&quot; + indent</span>
190:             <span class="ruby-comment cmt">#     @seq_map = false</span>
191:             <span class="ruby-comment cmt"># else</span>
192:                 <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\n&quot;</span>
193:                 <span class="ruby-identifier">indent!</span> 
194:             <span class="ruby-comment cmt"># end</span>
195:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007660" class="method">
  <div id="M007660_title" class="title">
    <b>simple</b>( value )
  </div>
  <div class="description">
  <p>
Emit a simple, unqouted string
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007660_source')" id="l_M007660_source">show source</a> ]</p>
  <div id="M007660_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 81</span>
81:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">simple</span>( <span class="ruby-identifier">value</span> )
82:             <span class="ruby-ivar">@seq_map</span> = <span class="ruby-keyword kw">false</span>
83:             <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
84:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007662" class="method">
  <div id="M007662_title" class="title">
    <b>single</b>( value )
  </div>
  <div class="description">
  <p>
Emit single-quoted string
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007662_source')" id="l_M007662_source">show source</a> ]</p>
  <div id="M007662_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/yaml/baseemitter.rb, line 96</span>
96:                 <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">single</span>( <span class="ruby-identifier">value</span> )
97:                         <span class="ruby-node">&quot;'#{value}'&quot;</span>
98:                 <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>