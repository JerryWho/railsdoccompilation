  <div id="C00001038">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />LineCollection<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/rdoc/markup/simple_markup/fragments_rb.html');">ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/YAML/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
Collect groups of lines together. Each group will end up containing a flow
of text
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M005273&name=accept" >accept</a></li>
  <li><a href="index.html?a=M005267&name=add" >add</a></li>
  <li><a href="index.html?a=M005268&name=each" >each</a></li>
  <li><a href="index.html?a=M005270&name=fragment_for" >fragment_for</a></li>
  <li><a href="index.html?a=M005266&name=new" >new</a></li>
  <li><a href="index.html?a=M005271&name=normalize" >normalize</a></li>
  <li><a href="index.html?a=M005269&name=to_a" >to_a</a></li>
  <li><a href="index.html?a=M005272&name=to_s" >to_s</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M005266" class="method">
  <div id="M005266_title" class="title">
    <b>new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005266_source')" id="l_M005266_source">show source</a> ]</p>
  <div id="M005266_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 127</span>
127:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
128:       <span class="ruby-ivar">@fragments</span> = []
129:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M005273" class="method">
  <div id="M005273_title" class="title">
    <b>accept</b>(am, visitor)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005273_source')" id="l_M005273_source">show source</a> ]</p>
  <div id="M005273_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 161</span>
161:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">visitor</span>)
162: 
163:       <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">start_accepting</span>
164: 
165:       <span class="ruby-ivar">@fragments</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fragment</span><span class="ruby-operator">|</span>
166:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">fragment</span>
167:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Verbatim</span>
168:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_verbatim</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
169:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Rule</span>
170:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_rule</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
171:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">ListStart</span>
172:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_list_start</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
173:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">ListEnd</span>
174:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_list_end</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
175:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">ListItem</span>
176:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_list_item</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
177:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">BlankLine</span>
178:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_blank_line</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
179:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Heading</span>
180:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_heading</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
181:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Paragraph</span>
182:           <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">accept_paragraph</span>(<span class="ruby-identifier">am</span>, <span class="ruby-identifier">fragment</span>)
183:         <span class="ruby-keyword kw">end</span>
184:       <span class="ruby-keyword kw">end</span>
185: 
186:       <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">end_accepting</span>
187:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005267" class="method">
  <div id="M005267_title" class="title">
    <b>add</b>(fragment)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005267_source')" id="l_M005267_source">show source</a> ]</p>
  <div id="M005267_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 131</span>
131:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">fragment</span>)
132:       <span class="ruby-ivar">@fragments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">fragment</span>
133:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005268" class="method">
  <div id="M005268_title" class="title">
    <b>each</b>(&amp;b)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005268_source')" id="l_M005268_source">show source</a> ]</p>
  <div id="M005268_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 135</span>
135:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
136:       <span class="ruby-ivar">@fragments</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
137:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005270" class="method">
  <div id="M005270_title" class="title">
    <b>fragment_for</b>(*args)
  </div>
  <div class="description">
  <p>
Factory for different fragment types
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005270_source')" id="l_M005270_source">show source</a> ]</p>
  <div id="M005270_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 145</span>
145:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fragment_for</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
146:       <span class="ruby-constant">Fragment</span>.<span class="ruby-identifier">for</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
147:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005271" class="method">
  <div id="M005271_title" class="title">
    <b>normalize</b>()
  </div>
  <div class="description">
  <p>
tidy up at the end
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005271_source')" id="l_M005271_source">show source</a> ]</p>
  <div id="M005271_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 150</span>
150:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize</span>
151:       <span class="ruby-identifier">change_verbatim_blank_lines</span>
152:       <span class="ruby-identifier">add_list_start_and_ends</span>
153:       <span class="ruby-identifier">add_list_breaks</span>
154:       <span class="ruby-identifier">tidy_blank_lines</span>
155:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005269" class="method">
  <div id="M005269_title" class="title">
    <b>to_a</b>()
  </div>
  <div class="description">
  <p>
For testing
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005269_source')" id="l_M005269_source">show source</a> ]</p>
  <div id="M005269_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 140</span>
140:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
141:       <span class="ruby-ivar">@fragments</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">fragment</span><span class="ruby-operator">|</span> <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">to_s</span>}
142:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005272" class="method">
  <div id="M005272_title" class="title">
    <b>to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005272_source')" id="l_M005272_source">show source</a> ]</p>
  <div id="M005272_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/markup/simple_markup/fragments.rb, line 157</span>
157:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
158:       <span class="ruby-ivar">@fragments</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n----\n&quot;</span>)
159:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>