  <div id="C00001611">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />Meta<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/open-uri_rb.html');">ruby-1.8.7-p22/lib/open-uri.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
Mixin for holding meta-information.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007915&name=charset" >charset</a></li>
  <li><a href="index.html?a=M007916&name=content_encoding" >content_encoding</a></li>
  <li><a href="index.html?a=M007914&name=content_type" >content_type</a></li>
  <li><a href="index.html?a=M007913&name=last_modified" >last_modified</a></li>
  </ul>




  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">RE_LWS</td>
    <td>=</td>
    <td class="attr-value">/[\r\n\t ]+/n</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">RE_TOKEN</td>
    <td>=</td>
    <td class="attr-value">%r{[^\x00- ()&lt;&gt;@,;:\\&quot;/\[\]?={}\x7f]+}n</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">RE_QUOTED_STRING</td>
    <td>=</td>
    <td class="attr-value">%r{&quot;(?:[\r\n\t !#-\[\]-~\x80-\xff]|\\[\x00-\x7f])*&quot;}n</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">RE_PARAMETERS</td>
    <td>=</td>
    <td class="attr-value">%r{(?:;#{RE_LWS}?#{RE_TOKEN}#{RE_LWS}?=#{RE_LWS}?(?:#{RE_TOKEN}|#{RE_QUOTED_STRING})#{RE_LWS}?)*}n</td>
  </tr>
  </table>

  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>base_uri</td>
    <td class='attr-desc'>
returns a <a href="index.html?a=C00000995&name=URI">URI</a> which is base
of relative URIs in the data. It may differ from the <a
href="index.html?a=C00000995&name=URI">URI</a> supplied by a user because
redirection.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>meta</td>
    <td class='attr-desc'>
returns a <a href="index.html?a=C00000320&name=Hash">Hash</a> which
represents header fields. The <a
href="index.html?a=C00000320&name=Hash">Hash</a> keys are downcased for
canonicalization.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>status</td>
    <td class='attr-desc'>
returns an <a href="index.html?a=C00000243&name=Array">Array</a> which
consists status code and message.

</td>
  </tr>
  </table>

<div class="sectiontitle">Public Instance methods</div>
<div id="M007915" class="method">
  <div id="M007915_title" class="title">
    <b>charset</b>() {|| ...}
  </div>
  <div class="description">
  <p>
returns a charset parameter in Content-Type field. It is downcased for
canonicalization.
</p>
<p>
If charset parameter is not given but a block is given, the block is called
and its result is returned. It can be used to guess charset.
</p>
<p>
If charset parameter and block is not given, nil is returned except text
type in HTTP. In that case, &quot;iso-8859-1&quot; is returned as defined
by RFC2616 3.7.1.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007915_source')" id="l_M007915_source">show source</a> ]</p>
  <div id="M007915_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/open-uri.rb, line 397</span>
397:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">charset</span>
398:       <span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters</span> = <span class="ruby-identifier">content_type_parse</span>
399:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pair</span> = <span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">assoc</span>(<span class="ruby-value str">'charset'</span>)
400:         <span class="ruby-identifier">pair</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">downcase</span>
401:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">block_given?</span>
402:         <span class="ruby-keyword kw">yield</span>
403:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-regexp re">%r{\Atext/}</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">&amp;&amp;</span>
404:             <span class="ruby-ivar">@base_uri</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-regexp re">/\Ahttp\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@base_uri</span>.<span class="ruby-identifier">scheme</span>
405:         <span class="ruby-value str">&quot;iso-8859-1&quot;</span> <span class="ruby-comment cmt"># RFC2616 3.7.1</span>
406:       <span class="ruby-keyword kw">else</span>
407:         <span class="ruby-keyword kw">nil</span>
408:       <span class="ruby-keyword kw">end</span>
409:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007916" class="method">
  <div id="M007916_title" class="title">
    <b>content_encoding</b>()
  </div>
  <div class="description">
  <p>
returns a list of encodings in Content-Encoding field as an <a
href="index.html?a=C00000243&name=Array">Array</a> of <a
href="index.html?a=C00000055&name=String">String</a>. The encodings are
downcased for canonicalization.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007916_source')" id="l_M007916_source">show source</a> ]</p>
  <div id="M007916_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/open-uri.rb, line 414</span>
414:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_encoding</span>
415:       <span class="ruby-identifier">v</span> = <span class="ruby-ivar">@meta</span>[<span class="ruby-value str">'content-encoding'</span>]
416:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">%r{\A#{RE_LWS}?#{RE_TOKEN}#{RE_LWS}?(?:,#{RE_LWS}?#{RE_TOKEN}#{RE_LWS}?)*}o</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">v</span>
417:         <span class="ruby-identifier">v</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-constant">RE_TOKEN</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">content_coding</span><span class="ruby-operator">|</span> <span class="ruby-identifier">content_coding</span>.<span class="ruby-identifier">downcase</span>}
418:       <span class="ruby-keyword kw">else</span>
419:         []
420:       <span class="ruby-keyword kw">end</span>
421:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007914" class="method">
  <div id="M007914_title" class="title">
    <b>content_type</b>()
  </div>
  <div class="description">
  <p>
returns &quot;type/subtype&quot; which is MIME Content-Type. It is
downcased for canonicalization. Content-Type parameters are stripped.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007914_source')" id="l_M007914_source">show source</a> ]</p>
  <div id="M007914_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/open-uri.rb, line 382</span>
382:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type</span>
383:       <span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters</span> = <span class="ruby-identifier">content_type_parse</span>
384:       <span class="ruby-identifier">type</span> <span class="ruby-operator">||</span> <span class="ruby-value str">'application/octet-stream'</span>
385:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007913" class="method">
  <div id="M007913_title" class="title">
    <b>last_modified</b>()
  </div>
  <div class="description">
  <p>
returns a <a href="index.html?a=C00000015&name=Time">Time</a> which
represents Last-Modified field.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007913_source')" id="l_M007913_source">show source</a> ]</p>
  <div id="M007913_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/open-uri.rb, line 349</span>
349:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">last_modified</span>
350:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-ivar">@meta</span>[<span class="ruby-value str">'last-modified'</span>]
351:         <span class="ruby-constant">Time</span>.<span class="ruby-identifier">httpdate</span>(<span class="ruby-identifier">v</span>)
352:       <span class="ruby-keyword kw">else</span>
353:         <span class="ruby-keyword kw">nil</span>
354:       <span class="ruby-keyword kw">end</span>
355:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>