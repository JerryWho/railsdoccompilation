  <div id="C00000247">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />ACL<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/drb/acl_rb.html');">ruby-1.8.7-p22/lib/drb/acl.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/YAML/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M002253&name=allow_addr?" >allow_addr?</a></li>
  <li><a href="index.html?a=M002252&name=allow_socket?" >allow_socket?</a></li>
  <li><a href="index.html?a=M002254&name=install_list" >install_list</a></li>
  <li><a href="index.html?a=M002251&name=new" >new</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/ACL/ACLEntry.html');" class="link">ACL::ACLEntry</a>"<br />
Class "<a href="#" onclick="jsHref('classes/ACL/ACLList.html');" class="link">ACL::ACLList</a>"<br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">VERSION</td>
    <td>=</td>
    <td class="attr-value">[&quot;2.0.0&quot;]</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DENY_ALLOW</td>
    <td>=</td>
    <td class="attr-value">0</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">ALLOW_DENY</td>
    <td>=</td>
    <td class="attr-value">1</td>
  </tr>
  </table>


<div class="sectiontitle">Public Class methods</div>
<div id="M002251" class="method">
  <div id="M002251_title" class="title">
    <b>new</b>(list=nil, order = DENY_ALLOW)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002251_source')" id="l_M002251_source">show source</a> ]</p>
  <div id="M002251_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/drb/acl.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">list</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">order</span> = <span class="ruby-constant">DENY_ALLOW</span>)
85:     <span class="ruby-ivar">@order</span> = <span class="ruby-identifier">order</span>
86:     <span class="ruby-ivar">@deny</span> = <span class="ruby-constant">ACLList</span>.<span class="ruby-identifier">new</span>
87:     <span class="ruby-ivar">@allow</span> = <span class="ruby-constant">ACLList</span>.<span class="ruby-identifier">new</span>
88:     <span class="ruby-identifier">install_list</span>(<span class="ruby-identifier">list</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">list</span>
89:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M002253" class="method">
  <div id="M002253_title" class="title">
    <b>allow_addr?</b>(addr)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002253_source')" id="l_M002253_source">show source</a> ]</p>
  <div id="M002253_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/drb/acl.rb, line 97</span>
 97:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">allow_addr?</span>(<span class="ruby-identifier">addr</span>)
 98:     <span class="ruby-keyword kw">case</span> <span class="ruby-ivar">@order</span>
 99:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">DENY_ALLOW</span>
100:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@allow</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">addr</span>)
101:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@deny</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">addr</span>)
102:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
103:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">ALLOW_DENY</span>
104:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@deny</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">addr</span>)
105:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@allow</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">addr</span>)
106:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
107:     <span class="ruby-keyword kw">else</span>
108:       <span class="ruby-keyword kw">false</span>
109:     <span class="ruby-keyword kw">end</span>
110:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002252" class="method">
  <div id="M002252_title" class="title">
    <b>allow_socket?</b>(soc)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002252_source')" id="l_M002252_source">show source</a> ]</p>
  <div id="M002252_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/drb/acl.rb, line 92</span>
92:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">allow_socket?</span>(<span class="ruby-identifier">soc</span>)
93:     <span class="ruby-identifier">allow_addr?</span>(<span class="ruby-identifier">soc</span>.<span class="ruby-identifier">peeraddr</span>)
94:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002254" class="method">
  <div id="M002254_title" class="title">
    <b>install_list</b>(list)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002254_source')" id="l_M002254_source">show source</a> ]</p>
  <div id="M002254_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/drb/acl.rb, line 113</span>
113:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">install_list</span>(<span class="ruby-identifier">list</span>)
114:     <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
115:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">size</span>
116:       <span class="ruby-identifier">permission</span>, <span class="ruby-identifier">domain</span> = <span class="ruby-identifier">list</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">i</span>,<span class="ruby-value">2</span>)
117:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">permission</span>.<span class="ruby-identifier">downcase</span>
118:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'allow'</span>
119:         <span class="ruby-ivar">@allow</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">domain</span>)
120:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'deny'</span>
121:         <span class="ruby-ivar">@deny</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">domain</span>)
122:       <span class="ruby-keyword kw">else</span>
123:         <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Invalid ACL entry #{list.to_s}&quot;</span>
124:       <span class="ruby-keyword kw">end</span>
125:       <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">2</span>
126:     <span class="ruby-keyword kw">end</span>
127:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>