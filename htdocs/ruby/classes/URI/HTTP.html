  <div id="C00001010">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />HTTP<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/open-uri_rb.html');">ruby-1.8.7-p22/lib/open-uri.rb</a>
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/uri/http_rb.html');">ruby-1.8.7-p22/lib/uri/http.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/YAML/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
The syntax of <a href="index.html?a=C00001010&name=HTTP">HTTP</a> URIs is
defined in RFC1738 section 3.3.
</p>
<p>
Note that the Ruby <a href="index.html?a=C00000995&name=URI">URI</a>
library allows <a href="index.html?a=C00001010&name=HTTP">HTTP</a> URLs
containing usernames and passwords. This is not legal as per the RFC, but
used to be supported in Internet Explorer 5 and 6, before the MS04-004
security update. See &lt;URL:<a
href="http://support.microsoft.com/kb/834489"
target="_blank">http://support.microsoft.com/kb/834489</a>&gt;.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M005156&name=build" >build</a></li>
  <li><a href="index.html?a=M005157&name=new" >new</a></li>
  <li><a href="index.html?a=M005158&name=request_uri" >request_uri</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/OpenURI/OpenRead.html');">OpenURI::OpenRead</a></li>
</ul>



  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">DEFAULT_PORT</td>
    <td>=</td>
    <td class="attr-value">80</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">COMPONENT</td>
    <td>=</td>
    <td class="attr-value">[       :scheme,        :userinfo, :host, :port,        :path,        :query,        :fragment</td>
  </tr>
  </table>


<div class="sectiontitle">Public Class methods</div>
<div id="M005156" class="method">
  <div id="M005156_title" class="title">
    <b>build</b>(args)
  </div>
  <div class="description">
  <h2>Description</h2>
<p>
Create a new <a href="index.html?a=C00001010&name=URI::HTTP">URI::HTTP</a>
object from components, with syntax checking.
</p>
<p>
The components accepted are userinfo, host, port, path, query and fragment.
</p>
<p>
The components should be provided either as an <a
href="index.html?a=C00000243&name=Array">Array</a>, or as a <a
href="index.html?a=C00000320&name=Hash">Hash</a> with keys formed by
preceding the component names with a colon.
</p>
<p>
If an <a href="index.html?a=C00000243&name=Array">Array</a> is used, the
components must be passed in the order [userinfo, host, port, path, query,
fragment].
</p>
<p>
Example:
</p>
<pre>
    newuri = URI::HTTP.build({:host =&gt; 'www.example.com',
      :path&gt; =&gt; '/foo/bar'})

    newuri = URI::HTTP.build([nil, &quot;www.example.com&quot;, nil, &quot;/path&quot;,
      &quot;query&quot;, 'fragment'])
</pre>
<p>
Currently, if passed userinfo components this method generates invalid <a
href="index.html?a=C00001010&name=HTTP">HTTP</a> URIs as per RFC 1738.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005156_source')" id="l_M005156_source">show source</a> ]</p>
  <div id="M005156_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/uri/http.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
58:       <span class="ruby-identifier">tmp</span> = <span class="ruby-constant">Util</span><span class="ruby-operator">::</span><span class="ruby-identifier">make_components_hash</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">args</span>)
59:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">tmp</span>)
60:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005157" class="method">
  <div id="M005157_title" class="title">
    <b>new</b>(*arg)
  </div>
  <div class="description">
  <h2>Description</h2>
<p>
Create a new <a href="index.html?a=C00001010&name=URI::HTTP">URI::HTTP</a>
object from generic <a href="index.html?a=C00000995&name=URI">URI</a>
components as per RFC 2396. No <a
href="index.html?a=C00001010&name=HTTP">HTTP</a>-specific syntax checking
(as per RFC 1738) is performed.
</p>
<p>
Arguments are <tt>scheme</tt>, <tt>userinfo</tt>, <tt>host</tt>,
<tt>port</tt>, <tt>registry</tt>, <tt>path</tt>, <tt>opaque</tt>,
<tt>query</tt> and <tt>fragment</tt>, in that order.
</p>
<p>
Example:
</p>
<pre>
    uri = URI::HTTP.new(['http', nil, &quot;www.example.com&quot;, nil, &quot;/path&quot;,
      &quot;query&quot;, 'fragment'])
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005157_source')" id="l_M005157_source">show source</a> ]</p>
  <div id="M005157_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/uri/http.rb, line 77</span>
77:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
78:       <span class="ruby-keyword kw">super</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
79:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M005158" class="method">
  <div id="M005158_title" class="title">
    <b>request_uri</b>()
  </div>
  <div class="description">
  <h2>Description</h2>
<p>
Returns the full path for an <a
href="index.html?a=C00001010&name=HTTP">HTTP</a> request, as required by <a
href="index.html?a=C00000883&name=Net::HTTP::Get">Net::HTTP::Get</a>.
</p>
<p>
If the <a href="index.html?a=C00000995&name=URI">URI</a> contains a query,
the full path is URI#path + &#8217;?&#8217; + URI#query. Otherwise, the
path is simply URI#path.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005158_source')" id="l_M005158_source">show source</a> ]</p>
  <div id="M005158_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/uri/http.rb, line 89</span>
89:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_uri</span>
90:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">path_query</span>
91:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">!=</span> <span class="ruby-value">?/</span>
92:         <span class="ruby-identifier">r</span> = <span class="ruby-value str">'/'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">r</span>
93:       <span class="ruby-keyword kw">end</span>
94: 
95:       <span class="ruby-identifier">r</span>
96:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>