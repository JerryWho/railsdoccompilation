  <div id="C00001393">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />HTMLGeneratorInOne<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/rdoc/generators/html_generator_rb.html');">ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Generators/HTMLGenerator.html');">
HTMLGenerator
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007095&name=build_class_list" >build_class_list</a></li>
  <li><a href="index.html?a=M007094&name=build_indices" >build_indices</a></li>
  <li><a href="index.html?a=M007101&name=gen_an_index" >gen_an_index</a></li>
  <li><a href="index.html?a=M007099&name=gen_class_index" >gen_class_index</a></li>
  <li><a href="index.html?a=M007098&name=gen_file_index" >gen_file_index</a></li>
  <li><a href="index.html?a=M007097&name=gen_into" >gen_into</a></li>
  <li><a href="index.html?a=M007100&name=gen_method_index" >gen_method_index</a></li>
  <li><a href="index.html?a=M007093&name=generate" >generate</a></li>
  <li><a href="index.html?a=M007096&name=generate_xml" >generate_xml</a></li>
  <li><a href="index.html?a=M007092&name=new" >new</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M007092" class="method">
  <div id="M007092_title" class="title">
    <b>new</b>(*args)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007092_source')" id="l_M007092_source">show source</a> ]</p>
  <div id="M007092_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1400</span>
1400:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
1401:       <span class="ruby-keyword kw">super</span>
1402:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M007095" class="method">
  <div id="M007095_title" class="title">
    <b>build_class_list</b>(from, html_file, class_dir)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007095_source')" id="l_M007095_source">show source</a> ]</p>
  <div id="M007095_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1440</span>
1440:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_class_list</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">html_file</span>, <span class="ruby-identifier">class_dir</span>)
1441:       <span class="ruby-ivar">@classes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">HtmlClass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">html_file</span>, <span class="ruby-identifier">class_dir</span>, <span class="ruby-ivar">@options</span>)
1442:       <span class="ruby-identifier">from</span>.<span class="ruby-identifier">each_classmodule</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span>
1443:         <span class="ruby-identifier">build_class_list</span>(<span class="ruby-identifier">mod</span>, <span class="ruby-identifier">html_file</span>, <span class="ruby-identifier">class_dir</span>)
1444:       <span class="ruby-keyword kw">end</span>
1445:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007094" class="method">
  <div id="M007094_title" class="title">
    <b>build_indices</b>()
  </div>
  <div class="description">
  <p>
Generate:
</p>
<ul>
<li>a list of <a href="index.html?a=C00001387&name=HtmlFile">HtmlFile</a>
objects for each <a
href="index.html?a=F00000170&name=TopLevel">TopLevel</a> object.

</li>
<li>a list of <a href="index.html?a=C00001390&name=HtmlClass">HtmlClass</a>
objects for each first level class or module in the <a
href="index.html?a=F00000170&name=TopLevel">TopLevel</a> objects

</li>
<li>a complete list of all hyperlinkable terms (file, class, module, and method
names)

</li>
</ul>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007094_source')" id="l_M007094_source">show source</a> ]</p>
  <div id="M007094_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1429</span>
1429:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_indices</span>
1430: 
1431:       <span class="ruby-ivar">@toplevels</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">toplevel</span><span class="ruby-operator">|</span>
1432:         <span class="ruby-ivar">@files</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">HtmlFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">toplevel</span>, <span class="ruby-ivar">@options</span>, <span class="ruby-constant">FILE_DIR</span>)
1433:       <span class="ruby-keyword kw">end</span>
1434: 
1435:       <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">TopLevel</span>.<span class="ruby-identifier">all_classes_and_modules</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cls</span><span class="ruby-operator">|</span>
1436:         <span class="ruby-identifier">build_class_list</span>(<span class="ruby-identifier">cls</span>, <span class="ruby-ivar">@files</span>[<span class="ruby-value">0</span>], <span class="ruby-constant">CLASS_DIR</span>)
1437:       <span class="ruby-keyword kw">end</span>
1438:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007101" class="method">
  <div id="M007101_title" class="title">
    <b>gen_an_index</b>(collection, title)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007101_source')" id="l_M007101_source">show source</a> ]</p>
  <div id="M007101_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1493</span>
1493:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-identifier">title</span>)
1494:       <span class="ruby-identifier">res</span> = []
1495:       <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
1496:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">document_self</span>
1497:           <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">path</span>, <span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">index_name</span> }
1498:         <span class="ruby-keyword kw">end</span>
1499:       <span class="ruby-keyword kw">end</span>
1500: 
1501:       <span class="ruby-keyword kw">return</span> {
1502:         <span class="ruby-value str">&quot;entries&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">res</span>,
1503:         <span class="ruby-value str">'list_title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title</span>,
1504:         <span class="ruby-value str">'index_url'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">main_url</span>,
1505:       }
1506:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007099" class="method">
  <div id="M007099_title" class="title">
    <b>gen_class_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007099_source')" id="l_M007099_source">show source</a> ]</p>
  <div id="M007099_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1484</span>
1484:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_class_index</span>
1485:       <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-ivar">@classes</span>, <span class="ruby-value str">'Classes'</span>)
1486:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007098" class="method">
  <div id="M007098_title" class="title">
    <b>gen_file_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007098_source')" id="l_M007098_source">show source</a> ]</p>
  <div id="M007098_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1480</span>
1480:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_file_index</span>
1481:       <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-ivar">@files</span>, <span class="ruby-value str">'Files'</span>)
1482:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007097" class="method">
  <div id="M007097_title" class="title">
    <b>gen_into</b>(list)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007097_source')" id="l_M007097_source">show source</a> ]</p>
  <div id="M007097_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1472</span>
1472:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_into</span>(<span class="ruby-identifier">list</span>)
1473:       <span class="ruby-identifier">res</span> = []
1474:       <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
1475:         <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">value_hash</span>
1476:       <span class="ruby-keyword kw">end</span>
1477:       <span class="ruby-identifier">res</span>
1478:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007100" class="method">
  <div id="M007100_title" class="title">
    <b>gen_method_index</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007100_source')" id="l_M007100_source">show source</a> ]</p>
  <div id="M007100_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1488</span>
1488:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_method_index</span>
1489:       <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-constant">HtmlMethod</span>.<span class="ruby-identifier">all_methods</span>, <span class="ruby-value str">'Methods'</span>)
1490:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007093" class="method">
  <div id="M007093_title" class="title">
    <b>generate</b>(info)
  </div>
  <div class="description">
  <p>
Build the initial indices and output objects based on an array of <a
href="index.html?a=F00000170&name=TopLevel">TopLevel</a> objects containing
the extracted information.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007093_source')" id="l_M007093_source">show source</a> ]</p>
  <div id="M007093_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1409</span>
1409:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate</span>(<span class="ruby-identifier">info</span>)
1410:       <span class="ruby-ivar">@toplevels</span>  = <span class="ruby-identifier">info</span>
1411:       <span class="ruby-ivar">@files</span>      = []
1412:       <span class="ruby-ivar">@classes</span>    = []
1413:       <span class="ruby-ivar">@hyperlinks</span> = {}
1414: 
1415:       <span class="ruby-identifier">build_indices</span>
1416:       <span class="ruby-identifier">generate_xml</span>
1417:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007096" class="method">
  <div id="M007096_title" class="title">
    <b>generate_xml</b>()
  </div>
  <div class="description">
  <p>
Generate all the HTML. For the one-file case, we generate all the
information in to one big hash
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007096_source')" id="l_M007096_source">show source</a> ]</p>
  <div id="M007096_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/rdoc/generators/html_generator.rb, line 1451</span>
1451:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_xml</span>
1452:       <span class="ruby-identifier">values</span> = { 
1453:         <span class="ruby-value str">'charset'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">charset</span>,
1454:         <span class="ruby-value str">'files'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">gen_into</span>(<span class="ruby-ivar">@files</span>),
1455:         <span class="ruby-value str">'classes'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">gen_into</span>(<span class="ruby-ivar">@classes</span>),
1456:         <span class="ruby-value str">'title'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-ivar">@options</span>.<span class="ruby-identifier">title</span>),
1457:       }
1458:       
1459:       <span class="ruby-comment cmt"># this method is defined in the template file</span>
1460:       <span class="ruby-identifier">write_extra_pages</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-identifier">write_extra_pages</span>
1461: 
1462:       <span class="ruby-identifier">template</span> = <span class="ruby-constant">TemplatePage</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">ONE_PAGE</span>)
1463: 
1464:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_name</span>
1465:         <span class="ruby-identifier">opfile</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_name</span>, <span class="ruby-value str">&quot;w&quot;</span>)
1466:       <span class="ruby-keyword kw">else</span>
1467:         <span class="ruby-identifier">opfile</span> = <span class="ruby-identifier">$stdout</span>
1468:       <span class="ruby-keyword kw">end</span>
1469:       <span class="ruby-identifier">template</span>.<span class="ruby-identifier">write_html_on</span>(<span class="ruby-identifier">opfile</span>, <span class="ruby-identifier">values</span>)
1470:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>