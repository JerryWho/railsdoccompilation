  <div id="C00001286">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />SOAPArray<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/soap/baseData_rb.html');">ruby-1.8.7-p22/lib/soap/baseData.rb</a>

Parent:&nbsp;
XSD::NSDBase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M006620&name=[]" >[]</a></li>
  <li><a href="index.html?a=M006621&name=[]=" >[]=</a></li>
  <li><a href="index.html?a=M006619&name=add" >add</a></li>
  <li><a href="index.html?a=M006630&name=decode" >decode</a></li>
  <li><a href="index.html?a=M006625&name=deep_map" >deep_map</a></li>
  <li><a href="index.html?a=M006622&name=each" >each</a></li>
  <li><a href="index.html?a=M006626&name=include?" >include?</a></li>
  <li><a href="index.html?a=M006617&name=new" >new</a></li>
  <li><a href="index.html?a=M006618&name=offset=" >offset=</a></li>
  <li><a href="index.html?a=M006629&name=position" >position</a></li>
  <li><a href="index.html?a=M006624&name=replace" >replace</a></li>
  <li><a href="index.html?a=M006628&name=soap2array" >soap2array</a></li>
  <li><a href="index.html?a=M006623&name=to_a" >to_a</a></li>
  <li><a href="index.html?a=M006627&name=traverse" >traverse</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/SOAP/SOAPCompoundtype.html');">SOAPCompoundtype</a></li>
  <li><a href="#" onclick="jsHref('classes/Enumerable.html');">Enumerable</a></li>
</ul>



  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">ITEM_NAME</td>
    <td>=</td>
    <td class="attr-value">XSD::QName.new(nil, 'item')</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">TypeParseRegexp</td>
    <td>=</td>
    <td class="attr-value">Regexp.new('^(.+)\[([\d,]*)\]$')</td>
  </tr>
  </table>

  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>arytype</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>offset</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>rank</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>size</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>size_fixed</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>sparse</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M006630" class="method">
  <div id="M006630_title" class="title">
    <b>decode</b>(elename, type, arytype)
  </div>
  <div class="description">
  <p>
Module function
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006630_source')" id="l_M006630_source">show source</a> ]</p>
  <div id="M006630_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 903</span>
903:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-identifier">elename</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">arytype</span>)
904:     <span class="ruby-identifier">typestr</span>, <span class="ruby-identifier">nofary</span> = <span class="ruby-identifier">parse_type</span>(<span class="ruby-identifier">arytype</span>.<span class="ruby-identifier">name</span>)
905:     <span class="ruby-identifier">rank</span> = <span class="ruby-identifier">nofary</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value str">','</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
906:     <span class="ruby-identifier">plain_arytype</span> = <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arytype</span>.<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">typestr</span>)
907:     <span class="ruby-identifier">o</span> = <span class="ruby-constant">SOAPArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">rank</span>, <span class="ruby-identifier">plain_arytype</span>)
908:     <span class="ruby-identifier">size</span> = []
909:     <span class="ruby-identifier">nofary</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">','</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
910:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">empty?</span>
911:         <span class="ruby-identifier">size</span>.<span class="ruby-identifier">clear</span>
912:         <span class="ruby-keyword kw">break</span>
913:       <span class="ruby-keyword kw">else</span>
914:         <span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">to_i</span>
915:       <span class="ruby-keyword kw">end</span>
916:     <span class="ruby-keyword kw">end</span>
917:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">size</span>.<span class="ruby-identifier">empty?</span>
918:       <span class="ruby-identifier">o</span>.<span class="ruby-identifier">size</span> = <span class="ruby-identifier">size</span>
919:       <span class="ruby-identifier">o</span>.<span class="ruby-identifier">size_fixed</span> = <span class="ruby-keyword kw">true</span>
920:     <span class="ruby-keyword kw">end</span>
921:     <span class="ruby-identifier">o</span>.<span class="ruby-identifier">elename</span> = <span class="ruby-identifier">elename</span>
922:     <span class="ruby-identifier">o</span>
923:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006617" class="method">
  <div id="M006617_title" class="title">
    <b>new</b>(type = nil, rank = 1, arytype = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006617_source')" id="l_M006617_source">show source</a> ]</p>
  <div id="M006617_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 707</span>
707:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">rank</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">arytype</span> = <span class="ruby-keyword kw">nil</span>)
708:     <span class="ruby-keyword kw">super</span>()
709:     <span class="ruby-ivar">@type</span> = <span class="ruby-identifier">type</span> <span class="ruby-operator">||</span> <span class="ruby-constant">ValueArrayName</span>
710:     <span class="ruby-ivar">@rank</span> = <span class="ruby-identifier">rank</span>
711:     <span class="ruby-ivar">@data</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
712:     <span class="ruby-ivar">@sparse</span> = <span class="ruby-keyword kw">false</span>
713:     <span class="ruby-ivar">@offset</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rank</span>, <span class="ruby-value">0</span>)
714:     <span class="ruby-ivar">@size</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rank</span>, <span class="ruby-value">0</span>)
715:     <span class="ruby-ivar">@size_fixed</span> = <span class="ruby-keyword kw">false</span>
716:     <span class="ruby-ivar">@position</span> = <span class="ruby-keyword kw">nil</span>
717:     <span class="ruby-ivar">@arytype</span> = <span class="ruby-identifier">arytype</span>
718:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M006620" class="method">
  <div id="M006620_title" class="title">
    <b>[]</b>(*idxary)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006620_source')" id="l_M006620_source">show source</a> ]</p>
  <div id="M006620_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 729</span>
729:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">idxary</span>)
730:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">idxary</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@rank</span>
731:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;given #{idxary.size} params does not match rank: #{@rank}&quot;</span>)
732:     <span class="ruby-keyword kw">end</span>
733: 
734:     <span class="ruby-identifier">retrieve</span>(<span class="ruby-identifier">idxary</span>)
735:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006621" class="method">
  <div id="M006621_title" class="title">
    <b>[]=</b>(*idxary)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006621_source')" id="l_M006621_source">show source</a> ]</p>
  <div id="M006621_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 737</span>
737:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">idxary</span>)
738:     <span class="ruby-identifier">value</span> = <span class="ruby-identifier">idxary</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-1</span>)
739: 
740:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">idxary</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@rank</span>
741:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;given #{idxary.size} params(#{idxary})&quot;</span> <span class="ruby-operator">+</span>
742:         <span class="ruby-node">&quot; does not match rank: #{@rank}&quot;</span>)
743:     <span class="ruby-keyword kw">end</span>
744: 
745:     <span class="ruby-identifier">idx</span> = <span class="ruby-value">0</span>
746:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">idx</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">idxary</span>.<span class="ruby-identifier">size</span>
747:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">idxary</span>[<span class="ruby-identifier">idx</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@size</span>[<span class="ruby-identifier">idx</span>]
748:         <span class="ruby-ivar">@size</span>[<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">idxary</span>[<span class="ruby-identifier">idx</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
749:       <span class="ruby-keyword kw">end</span>
750:       <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
751:     <span class="ruby-keyword kw">end</span>
752: 
753:     <span class="ruby-identifier">data</span> = <span class="ruby-identifier">retrieve</span>(<span class="ruby-identifier">idxary</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">idxary</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>])
754:     <span class="ruby-identifier">data</span>[<span class="ruby-identifier">idxary</span>.<span class="ruby-identifier">last</span>] = <span class="ruby-identifier">value</span>
755: 
756:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPType</span>)
757:       <span class="ruby-identifier">value</span>.<span class="ruby-identifier">elename</span> = <span class="ruby-constant">ITEM_NAME</span>
758:       <span class="ruby-comment cmt"># Sync type</span>
759:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@type</span>.<span class="ruby-identifier">name</span>
760:         <span class="ruby-ivar">@type</span> = <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">type</span>.<span class="ruby-identifier">namespace</span>,
761:           <span class="ruby-constant">SOAPArray</span>.<span class="ruby-identifier">create_arytype</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">type</span>.<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@rank</span>))
762:       <span class="ruby-keyword kw">end</span>
763:       <span class="ruby-identifier">value</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@type</span>
764:     <span class="ruby-keyword kw">end</span>
765: 
766:     <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">idxary</span>
767:     <span class="ruby-identifier">value</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:parent=</span>)
768:     <span class="ruby-identifier">offsetnext</span>
769:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006619" class="method">
  <div id="M006619_title" class="title">
    <b>add</b>(value)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006619_source')" id="l_M006619_source">show source</a> ]</p>
  <div id="M006619_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 725</span>
725:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">value</span>)
726:     <span class="ruby-keyword kw">self</span>[<span class="ruby-operator">*</span>(<span class="ruby-ivar">@offset</span>)] = <span class="ruby-identifier">value</span>
727:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006625" class="method">
  <div id="M006625_title" class="title">
    <b>deep_map</b>(ary, &amp;block)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006625_source')" id="l_M006625_source">show source</a> ]</p>
  <div id="M006625_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 787</span>
787:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">deep_map</span>(<span class="ruby-identifier">ary</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
788:     <span class="ruby-identifier">ary</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ele</span><span class="ruby-operator">|</span>
789:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ele</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
790:         <span class="ruby-identifier">deep_map</span>(<span class="ruby-identifier">ele</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
791:       <span class="ruby-keyword kw">else</span>
792:         <span class="ruby-identifier">new_obj</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">ele</span>)
793:         <span class="ruby-identifier">new_obj</span>.<span class="ruby-identifier">elename</span> = <span class="ruby-constant">ITEM_NAME</span>
794:         <span class="ruby-identifier">new_obj</span>
795:       <span class="ruby-keyword kw">end</span>
796:     <span class="ruby-keyword kw">end</span>
797:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006622" class="method">
  <div id="M006622_title" class="title">
    <b>each</b>() {|data| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006622_source')" id="l_M006622_source">show source</a> ]</p>
  <div id="M006622_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 771</span>
771:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>
772:     <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">data</span><span class="ruby-operator">|</span>
773:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">data</span>)
774:     <span class="ruby-keyword kw">end</span>
775:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006626" class="method">
  <div id="M006626_title" class="title">
    <b>include?</b>(var)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006626_source')" id="l_M006626_source">show source</a> ]</p>
  <div id="M006626_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 799</span>
799:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">include?</span>(<span class="ruby-identifier">var</span>)
800:     <span class="ruby-identifier">traverse_data</span>(<span class="ruby-ivar">@data</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rank</span><span class="ruby-operator">|</span>
801:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPBasetype</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">data</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">var</span>
802:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
803:       <span class="ruby-keyword kw">end</span>
804:     <span class="ruby-keyword kw">end</span>
805:     <span class="ruby-keyword kw">false</span>
806:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006618" class="method">
  <div id="M006618_title" class="title">
    <b>offset=</b>(var)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006618_source')" id="l_M006618_source">show source</a> ]</p>
  <div id="M006618_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 720</span>
720:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">offset=</span>(<span class="ruby-identifier">var</span>)
721:     <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">var</span>
722:     <span class="ruby-ivar">@sparse</span> = <span class="ruby-keyword kw">true</span>
723:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006629" class="method">
  <div id="M006629_title" class="title">
    <b>position</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006629_source')" id="l_M006629_source">show source</a> ]</p>
  <div id="M006629_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 839</span>
839:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">position</span>
840:     <span class="ruby-ivar">@position</span>
841:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006624" class="method">
  <div id="M006624_title" class="title">
    <b>replace</b>() {|ele| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006624_source')" id="l_M006624_source">show source</a> ]</p>
  <div id="M006624_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 781</span>
781:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace</span>
782:     <span class="ruby-ivar">@data</span> = <span class="ruby-identifier">deep_map</span>(<span class="ruby-ivar">@data</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ele</span><span class="ruby-operator">|</span>
783:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">ele</span>)
784:     <span class="ruby-keyword kw">end</span>
785:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006628" class="method">
  <div id="M006628_title" class="title">
    <b>soap2array</b>(ary) {|v| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006628_source')" id="l_M006628_source">show source</a> ]</p>
  <div id="M006628_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 818</span>
818:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">soap2array</span>(<span class="ruby-identifier">ary</span>)
819:     <span class="ruby-identifier">traverse_data</span>(<span class="ruby-ivar">@data</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">position</span><span class="ruby-operator">|</span>
820:       <span class="ruby-identifier">iteary</span> = <span class="ruby-identifier">ary</span>
821:       <span class="ruby-identifier">rank</span> = <span class="ruby-value">1</span>
822:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">rank</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">position</span>.<span class="ruby-identifier">size</span>
823:         <span class="ruby-identifier">idx</span> = <span class="ruby-identifier">position</span>[<span class="ruby-identifier">rank</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>]
824:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">iteary</span>[<span class="ruby-identifier">idx</span>].<span class="ruby-identifier">nil?</span>
825:           <span class="ruby-identifier">iteary</span> = <span class="ruby-identifier">iteary</span>[<span class="ruby-identifier">idx</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
826:         <span class="ruby-keyword kw">else</span>
827:           <span class="ruby-identifier">iteary</span> = <span class="ruby-identifier">iteary</span>[<span class="ruby-identifier">idx</span>]
828:         <span class="ruby-keyword kw">end</span>
829:         <span class="ruby-identifier">rank</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
830:       <span class="ruby-keyword kw">end</span>
831:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
832:         <span class="ruby-identifier">iteary</span>[<span class="ruby-identifier">position</span>.<span class="ruby-identifier">last</span>] = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">v</span>)
833:       <span class="ruby-keyword kw">else</span>
834:         <span class="ruby-identifier">iteary</span>[<span class="ruby-identifier">position</span>.<span class="ruby-identifier">last</span>] = <span class="ruby-identifier">v</span>
835:       <span class="ruby-keyword kw">end</span>
836:     <span class="ruby-keyword kw">end</span>
837:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006623" class="method">
  <div id="M006623_title" class="title">
    <b>to_a</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006623_source')" id="l_M006623_source">show source</a> ]</p>
  <div id="M006623_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 777</span>
777:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
778:     <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">dup</span>
779:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006627" class="method">
  <div id="M006627_title" class="title">
    <b>traverse</b>() {|v| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006627_source')" id="l_M006627_source">show source</a> ]</p>
  <div id="M006627_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/baseData.rb, line 808</span>
808:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">traverse</span>
809:     <span class="ruby-identifier">traverse_data</span>(<span class="ruby-ivar">@data</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rank</span><span class="ruby-operator">|</span>
810:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@sparse</span>
811:        <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">v</span>)
812:       <span class="ruby-keyword kw">else</span>
813:        <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">v</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">rank</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPNil</span>)
814:       <span class="ruby-keyword kw">end</span>
815:     <span class="ruby-keyword kw">end</span>
816:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>