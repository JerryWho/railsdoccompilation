  <div id="C00001299">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Property<br/>
  In:
<a href="#" onclick="jsHref('files/ruby-1_8_7-p22/lib/soap/property_rb.html');">ruby-1.8.7-p22/lib/soap/property.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/YAML/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
<a href="index.html?a=C00001299&name=Property">Property</a> stream format:
</p>
<pre>
  line separator is \r?\n.  1 line per a property.
  line which begins with '#' is a comment line.  empty line is ignored, too.
  key/value separator is ':' or '='.
  '\' as escape character.  but line separator cannot be escaped.
  \s at the head/tail of key/value are trimmed.

  '[' + key + ']' indicates property section.  for example,

    [aaa.bbb]
    ccc = ddd
    eee.fff = ggg
    []
    aaa.hhh = iii

  is the same as;

    aaa.bbb.ccc = ddd
    aaa.bbb.eee.fff = ggg
    aaa.hhh = iii
</pre>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M006673&name=&lt;&lt;" >&lt;&lt;</a></li>
  <li><a href="index.html?a=M006671&name=[]" >[]</a></li>
  <li><a href="index.html?a=M006672&name=[]=" >[]=</a></li>
  <li><a href="index.html?a=M006674&name=add_hook" >add_hook</a></li>
  <li><a href="index.html?a=M006682&name=deref_key" >deref_key</a></li>
  <li><a href="index.html?a=M006675&name=each" >each</a></li>
  <li><a href="index.html?a=M006676&name=empty?" >empty?</a></li>
  <li><a href="index.html?a=M006677&name=keys" >keys</a></li>
  <li><a href="index.html?a=M006666&name=load" >load</a></li>
  <li><a href="index.html?a=M006669&name=load" >load</a></li>
  <li><a href="index.html?a=M006670&name=loadproperty" >loadproperty</a></li>
  <li><a href="index.html?a=M006667&name=loadproperty" >loadproperty</a></li>
  <li><a href="index.html?a=M006684&name=local_assign" >local_assign</a></li>
  <li><a href="index.html?a=M006686&name=local_assign_hook" >local_assign_hook</a></li>
  <li><a href="index.html?a=M006685&name=local_hook" >local_hook</a></li>
  <li><a href="index.html?a=M006683&name=local_referent" >local_referent</a></li>
  <li><a href="index.html?a=M006679&name=lock" >lock</a></li>
  <li><a href="index.html?a=M006681&name=locked?" >locked?</a></li>
  <li><a href="index.html?a=M006668&name=new" >new</a></li>
  <li><a href="index.html?a=M006680&name=unlock" >unlock</a></li>
  <li><a href="index.html?a=M006678&name=values" >values</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/Enumerable.html');">Enumerable</a></li>
</ul>


  <div class="sectiontitle">Classes and Modules</div>
  Module "<a href="#" onclick="jsHref('classes/SOAP/Property/Util.html');" class="link">SOAP::Property::Util</a>"<br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">FrozenError</td>
    <td>=</td>
    <td class="attr-value">(RUBY_VERSION &gt;= &quot;1.9.0&quot;) ? RuntimeError : TypeError</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">KEY_REGSRC</td>
    <td>=</td>
    <td class="attr-value">'([^=:\\\\]*(?:\\\\.[^=:\\\\]*)*)'</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DEF_REGSRC</td>
    <td>=</td>
    <td class="attr-value">'\\s*' + KEY_REGSRC + '\\s*[=:]\\s*(.*)'</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">COMMENT_REGEXP</td>
    <td>=</td>
    <td class="attr-value">Regexp.new('^(?:#.*|)$')</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">CATDEF_REGEXP</td>
    <td>=</td>
    <td class="attr-value">Regexp.new(&quot;^\\[\\s*#{KEY_REGSRC}\\s*\\]$&quot;)</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">LINE_REGEXP</td>
    <td>=</td>
    <td class="attr-value">Regexp.new(&quot;^#{DEF_REGSRC}$&quot;)</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">NO_HOOK</td>
    <td>=</td>
    <td class="attr-value">[].freeze</td>
  </tr>
  </table>


<div class="sectiontitle">Public Class methods</div>
<div id="M006666" class="method">
  <div id="M006666_title" class="title">
    <b>load</b>(stream)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006666_source')" id="l_M006666_source">show source</a> ]</p>
  <div id="M006666_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">stream</span>)
52:     <span class="ruby-identifier">new</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">stream</span>)
53:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006667" class="method">
  <div id="M006667_title" class="title">
    <b>loadproperty</b>(propname)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006667_source')" id="l_M006667_source">show source</a> ]</p>
  <div id="M006667_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 55</span>
55:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">loadproperty</span>(<span class="ruby-identifier">propname</span>)
56:     <span class="ruby-identifier">new</span>.<span class="ruby-identifier">loadproperty</span>(<span class="ruby-identifier">propname</span>)
57:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006668" class="method">
  <div id="M006668_title" class="title">
    <b>new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006668_source')" id="l_M006668_source">show source</a> ]</p>
  <div id="M006668_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 59</span>
59:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
60:     <span class="ruby-ivar">@store</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
61:     <span class="ruby-ivar">@hook</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
62:     <span class="ruby-ivar">@self_hook</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
63:     <span class="ruby-ivar">@locked</span> = <span class="ruby-keyword kw">false</span>
64:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M006673" class="method">
  <div id="M006673_title" class="title">
    <b>&lt;&lt;</b>(value)
  </div>
  <div class="description">
  <p>
value: an <a href="index.html?a=C00000023&name=Object">Object</a> key is
generated by property
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006673_source')" id="l_M006673_source">show source</a> ]</p>
  <div id="M006673_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 122</span>
122:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">value</span>)
123:     <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">generate_new_key</span>] = <span class="ruby-identifier">value</span>
124:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006671" class="method">
  <div id="M006671_title" class="title">
    <b>[]</b>(name)
  </div>
  <div class="description">
  <p>
name: a <a href="index.html?a=C00000284&name=Symbol">Symbol</a>, <a
href="index.html?a=C00000055&name=String">String</a> or an <a
href="index.html?a=C00000243&name=Array">Array</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006671_source')" id="l_M006671_source">show source</a> ]</p>
  <div id="M006671_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 105</span>
105:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">name</span>)
106:     <span class="ruby-identifier">referent</span>(<span class="ruby-identifier">name_to_a</span>(<span class="ruby-identifier">name</span>))
107:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006672" class="method">
  <div id="M006672_title" class="title">
    <b>[]=</b>(name, value)
  </div>
  <div class="description">
  <p>
name: a <a href="index.html?a=C00000284&name=Symbol">Symbol</a>, <a
href="index.html?a=C00000055&name=String">String</a> or an <a
href="index.html?a=C00000243&name=Array">Array</a> value: an <a
href="index.html?a=C00000023&name=Object">Object</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006672_source')" id="l_M006672_source">show source</a> ]</p>
  <div id="M006672_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
112:     <span class="ruby-identifier">name_pair</span> = <span class="ruby-identifier">name_to_a</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">freeze</span>
113:     <span class="ruby-identifier">hooks</span> = <span class="ruby-identifier">assign</span>(<span class="ruby-identifier">name_pair</span>, <span class="ruby-identifier">value</span>)
114:     <span class="ruby-identifier">hooks</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hook</span><span class="ruby-operator">|</span>
115:       <span class="ruby-identifier">hook</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">name_pair</span>, <span class="ruby-identifier">value</span>)
116:     <span class="ruby-keyword kw">end</span>
117:     <span class="ruby-identifier">value</span>
118:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006674" class="method">
  <div id="M006674_title" class="title">
    <b>add_hook</b>(name = nil, cascade = false, &amp;hook)
  </div>
  <div class="description">
  <p>
name: a <a href="index.html?a=C00000284&name=Symbol">Symbol</a>, <a
href="index.html?a=C00000055&name=String">String</a> or an <a
href="index.html?a=C00000243&name=Array">Array</a>; nil means hook to the
root cascade: true/false; for cascading hook of sub key hook: block which
will be called with 2 args, name and value
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006674_source')" id="l_M006674_source">show source</a> ]</p>
  <div id="M006674_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 129</span>
129:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_hook</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">cascade</span> = <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
130:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
131:       <span class="ruby-identifier">cascade</span> = <span class="ruby-identifier">name</span>
132:       <span class="ruby-identifier">assign_self_hook</span>(<span class="ruby-identifier">cascade</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
133:     <span class="ruby-keyword kw">else</span>
134:       <span class="ruby-identifier">assign_hook</span>(<span class="ruby-identifier">name_to_a</span>(<span class="ruby-identifier">name</span>), <span class="ruby-identifier">cascade</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
135:     <span class="ruby-keyword kw">end</span>
136:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006675" class="method">
  <div id="M006675_title" class="title">
    <b>each</b>() {|key, value| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006675_source')" id="l_M006675_source">show source</a> ]</p>
  <div id="M006675_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 138</span>
138:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>
139:     <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
140:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
141:     <span class="ruby-keyword kw">end</span>
142:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006676" class="method">
  <div id="M006676_title" class="title">
    <b>empty?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006676_source')" id="l_M006676_source">show source</a> ]</p>
  <div id="M006676_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 144</span>
144:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty?</span>
145:     <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">empty?</span>
146:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006677" class="method">
  <div id="M006677_title" class="title">
    <b>keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006677_source')" id="l_M006677_source">show source</a> ]</p>
  <div id="M006677_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keys</span>
149:     <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">keys</span>
150:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006669" class="method">
  <div id="M006669_title" class="title">
    <b>load</b>(stream)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006669_source')" id="l_M006669_source">show source</a> ]</p>
  <div id="M006669_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 71</span>
71:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load</span>(<span class="ruby-identifier">stream</span>)
72:     <span class="ruby-identifier">key_prefix</span> = <span class="ruby-value str">&quot;&quot;</span>
73:     <span class="ruby-identifier">stream</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">lineno</span><span class="ruby-operator">|</span>
74:       <span class="ruby-identifier">line</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/\r?\n\z/</span>, <span class="ruby-value str">''</span>)
75:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">line</span>
76:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">COMMENT_REGEXP</span>
77:         <span class="ruby-keyword kw">next</span>
78:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">CATDEF_REGEXP</span>
79:         <span class="ruby-identifier">key_prefix</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">strip</span>
80:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">LINE_REGEXP</span>
81:         <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">strip</span>, <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">strip</span>
82:         <span class="ruby-identifier">key</span> = <span class="ruby-node">&quot;#{key_prefix}.#{key}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key_prefix</span>.<span class="ruby-identifier">empty?</span>
83:         <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">loadstr</span>(<span class="ruby-identifier">key</span>), <span class="ruby-identifier">loadstr</span>(<span class="ruby-identifier">value</span>)
84:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
85:       <span class="ruby-keyword kw">else</span>
86:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>.<span class="ruby-identifier">new</span>(
87:           <span class="ruby-node">&quot;property format error at line #{lineno + 1}: `#{line}'&quot;</span>)
88:       <span class="ruby-keyword kw">end</span>
89:     <span class="ruby-keyword kw">end</span>
90:     <span class="ruby-keyword kw">self</span>
91:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006670" class="method">
  <div id="M006670_title" class="title">
    <b>loadproperty</b>(propname)
  </div>
  <div class="description">
  <p>
find property from $:.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006670_source')" id="l_M006670_source">show source</a> ]</p>
  <div id="M006670_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 94</span>
 94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">loadproperty</span>(<span class="ruby-identifier">propname</span>)
 95:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">loadpropertyfile</span>(<span class="ruby-identifier">propname</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">propname</span>)
 96:     <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
 97:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">propname</span>))
 98:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">loadpropertyfile</span>(<span class="ruby-identifier">file</span>)
 99:       <span class="ruby-keyword kw">end</span>
100:     <span class="ruby-keyword kw">end</span>
101:     <span class="ruby-keyword kw">nil</span>
102:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006679" class="method">
  <div id="M006679_title" class="title">
    <b>lock</b>(cascade = false)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006679_source')" id="l_M006679_source">show source</a> ]</p>
  <div id="M006679_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 156</span>
156:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lock</span>(<span class="ruby-identifier">cascade</span> = <span class="ruby-keyword kw">false</span>)
157:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cascade</span>
158:       <span class="ruby-identifier">each_key</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
159:         <span class="ruby-identifier">key</span>.<span class="ruby-identifier">lock</span>(<span class="ruby-identifier">cascade</span>)
160:       <span class="ruby-keyword kw">end</span>
161:     <span class="ruby-keyword kw">end</span>
162:     <span class="ruby-ivar">@locked</span> = <span class="ruby-keyword kw">true</span>
163:     <span class="ruby-keyword kw">self</span>
164:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006681" class="method">
  <div id="M006681_title" class="title">
    <b>locked?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006681_source')" id="l_M006681_source">show source</a> ]</p>
  <div id="M006681_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 176</span>
176:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">locked?</span>
177:     <span class="ruby-ivar">@locked</span>
178:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006680" class="method">
  <div id="M006680_title" class="title">
    <b>unlock</b>(cascade = false)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006680_source')" id="l_M006680_source">show source</a> ]</p>
  <div id="M006680_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 166</span>
166:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unlock</span>(<span class="ruby-identifier">cascade</span> = <span class="ruby-keyword kw">false</span>)
167:     <span class="ruby-ivar">@locked</span> = <span class="ruby-keyword kw">false</span>
168:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cascade</span>
169:       <span class="ruby-identifier">each_key</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
170:         <span class="ruby-identifier">key</span>.<span class="ruby-identifier">unlock</span>(<span class="ruby-identifier">cascade</span>)
171:       <span class="ruby-keyword kw">end</span>
172:     <span class="ruby-keyword kw">end</span>
173:     <span class="ruby-keyword kw">self</span>
174:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006678" class="method">
  <div id="M006678_title" class="title">
    <b>values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006678_source')" id="l_M006678_source">show source</a> ]</p>
  <div id="M006678_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 152</span>
152:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values</span>
153:     <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">values</span>
154:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M006682" class="method">
  <div id="M006682_title" class="title">
    <b>deref_key</b>(key)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006682_source')" id="l_M006682_source">show source</a> ]</p>
  <div id="M006682_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 182</span>
182:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">deref_key</span>(<span class="ruby-identifier">key</span>)
183:     <span class="ruby-identifier">check_lock</span>(<span class="ruby-identifier">key</span>)
184:     <span class="ruby-identifier">ref</span> = <span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>
185:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">propkey?</span>(<span class="ruby-identifier">ref</span>)
186:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;key `#{key}' already defined as a value&quot;</span>)
187:     <span class="ruby-keyword kw">end</span>
188:     <span class="ruby-identifier">ref</span>
189:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006684" class="method">
  <div id="M006684_title" class="title">
    <b>local_assign</b>(key, value)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006684_source')" id="l_M006684_source">show source</a> ]</p>
  <div id="M006684_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 199</span>
199:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">local_assign</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
200:     <span class="ruby-identifier">check_lock</span>(<span class="ruby-identifier">key</span>)
201:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@locked</span>
202:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">propkey?</span>(<span class="ruby-identifier">value</span>)
203:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">FrozenError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;cannot add any key to locked property&quot;</span>)
204:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">propkey?</span>(<span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>])
205:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">FrozenError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;cannot override any key in locked property&quot;</span>)
206:       <span class="ruby-keyword kw">end</span>
207:     <span class="ruby-keyword kw">end</span>
208:     <span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
209:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006686" class="method">
  <div id="M006686_title" class="title">
    <b>local_assign_hook</b>(key, cascade, &amp;hook)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006686_source')" id="l_M006686_source">show source</a> ]</p>
  <div id="M006686_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 219</span>
219:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">local_assign_hook</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">cascade</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">hook</span>)
220:     <span class="ruby-identifier">check_lock</span>(<span class="ruby-identifier">key</span>)
221:     <span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">nil</span>
222:     (<span class="ruby-ivar">@hook</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">hook</span>, <span class="ruby-identifier">cascade</span>]
223:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006685" class="method">
  <div id="M006685_title" class="title">
    <b>local_hook</b>(key, direct)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006685_source')" id="l_M006685_source">show source</a> ]</p>
  <div id="M006685_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 211</span>
211:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">local_hook</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">direct</span>)
212:     <span class="ruby-identifier">hooks</span> = []
213:     (<span class="ruby-ivar">@self_hook</span> <span class="ruby-operator">+</span> (<span class="ruby-ivar">@hook</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">NO_HOOK</span>)).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hook</span>, <span class="ruby-identifier">cascade</span><span class="ruby-operator">|</span>
214:       <span class="ruby-identifier">hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">direct</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">cascade</span>
215:     <span class="ruby-keyword kw">end</span>
216:     <span class="ruby-identifier">hooks</span>
217:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006683" class="method">
  <div id="M006683_title" class="title">
    <b>local_referent</b>(key)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006683_source')" id="l_M006683_source">show source</a> ]</p>
  <div id="M006683_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File ruby-1.8.7-p22/lib/soap/property.rb, line 191</span>
191:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">local_referent</span>(<span class="ruby-identifier">key</span>)
192:     <span class="ruby-identifier">check_lock</span>(<span class="ruby-identifier">key</span>)
193:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">propkey?</span>(<span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>]) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">locked?</span>
194:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">FrozenError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;cannot split any key from locked property&quot;</span>)
195:     <span class="ruby-keyword kw">end</span>
196:     <span class="ruby-ivar">@store</span>[<span class="ruby-identifier">key</span>]
197:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>