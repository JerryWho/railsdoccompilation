<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: Spec::Rails::Matchers</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (M)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Spec.html" title="Spec (module)">Spec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Rails.html" title="Spec::Rails (module)">Rails</a></span></span>
     &raquo; 
    <span class="title">Matchers</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Spec::Rails::Matchers
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../../ActiveSupport/TestCase.html" title="ActiveSupport::TestCase (class)">ActiveSupport::TestCase</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/spec/rails/matchers.rb<span class="defines">,<br />
  lib/spec/rails/matchers/route_to.rb,<br /> lib/spec/rails/matchers/have_text.rb,<br /> lib/spec/rails/matchers/ar_be_valid.rb,<br /> lib/spec/rails/matchers/redirect_to.rb,<br /> lib/spec/rails/matchers/include_text.rb,<br /> lib/spec/rails/matchers/assert_select.rb,<br /> lib/spec/rails/matchers/render_template.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Spec::Rails::Expectations::Matchers provides several expectation matchers
intended to work with Rails components like models and responses. For
example:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some/url</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#redirect_to(url) is the matcher.
</span></pre>
<p>
In addition to those you see below, the arbitrary predicate feature of
RSpec makes the following available as well:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id be_success'>be_success</span> <span class='comment'>#passes if response.success?
</span>  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id be_redirect'>be_redirect</span> <span class='comment'>#passes if response.redirect?
</span></pre>
<p>
Note that many of these matchers are part of a wrapper of
<tt>assert_select</tt>, so the documentation comes straight from that with
some slight modifications. <tt>assert_select</tt> is a Test::Unit extension
originally contributed to the Rails community as a plugin by Assaf Arkin
and eventually shipped as part of Rails.
</p>
<p>
For more info on <tt>assert_select</tt>, see the relevant Rails
documentation.
</p>


  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Matchers/AssertSelect.html" title="Spec::Rails::Matchers::AssertSelect (class)">AssertSelect</a></span>, <span class='object_link'><a href="Matchers/BeRoutable.html" title="Spec::Rails::Matchers::BeRoutable (class)">BeRoutable</a></span>, <span class='object_link'><a href="Matchers/HaveText.html" title="Spec::Rails::Matchers::HaveText (class)">HaveText</a></span>, <span class='object_link'><a href="Matchers/IncludeText.html" title="Spec::Rails::Matchers::IncludeText (class)">IncludeText</a></span>, <span class='object_link'><a href="Matchers/PathDecomposer.html" title="Spec::Rails::Matchers::PathDecomposer (class)">PathDecomposer</a></span>, <span class='object_link'><a href="Matchers/RedirectTo.html" title="Spec::Rails::Matchers::RedirectTo (class)">RedirectTo</a></span>, <span class='object_link'><a href="Matchers/RenderTemplate.html" title="Spec::Rails::Matchers::RenderTemplate (class)">RenderTemplate</a></span>, <span class='object_link'><a href="Matchers/RouteTo.html" title="Spec::Rails::Matchers::RouteTo (class)">RouteTo</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="USAGE-constant" class="">USAGE =
          
        </dt>
        <dd><pre class="code"><span class='const'>ArgumentError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>usage: { :method =&gt; &quot;path&quot; }.should route_to( :controller =&gt; &quot;controller&quot;, :action =&gt; &quot;action&quot;, [ args ] )</span><span class='tstring_end'>'</span></span> <span class='rparen'>)</span></pre></dd>
      
    </dl>
  



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#be_routable-instance_method" title="#be_routable (instance method)">- (Object) <strong>be_routable</strong> </a>
    

    
      (also: #be_routeable)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#be_valid-instance_method" title="#be_valid (instance method)">- (Object) <strong>be_valid</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_rjs-instance_method" title="#have_rjs (instance method)">- (Object) <strong>have_rjs</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_tag-instance_method" title="#have_tag (instance method)">- (Object) <strong>have_tag</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_text-instance_method" title="#have_text (instance method)">- (Object) <strong>have_text</strong>(text) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#include_text-instance_method" title="#include_text (instance method)">- (Object) <strong>include_text</strong>(text) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#redirect_to-instance_method" title="#redirect_to (instance method)">- (Object) <strong>redirect_to</strong>(opts) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_template-instance_method" title="#render_template (instance method)">- (Object) <strong>render_template</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#route_to-instance_method" title="#route_to (instance method)">- (Object) <strong>route_to</strong>(expected) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_email-instance_method" title="#send_email (instance method)">- (Object) <strong>send_email</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:call-seq:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_encoded-instance_method" title="#with_encoded (instance method)">- (Object) <strong>with_encoded</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
wrapper for assert_select_encoded.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_tag-instance_method" title="#with_tag (instance method)">- (Object) <strong>with_tag</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
wrapper for a nested assert_select.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#without_tag-instance_method" title="#without_tag (instance method)">- (Object) <strong>without_tag</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
wrapper for a nested assert_select with false.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="be_routable-instance_method">
  
    - (<tt>Object</tt>) <strong>be_routable</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='be_routeable-instance_method'>be_routeable</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  { &quot;path&quot; }.should_not be_routable # assumes GET
  { :get =&gt; &quot;path&quot; }.should_not be_routable
  { :put =&gt; &quot;path&quot; }.should_not be_routable
</pre>
<p>
Uses ActionController::Routing::Routes to verify that the path-and-method
cannot be routed to a controller. Since url_for() will always generate a
path, even if that path is not routable, the negative test only needs to be
performed on the route recognition.
</p>
<p>
Don&#8217;t use this matcher for testing expected routability - use .should
route_to( :controller => &#8220;controller&#8221;, :action =>
&#8220;action&#8221; ) instead
</p>
<h2>Examples</h2>
<p>
{ :get => &#8217;/registrations/1/attendees/3/edit&#8217; }.should_not
be_routable { :get => &#8217;/attendees/3/edit&#8217; }.should route_to(
&#8230;<controller/action>&#8230; )
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/route_to.rb', line 141</span>

<span class='kw'>def</span> <span class='id be_routable'>be_routable</span>
  <span class='const'>BeRoutable</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="be_valid-instance_method">
  
    - (<tt>Object</tt>) <strong>be_valid</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id be_valid'>be_valid</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id be_valid'>be_valid</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/ar_be_valid.rb', line 8</span>

<span class='kw'>def</span> <span class='id be_valid'>be_valid</span>
  <span class='op'>::</span><span class='const'>Spec</span><span class='op'>::</span><span class='const'>Matchers</span><span class='op'>::</span><span class='const'>Matcher</span><span class='period'>.</span><span class='id new'>new</span> <span class='symbol'>:be_valid</span> <span class='kw'>do</span>
    <span class='id match'>match</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id actual'>actual</span><span class='op'>|</span>
      <span class='id actual'>actual</span><span class='period'>.</span><span class='id valid?'>valid?</span>
    <span class='kw'>end</span>

    <span class='id failure_message_for_should'>failure_message_for_should</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id actual'>actual</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id actual'>actual</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:errors</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Errors</span> <span class='op'>===</span> <span class='id actual'>actual</span><span class='period'>.</span><span class='id errors'>errors</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected </span><span class='embexpr_beg'>#{</span><span class='id actual'>actual</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'> to be valid, but it was not\nErrors: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id actual'>actual</span><span class='period'>.</span><span class='id errors'>errors</span><span class='period'>.</span><span class='id full_messages'>full_messages</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>            
      <span class='kw'>else</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected </span><span class='embexpr_beg'>#{</span><span class='id actual'>actual</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'> to be valid</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="have_rjs-instance_method">
  
    - (<tt>Object</tt>) <strong>have_rjs</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_rjs'>have_rjs</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
</pre>
<p>
wrapper for assert_select_rjs
</p>
<p>
see documentation for assert_select_rjs at <a
href="http://api.rubyonrails.org">api.rubyonrails.org</a>/
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/assert_select.rb', line 146</span>

<span class='kw'>def</span> <span class='id have_rjs'>have_rjs</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='const'>AssertSelect</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:assert_select_rjs</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="have_tag-instance_method">
  
    - (<tt>Object</tt>) <strong>have_tag</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id string'>string</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
</pre>
<p>
wrapper for assert_select with additional support for using css selectors
to set expectation on Strings. Use this in helper specs, for example, to
set expectations on the results of helper methods. Also allow specification
of how the  response is parsed using the options :xml and :strict options.
By default, these options are set to false.
</p>
<h2>Examples</h2>
<pre class="code">
  <span class='comment'># in a controller spec
</span>  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some text</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># to force xml and/or strict parsing of the response
</span>  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some text</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:xml</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some text</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:strict</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some text</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:xml</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:strict</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span>

  <span class='comment'># in a helper spec (person_address_tag is a method in the helper)
</span>  <span class='id person_address_tag'>person_address_tag</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input#person_address</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</pre>
<p>
see documentation for assert_select at <a
href="http://api.rubyonrails.org">api.rubyonrails.org</a>/
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/assert_select.rb', line 112</span>

<span class='kw'>def</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@__current_scope_for_assert_select</span> <span class='op'>=</span> <span class='const'>AssertSelect</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:assert_select</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="have_text-instance_method">
  
    - (<tt>Object</tt>) <strong>have_text</strong>(text) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_text'>have_text</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id have_text'>have_text</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
</pre>
<p>
Accepts a String or a Regexp, matching a String using == and a Regexp using
=~.
</p>
<p>
If response_or_text has a #body, then that is used as to match against else
it uses response_or_text
</p>
<p>
Use this instead of <tt>response.should have_tag()</tt> when you want to
match the whole string or whole body
</p>
<h2>Examples</h2>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_text'>have_text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is the expected text</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/have_text.rb', line 51</span>

<span class='kw'>def</span> <span class='id have_text'>have_text</span><span class='lparen'>(</span><span class='id text'>text</span><span class='rparen'>)</span>
  <span class='const'>HaveText</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id text'>text</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="include_text-instance_method">
  
    - (<tt>Object</tt>) <strong>include_text</strong>(text) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id include_text'>include_text</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id include_text'>include_text</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
</pre>
<p>
Accepts a String, matching using include?
</p>
<p>
Use this instead of <tt>response.should have_text()</tt> when you either
don&#8217;t know or don&#8217;t care where on the page this text appears.
</p>
<h2>Examples</h2>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id include_text'>include_text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This text will be in the actual string</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/include_text.rb', line 48</span>

<span class='kw'>def</span> <span class='id include_text'>include_text</span><span class='lparen'>(</span><span class='id text'>text</span><span class='rparen'>)</span>
  <span class='const'>IncludeText</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id text'>text</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="redirect_to-instance_method">
  
    - (<tt>Object</tt>) <strong>redirect_to</strong>(opts) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='id url'>url</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='id action_name'>action_name</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='id controller_name'>controller_name</span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='id action_name'>action_name</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='id url'>url</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='id action_name'>action_name</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='id controller_name'>controller_name</span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='id action_name'>action_name</span><span class='rparen'>)</span>
</pre>
<p>
Passes if the response is a redirect to the url, action or
controller/action. Useful in controller specs (integration or isolation
mode).
</p>
<h2>Examples</h2>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path/to/action</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://test.host/path/to/action</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>list</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/redirect_to.rb', line 120</span>

<span class='kw'>def</span> <span class='id redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='id opts'>opts</span><span class='rparen'>)</span>
  <span class='const'>RedirectTo</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id request'>request</span><span class='comma'>,</span> <span class='id opts'>opts</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="render_template-instance_method">
  
    - (<tt>Object</tt>) <strong>render_template</strong>(path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='id template'>template</span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='id template'>template</span><span class='rparen'>)</span>
</pre>
<p>
For use in controller code examples (integration or isolation mode).
</p>
<p>
Passes if the specified template (view file) is rendered by the response.
This file can be any view file, including a partial. However if it is a
partial it must be rendered directly i.e. you can&#8217;t detect that a
partial has been rendered as part of a view using render_template. For that
you should use a message expectation (mock) instead:
</p>
<pre class="code">
  <span class='id controller'>controller</span><span class='period'>.</span><span class='id should_receive'>should_receive</span><span class='lparen'>(</span><span class='symbol'>:render</span><span class='rparen'>)</span><span class='period'>.</span><span class='id with'>with</span><span class='lparen'>(</span><span class='symbol'>:partial</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>path/to/partial</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
</pre>
<p>
<tt>template</tt> can include the controller path. It can also include an
optional extension, which you only need to use when there is ambiguity.
</p>
<p>
Note that partials must be spelled with the preceding underscore.
</p>
<h2>Examples</h2>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>list</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>same_controller/list</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>other_controller/list</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># with extensions
</span>  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>list.rjs</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>list.haml</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>same_controller/list.rjs</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>other_controller/list.rjs</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># partials
</span>  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_a_partial</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>same_controller/_a_partial</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>other_controller/_a_partial</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/render_template.rb', line 123</span>

<span class='kw'>def</span> <span class='id render_template'>render_template</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='const'>RenderTemplate</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id path'>path</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='comma'>,</span> <span class='ivar'>@controller</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="route_to-instance_method">
  
    - (<tt>Object</tt>) <strong>route_to</strong>(expected) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id should'>should</span> <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>  <span class='comment'># assumes GET
</span>  <span class='lbrace'>{</span> <span class='symbol'>:get</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id should'>should</span> <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
  <span class='lbrace'>{</span> <span class='symbol'>:put</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>path</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id should'>should</span> <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
</pre>
<p>
Uses ActionController::Routing::Routes to verify that the path-and-method
routes to a given set of options. Also verifies route-generation, so that
the expected options do generate a pathname consisten with the indicated
path/method.
</p>
<p>
For negative tests, only the route recognition failure can be tested; since
route generation via path_to() will always generate a path as requested. 
Use .should_not be_routable() in this case.
</p>
<h2>Examples</h2>
<p>
{ :get => &#8217;/registrations/1/edit&#8217; }.
</p>
<pre class="code">
  <span class='id should'>should</span> <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>registrations</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>edit</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
</pre>
<p>
{ :put => &#8220;/registrations/1&#8221; }.should
</p>
<pre class="code">
  <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>registrations</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>update</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
</pre>
<p>
{ :post => &#8220;/registrations/&#8221; }.should
</p>
<pre class="code">
  <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>registrations</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>create</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/route_to.rb', line 85</span>

<span class='kw'>def</span> <span class='id route_to'>route_to</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='rparen'>)</span>
  <span class='const'>RouteTo</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id expected'>expected</span><span class='comma'>,</span> <span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="send_email-instance_method">
  
    - (<tt>Object</tt>) <strong>send_email</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id send_email'>send_email</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
</pre>
<p>
wrapper for assert_select_email
</p>
<p>
see documentation for assert_select_email at <a
href="http://api.rubyonrails.org">api.rubyonrails.org</a>/
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/assert_select.rb', line 156</span>

<span class='kw'>def</span> <span class='id send_email'>send_email</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='const'>AssertSelect</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:assert_select_email</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="with_encoded-instance_method">
  
    - (<tt>Object</tt>) <strong>with_encoded</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
wrapper for assert_select_encoded
</p>
<p>
see documentation for assert_select_encoded at <a
href="http://api.rubyonrails.org">api.rubyonrails.org</a>/
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/assert_select.rb', line 163</span>

<span class='kw'>def</span> <span class='id with_encoded'>with_encoded</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id should'>should</span> <span class='const'>AssertSelect</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:assert_select_encoded</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="with_tag-instance_method">
  
    - (<tt>Object</tt>) <strong>with_tag</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
wrapper for a nested assert_select
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div#form</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id with_tag'>with_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input#person_name[name=?]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>person[name]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
</pre>
<p>
see documentation for assert_select at <a
href="http://api.rubyonrails.org">api.rubyonrails.org</a>/
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/assert_select.rb', line 123</span>

<span class='kw'>def</span> <span class='id with_tag'>with_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id args'>args</span> <span class='op'>=</span> <span class='id prepare_args'>prepare_args</span><span class='lparen'>(</span><span class='id args'>args</span><span class='comma'>,</span> <span class='ivar'>@__current_scope_for_assert_select</span><span class='rparen'>)</span>
  <span class='ivar'>@__current_scope_for_assert_select</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="without_tag-instance_method">
  
    - (<tt>Object</tt>) <strong>without_tag</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
wrapper for a nested assert_select with false
</p>
<pre class="code">
  <span class='id response'>response</span><span class='period'>.</span><span class='id should'>should</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div#1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id without_tag'>without_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>span</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>some text that shouldn't be there</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
</pre>
<p>
see documentation for assert_select at <a
href="http://api.rubyonrails.org">api.rubyonrails.org</a>/
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/spec/rails/matchers/assert_select.rb', line 135</span>

<span class='kw'>def</span> <span class='id without_tag'>without_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id args'>args</span> <span class='op'>=</span> <span class='id prepare_args'>prepare_args</span><span class='lparen'>(</span><span class='id args'>args</span><span class='comma'>,</span> <span class='ivar'>@__current_scope_for_assert_select</span><span class='rparen'>)</span>
  <span class='ivar'>@__current_scope_for_assert_select</span><span class='period'>.</span><span class='id should_not'>should_not</span> <span class='id have_tag'>have_tag</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 19:18:34 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>