  <div id="fileHeader">
    <h1>edit_erb_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>generators/rspec_scaffold/templates/edit_erb_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:13:00 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.expand_path(File.dirname(__FILE__) + '&lt;%= '/..' * class_nesting_depth %&gt;/../../spec_helper')

&lt;% output_attributes = attributes.reject{|attribute| [:datetime, :timestamp, :time, :date].index(attribute.type) } -%&gt;
describe &quot;/&lt;%= table_name %&gt;/edit.&lt;%= default_file_extension %&gt;&quot; do
  include &lt;%= controller_class_name %&gt;Helper
  
  before(:each) do
    assigns[:&lt;%= file_name %&gt;] = @&lt;%= file_name %&gt; = stub_model(&lt;%= class_name %&gt;,
      :new_record? =&gt; false&lt;%= output_attributes.empty? ? '' : ',' %&gt;
&lt;% output_attributes.each_with_index do |attribute, attribute_index| -%&gt;
      :&lt;%= attribute.name %&gt; =&gt; &lt;%= attribute.default_value %&gt;&lt;%= attribute_index == output_attributes.length - 1 ? '' : ','%&gt;
&lt;% end -%&gt;
    )
  end

  it &quot;should render edit form&quot; do
    render &quot;/&lt;%= table_name %&gt;/edit.&lt;%= default_file_extension %&gt;&quot;
    
    response.should have_tag(&quot;form[action=#{&lt;%= file_name %&gt;_path(@&lt;%= file_name %&gt;)}][method=post]&quot;) do
&lt;% for attribute in output_attributes -%&gt;
      with_tag('&lt;%= attribute.input_type -%&gt;#&lt;%= file_name %&gt;_&lt;%= attribute.name %&gt;[name=?]', &quot;&lt;%= file_name %&gt;[&lt;%= attribute.name %&gt;]&quot;)
&lt;% end -%&gt;
    end
  end
end


</pre>
    </div>