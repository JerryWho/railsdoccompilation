  <div id="fileHeader">
    <h1>have_text_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/rails/matchers/have_text_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:13:00 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../../spec_helper'

describe &quot;have_text&quot; do
  
  describe &quot;where target is a Regexp&quot; do
    it 'should should match submitted text using a regexp' do
      string = 'foo'
      string.should have_text(/fo*/)
    end
  end
  
  describe &quot;where target is a String&quot; do
    it 'should match submitted text using a string' do
      string = 'foo'
      string.should have_text('foo')
    end
  end
  
end

describe &quot;have_text&quot;,
  :type =&gt; :controller do
  ['isolation','integration'].each do |mode|
    if mode == 'integration'
      integrate_views
    end

    describe &quot;where target is a response (in #{mode} mode)&quot; do
      controller_name :render_spec

      it &quot;should pass with exactly matching text&quot; do
        post 'text_action'
        response.should have_text(&quot;this is the text for this action&quot;)
      end

      it &quot;should pass with matching text (using Regexp)&quot; do
        post 'text_action'
        response.should have_text(/is the text/)
      end

      it &quot;should fail with matching text&quot; do
        post 'text_action'
        lambda {
          response.should have_text(&quot;this is NOT the text for this action&quot;)
        }.should fail_with(&quot;expected \&quot;this is NOT the text for this action\&quot;, got \&quot;this is the text for this action\&quot;&quot;)
      end

      it &quot;should fail when a template is rendered&quot; do
        post 'some_action'
        lambda {
          response.should have_text(&quot;this is the text for this action&quot;)
        }.should fail_with(/expected \&quot;this is the text for this action\&quot;, got .*/)
      end
      
      it &quot;should pass using should_not with incorrect text&quot; do
        post 'text_action'
        response.should_not have_text(&quot;the accordian guy&quot;)
      end
    end
  end
end

</pre>
    </div>