  <div id="fileHeader">
    <h1>render_template_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/rails/matchers/render_template_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:13:00 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../../spec_helper'

['isolation','integration'].each do |mode|
  describe &quot;response.should render_template (in #{mode} mode)&quot;,
    :type =&gt; :controller do
    controller_name :render_spec
    if mode == 'integration'
      integrate_views
    end

    it &quot;should match a simple path&quot; do
      post 'some_action'
      response.should render_template('some_action')
    end

    it &quot;should match a less simple path&quot; do
      post 'some_action'
      response.should render_template('render_spec/some_action')
    end
  
    it &quot;should match a less simple path to another controller&quot; do
      post 'action_which_renders_template_from_other_controller'
      response.should render_template('controller_spec/action_with_template')
    end
  
    it &quot;should match a symbol&quot; do
      post 'some_action'
      response.should render_template(:some_action)
    end
  
    it &quot;should match an rjs template&quot; do
      xhr :post, 'some_action'
      if Rails::VERSION::STRING &lt; &quot;2.0.0&quot;
        response.should render_template('render_spec/some_action.rjs')
      else
        response.should render_template('render_spec/some_action')
      end
    end
  
    it &quot;should match a partial template (simple path)&quot; do
      get 'action_with_partial'
      response.should render_template(&quot;_a_partial&quot;)
    end
  
    it &quot;should match a partial template (complex path)&quot; do
      get 'action_with_partial'
      response.should render_template(&quot;render_spec/_a_partial&quot;)
    end
  
    it &quot;should fail when the wrong template is rendered&quot; do
      post 'some_action'
      lambda do
        response.should render_template('non_existent_template')
      end.should fail_with(/expected \&quot;non_existent_template\&quot;, got \&quot;render_spec\/some_action(.rhtml)?\&quot;/)
    end
  
    it &quot;should fail without full path when template is associated with a different controller&quot; do
      post 'action_which_renders_template_from_other_controller'
      lambda do
        response.should render_template('action_with_template')
      end.should fail_with(/expected \&quot;action_with_template\&quot;, got \&quot;controller_spec\/action_with_template(.rhtml)?\&quot;/)
    end
  
    it &quot;should fail with incorrect full path when template is associated with a different controller&quot; do
      post 'action_which_renders_template_from_other_controller'
      lambda do
        response.should render_template('render_spec/action_with_template')
      end.should fail_with(/expected \&quot;render_spec\/action_with_template\&quot;, got \&quot;controller_spec\/action_with_template(\.rhtml)?\&quot;/)
    end
  
    it &quot;should fail on the wrong extension (given rhtml)&quot; do
      get 'some_action'
      lambda {
        response.should render_template('render_spec/some_action.rjs')
      }.should fail_with(/expected \&quot;render_spec\/some_action\.rjs\&quot;, got \&quot;render_spec\/some_action(\.rhtml)?\&quot;/)
    end
  
    it &quot;should fail when TEXT is rendered&quot; do
      post 'text_action'
      lambda do
        response.should render_template('some_action')
      end.should fail_with(/expected \&quot;some_action\&quot;, got (nil|\&quot;\&quot;)/)
    end
  
    describe &quot;with an alternate layout&quot; do
      it &quot;should say it rendered the action's template&quot; do
        get 'action_with_alternate_layout'
        response.should render_template('action_with_alternate_layout')
      end
    end
  end
  
  describe &quot;response.should_not render_template (in #{mode} mode)&quot;,
    :type =&gt; :controller do
    controller_name :render_spec
    if mode == 'integration'
      integrate_views
    end
    
    it &quot;should pass when the action renders nothing&quot; do
      post 'action_that_renders_nothing'
      response.should_not render_template('action_that_renders_nothing')
    end
    
    it &quot;should pass when the action renders nothing (symbol)&quot; do
      post 'action_that_renders_nothing'
      response.should_not render_template(:action_that_renders_nothing)
    end
    
    it &quot;should pass when the action does not render the template&quot; do
      post 'some_action'
      response.should_not render_template('some_other_template')
    end
    
    it &quot;should pass when the action does not render the template (symbol)&quot; do
      post 'some_action'
      response.should_not render_template(:some_other_template)
    end
    
    it &quot;should pass when the action does not render the template (named with controller)&quot; do
      post 'some_action'
      response.should_not render_template('render_spec/some_other_template')
    end
    
    it &quot;should pass when the action renders the template with a different controller&quot; do
      post 'action_which_renders_template_from_other_controller'
      response.should_not render_template('action_with_template')
    end
    
    it &quot;should pass when the action renders the template (named with controller) with a different controller&quot; do
      post 'action_which_renders_template_from_other_controller'
      response.should_not render_template('render_spec/action_with_template')
    end
    
    it &quot;should pass when TEXT is rendered&quot; do
      post 'text_action'
      response.should_not render_template('some_action')
    end
    
    it &quot;should fail when the action renders the template&quot; do
      post 'some_action'
      lambda do
        response.should_not render_template('some_action')
      end.should fail_with(&quot;expected not to render \&quot;some_action\&quot;, but did&quot;)
    end
    
    it &quot;should fail when the action renders the template (symbol)&quot; do
      post 'some_action'
      lambda do
        response.should_not render_template(:some_action)
      end.should fail_with(&quot;expected not to render \&quot;some_action\&quot;, but did&quot;)
    end
    
    it &quot;should fail when the action renders the template (named with controller)&quot; do
      post 'some_action'
      lambda do
        response.should_not render_template('render_spec/some_action')
      end.should fail_with(&quot;expected not to render \&quot;render_spec/some_action\&quot;, but did&quot;)
    end
    
    it &quot;should fail when the action renders the partial&quot; do
      post 'action_with_partial'
      lambda do
        response.should_not render_template('_a_partial')
      end.should fail_with(&quot;expected not to render \&quot;_a_partial\&quot;, but did&quot;)
    end
    
    it &quot;should fail when the action renders the partial (named with controller)&quot; do
      post 'action_with_partial'
      lambda do
        response.should_not render_template('render_spec/_a_partial')
      end.should fail_with(&quot;expected not to render \&quot;render_spec/_a_partial\&quot;, but did&quot;)
    end
        
  end
end
</pre>
    </div>