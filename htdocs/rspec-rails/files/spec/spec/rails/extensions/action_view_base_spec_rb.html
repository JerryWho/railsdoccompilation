  <div id="fileHeader">
    <h1>action_view_base_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/spec/rails/extensions/action_view_base_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Dec 29 13:13:00 +0100 2008</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../../spec_helper'
require 'spec/mocks/errors'

describe ActionView::Base, &quot;with RSpec extensions:&quot;, :type =&gt; :view do 
  
  describe &quot;should_receive(:render)&quot; do
    it &quot;should not raise when render has been received&quot; do
      template.should_receive(:render).with(:partial =&gt; &quot;name&quot;)
      template.render :partial =&gt; &quot;name&quot;
    end
  
    it &quot;should raise when render has NOT been received&quot; do
      template.should_receive(:render).with(:partial =&gt; &quot;name&quot;)
      lambda {
        template.verify_rendered
      }.should raise_error
    end
    
    it &quot;should return something (like a normal mock)&quot; do
      template.should_receive(:render).with(:partial =&gt; &quot;name&quot;).and_return(&quot;Little Johnny&quot;)
      result = template.render :partial =&gt; &quot;name&quot;
      result.should == &quot;Little Johnny&quot;
    end
  end
  
  describe &quot;stub!(:render)&quot; do
    it &quot;should not raise when stubbing and render has been received&quot; do
      template.stub!(:render).with(:partial =&gt; &quot;name&quot;)
      template.render :partial =&gt; &quot;name&quot;
    end
  
    it &quot;should not raise when stubbing and render has NOT been received&quot; do
      template.stub!(:render).with(:partial =&gt; &quot;name&quot;)
    end
  
    it &quot;should not raise when stubbing and render has been received with different options&quot; do
      template.stub!(:render).with(:partial =&gt; &quot;name&quot;)
      template.render :partial =&gt; &quot;view_spec/spacer&quot;
    end

    it &quot;should not raise when stubbing and expecting and render has been received&quot; do
      template.stub!(:render).with(:partial =&gt; &quot;name&quot;)
      template.should_receive(:render).with(:partial =&gt; &quot;name&quot;)
      template.render(:partial =&gt; &quot;name&quot;)
    end
  end

end
</pre>
    </div>