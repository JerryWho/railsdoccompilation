  <div id="fileHeader">
    <h1>ar_be_valid.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/spec/rails/matchers/ar_be_valid.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 20:09:08 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>if defined?(ActiveRecord::Base)
  module Spec
    module Rails
      module Matchers
        # :call-seq:
        #   response.should be_valid
        #   response.should_not be_valid
        def be_valid
          ::Spec::Matchers::Matcher.new :be_valid do
            match do |actual|
              actual.valid?
            end

            failure_message_for_should do |actual|
              if actual.respond_to?(:errors) &amp;&amp; ActiveRecord::Errors === actual.errors
                &quot;Expected #{actual.inspect} to be valid, but it was not\nErrors: &quot; + actual.errors.full_messages.join(&quot;, &quot;)            
              else
                &quot;Expected #{actual.inspect} to be valid&quot;
              end
            end
          end
        end

      end
    end
  end
end
</pre>
    </div>