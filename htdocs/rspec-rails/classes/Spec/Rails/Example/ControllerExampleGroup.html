  <div id="C00000053">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />ControllerExampleGroup<br/>
  In:
<a href="#" onclick="jsHref('files/lib/spec/rails/example/controller_example_group_rb.html');">lib/spec/rails/example/controller_example_group.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Spec/Rails/Example/FunctionalExampleGroup.html');">
FunctionalExampleGroup
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
Controller Examples live in $RAILS_ROOT/spec/controllers/.
</p>
<p>
Controller Examples use <a
href="index.html?a=C00000053&name=Spec::Rails::Example::ControllerExampleGroup">Spec::Rails::Example::ControllerExampleGroup</a>,
which supports running specs for Controllers in two modes, which represent
the tension between the more granular testing common in TDD and the more
high level testing built into rails. BDD sits somewhere in between: we want
to a balance between specs that are close enough to the code to enable
quick fault isolation and far enough away from the code to enable
refactoring with minimal changes to the existing specs.
</p>
<h2>Isolation mode (default)</h2>
<p>
No dependencies on views because none are ever rendered. The benefit of
this mode is that can spec the controller completely independent of the
view, allowing that responsibility to be handled later, or by somebody
else. Combined w/ separate view specs, this also provides better fault
isolation.
</p>
<h2>Integration mode</h2>
<p>
To run in this mode, include the <tt><a
href="index.html?a=M000067&name=integrate_views">integrate_views</a></tt>
declaration in your controller context:
</p>
<pre>
  describe ThingController do
    integrate_views
    ...
</pre>
<p>
In this mode, controller specs are run in the same way that rails
functional tests run - one set of tests for both the controllers and the
views. The benefit of this approach is that you get wider coverage from
each spec. Experienced rails developers may find this an easier approach to
begin with, however we encourage you to explore using the isolation mode
and revel in its benefits.
</p>
<h2>Expecting Errors</h2>
<p>
Rspec on Rails will raise errors that occur in controller actions and are
not rescued or handeled with rescue_from.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000071&name=_assigns_hash_proxy" >_assigns_hash_proxy</a></li>
  <li><a href="index.html?a=M000070&name=bypass_rescue" >bypass_rescue</a></li>
  <li><a href="index.html?a=M000068&name=controller_name" >controller_name</a></li>
  <li><a href="index.html?a=M000067&name=integrate_views" >integrate_views</a></li>
  <li><a href="index.html?a=M000069&name=integrate_views?" >integrate_views?</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Module "<a href="#" onclick="jsHref('classes/Spec/Rails/Example/ControllerExampleGroup/TemplateIsolationExtensions.html');" class="link">Spec::Rails::Example::ControllerExampleGroup::TemplateIsolationExtensions</a>"<br />



  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>controller</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>request</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>response</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M000068" class="method">
  <div id="M000068_title" class="title">
    <b>controller_name</b>(name)
  </div>
  <div class="description">
  <p>
When you don&#8217;t pass a controller to describe, like this:
</p>
<pre>
  describe ThingsController do
</pre>
<p>
&#8230; then you must provide a <a
href="index.html?a=M000068&name=controller_name">controller_name</a> within
the context of your controller specs:
</p>
<pre>
  describe &quot;ThingController&quot; do
    controller_name :thing
    ...
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000068_source')" id="l_M000068_source">show source</a> ]</p>
  <div id="M000068_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/example/controller_example_group.rb, line 92</span>
92:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_name</span>(<span class="ruby-identifier">name</span>)
93:             <span class="ruby-identifier">tests</span> <span class="ruby-node">&quot;#{name}_controller&quot;</span>.<span class="ruby-identifier">camelize</span>.<span class="ruby-identifier">constantize</span>
94:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000067" class="method">
  <div id="M000067_title" class="title">
    <b>integrate_views</b>(integrate_views = true)
  </div>
  <div class="description">
  <p>
Use <a href="index.html?a=M000067&name=integrate_views">integrate_views</a>
to instruct RSpec to render views in your controller examples in
Integration mode.
</p>
<pre>
  describe ThingController do
    integrate_views
    ...
</pre>
<p>
See <a
href="index.html?a=C00000053&name=Spec::Rails::Example::ControllerExampleGroup">Spec::Rails::Example::ControllerExampleGroup</a>
for more information about Integration and Isolation modes.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000067_source')" id="l_M000067_source">show source</a> ]</p>
  <div id="M000067_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/example/controller_example_group.rb, line 56</span>
56:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">integrate_views</span>(<span class="ruby-identifier">integrate_views</span> = <span class="ruby-keyword kw">true</span>)
57:             <span class="ruby-ivar">@integrate_views</span> = <span class="ruby-identifier">integrate_views</span>
58:           <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000070" class="method">
  <div id="M000070_title" class="title">
    <b>bypass_rescue</b>()
  </div>
  <div class="description">
  <p>
Bypasses any error rescues defined with rescue_from. Useful in cases in
which you want to specify errors coming out of actions that might be caught
by a rescue_from clause that is specified separately.
</p>
<p>
Note that this will override the effect of rescue_action_in_public
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000070_source')" id="l_M000070_source">show source</a> ]</p>
  <div id="M000070_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/example/controller_example_group.rb, line 136</span>
136:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bypass_rescue</span>
137:           <span class="ruby-keyword kw">if</span> <span class="ruby-operator">::</span><span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span><span class="ruby-operator">::</span><span class="ruby-constant">STRING</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'2.2'</span>
138:             <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">rescue_action</span>(<span class="ruby-identifier">exception</span>)
139:               <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
140:             <span class="ruby-keyword kw">end</span>
141:           <span class="ruby-keyword kw">else</span>
142:             <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">rescue_action_with_handler</span>(<span class="ruby-identifier">exception</span>)
143:               <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
144:             <span class="ruby-keyword kw">end</span>
145:           <span class="ruby-keyword kw">end</span>
146:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000069" class="method">
  <div id="M000069_title" class="title">
    <b>integrate_views?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000069_source')" id="l_M000069_source">show source</a> ]</p>
  <div id="M000069_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/example/controller_example_group.rb, line 126</span>
126:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">integrate_views?</span>
127:           <span class="ruby-ivar">@integrate_views</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">integrate_views?</span>
128:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M000071" class="method">
  <div id="M000071_title" class="title">
    <b>_assigns_hash_proxy</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000071_source')" id="l_M000071_source">show source</a> ]</p>
  <div id="M000071_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/example/controller_example_group.rb, line 150</span>
150:         <span class="ruby-keyword kw">def</span>   <span class="ruby-identifier">_assigns_hash_proxy</span><span class="ruby-identifier">_assigns_hash_proxy</span><span class="ruby-identifier">_assigns_hash_proxy</span>
151:           <span class="ruby-ivar">@_assigns_hash_proxy</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">AssignsHashProxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>) {<span class="ruby-ivar">@response</span>.<span class="ruby-identifier">template</span>}
152:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>