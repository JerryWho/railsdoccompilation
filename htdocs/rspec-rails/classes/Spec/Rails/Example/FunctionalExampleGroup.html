  <div id="C00000044">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />FunctionalExampleGroup<br/>
  In:
<a href="#" onclick="jsHref('files/lib/spec/rails/example/functional_example_group_rb.html');">lib/spec/rails/example/functional_example_group.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000057&name=assigns" >assigns</a></li>
  <li><a href="index.html?a=M000056&name=cookies" >cookies</a></li>
  <li><a href="index.html?a=M000054&name=flash" >flash</a></li>
  <li><a href="index.html?a=M000053&name=params" >params</a></li>
  <li><a href="index.html?a=M000055&name=session" >session</a></li>
  <li><a href="index.html?a=M000052&name=setup" >setup</a></li>
  </ul>





  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>request</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>response</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Instance methods</div>
<div id="M000057" class="method">
  <div id="M000057_title" class="title">
    <b>assigns()<br />
</b>
  </div>
  <div class="description">
  <p>
Hash of instance variables to values that are made available to views. ==
Examples
</p>
<pre>
  #in thing_controller.rb
  def new
    @thing = Thing.new
  end

  #in thing_controller_spec
  get 'new'
  assigns[:registration].should == Thing.new
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000057_source')" id="l_M000057_source">show source</a> ]</p>
  <div id="M000057_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/example/functional_example_group.rb, line 95</span>
 95:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assigns</span>(<span class="ruby-identifier">key</span> = <span class="ruby-keyword kw">nil</span>)
 96:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">nil?</span>
 97:             <span class="ruby-identifier">_assigns_hash_proxy</span>
 98:           <span class="ruby-keyword kw">else</span>
 99:             <span class="ruby-identifier">_assigns_hash_proxy</span>[<span class="ruby-identifier">key</span>]
100:           <span class="ruby-keyword kw">end</span>
101:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000056" class="method">
  <div id="M000056_title" class="title">
    <b>cookies</b>()
  </div>
  <div class="description">
  <p>
Overrides the <tt>cookies()</tt> method in
ActionController::TestResponseBehaviour, returning a proxy that accesses
the requests cookies when setting a cookie and the responses cookies when
reading one. This allows you to set and read cookies in examples using the
same API with which you set and read them in controllers.
</p>
<h2>Examples (Rails 2.0 &gt; 2.2)</h2>
<pre>
  cookies[:user_id] = {:value =&gt; '1234', :expires =&gt; 1.minute.ago}
  get :index
  response.should be_redirect
</pre>
<h2>Examples (Rails 2.3)</h2>
<p>
Rails 2.3 changes the way cookies are made available to functional tests
(and therefore rspec controller specs), only making single values available
with no access to other aspects of the cookie. This is
backwards-incompatible, so you have to change your examples to look like
this:
</p>
<pre>
  cookies[:foo] = 'bar'
  get :index
  cookies[:foo].should == 'bar'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000056_source')" id="l_M000056_source">show source</a> ]</p>
  <div id="M000056_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/example/functional_example_group.rb, line 71</span>
71:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cookies</span>
72:           <span class="ruby-ivar">@cookies</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Spec</span><span class="ruby-operator">::</span><span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Example</span><span class="ruby-operator">::</span><span class="ruby-constant">CookiesProxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
73:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000054" class="method">
  <div id="M000054_title" class="title">
    <b>flash</b>()
  </div>
  <div class="description">
  <p>
Provides access to the flash hash. Use this after rendering a view, calling
a helper or calling a controller action.
</p>
<h2>Examples</h2>
<pre>
  post :create
  flash[:notice].should == &quot;Success!&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000054_source')" id="l_M000054_source">show source</a> ]</p>
  <div id="M000054_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/example/functional_example_group.rb, line 37</span>
37:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flash</span>
38:           <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-identifier">:flash</span>
39:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000053" class="method">
  <div id="M000053_title" class="title">
    <b>params</b>()
  </div>
  <div class="description">
  <p>
The params hash accessed within a view or helper. Use this before rendering
a view or calling a helper to provide data used by the view or helper.
</p>
<h2>Examples</h2>
<pre>
  # in a view spec
  params[:name] = &quot;David&quot;
  render
  response.should have_tag(&quot;div.name&quot;,&quot;David&quot;)

  # in a helper spec
  params[:first_name] = &quot;David&quot;
  params[:last_name] = &quot;Chelimsky&quot;
  helper.full_name.should == &quot;David Chelimsky&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000053_source')" id="l_M000053_source">show source</a> ]</p>
  <div id="M000053_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/example/functional_example_group.rb, line 27</span>
27:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">params</span>
28:           <span class="ruby-identifier">request</span>.<span class="ruby-identifier">parameters</span>
29:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000055" class="method">
  <div id="M000055_title" class="title">
    <b>session</b>()
  </div>
  <div class="description">
  <p>
Provides acces to the session hash. Use this before or after rendering a
view, calling a helper or calling a controller action.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000055_source')" id="l_M000055_source">show source</a> ]</p>
  <div id="M000055_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/example/functional_example_group.rb, line 43</span>
43:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">session</span>
44:           <span class="ruby-identifier">request</span>.<span class="ruby-identifier">session</span>
45:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000052" class="method">
  <div id="M000052_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000052_source')" id="l_M000052_source">show source</a> ]</p>
  <div id="M000052_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File lib/spec/rails/example/functional_example_group.rb, line 7</span>
7:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
8:           <span class="ruby-comment cmt"># no-op to override AC::TC's setup w/ conflicts with the before(:each) below</span>
9:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>