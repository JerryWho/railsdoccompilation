  <div id="C00000033">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />BeRoutable<br/>
  In:
<a href="#" onclick="jsHref('files/lib/spec/rails/matchers/route_to_rb.html');">lib/spec/rails/matchers/route_to.rb</a>

Parent:&nbsp;
Object
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000035&name=failure_message_for_should" >failure_message_for_should</a></li>
  <li><a href="index.html?a=M000036&name=failure_message_for_should_not" >failure_message_for_should_not</a></li>
  <li><a href="index.html?a=M000034&name=matches?" >matches?</a></li>
  <li><a href="index.html?a=M000033&name=new" >new</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M000033" class="method">
  <div id="M000033_title" class="title">
    <b>new</b>(example)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show source</a> ]</p>
  <div id="M000033_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/spec/rails/matchers/route_to.rb, line 90</span>
90:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">example</span>)
91:           <span class="ruby-ivar">@example</span> = <span class="ruby-identifier">example</span>
92:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000035" class="method">
  <div id="M000035_title" class="title">
    <b>failure_message_for_should</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show source</a> ]</p>
  <div id="M000035_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/matchers/route_to.rb, line 108</span>
108:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">failure_message_for_should</span>
109:           <span class="ruby-node">&quot;Expected '#{@actual.keys.first.to_s.upcase} #{@actual.values.first}' to be routable, but it wasn't.\n&quot;</span><span class="ruby-operator">+</span>
110:           <span class="ruby-node">&quot;To really test routability, we recommend #{@actual.inspect}.\n&quot;</span><span class="ruby-operator">+</span>
111:           <span class="ruby-value str">&quot;  should route_to( :action =&gt; 'action', :controller =&gt; 'controller' )\n\n&quot;</span><span class="ruby-operator">+</span>
112: 
113:           <span class="ruby-value str">&quot;That way, you'll verify where your route goes to.  Plus, we'll verify\n&quot;</span><span class="ruby-operator">+</span>
114:           <span class="ruby-value str">&quot;the generation of the expected path from the action/controller, as in\n&quot;</span><span class="ruby-operator">+</span>
115:           <span class="ruby-value str">&quot;the url_for() helper.&quot;</span>
116:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000036" class="method">
  <div id="M000036_title" class="title">
    <b>failure_message_for_should_not</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000036_source')" id="l_M000036_source">show source</a> ]</p>
  <div id="M000036_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/matchers/route_to.rb, line 118</span>
118:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">failure_message_for_should_not</span>
119:           <span class="ruby-node">&quot;Expected '#{@actual.keys.first.to_s.upcase} #{@actual.values.first}' to fail, but it routed to #{@actual_place} instead&quot;</span>
120:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000034" class="method">
  <div id="M000034_title" class="title">
    <b>matches?</b>(path)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show source</a> ]</p>
  <div id="M000034_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/spec/rails/matchers/route_to.rb, line 94</span>
 94:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">matches?</span>(<span class="ruby-identifier">path</span>)
 95:           <span class="ruby-keyword kw">begin</span>
 96:             <span class="ruby-ivar">@actual</span> = <span class="ruby-identifier">path</span>
 97:             <span class="ruby-identifier">method</span>, <span class="ruby-identifier">path</span> = <span class="ruby-constant">PathDecomposer</span>.<span class="ruby-identifier">decompose_path</span>(<span class="ruby-identifier">path</span>)
 98:             <span class="ruby-ivar">@example</span>.<span class="ruby-identifier">assert_recognizes</span>({}, { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path</span> }, {} )
 99:             <span class="ruby-keyword kw">true</span>
100:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>, <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span>
101:             <span class="ruby-keyword kw">false</span>
102:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Unit</span><span class="ruby-operator">::</span><span class="ruby-constant">AssertionFailedError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
103:             <span class="ruby-comment cmt"># the second thingy will always be &quot;&lt;{}&gt;&quot; becaues of the way we called assert_recognizes({}...) above.</span>
104:             <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/&lt;(.*)&gt; did not match &lt;\{\}&gt;/</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@actual_place</span> = <span class="ruby-identifier">$1</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">raise</span>
105:             <span class="ruby-keyword kw">true</span>
106:           <span class="ruby-keyword kw">end</span>
107:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>