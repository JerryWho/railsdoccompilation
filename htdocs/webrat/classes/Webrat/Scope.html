  <div id="C00000081">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Scope<br/>
  In:
<a href="#" onclick="jsHref('files/lib/webrat/core/scope_rb.html');">lib/webrat/core/scope.rb</a>

Parent:&nbsp;
Object
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000139&name=attach_file" >attach_file</a></li>
  <li><a href="index.html?a=M000131&name=check" >check</a></li>
  <li><a href="index.html?a=M000133&name=choose" >choose</a></li>
  <li><a href="index.html?a=M000140&name=click_area" >click_area</a></li>
  <li><a href="index.html?a=M000142&name=click_button" >click_button</a></li>
  <li><a href="index.html?a=M000141&name=click_link" >click_link</a></li>
  <li><a href="index.html?a=M000129&name=fill_in" >fill_in</a></li>
  <li><a href="index.html?a=M000144&name=scoped_dom" >scoped_dom</a></li>
  <li><a href="index.html?a=M000134&name=select" >select</a></li>
  <li><a href="index.html?a=M000136&name=select_date" >select_date</a></li>
  <li><a href="index.html?a=M000138&name=select_datetime" >select_datetime</a></li>
  <li><a href="index.html?a=M000137&name=select_time" >select_time</a></li>
  <li><a href="index.html?a=M000130&name=set_hidden_field" >set_hidden_field</a></li>
  <li><a href="index.html?a=M000143&name=submit_form" >submit_form</a></li>
  <li><a href="index.html?a=M000132&name=uncheck" >uncheck</a></li>
  <li><a href="index.html?a=M000135&name=unselect" >unselect</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('');">Logging</a></li>
  <li><a href="#" onclick="jsHref('classes/Webrat/Locators.html');">Locators</a></li>
</ul>



  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">DATE_TIME_SUFFIXES</td>
    <td>=</td>
    <td class="attr-value">{       :year   =&gt; '1i',       :month  =&gt; '2i',       :day    =&gt; '3i',       :hour   =&gt; '4i',       :minute =&gt; '5i'</td>
  </tr>
  </table>

  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>session</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Instance methods</div>
<div id="M000139" class="method">
  <div id="M000139_title" class="title">
    <b>attach_file</b>(field_locator, path, content_type = nil)
  </div>
  <div class="description">
  <p>
Verifies that an input file field exists on the current page and sets its
value to the given <tt>file</tt>, so that the file will be uploaded along
with the form. An optional <tt>content_type</tt> may be given.
</p>
<p>
Example:
</p>
<pre>
  attach_file &quot;Resume&quot;, &quot;/path/to/the/resume.txt&quot;
  attach_file &quot;Photo&quot;, &quot;/path/to/the/image.png&quot;, &quot;image/png&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000139_source')" id="l_M000139_source">show source</a> ]</p>
  <div id="M000139_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 229</span>
229:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attach_file</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span> = <span class="ruby-keyword kw">nil</span>)
230:       <span class="ruby-identifier">locate_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-constant">FileField</span>).<span class="ruby-identifier">set</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span>)
231:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000131" class="method">
  <div id="M000131_title" class="title">
    <b>check</b>(field_locator)
  </div>
  <div class="description">
  <p>
Verifies that an input checkbox exists on the current page and marks it as
checked, so that the value will be submitted with the form.
</p>
<p>
Example:
</p>
<pre>
  check 'Remember Me'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000131_source')" id="l_M000131_source">show source</a> ]</p>
  <div id="M000131_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 72</span>
72:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check</span>(<span class="ruby-identifier">field_locator</span>)
73:       <span class="ruby-identifier">locate_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-constant">CheckboxField</span>).<span class="ruby-identifier">check</span>
74:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000133" class="method">
  <div id="M000133_title" class="title">
    <b>choose</b>(field_locator)
  </div>
  <div class="description">
  <p>
Verifies that an input radio button exists on the current page and marks it
as checked, so that the value will be submitted with the form.
</p>
<p>
Example:
</p>
<pre>
  choose 'First Option'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000133_source')" id="l_M000133_source">show source</a> ]</p>
  <div id="M000133_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 94</span>
94:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">field_locator</span>)
95:       <span class="ruby-identifier">locate_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-constant">RadioField</span>).<span class="ruby-identifier">choose</span>
96:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000140" class="method">
  <div id="M000140_title" class="title">
    <b>click_area</b>(area_name)
  </div>
  <div class="description">
  <p>
Issues a request for the URL pointed to by an <tt>area</tt> tag on the
current page, follows any redirects, and verifies the final page load was
successful.
</p>
<p>
The area used is the first area whose title or id contains the given
<tt>area_name</tt> (case is ignored).
</p>
<p>
Example:
</p>
<pre>
  click_area 'Australia'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000140_source')" id="l_M000140_source">show source</a> ]</p>
  <div id="M000140_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 244</span>
244:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">click_area</span>(<span class="ruby-identifier">area_name</span>)
245:       <span class="ruby-identifier">find_area</span>(<span class="ruby-identifier">area_name</span>).<span class="ruby-identifier">click</span>
246:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000142" class="method">
  <div id="M000142_title" class="title">
    <b>click_button</b>(value = nil)
  </div>
  <div class="description">
  <p>
Verifies that a submit button exists for the form, then submits the form,
follows any redirects, and verifies the final page was successful.
</p>
<p>
Example:
</p>
<pre>
  click_button &quot;Login&quot;
  click_button
</pre>
<p>
The URL and HTTP method for the form submission are automatically read from
the <tt>action</tt> and <tt>method</tt> attributes of the
<tt>&lt;form&gt;</tt> element.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show source</a> ]</p>
  <div id="M000142_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 289</span>
289:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">click_button</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>)
290:       <span class="ruby-identifier">find_button</span>(<span class="ruby-identifier">value</span>).<span class="ruby-identifier">click</span>
291:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000141" class="method">
  <div id="M000141_title" class="title">
    <b>click_link</b>(text_or_title_or_id, options = {})
  </div>
  <div class="description">
  <p>
Issues a request for the URL pointed to by a link on the current page,
follows any redirects, and verifies the final page load was successful.
</p>
<p>
<a href="index.html?a=M000141&name=click_link">click_link</a> has very
basic support for detecting Rails-generated JavaScript onclick handlers for
PUT, POST and DELETE links, as well as CSRF authenticity tokens if they are
present.
</p>
<p>
Javascript imitation can be disabled by passing the option :javascript
=&gt; false
</p>
<p>
Passing a :method in the options hash overrides the HTTP method used for
making the link request
</p>
<p>
It will try to find links by (in order of precedence):
</p>
<pre>
  innerHTML, with simple &amp;nbsp; handling
  title
  id
</pre>
<p>
innerHTML and title are matchable by text subtring or Regexp id is
matchable by full text equality or Regexp
</p>
<p>
Example:
</p>
<pre>
  click_link &quot;Sign up&quot;
  click_link &quot;Sign up&quot;, :javascript =&gt; false
  click_link &quot;Sign up&quot;, :method =&gt; :put
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000141_source')" id="l_M000141_source">show source</a> ]</p>
  <div id="M000141_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 274</span>
274:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">click_link</span>(<span class="ruby-identifier">text_or_title_or_id</span>, <span class="ruby-identifier">options</span> = {})
275:       <span class="ruby-identifier">find_link</span>(<span class="ruby-identifier">text_or_title_or_id</span>).<span class="ruby-identifier">click</span>(<span class="ruby-identifier">options</span>)
276:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000129" class="method">
  <div id="M000129_title" class="title">
    <b>fill_in</b>(field_locator, options = {})
  </div>
  <div class="description">
  <p>
Verifies an input field or textarea exists on the current page, and stores
a value for it which will be sent when the form is submitted.
</p>
<p>
Examples:
</p>
<pre>
  fill_in &quot;Email&quot;, :with =&gt; &quot;user@example.com&quot;
  fill_in &quot;user[email]&quot;, :with =&gt; &quot;user@example.com&quot;
</pre>
<p>
The field value is required, and must be specified in
<tt>options[:with]</tt>. <tt>field</tt> can be either the value of a name
attribute (i.e. <tt>user[email]</tt>) or the text inside a
<tt>&lt;label&gt;</tt> element that points at the <tt>&lt;input&gt;</tt>
field.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000129_source')" id="l_M000129_source">show source</a> ]</p>
  <div id="M000129_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 49</span>
49:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fill_in</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-identifier">options</span> = {})
50:       <span class="ruby-identifier">field</span> = <span class="ruby-identifier">locate_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-constant">TextField</span>, <span class="ruby-constant">TextareaField</span>, <span class="ruby-constant">PasswordField</span>)
51:       <span class="ruby-identifier">field</span>.<span class="ruby-identifier">raise_error_if_disabled</span>
52:       <span class="ruby-identifier">field</span>.<span class="ruby-identifier">set</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with</span>])
53:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000134" class="method">
  <div id="M000134_title" class="title">
    <b>select</b>(option_text, options = {})
  </div>
  <div class="description">
  <p>
Verifies that a an option element exists on the current page with the
specified text. You can optionally restrict the search to a specific select
list by assigning <tt>options[:from]</tt> the value of the select
list&#8217;s name or a label. Stores the option&#8217;s value to be sent
when the form is submitted.
</p>
<p>
Examples:
</p>
<pre>
  select &quot;January&quot;
  select &quot;February&quot;, :from =&gt; &quot;event_month&quot;
  select &quot;February&quot;, :from =&gt; &quot;Event Month&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000134_source')" id="l_M000134_source">show source</a> ]</p>
  <div id="M000134_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 109</span>
109:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-identifier">option_text</span>, <span class="ruby-identifier">options</span> = {})
110:       <span class="ruby-identifier">select_option</span>(<span class="ruby-identifier">option_text</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:from</span>]).<span class="ruby-identifier">choose</span>
111:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000136" class="method">
  <div id="M000136_title" class="title">
    <b>select_date</b>(date_to_select, options ={})
  </div>
  <div class="description">
  <p>
Verifies that date elements (year, month, day) exist on the current page
with the specified values. You can optionally restrict the search to a
specific date&#8217;s elements by assigning <tt>options[:from]</tt> the
value of the date&#8217;s label. Selects all the date elements with date
provided. The date provided may be a string or a Date/Time object.
</p>
<p>
Rail&#8217;s convention is used for detecting the date elements. All
elements are assumed to have a shared prefix. You may also specify the
prefix by assigning <tt>options[:id_prefix]</tt>.
</p>
<p>
Examples:
</p>
<pre>
  select_date &quot;January 23, 2004&quot;
  select_date &quot;April 26, 1982&quot;, :from =&gt; &quot;Birthday&quot;
  select_date Date.parse(&quot;December 25, 2000&quot;), :from =&gt; &quot;Event&quot;
  select_date &quot;April 26, 1982&quot;, :id_prefix =&gt; 'birthday'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show source</a> ]</p>
  <div id="M000136_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 153</span>
153:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_date</span>(<span class="ruby-identifier">date_to_select</span>, <span class="ruby-identifier">options</span> ={})
154:       <span class="ruby-identifier">date</span> = <span class="ruby-identifier">date_to_select</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Date</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">date_to_select</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>) <span class="ruby-operator">?</span>
155:                 <span class="ruby-identifier">date_to_select</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">date_to_select</span>)
156: 
157:       <span class="ruby-identifier">id_prefix</span> = <span class="ruby-identifier">locate_id_prefix</span>(<span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">do</span>
158:         <span class="ruby-identifier">year_field</span> = <span class="ruby-constant">FieldByIdLocator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@session</span>, <span class="ruby-identifier">dom</span>, <span class="ruby-node">/(.*?)_#{DATE_TIME_SUFFIXES[:year]}$/</span>).<span class="ruby-identifier">locate</span>
159:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;No date fields were found&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">year_field</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">year_field</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(.*?)_1i/</span>
160:         <span class="ruby-identifier">$1</span>
161:       <span class="ruby-keyword kw">end</span>
162: 
163:       <span class="ruby-identifier">select</span> <span class="ruby-identifier">date</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{id_prefix}_#{DATE_TIME_SUFFIXES[:year]}&quot;</span>
164:       <span class="ruby-identifier">select</span> <span class="ruby-identifier">date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">'%B'</span>), <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{id_prefix}_#{DATE_TIME_SUFFIXES[:month]}&quot;</span>
165:       <span class="ruby-identifier">select</span> <span class="ruby-identifier">date</span>.<span class="ruby-identifier">day</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{id_prefix}_#{DATE_TIME_SUFFIXES[:day]}&quot;</span>
166:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000138" class="method">
  <div id="M000138_title" class="title">
    <b>select_datetime</b>(time_to_select, options ={})
  </div>
  <div class="description">
  <p>
Verifies and selects all the date and time elements on the current page.
See <a href="index.html?a=M000137&name=select_time">select_time</a> and <a
href="index.html?a=M000136&name=select_date">select_date</a> for more
details and available options.
</p>
<p>
Examples:
</p>
<pre>
  select_datetime &quot;January 23, 2004 10:30AM&quot;
  select_datetime &quot;April 26, 1982 7:00PM&quot;, :from =&gt; &quot;Birthday&quot;
  select_datetime Time.parse(&quot;December 25, 2000 15:30&quot;), :from =&gt; &quot;Event&quot;
  select_datetime &quot;April 26, 1982 5:50PM&quot;, :id_prefix =&gt; 'birthday'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000138_source')" id="l_M000138_source">show source</a> ]</p>
  <div id="M000138_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 211</span>
211:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_datetime</span>(<span class="ruby-identifier">time_to_select</span>, <span class="ruby-identifier">options</span> ={})
212:       <span class="ruby-identifier">time</span> = <span class="ruby-identifier">time_to_select</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">time_to_select</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">time_to_select</span>)
213: 
214:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:id_prefix</span>] <span class="ruby-operator">||=</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:from</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">FieldByIdLocator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@session</span>, <span class="ruby-identifier">dom</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:from</span>]).<span class="ruby-identifier">locate</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>)
215: 
216:       <span class="ruby-identifier">select_date</span> <span class="ruby-identifier">time</span>, <span class="ruby-identifier">options</span>
217:       <span class="ruby-identifier">select_time</span> <span class="ruby-identifier">time</span>, <span class="ruby-identifier">options</span>
218:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000137" class="method">
  <div id="M000137_title" class="title">
    <b>select_time</b>(time_to_select, options ={})
  </div>
  <div class="description">
  <p>
Verifies that time elements (hour, minute) exist on the current page with
the specified values. You can optionally restrict the search to a specific
time&#8217;s elements by assigning <tt>options[:from]</tt> the value of the
time&#8217;s label. Selects all the time elements with date provided. The
time provided may be a string or a Time object.
</p>
<p>
Rail&#8217;s convention is used for detecting the time elements. All
elements are assumed to have a shared prefix. You may specify the prefix by
assigning <tt>options[:id_prefix]</tt>.
</p>
<p>
Note: Just like Rails&#8217; time_select helper this assumes the form is
using 24 hour select boxes, and not 12 hours with AM/PM.
</p>
<p>
Examples:
</p>
<pre>
  select_time &quot;9:30&quot;
  select_date &quot;3:30PM&quot;, :from =&gt; &quot;Party Time&quot;
  select_date Time.parse(&quot;10:00PM&quot;), :from =&gt; &quot;Event&quot;
  select_date &quot;10:30AM&quot;, :id_prefix =&gt; 'meeting'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show source</a> ]</p>
  <div id="M000137_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 188</span>
188:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_time</span>(<span class="ruby-identifier">time_to_select</span>, <span class="ruby-identifier">options</span> ={})
189:       <span class="ruby-identifier">time</span> = <span class="ruby-identifier">time_to_select</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">time_to_select</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">time_to_select</span>)
190: 
191:       <span class="ruby-identifier">id_prefix</span> = <span class="ruby-identifier">locate_id_prefix</span>(<span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">do</span>
192:         <span class="ruby-identifier">hour_field</span> = <span class="ruby-constant">FieldByIdLocator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@session</span>, <span class="ruby-identifier">dom</span>, <span class="ruby-node">/(.*?)_#{DATE_TIME_SUFFIXES[:hour]}$/</span>).<span class="ruby-identifier">locate</span>
193:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;No time fields were found&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">hour_field</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hour_field</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(.*?)_4i/</span>
194:         <span class="ruby-identifier">$1</span>
195:       <span class="ruby-keyword kw">end</span>
196: 
197:       <span class="ruby-identifier">select</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">hour</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">rjust</span>(<span class="ruby-value">2</span>,<span class="ruby-value str">'0'</span>), <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{id_prefix}_#{DATE_TIME_SUFFIXES[:hour]}&quot;</span>
198:       <span class="ruby-identifier">select</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">min</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">rjust</span>(<span class="ruby-value">2</span>,<span class="ruby-value str">'0'</span>), <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{id_prefix}_#{DATE_TIME_SUFFIXES[:minute]}&quot;</span>
199:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000130" class="method">
  <div id="M000130_title" class="title">
    <b>set_hidden_field</b>(field_locator, options = {})
  </div>
  <div class="description">
  <p>
Verifies that a hidden field exists on the current page and sets the value
to that given by the <tt>:to</tt> option.
</p>
<p>
Example:
</p>
<pre>
  set_hidden_field 'user_id', :to =&gt; 1
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000130_source')" id="l_M000130_source">show source</a> ]</p>
  <div id="M000130_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 62</span>
62:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_hidden_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-identifier">options</span> = {})
63:       <span class="ruby-identifier">field</span> = <span class="ruby-identifier">locate_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-constant">HiddenField</span>)
64:       <span class="ruby-identifier">field</span>.<span class="ruby-identifier">set</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:to</span>])
65:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000143" class="method">
  <div id="M000143_title" class="title">
    <b>submit_form</b>(id)
  </div>
  <div class="description">
  <p>
Submit the form with the given id.
</p>
<p>
Note that <tt><a
href="index.html?a=M000142&name=click_button">click_button</a></tt> is
usually preferrable for simulating form submissions, as you may specify
part of the button text rather than the form id.
</p>
<p>
Example:
</p>
<pre>
  submit_form 'login'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show source</a> ]</p>
  <div id="M000143_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 303</span>
303:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">submit_form</span>(<span class="ruby-identifier">id</span>)
304:       <span class="ruby-constant">FormLocator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@session</span>, <span class="ruby-identifier">dom</span>, <span class="ruby-identifier">id</span>).<span class="ruby-identifier">locate</span>.<span class="ruby-identifier">submit</span>
305:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000132" class="method">
  <div id="M000132_title" class="title">
    <b>uncheck</b>(field_locator)
  </div>
  <div class="description">
  <p>
Verifies that an input checkbox exists on the current page and marks it as
unchecked, so that the value will not be submitted with the form.
</p>
<p>
Example:
</p>
<pre>
  uncheck 'Remember Me'
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000132_source')" id="l_M000132_source">show source</a> ]</p>
  <div id="M000132_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 83</span>
83:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">uncheck</span>(<span class="ruby-identifier">field_locator</span>)
84:       <span class="ruby-identifier">locate_field</span>(<span class="ruby-identifier">field_locator</span>, <span class="ruby-constant">CheckboxField</span>).<span class="ruby-identifier">uncheck</span>
85:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000135" class="method">
  <div id="M000135_title" class="title">
    <b>unselect</b>(option_text, options={})
  </div>
  <div class="description">
  <p>
Verifies that a an option element exists on the current page with the
specified text. You can optionally restrict the search to a specific select
list by assigning <tt>options[:from]</tt> the value of the select
list&#8217;s name or a label. Remove the option&#8217;s value before the
form is submitted.
</p>
<p>
Examples:
</p>
<pre>
  unselect &quot;January&quot;
  unselect &quot;February&quot;, :from =&gt; &quot;event_month&quot;
  unselect &quot;February&quot;, :from =&gt; &quot;Event Month&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000135_source')" id="l_M000135_source">show source</a> ]</p>
  <div id="M000135_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 124</span>
124:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unselect</span>(<span class="ruby-identifier">option_text</span>, <span class="ruby-identifier">options</span>={})
125:       <span class="ruby-identifier">select_option</span>(<span class="ruby-identifier">option_text</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:from</span>]).<span class="ruby-identifier">unchoose</span>
126:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M000144" class="method">
  <div id="M000144_title" class="title">
    <b>scoped_dom</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show source</a> ]</p>
  <div id="M000144_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/webrat/core/scope.rb, line 334</span>
334:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scoped_dom</span>
335:       <span class="ruby-ivar">@scope</span>.<span class="ruby-identifier">dom</span>.<span class="ruby-identifier">css</span>(<span class="ruby-ivar">@selector</span>).<span class="ruby-identifier">first</span>
336:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>