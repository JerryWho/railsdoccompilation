  <div id="fileHeader">
    <h1>save_and_open_page.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/webrat/core/save_and_open_page.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 20:11:26 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>module Webrat
  module SaveAndOpenPage
    # Saves the page out to RAILS_ROOT/tmp/ and opens it in the default
    # web browser if on OS X. Useful for debugging.
    #
    # Example:
    #   save_and_open_page
    def save_and_open_page
      return unless File.exist?(Webrat.configuration.saved_pages_dir)

      filename = &quot;#{Webrat.configuration.saved_pages_dir}/webrat-#{Time.now.to_i}.html&quot;

      File.open(filename, &quot;w&quot;) do |f|
        f.write response_body
      end

      open_in_browser(filename)
    end

    def open_in_browser(path) # :nodoc
      require &quot;launchy&quot;
      Launchy::Browser.run(path)
    rescue LoadError
      warn &quot;Sorry, you need to install launchy to open pages: `gem install launchy`&quot;
    end

  end
end
</pre>
    </div>