  <div id="C00000058">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Html<br/>
  In:
<a href="#" onclick="jsHref('files/lib/cucumber/formatter/html_rb.html');">lib/cucumber/formatter/html.rb</a>

Parent:&nbsp;
Object
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000237&name=after_background" >after_background</a></li>
  <li><a href="index.html?a=M000231&name=after_comment" >after_comment</a></li>
  <li><a href="index.html?a=M000245&name=after_examples" >after_examples</a></li>
  <li><a href="index.html?a=M000229&name=after_feature" >after_feature</a></li>
  <li><a href="index.html?a=M000240&name=after_feature_element" >after_feature_element</a></li>
  <li><a href="index.html?a=M000227&name=after_features" >after_features</a></li>
  <li><a href="index.html?a=M000257&name=after_multiline_arg" >after_multiline_arg</a></li>
  <li><a href="index.html?a=M000243&name=after_outline_table" >after_outline_table</a></li>
  <li><a href="index.html?a=M000250&name=after_step" >after_step</a></li>
  <li><a href="index.html?a=M000252&name=after_step_result" >after_step_result</a></li>
  <li><a href="index.html?a=M000248&name=after_steps" >after_steps</a></li>
  <li><a href="index.html?a=M000260&name=after_table_row" >after_table_row</a></li>
  <li><a href="index.html?a=M000233&name=after_tags" >after_tags</a></li>
  <li><a href="index.html?a=M000262&name=announce" >announce</a></li>
  <li><a href="index.html?a=M000238&name=background_name" >background_name</a></li>
  <li><a href="index.html?a=M000274&name=backtrace_line" >backtrace_line</a></li>
  <li><a href="index.html?a=M000236&name=before_background" >before_background</a></li>
  <li><a href="index.html?a=M000230&name=before_comment" >before_comment</a></li>
  <li><a href="index.html?a=M000244&name=before_examples" >before_examples</a></li>
  <li><a href="index.html?a=M000228&name=before_feature" >before_feature</a></li>
  <li><a href="index.html?a=M000239&name=before_feature_element" >before_feature_element</a></li>
  <li><a href="index.html?a=M000226&name=before_features" >before_features</a></li>
  <li><a href="index.html?a=M000256&name=before_multiline_arg" >before_multiline_arg</a></li>
  <li><a href="index.html?a=M000242&name=before_outline_table" >before_outline_table</a></li>
  <li><a href="index.html?a=M000249&name=before_step" >before_step</a></li>
  <li><a href="index.html?a=M000251&name=before_step_result" >before_step_result</a></li>
  <li><a href="index.html?a=M000247&name=before_steps" >before_steps</a></li>
  <li><a href="index.html?a=M000259&name=before_table_row" >before_table_row</a></li>
  <li><a href="index.html?a=M000267&name=build_cell" >build_cell</a></li>
  <li><a href="index.html?a=M000263&name=build_exception_detail" >build_exception_detail</a></li>
  <li><a href="index.html?a=M000266&name=build_step" >build_step</a></li>
  <li><a href="index.html?a=M000232&name=comment_line" >comment_line</a></li>
  <li><a href="index.html?a=M000279&name=create_builder" >create_builder</a></li>
  <li><a href="index.html?a=M000278&name=dump_count" >dump_count</a></li>
  <li><a href="index.html?a=M000246&name=examples_name" >examples_name</a></li>
  <li><a href="index.html?a=M000254&name=exception" >exception</a></li>
  <li><a href="index.html?a=M000255&name=extra_failure_content" >extra_failure_content</a></li>
  <li><a href="index.html?a=M000235&name=feature_name" >feature_name</a></li>
  <li><a href="index.html?a=M000273&name=format_exception" >format_exception</a></li>
  <li><a href="index.html?a=M000265&name=get_step_count" >get_step_count</a></li>
  <li><a href="index.html?a=M000268&name=inline_css" >inline_css</a></li>
  <li><a href="index.html?a=M000269&name=inline_js" >inline_js</a></li>
  <li><a href="index.html?a=M000270&name=inline_js_content" >inline_js_content</a></li>
  <li><a href="index.html?a=M000271&name=move_progress" >move_progress</a></li>
  <li><a href="index.html?a=M000225&name=new" >new</a></li>
  <li><a href="index.html?a=M000272&name=percent_done" >percent_done</a></li>
  <li><a href="index.html?a=M000276&name=print_stat_string" >print_stat_string</a></li>
  <li><a href="index.html?a=M000275&name=print_stats" >print_stats</a></li>
  <li><a href="index.html?a=M000277&name=print_status_counts" >print_status_counts</a></li>
  <li><a href="index.html?a=M000258&name=py_string" >py_string</a></li>
  <li><a href="index.html?a=M000241&name=scenario_name" >scenario_name</a></li>
  <li><a href="index.html?a=M000264&name=set_scenario_color" >set_scenario_color</a></li>
  <li><a href="index.html?a=M000253&name=step_name" >step_name</a></li>
  <li><a href="index.html?a=M000261&name=table_cell_value" >table_cell_value</a></li>
  <li><a href="index.html?a=M000234&name=tag_name" >tag_name</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('');">ERB::Util</a></li>
  <li><a href="#" onclick="jsHref('');">Duration</a></li>
  <li><a href="#" onclick="jsHref('classes/Cucumber/Formatter/Io.html');">Io</a></li>
</ul>





<div class="sectiontitle">Public Class methods</div>
<div id="M000225" class="method">
  <div id="M000225_title" class="title">
    <b>new</b>(step_mother, path_or_io, options)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000225_source')" id="l_M000225_source">show source</a> ]</p>
  <div id="M000225_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 12</span>
12:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">step_mother</span>, <span class="ruby-identifier">path_or_io</span>, <span class="ruby-identifier">options</span>)
13:         <span class="ruby-ivar">@io</span> = <span class="ruby-identifier">ensure_io</span>(<span class="ruby-identifier">path_or_io</span>, <span class="ruby-value str">&quot;html&quot;</span>)
14:         <span class="ruby-ivar">@step_mother</span> = <span class="ruby-identifier">step_mother</span>
15:         <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
16:         <span class="ruby-ivar">@buffer</span> = {}
17:         <span class="ruby-ivar">@builder</span> = <span class="ruby-identifier">create_builder</span>(<span class="ruby-ivar">@io</span>)
18:         <span class="ruby-ivar">@feature_number</span> = <span class="ruby-value">0</span>
19:         <span class="ruby-ivar">@scenario_number</span> = <span class="ruby-value">0</span>
20:         <span class="ruby-ivar">@step_number</span> = <span class="ruby-value">0</span>
21:         <span class="ruby-ivar">@header_red</span> = <span class="ruby-keyword kw">nil</span>
22:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000237" class="method">
  <div id="M000237_title" class="title">
    <b>after_background</b>(background)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000237_source')" id="l_M000237_source">show source</a> ]</p>
  <div id="M000237_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_background</span>(<span class="ruby-identifier">background</span>)
116:         <span class="ruby-ivar">@in_background</span> = <span class="ruby-keyword kw">nil</span>
117:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/div&gt;'</span>
118:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000231" class="method">
  <div id="M000231_title" class="title">
    <b>after_comment</b>(comment)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000231_source')" id="l_M000231_source">show source</a> ]</p>
  <div id="M000231_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 77</span>
77:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_comment</span>(<span class="ruby-identifier">comment</span>)
78:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/pre&gt;'</span>
79:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000245" class="method">
  <div id="M000245_title" class="title">
    <b>after_examples</b>(examples)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000245_source')" id="l_M000245_source">show source</a> ]</p>
  <div id="M000245_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 167</span>
167:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_examples</span>(<span class="ruby-identifier">examples</span>)
168:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/div&gt;'</span>
169:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000229" class="method">
  <div id="M000229_title" class="title">
    <b>after_feature</b>(feature)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000229_source')" id="l_M000229_source">show source</a> ]</p>
  <div id="M000229_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 69</span>
69:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_feature</span>(<span class="ruby-identifier">feature</span>)
70:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/div&gt;'</span>
71:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000240" class="method">
  <div id="M000240_title" class="title">
    <b>after_feature_element</b>(feature_element)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000240_source')" id="l_M000240_source">show source</a> ]</p>
  <div id="M000240_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_feature_element</span>(<span class="ruby-identifier">feature_element</span>)
140:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/div&gt;'</span>
141:         <span class="ruby-ivar">@open_step_list</span> = <span class="ruby-keyword kw">true</span>
142:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000227" class="method">
  <div id="M000227_title" class="title">
    <b>after_features</b>(features)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000227_source')" id="l_M000227_source">show source</a> ]</p>
  <div id="M000227_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 57</span>
57:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_features</span>(<span class="ruby-identifier">features</span>)
58:         <span class="ruby-identifier">print_stats</span>(<span class="ruby-identifier">features</span>)
59:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/div&gt;'</span>
60:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/body&gt;'</span>
61:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/html&gt;'</span>
62:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000257" class="method">
  <div id="M000257_title" class="title">
    <b>after_multiline_arg</b>(multiline_arg)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000257_source')" id="l_M000257_source">show source</a> ]</p>
  <div id="M000257_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 256</span>
256:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_multiline_arg</span>(<span class="ruby-identifier">multiline_arg</span>)
257:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@skip_step</span>
258:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Ast</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">multiline_arg</span>
259:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/table&gt;'</span>
260:         <span class="ruby-keyword kw">end</span>
261:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000243" class="method">
  <div id="M000243_title" class="title">
    <b>after_outline_table</b>(outline_table)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000243_source')" id="l_M000243_source">show source</a> ]</p>
  <div id="M000243_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 158</span>
158:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_outline_table</span>(<span class="ruby-identifier">outline_table</span>)
159:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/table&gt;'</span>
160:         <span class="ruby-ivar">@outline_row</span> = <span class="ruby-keyword kw">nil</span>
161:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000250" class="method">
  <div id="M000250_title" class="title">
    <b>after_step</b>(step)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000250_source')" id="l_M000250_source">show source</a> ]</p>
  <div id="M000250_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 193</span>
193:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_step</span>(<span class="ruby-identifier">step</span>)
194:         <span class="ruby-identifier">move_progress</span>
195:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000252" class="method">
  <div id="M000252_title" class="title">
    <b>after_step_result</b>(keyword, step_match, multiline_arg, status, exception, source_indent, background)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000252_source')" id="l_M000252_source">show source</a> ]</p>
  <div id="M000252_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 217</span>
217:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_step_result</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">step_match</span>, <span class="ruby-identifier">multiline_arg</span>, <span class="ruby-identifier">status</span>, <span class="ruby-identifier">exception</span>, <span class="ruby-identifier">source_indent</span>, <span class="ruby-identifier">background</span>)
218:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span>
219:         <span class="ruby-comment cmt"># print snippet for undefined steps</span>
220:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:undefined</span>
221:           <span class="ruby-identifier">step_multiline_class</span> = <span class="ruby-ivar">@step</span>.<span class="ruby-identifier">multiline_arg</span> <span class="ruby-value">? </span><span class="ruby-ivar">@step</span>.<span class="ruby-identifier">multiline_arg</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
222:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">pre</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pre</span><span class="ruby-operator">|</span>
223:             <span class="ruby-identifier">pre</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@step_mother</span>.<span class="ruby-identifier">snippet_text</span>(<span class="ruby-identifier">keyword</span>,<span class="ruby-identifier">step_match</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@name&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value str">''</span>,<span class="ruby-identifier">step_multiline_class</span>)
224:           <span class="ruby-keyword kw">end</span>
225:         <span class="ruby-keyword kw">end</span>
226:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/li&gt;'</span>
227:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000248" class="method">
  <div id="M000248_title" class="title">
    <b>after_steps</b>(steps)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000248_source')" id="l_M000248_source">show source</a> ]</p>
  <div id="M000248_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 183</span>
183:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_steps</span>(<span class="ruby-identifier">steps</span>)
184:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/ol&gt;'</span>
185:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000260" class="method">
  <div id="M000260_title" class="title">
    <b>after_table_row</b>(table_row)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000260_source')" id="l_M000260_source">show source</a> ]</p>
  <div id="M000260_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 278</span>
278:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_table_row</span>(<span class="ruby-identifier">table_row</span>)
279:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span>
280:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;/tr&gt;'</span>
281:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">table_row</span>.<span class="ruby-identifier">exception</span>
282:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">tr</span> <span class="ruby-keyword kw">do</span>
283:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">td</span>(<span class="ruby-identifier">:colspan</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@col_index</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'failed'</span>) <span class="ruby-keyword kw">do</span>
284:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">pre</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pre</span><span class="ruby-operator">|</span>
285:                 <span class="ruby-identifier">pre</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">format_exception</span>(<span class="ruby-identifier">table_row</span>.<span class="ruby-identifier">exception</span>)
286:               <span class="ruby-keyword kw">end</span>
287:             <span class="ruby-keyword kw">end</span>
288:           <span class="ruby-keyword kw">end</span>
289:         <span class="ruby-keyword kw">end</span>
290:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@outline_row</span>
291:           <span class="ruby-ivar">@outline_row</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
292:         <span class="ruby-keyword kw">end</span>
293:         <span class="ruby-ivar">@step_number</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
294:         <span class="ruby-identifier">move_progress</span>
295:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000233" class="method">
  <div id="M000233_title" class="title">
    <b>after_tags</b>(tags)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000233_source')" id="l_M000233_source">show source</a> ]</p>
  <div id="M000233_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 86</span>
86:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_tags</span>(<span class="ruby-identifier">tags</span>)
87:         <span class="ruby-ivar">@tag_spacer</span> = <span class="ruby-keyword kw">nil</span>
88:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000262" class="method">
  <div id="M000262_title" class="title">
    <b>announce</b>(announcement)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000262_source')" id="l_M000262_source">show source</a> ]</p>
  <div id="M000262_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 308</span>
308:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">announce</span>(<span class="ruby-identifier">announcement</span>)
309:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">pre</span>(<span class="ruby-identifier">announcement</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'announcement'</span>)
310:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000238" class="method">
  <div id="M000238_title" class="title">
    <b>background_name</b>(keyword, name, file_colon_line, source_indent)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000238_source')" id="l_M000238_source">show source</a> ]</p>
  <div id="M000238_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 120</span>
120:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">background_name</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">file_colon_line</span>, <span class="ruby-identifier">source_indent</span>)
121:         <span class="ruby-ivar">@listing_background</span> = <span class="ruby-keyword kw">true</span>
122:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">h3</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">h3</span><span class="ruby-operator">|</span>
123:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'keyword'</span>)
124:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-value str">' '</span>)
125:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'val'</span>)
126:         <span class="ruby-keyword kw">end</span>
127:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000236" class="method">
  <div id="M000236_title" class="title">
    <b>before_background</b>(background)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000236_source')" id="l_M000236_source">show source</a> ]</p>
  <div id="M000236_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 110</span>
110:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_background</span>(<span class="ruby-identifier">background</span>)
111:         <span class="ruby-ivar">@in_background</span> = <span class="ruby-keyword kw">true</span>
112:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;div class=&quot;background&quot;&gt;'</span>
113:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000230" class="method">
  <div id="M000230_title" class="title">
    <b>before_comment</b>(comment)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000230_source')" id="l_M000230_source">show source</a> ]</p>
  <div id="M000230_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 73</span>
73:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_comment</span>(<span class="ruby-identifier">comment</span>)
74:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;pre class=&quot;comment&quot;&gt;'</span>
75:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000244" class="method">
  <div id="M000244_title" class="title">
    <b>before_examples</b>(examples)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000244_source')" id="l_M000244_source">show source</a> ]</p>
  <div id="M000244_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 163</span>
163:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_examples</span>(<span class="ruby-identifier">examples</span>)
164:          <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;div class=&quot;examples&quot;&gt;'</span>
165:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000228" class="method">
  <div id="M000228_title" class="title">
    <b>before_feature</b>(feature)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000228_source')" id="l_M000228_source">show source</a> ]</p>
  <div id="M000228_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 64</span>
64:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_feature</span>(<span class="ruby-identifier">feature</span>)
65:         <span class="ruby-ivar">@exceptions</span> = []
66:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;div class=&quot;feature&quot;&gt;'</span>
67:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000239" class="method">
  <div id="M000239_title" class="title">
    <b>before_feature_element</b>(feature_element)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000239_source')" id="l_M000239_source">show source</a> ]</p>
  <div id="M000239_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 129</span>
129:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_feature_element</span>(<span class="ruby-identifier">feature_element</span>)
130:         <span class="ruby-ivar">@scenario_number</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
131:         <span class="ruby-ivar">@scenario_red</span> = <span class="ruby-keyword kw">false</span>
132:         <span class="ruby-identifier">css_class</span> = {
133:           <span class="ruby-constant">Ast</span><span class="ruby-operator">::</span><span class="ruby-constant">Scenario</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'scenario'</span>,
134:           <span class="ruby-constant">Ast</span><span class="ruby-operator">::</span><span class="ruby-constant">ScenarioOutline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'scenario outline'</span>
135:         }[<span class="ruby-identifier">feature_element</span>.<span class="ruby-identifier">class</span>]      
136:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;div class='#{css_class}'&gt;&quot;</span>
137:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000226" class="method">
  <div id="M000226_title" class="title">
    <b>before_features</b>(features)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000226_source')" id="l_M000226_source">show source</a> ]</p>
  <div id="M000226_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 24</span>
24:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_features</span>(<span class="ruby-identifier">features</span>)
25:         <span class="ruby-ivar">@step_count</span> = <span class="ruby-identifier">get_step_count</span>(<span class="ruby-identifier">features</span>)
26: 
27:         <span class="ruby-comment cmt"># &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
28:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">declare!</span>(
29:           <span class="ruby-identifier">:DOCTYPE</span>,
30:           <span class="ruby-identifier">:html</span>, 
31:           <span class="ruby-identifier">:PUBLIC</span>, 
32:           <span class="ruby-value str">'-//W3C//DTD XHTML 1.0 Strict//EN'</span>,
33:           <span class="ruby-value str">'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'</span>
34:         )
35: 
36:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;html xmlns =&quot;http://www.w3.org/1999/xhtml&quot;&gt;'</span>
37:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">head</span> <span class="ruby-keyword kw">do</span>
38:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">meta</span>(<span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text/html;charset=utf-8'</span>)
39:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">title</span> <span class="ruby-value str">'Cucumber'</span>
40:           <span class="ruby-identifier">inline_css</span>
41:           <span class="ruby-identifier">inline_js</span>
42:         <span class="ruby-keyword kw">end</span>
43:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;body&gt;'</span>
44:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;!-- Step count #{@step_count}--&gt;&quot;</span>
45:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;div class=&quot;cucumber&quot;&gt;'</span>
46:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'cucumber-header'</span>) <span class="ruby-keyword kw">do</span>
47:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'label'</span>) <span class="ruby-keyword kw">do</span>
48:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">h1</span>(<span class="ruby-value str">'Cucumber Features'</span>)
49:           <span class="ruby-keyword kw">end</span>
50:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'summary'</span>) <span class="ruby-keyword kw">do</span>
51:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">p</span>(<span class="ruby-value str">''</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'totals'</span>)
52:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">p</span>(<span class="ruby-value str">''</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'duration'</span>)
53:           <span class="ruby-keyword kw">end</span>
54:         <span class="ruby-keyword kw">end</span>
55:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000256" class="method">
  <div id="M000256_title" class="title">
    <b>before_multiline_arg</b>(multiline_arg)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000256_source')" id="l_M000256_source">show source</a> ]</p>
  <div id="M000256_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 249</span>
249:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_multiline_arg</span>(<span class="ruby-identifier">multiline_arg</span>)
250:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@skip_step</span>
251:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Ast</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">multiline_arg</span>
252:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;table&gt;'</span>
253:         <span class="ruby-keyword kw">end</span>
254:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000242" class="method">
  <div id="M000242_title" class="title">
    <b>before_outline_table</b>(outline_table)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000242_source')" id="l_M000242_source">show source</a> ]</p>
  <div id="M000242_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 153</span>
153:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_outline_table</span>(<span class="ruby-identifier">outline_table</span>)
154:         <span class="ruby-ivar">@outline_row</span> = <span class="ruby-value">0</span>
155:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;table&gt;'</span>
156:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000249" class="method">
  <div id="M000249_title" class="title">
    <b>before_step</b>(step)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000249_source')" id="l_M000249_source">show source</a> ]</p>
  <div id="M000249_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 187</span>
187:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_step</span>(<span class="ruby-identifier">step</span>)
188:         <span class="ruby-ivar">@step_id</span> = <span class="ruby-identifier">step</span>.<span class="ruby-identifier">dom_id</span>
189:         <span class="ruby-ivar">@step_number</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
190:         <span class="ruby-ivar">@step</span> = <span class="ruby-identifier">step</span>
191:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000251" class="method">
  <div id="M000251_title" class="title">
    <b>before_step_result</b>(keyword, step_match, multiline_arg, status, exception, source_indent, background)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000251_source')" id="l_M000251_source">show source</a> ]</p>
  <div id="M000251_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 197</span>
197:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_step_result</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">step_match</span>, <span class="ruby-identifier">multiline_arg</span>, <span class="ruby-identifier">status</span>, <span class="ruby-identifier">exception</span>, <span class="ruby-identifier">source_indent</span>, <span class="ruby-identifier">background</span>)
198:         <span class="ruby-ivar">@step_match</span> = <span class="ruby-identifier">step_match</span>
199:         <span class="ruby-ivar">@hide_this_step</span> = <span class="ruby-keyword kw">false</span>
200:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exception</span>
201:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@exceptions</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">exception</span>)
202:             <span class="ruby-ivar">@hide_this_step</span> = <span class="ruby-keyword kw">true</span>
203:             <span class="ruby-keyword kw">return</span>
204:           <span class="ruby-keyword kw">end</span>
205:           <span class="ruby-ivar">@exceptions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">exception</span>
206:         <span class="ruby-keyword kw">end</span>
207:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">:failed</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@in_background</span> <span class="ruby-operator">^</span> <span class="ruby-identifier">background</span>
208:           <span class="ruby-ivar">@hide_this_step</span> = <span class="ruby-keyword kw">true</span>
209:           <span class="ruby-keyword kw">return</span>
210:         <span class="ruby-keyword kw">end</span>
211:         <span class="ruby-ivar">@status</span> = <span class="ruby-identifier">status</span>
212:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span>
213:         <span class="ruby-identifier">set_scenario_color</span>(<span class="ruby-identifier">status</span>)      
214:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;li id='#{@step_id}' class='step #{status}'&gt;&quot;</span>            
215:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000247" class="method">
  <div id="M000247_title" class="title">
    <b>before_steps</b>(steps)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000247_source')" id="l_M000247_source">show source</a> ]</p>
  <div id="M000247_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 179</span>
179:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_steps</span>(<span class="ruby-identifier">steps</span>)
180:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'&lt;ol&gt;'</span>
181:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000259" class="method">
  <div id="M000259_title" class="title">
    <b>before_table_row</b>(table_row)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000259_source')" id="l_M000259_source">show source</a> ]</p>
  <div id="M000259_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 271</span>
271:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_table_row</span>(<span class="ruby-identifier">table_row</span>)
272:         <span class="ruby-ivar">@row_id</span> = <span class="ruby-identifier">table_row</span>.<span class="ruby-identifier">dom_id</span>
273:         <span class="ruby-ivar">@col_index</span> = <span class="ruby-value">0</span>
274:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span>
275:         <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr class='step' id='#{@row_id}'&gt;&quot;</span>
276:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000232" class="method">
  <div id="M000232_title" class="title">
    <b>comment_line</b>(comment_line)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000232_source')" id="l_M000232_source">show source</a> ]</p>
  <div id="M000232_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 81</span>
81:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comment_line</span>(<span class="ruby-identifier">comment_line</span>)
82:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-identifier">comment_line</span>)
83:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">br</span>
84:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000246" class="method">
  <div id="M000246_title" class="title">
    <b>examples_name</b>(keyword, name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000246_source')" id="l_M000246_source">show source</a> ]</p>
  <div id="M000246_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">examples_name</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">name</span>)
172:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">h4</span> <span class="ruby-keyword kw">do</span>
173:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'keyword'</span>)
174:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-value str">' '</span>)
175:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'val'</span>)
176:         <span class="ruby-keyword kw">end</span>
177:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000254" class="method">
  <div id="M000254_title" class="title">
    <b>exception</b>(exception, status)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000254_source')" id="l_M000254_source">show source</a> ]</p>
  <div id="M000254_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 240</span>
240:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exception</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">status</span>)
241:         <span class="ruby-identifier">build_exception_detail</span>(<span class="ruby-identifier">exception</span>)
242:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000255" class="method">
  <div id="M000255_title" class="title">
    <b>extra_failure_content</b>(file_colon_line)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000255_source')" id="l_M000255_source">show source</a> ]</p>
  <div id="M000255_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 244</span>
244:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extra_failure_content</span>(<span class="ruby-identifier">file_colon_line</span>)
245:         <span class="ruby-ivar">@snippet_extractor</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">SnippetExtractor</span>.<span class="ruby-identifier">new</span>
246:         <span class="ruby-node">&quot;&lt;pre class=\&quot;ruby\&quot;&gt;&lt;code&gt;#{@snippet_extractor.snippet(file_colon_line)}&lt;/code&gt;&lt;/pre&gt;&quot;</span>
247:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000235" class="method">
  <div id="M000235_title" class="title">
    <b>feature_name</b>(name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000235_source')" id="l_M000235_source">show source</a> ]</p>
  <div id="M000235_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 96</span>
 96:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">feature_name</span>(<span class="ruby-identifier">name</span>)
 97:         <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/\r?\n/</span>)
 98:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">empty?</span>
 99:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">h2</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">h2</span><span class="ruby-operator">|</span>
100:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">lines</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'val'</span>)
101:         <span class="ruby-keyword kw">end</span>
102:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">p</span>(<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'narrative'</span>) <span class="ruby-keyword kw">do</span>
103:           <span class="ruby-identifier">lines</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
104:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-identifier">line</span>.<span class="ruby-identifier">strip</span>)
105:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">br</span>
106:           <span class="ruby-keyword kw">end</span>
107:         <span class="ruby-keyword kw">end</span>
108:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000258" class="method">
  <div id="M000258_title" class="title">
    <b>py_string</b>(string)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000258_source')" id="l_M000258_source">show source</a> ]</p>
  <div id="M000258_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 263</span>
263:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">py_string</span>(<span class="ruby-identifier">string</span>)
264:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span>
265:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">pre</span>(<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'val'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pre</span><span class="ruby-operator">|</span>
266:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;\n&quot;</span>, <span class="ruby-value str">'&amp;#x000A;'</span>)
267:         <span class="ruby-keyword kw">end</span>
268:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000241" class="method">
  <div id="M000241_title" class="title">
    <b>scenario_name</b>(keyword, name, file_colon_line, source_indent)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000241_source')" id="l_M000241_source">show source</a> ]</p>
  <div id="M000241_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 144</span>
144:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scenario_name</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">file_colon_line</span>, <span class="ruby-identifier">source_indent</span>)
145:         <span class="ruby-ivar">@listing_background</span> = <span class="ruby-keyword kw">false</span>
146:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">h3</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;scenario_#{@scenario_number}&quot;</span>) <span class="ruby-keyword kw">do</span>
147:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'keyword'</span>)
148:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-value str">' '</span>)
149:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'val'</span>)
150:         <span class="ruby-keyword kw">end</span>
151:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000253" class="method">
  <div id="M000253_title" class="title">
    <b>step_name</b>(keyword, step_match, status, source_indent, background)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000253_source')" id="l_M000253_source">show source</a> ]</p>
  <div id="M000253_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 229</span>
229:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">step_name</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">step_match</span>, <span class="ruby-identifier">status</span>, <span class="ruby-identifier">source_indent</span>, <span class="ruby-identifier">background</span>)
230:         <span class="ruby-ivar">@step_matches</span> <span class="ruby-operator">||=</span> []
231:         <span class="ruby-identifier">background_in_scenario</span> = <span class="ruby-identifier">background</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@listing_background</span>
232:         <span class="ruby-ivar">@skip_step</span> = <span class="ruby-ivar">@step_matches</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">step_match</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">background_in_scenario</span>
233:         <span class="ruby-ivar">@step_matches</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">step_match</span>
234: 
235:         <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@skip_step</span>
236:           <span class="ruby-identifier">build_step</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">step_match</span>, <span class="ruby-identifier">status</span>)
237:         <span class="ruby-keyword kw">end</span>
238:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000261" class="method">
  <div id="M000261_title" class="title">
    <b>table_cell_value</b>(value, status)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000261_source')" id="l_M000261_source">show source</a> ]</p>
  <div id="M000261_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 297</span>
297:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_cell_value</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">status</span>)
298:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hide_this_step</span>
299:         
300:         <span class="ruby-ivar">@cell_type</span> = <span class="ruby-ivar">@outline_row</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">:th</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:td</span>
301:         <span class="ruby-identifier">attributes</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{@row_id}_#{@col_index}&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'step'</span>}
302:         <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">:class</span>] <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; #{status}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span>
303:         <span class="ruby-identifier">build_cell</span>(<span class="ruby-ivar">@cell_type</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">attributes</span>)
304:         <span class="ruby-identifier">set_scenario_color</span>(<span class="ruby-identifier">status</span>)
305:         <span class="ruby-ivar">@col_index</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
306:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000234" class="method">
  <div id="M000234_title" class="title">
    <b>tag_name</b>(tag_name)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000234_source')" id="l_M000234_source">show source</a> ]</p>
  <div id="M000234_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 90</span>
90:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tag_name</span>(<span class="ruby-identifier">tag_name</span>)
91:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-ivar">@tag_spacer</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tag_spacer</span>
92:         <span class="ruby-ivar">@tag_spacer</span> = <span class="ruby-value str">' '</span>
93:         <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'tag'</span>)
94:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M000274" class="method">
  <div id="M000274_title" class="title">
    <b>backtrace_line</b>(line)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000274_source')" id="l_M000274_source">show source</a> ]</p>
  <div id="M000274_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 456</span>
456:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">backtrace_line</span>(<span class="ruby-identifier">line</span>)
457:           <span class="ruby-identifier">line</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^([^:]*\.(?:rb|feature|haml)):(\d*)/</span>) <span class="ruby-keyword kw">do</span>
458:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TM_PROJECT_DIRECTORY'</span>]
459:               <span class="ruby-node">&quot;&lt;a href=\&quot;txmt://open?url=file://#{File.expand_path($1)}&amp;line=#{$2}\&quot;&gt;#{$1}:#{$2}&lt;/a&gt; &quot;</span>
460:             <span class="ruby-keyword kw">else</span>
461:               <span class="ruby-identifier">line</span>
462:             <span class="ruby-keyword kw">end</span>
463:           <span class="ruby-keyword kw">end</span>
464:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000267" class="method">
  <div id="M000267_title" class="title">
    <b>build_cell</b>(cell_type, value, attributes)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000267_source')" id="l_M000267_source">show source</a> ]</p>
  <div id="M000267_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 402</span>
402:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_cell</span>(<span class="ruby-identifier">cell_type</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">attributes</span>)
403:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">cell_type</span>, <span class="ruby-identifier">attributes</span>) <span class="ruby-keyword kw">do</span>
404:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span> <span class="ruby-keyword kw">do</span>
405:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">value</span>,<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'step param'</span>)
406:             <span class="ruby-keyword kw">end</span>
407:           <span class="ruby-keyword kw">end</span>
408:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000263" class="method">
  <div id="M000263_title" class="title">
    <b>build_exception_detail</b>(exception)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000263_source')" id="l_M000263_source">show source</a> ]</p>
  <div id="M000263_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 314</span>
314:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_exception_detail</span>(<span class="ruby-identifier">exception</span>)
315:           <span class="ruby-identifier">backtrace</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
316:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span>(<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'message'</span>) <span class="ruby-keyword kw">do</span>
317:             <span class="ruby-identifier">message</span> = <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>
318:             <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">RAILS_ROOT</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'Exception caught'</span>)
319:               <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">message</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/Showing &lt;i&gt;(.+)&lt;\/i&gt;(?:.+)#(\d+)/</span>)
320:               <span class="ruby-identifier">backtrace</span> <span class="ruby-operator">+=</span> [<span class="ruby-node">&quot;#{RAILS_ROOT}/#{matches[1]}:#{matches[2]}&quot;</span>]
321:               <span class="ruby-identifier">message</span> = <span class="ruby-identifier">message</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/&lt;code&gt;([^(\/)]+)&lt;\//</span><span class="ruby-identifier">m</span>)[<span class="ruby-value">1</span>]
322:             <span class="ruby-keyword kw">end</span>
323:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">pre</span> <span class="ruby-keyword kw">do</span> 
324:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-identifier">message</span>)
325:             <span class="ruby-keyword kw">end</span>
326:           <span class="ruby-keyword kw">end</span>
327:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span>(<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backtrace'</span>) <span class="ruby-keyword kw">do</span>
328:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">pre</span> <span class="ruby-keyword kw">do</span>
329:               <span class="ruby-identifier">backtrace</span> = <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">backtrace</span>
330:               <span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\/gems\/(cucumber|rspec)/</span> }
331:               <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">backtrace_line</span>(<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>))
332:             <span class="ruby-keyword kw">end</span>
333:           <span class="ruby-keyword kw">end</span>
334:           <span class="ruby-identifier">extra</span> = <span class="ruby-identifier">extra_failure_content</span>(<span class="ruby-identifier">backtrace</span>)
335:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">extra</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">extra</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
336:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000266" class="method">
  <div id="M000266_title" class="title">
    <b>build_step</b>(keyword, step_match, status)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000266_source')" id="l_M000266_source">show source</a> ]</p>
  <div id="M000266_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 391</span>
391:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_step</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">step_match</span>, <span class="ruby-identifier">status</span>)
392:           <span class="ruby-identifier">step_name</span> = <span class="ruby-identifier">step_match</span>.<span class="ruby-identifier">format_args</span>(<span class="ruby-identifier">lambda</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span> <span class="ruby-node">%{&lt;span class=&quot;param&quot;&gt;#{param}&lt;/span&gt;}</span>})
393:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">div</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">div</span><span class="ruby-operator">|</span>
394:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">keyword</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'keyword'</span>)
395:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-value str">' '</span>)
396:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">span</span>(<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'step val'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
397:               <span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">h</span>(<span class="ruby-identifier">step_name</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/&amp;lt;span class=&amp;quot;(.*?)&amp;quot;&amp;gt;/</span>, <span class="ruby-value str">'&lt;span class=&quot;\1&quot;&gt;'</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/&amp;lt;\/span&amp;gt;/</span>, <span class="ruby-value str">'&lt;/span&gt;'</span>)
398:             <span class="ruby-keyword kw">end</span>
399:           <span class="ruby-keyword kw">end</span>
400:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000279" class="method">
  <div id="M000279_title" class="title">
    <b>create_builder</b>(io)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000279_source')" id="l_M000279_source">show source</a> ]</p>
  <div id="M000279_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 494</span>
494:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_builder</span>(<span class="ruby-identifier">io</span>)
495:           <span class="ruby-constant">OrderedXmlMarkup</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:target</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
496:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000278" class="method">
  <div id="M000278_title" class="title">
    <b>dump_count</b>(count, what, state=nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000278_source')" id="l_M000278_source">show source</a> ]</p>
  <div id="M000278_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 490</span>
490:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dump_count</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">what</span>, <span class="ruby-identifier">state</span>=<span class="ruby-keyword kw">nil</span>)
491:           [<span class="ruby-identifier">count</span>, <span class="ruby-identifier">state</span>, <span class="ruby-node">&quot;#{what}#{count == 1 ? '' : 's'}&quot;</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
492:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000273" class="method">
  <div id="M000273_title" class="title">
    <b>format_exception</b>(exception)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000273_source')" id="l_M000273_source">show source</a> ]</p>
  <div id="M000273_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 452</span>
452:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_exception</span>(<span class="ruby-identifier">exception</span>)
453:           ([<span class="ruby-node">&quot;#{exception.message}&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">backtrace</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
454:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000265" class="method">
  <div id="M000265_title" class="title">
    <b>get_step_count</b>(features)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000265_source')" id="l_M000265_source">show source</a> ]</p>
  <div id="M000265_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 355</span>
355:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_step_count</span>(<span class="ruby-identifier">features</span>)
356:           <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
357:           <span class="ruby-identifier">features</span> = <span class="ruby-identifier">features</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@features&quot;</span>)
358:           <span class="ruby-identifier">features</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">feature</span><span class="ruby-operator">|</span>
359:             <span class="ruby-comment cmt">#get background steps</span>
360:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">feature</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@background&quot;</span>)
361:               <span class="ruby-identifier">background</span> = <span class="ruby-identifier">feature</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@background&quot;</span>).<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@steps&quot;</span>).<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@steps&quot;</span>)
362:               <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">background</span>.<span class="ruby-identifier">size</span>
363:             <span class="ruby-keyword kw">end</span>
364:             <span class="ruby-comment cmt">#get scenarios</span>
365:             <span class="ruby-identifier">feature</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@feature_elements&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">scenario</span><span class="ruby-operator">|</span>
366:               <span class="ruby-comment cmt">#get steps</span>
367:               <span class="ruby-identifier">steps</span> = <span class="ruby-identifier">scenario</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@steps&quot;</span>).<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@steps&quot;</span>)
368:               <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">steps</span>.<span class="ruby-identifier">size</span>
369: 
370:               <span class="ruby-comment cmt">#get example table</span>
371:               <span class="ruby-identifier">examples</span> = <span class="ruby-identifier">scenario</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@examples_array&quot;</span>)
372:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">examples</span>.<span class="ruby-identifier">nil?</span>
373:                 <span class="ruby-identifier">examples</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">example</span><span class="ruby-operator">|</span>
374:                   <span class="ruby-identifier">example_matrix</span> = <span class="ruby-identifier">example</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@outline_table&quot;</span>).<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@cell_matrix&quot;</span>)
375:                   <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">example_matrix</span>.<span class="ruby-identifier">size</span>
376:                 <span class="ruby-keyword kw">end</span>
377:               <span class="ruby-keyword kw">end</span>
378: 
379:               <span class="ruby-comment cmt">#get multiline step tables</span>
380:               <span class="ruby-identifier">steps</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">step</span><span class="ruby-operator">|</span>
381:                 <span class="ruby-identifier">multi_arg</span> = <span class="ruby-identifier">step</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@multiline_arg&quot;</span>)
382:                 <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">multi_arg</span>.<span class="ruby-identifier">nil?</span>
383:                 <span class="ruby-identifier">matrix</span> = <span class="ruby-identifier">multi_arg</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@cell_matrix&quot;</span>)
384:                 <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">size</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">nil?</span>
385:               <span class="ruby-keyword kw">end</span>
386:             <span class="ruby-keyword kw">end</span>
387:           <span class="ruby-keyword kw">end</span>
388:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">count</span>
389:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000268" class="method">
  <div id="M000268_title" class="title">
    <b>inline_css</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000268_source')" id="l_M000268_source">show source</a> ]</p>
  <div id="M000268_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 410</span>
410:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inline_css</span>
411:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">style</span>(<span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text/css'</span>) <span class="ruby-keyword kw">do</span>
412:             <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword kw">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">'/cucumber.css'</span>)
413:           <span class="ruby-keyword kw">end</span>
414:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000269" class="method">
  <div id="M000269_title" class="title">
    <b>inline_js</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000269_source')" id="l_M000269_source">show source</a> ]</p>
  <div id="M000269_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 416</span>
416:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inline_js</span>
417:           <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">script</span>(<span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text/javascript'</span>) <span class="ruby-keyword kw">do</span>
418:             <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">inline_js_content</span>
419:           <span class="ruby-keyword kw">end</span>
420:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000270" class="method">
  <div id="M000270_title" class="title">
    <b>inline_js_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000270_source')" id="l_M000270_source">show source</a> ]</p>
  <div id="M000270_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 422</span>
422:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inline_js_content</span>
423:           <span class="ruby-value str">&quot;function moveProgressBar(percentDone) {\ndocument.getElementById(\&quot;cucumber-header\&quot;).style.width = percentDone +\&quot;%\&quot;;\n}\nfunction makeRed(element_id) {\ndocument.getElementById(element_id).style.background = '#C40D0D';\ndocument.getElementById(element_id).style.color = '#FFFFFF';\n}\n\nfunction makeYellow(element_id) {\ndocument.getElementById(element_id).style.background = '#FAF834';\ndocument.getElementById(element_id).style.color = '#000000';\n}\n&quot;</span>
424:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000271" class="method">
  <div id="M000271_title" class="title">
    <b>move_progress</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000271_source')" id="l_M000271_source">show source</a> ]</p>
  <div id="M000271_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 440</span>
440:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_progress</span>
441:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; &lt;script type=\&quot;text/javascript\&quot;&gt;moveProgressBar('#{percent_done}');&lt;/script&gt;&quot;</span>
442:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000272" class="method">
  <div id="M000272_title" class="title">
    <b>percent_done</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000272_source')" id="l_M000272_source">show source</a> ]</p>
  <div id="M000272_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 444</span>
444:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">percent_done</span>
445:           <span class="ruby-identifier">result</span> = <span class="ruby-value">100.0</span>
446:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@step_count</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
447:             <span class="ruby-identifier">result</span> = ((<span class="ruby-ivar">@step_number</span>).<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-ivar">@step_count</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>).<span class="ruby-identifier">to_i</span> <span class="ruby-operator">/</span> <span class="ruby-value">10.0</span>
448:           <span class="ruby-keyword kw">end</span>
449:           <span class="ruby-identifier">result</span>
450:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000276" class="method">
  <div id="M000276_title" class="title">
    <b>print_stat_string</b>(features)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000276_source')" id="l_M000276_source">show source</a> ]</p>
  <div id="M000276_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 471</span>
471:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">print_stat_string</span>(<span class="ruby-identifier">features</span>)
472:           <span class="ruby-identifier">string</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>
473:           <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dump_count</span>(<span class="ruby-ivar">@step_mother</span>.<span class="ruby-identifier">scenarios</span>.<span class="ruby-identifier">length</span>, <span class="ruby-value str">&quot;scenario&quot;</span>)
474:           <span class="ruby-identifier">scenario_count</span> = <span class="ruby-identifier">print_status_counts</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">status</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@step_mother</span>.<span class="ruby-identifier">scenarios</span>(<span class="ruby-identifier">status</span>)}
475:           <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">scenario_count</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scenario_count</span>
476:           <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;br /&gt;&quot;</span>
477:           <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dump_count</span>(<span class="ruby-ivar">@step_mother</span>.<span class="ruby-identifier">steps</span>.<span class="ruby-identifier">length</span>, <span class="ruby-value str">&quot;step&quot;</span>)
478:           <span class="ruby-identifier">step_count</span> = <span class="ruby-identifier">print_status_counts</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">status</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@step_mother</span>.<span class="ruby-identifier">steps</span>(<span class="ruby-identifier">status</span>)}
479:           <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">step_count</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">step_count</span>
480:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000275" class="method">
  <div id="M000275_title" class="title">
    <b>print_stats</b>(features)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000275_source')" id="l_M000275_source">show source</a> ]</p>
  <div id="M000275_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 466</span>
466:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">print_stats</span>(<span class="ruby-identifier">features</span>)
467:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span>  <span class="ruby-node">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;document.getElementById('duration').innerHTML = \&quot;Finished in &lt;strong&gt;#{format_duration(features.duration)} seconds&lt;/strong&gt;\&quot;;&lt;/script&gt;&quot;</span>
468:           <span class="ruby-ivar">@builder</span> <span class="ruby-operator">&lt;&lt;</span>  <span class="ruby-node">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;document.getElementById('totals').innerHTML = \&quot;#{print_stat_string(features)}\&quot;;&lt;/script&gt;&quot;</span>
469:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000277" class="method">
  <div id="M000277_title" class="title">
    <b>print_status_counts</b>() {|status| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000277_source')" id="l_M000277_source">show source</a> ]</p>
  <div id="M000277_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 482</span>
482:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">print_status_counts</span>
483:           <span class="ruby-identifier">counts</span> = [<span class="ruby-identifier">:failed</span>, <span class="ruby-identifier">:skipped</span>, <span class="ruby-identifier">:undefined</span>, <span class="ruby-identifier">:pending</span>, <span class="ruby-identifier">:passed</span>].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">status</span><span class="ruby-operator">|</span>
484:             <span class="ruby-identifier">elements</span> = <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">status</span>
485:             <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">any?</span> <span class="ruby-value">? </span><span class="ruby-node">&quot;#{elements.length} #{status.to_s}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
486:           <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">compact</span>
487:           <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot; (#{counts.join(', ')})&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">counts</span>.<span class="ruby-identifier">any?</span>
488:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000264" class="method">
  <div id="M000264_title" class="title">
    <b>set_scenario_color</b>(status)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000264_source')" id="l_M000264_source">show source</a> ]</p>
  <div id="M000264_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/cucumber/formatter/html.rb, line 338</span>
338:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_scenario_color</span>(<span class="ruby-identifier">status</span>)
339:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:undefined</span>
340:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">script</span> <span class="ruby-keyword kw">do</span>
341:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-value str">&quot;makeYellow('cucumber-header');&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@header_red</span>
342:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-node">&quot;makeYellow('scenario_#{@scenario_number}');&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@scenario_red</span>
343:             <span class="ruby-keyword kw">end</span> 
344:           <span class="ruby-keyword kw">end</span>
345:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:failed</span>
346:             <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">script</span> <span class="ruby-keyword kw">do</span>
347:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-value str">&quot;makeRed('cucumber-header');&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@header_red</span>
348:               <span class="ruby-ivar">@header_red</span> = <span class="ruby-keyword kw">true</span>
349:               <span class="ruby-ivar">@builder</span>.<span class="ruby-identifier">text!</span>(<span class="ruby-node">&quot;makeRed('scenario_#{@scenario_number}');&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@scenario_red</span>
350:               <span class="ruby-ivar">@scenario_red</span> = <span class="ruby-keyword kw">true</span>
351:             <span class="ruby-keyword kw">end</span>
352:           <span class="ruby-keyword kw">end</span>
353:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>