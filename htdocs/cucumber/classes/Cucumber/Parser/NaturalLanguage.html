  <div id="C00000042">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />NaturalLanguage<br/>
  In:
<a href="#" onclick="jsHref('files/lib/cucumber/parser/natural_language_rb.html');">lib/cucumber/parser/natural_language.rb</a>

Parent:&nbsp;
Object
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000129&name=all" >all</a></li>
  <li><a href="index.html?a=M000141&name=and_keywords" >and_keywords</a></li>
  <li><a href="index.html?a=M000138&name=background_keywords" >background_keywords</a></li>
  <li><a href="index.html?a=M000140&name=but_keywords" >but_keywords</a></li>
  <li><a href="index.html?a=M000139&name=examples_keywords" >examples_keywords</a></li>
  <li><a href="index.html?a=M000135&name=feature_keywords" >feature_keywords</a></li>
  <li><a href="index.html?a=M000127&name=get" >get</a></li>
  <li><a href="index.html?a=M000134&name=incomplete?" >incomplete?</a></li>
  <li><a href="index.html?a=M000143&name=keywords" >keywords</a></li>
  <li><a href="index.html?a=M000128&name=languages" >languages</a></li>
  <li><a href="index.html?a=M000130&name=new" >new</a></li>
  <li><a href="index.html?a=M000133&name=parse" >parse</a></li>
  <li><a href="index.html?a=M000132&name=parser" >parser</a></li>
  <li><a href="index.html?a=M000131&name=register_adverbs" >register_adverbs</a></li>
  <li><a href="index.html?a=M000136&name=scenario_keywords" >scenario_keywords</a></li>
  <li><a href="index.html?a=M000137&name=scenario_outline_keywords" >scenario_outline_keywords</a></li>
  <li><a href="index.html?a=M000142&name=step_keywords" >step_keywords</a></li>
  </ul>




  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">KEYWORD_KEYS</td>
    <td>=</td>
    <td class="attr-value">%w{name native feature background scenario scenario_outline examples given when then and but}</td>
  </tr>
  </table>


<div class="sectiontitle">Public Class methods</div>
<div id="M000129" class="method">
  <div id="M000129_title" class="title">
    <b>all</b>(step_mother=nil)
  </div>
  <div class="description">
  <p>
Used by code generators for other lexer tools like pygments lexer and
textmate bundle
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000129_source')" id="l_M000129_source">show source</a> ]</p>
  <div id="M000129_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 18</span>
18:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all</span>(<span class="ruby-identifier">step_mother</span>=<span class="ruby-keyword kw">nil</span>)
19:           <span class="ruby-constant">Cucumber</span><span class="ruby-operator">::</span><span class="ruby-constant">LANGUAGES</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">lang</span><span class="ruby-operator">|</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">step_mother</span>, <span class="ruby-identifier">lang</span>)}
20:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000127" class="method">
  <div id="M000127_title" class="title">
    <b>get</b>(step_mother, lang)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000127_source')" id="l_M000127_source">show source</a> ]</p>
  <div id="M000127_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 9</span>
 9:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">step_mother</span>, <span class="ruby-identifier">lang</span>)
10:           <span class="ruby-identifier">languages</span>[<span class="ruby-identifier">lang</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">step_mother</span>, <span class="ruby-identifier">lang</span>)
11:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000128" class="method">
  <div id="M000128_title" class="title">
    <b>languages</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000128_source')" id="l_M000128_source">show source</a> ]</p>
  <div id="M000128_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 13</span>
13:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">languages</span>
14:           <span class="ruby-ivar">@languages</span> <span class="ruby-operator">||=</span> {}
15:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000130" class="method">
  <div id="M000130_title" class="title">
    <b>new</b>(step_mother, lang)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000130_source')" id="l_M000130_source">show source</a> ]</p>
  <div id="M000130_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">step_mother</span>, <span class="ruby-identifier">lang</span>)
24:         <span class="ruby-ivar">@keywords</span> = <span class="ruby-constant">Cucumber</span><span class="ruby-operator">::</span><span class="ruby-constant">LANGUAGES</span>[<span class="ruby-identifier">lang</span>]
25:         <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Language not supported: #{lang.inspect}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@keywords</span>.<span class="ruby-identifier">nil?</span>
26:         <span class="ruby-ivar">@keywords</span>[<span class="ruby-value str">'grammar_name'</span>] = <span class="ruby-ivar">@keywords</span>[<span class="ruby-value str">'name'</span>].<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s/</span>, <span class="ruby-value str">''</span>)
27:         <span class="ruby-identifier">register_adverbs</span>(<span class="ruby-identifier">step_mother</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">step_mother</span>
28:         <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword kw">nil</span>
29:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000141" class="method">
  <div id="M000141_title" class="title">
    <b>and_keywords</b>(space=true)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000141_source')" id="l_M000141_source">show source</a> ]</p>
  <div id="M000141_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 84</span>
84:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">and_keywords</span>(<span class="ruby-identifier">space</span>=<span class="ruby-keyword kw">true</span>)
85:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'and'</span>, <span class="ruby-identifier">space</span>)
86:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000138" class="method">
  <div id="M000138_title" class="title">
    <b>background_keywords</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000138_source')" id="l_M000138_source">show source</a> ]</p>
  <div id="M000138_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 72</span>
72:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">background_keywords</span>
73:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'background'</span>)
74:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000140" class="method">
  <div id="M000140_title" class="title">
    <b>but_keywords</b>(space=true)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000140_source')" id="l_M000140_source">show source</a> ]</p>
  <div id="M000140_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 80</span>
80:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">but_keywords</span>(<span class="ruby-identifier">space</span>=<span class="ruby-keyword kw">true</span>)
81:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'but'</span>, <span class="ruby-identifier">space</span>)
82:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000139" class="method">
  <div id="M000139_title" class="title">
    <b>examples_keywords</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000139_source')" id="l_M000139_source">show source</a> ]</p>
  <div id="M000139_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">examples_keywords</span>
77:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'examples'</span>)
78:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000135" class="method">
  <div id="M000135_title" class="title">
    <b>feature_keywords</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000135_source')" id="l_M000135_source">show source</a> ]</p>
  <div id="M000135_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 60</span>
60:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">feature_keywords</span>
61:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'feature'</span>)
62:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000134" class="method">
  <div id="M000134_title" class="title">
    <b>incomplete?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000134_source')" id="l_M000134_source">show source</a> ]</p>
  <div id="M000134_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 56</span>
56:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">incomplete?</span>
57:         <span class="ruby-constant">KEYWORD_KEYS</span>.<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@keywords</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">nil?</span>}
58:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000143" class="method">
  <div id="M000143_title" class="title">
    <b>keywords</b>(key, space=false)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show source</a> ]</p>
  <div id="M000143_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 92</span>
92:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keywords</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">space</span>=<span class="ruby-keyword kw">false</span>)
93:         <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;No #{key} in #{@keywords.inspect}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@keywords</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">nil?</span>
94:         <span class="ruby-ivar">@keywords</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">'|'</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">kw</span><span class="ruby-operator">|</span> <span class="ruby-identifier">space</span> <span class="ruby-value">? </span><span class="ruby-identifier">keyword_space</span>(<span class="ruby-identifier">kw</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">kw</span>}
95:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000133" class="method">
  <div id="M000133_title" class="title">
    <b>parse</b>(source, path, filter)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000133_source')" id="l_M000133_source">show source</a> ]</p>
  <div id="M000133_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 50</span>
50:       <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">parse</span><span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">filter</span>)
51:         <span class="ruby-identifier">feature</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse_or_fail</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">filter</span>)
52:         <span class="ruby-identifier">feature</span>.<span class="ruby-identifier">language</span> = <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">feature</span>
53:         <span class="ruby-identifier">feature</span>
54:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000132" class="method">
  <div id="M000132_title" class="title">
    <b>parser</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000132_source')" id="l_M000132_source">show source</a> ]</p>
  <div id="M000132_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 36</span>
36:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parser</span>
37:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@parser</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@parser</span>
38:         <span class="ruby-identifier">i18n_tt</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword kw">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">'/i18n.tt'</span>)
39:         <span class="ruby-identifier">template</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">i18n_tt</span>, <span class="ruby-constant">Cucumber</span>.<span class="ruby-identifier">file_mode</span>(<span class="ruby-value str">'r'</span>)).<span class="ruby-identifier">read</span>
40:         <span class="ruby-identifier">erb</span> = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">template</span>)
41:         <span class="ruby-identifier">grammar</span> = <span class="ruby-identifier">erb</span>.<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)
42:         <span class="ruby-constant">Treetop</span>.<span class="ruby-identifier">load_from_string</span>(<span class="ruby-identifier">grammar</span>)
43:         <span class="ruby-ivar">@parser</span> = <span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">I18n</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-node">&quot;#{@keywords['grammar_name']}Parser&quot;</span>).<span class="ruby-identifier">new</span>
44:         <span class="ruby-keyword kw">def</span> <span class="ruby-ivar">@parser</span>.<span class="ruby-identifier">inspect</span>
45:           <span class="ruby-node">&quot;#&lt;#{self.class.name}&gt;&quot;</span>
46:         <span class="ruby-keyword kw">end</span>
47:         <span class="ruby-ivar">@parser</span>
48:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000131" class="method">
  <div id="M000131_title" class="title">
    <b>register_adverbs</b>(step_mother)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000131_source')" id="l_M000131_source">show source</a> ]</p>
  <div id="M000131_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 31</span>
31:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_adverbs</span>(<span class="ruby-identifier">step_mother</span>)
32:         <span class="ruby-identifier">adverbs</span> = <span class="ruby-node">%w{given when then and but}</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">keyword</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@keywords</span>[<span class="ruby-identifier">keyword</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">'|'</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/[\s&lt;']/</span>, <span class="ruby-value str">''</span>)}}.<span class="ruby-identifier">flatten</span>
33:         <span class="ruby-identifier">step_mother</span>.<span class="ruby-identifier">register_adverbs</span>(<span class="ruby-identifier">adverbs</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">step_mother</span>
34:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000136" class="method">
  <div id="M000136_title" class="title">
    <b>scenario_keywords</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show source</a> ]</p>
  <div id="M000136_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 64</span>
64:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scenario_keywords</span>
65:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'scenario'</span>)
66:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000137" class="method">
  <div id="M000137_title" class="title">
    <b>scenario_outline_keywords</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show source</a> ]</p>
  <div id="M000137_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 68</span>
68:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scenario_outline_keywords</span>
69:         <span class="ruby-identifier">keywords</span>(<span class="ruby-value str">'scenario_outline'</span>)
70:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000142" class="method">
  <div id="M000142_title" class="title">
    <b>step_keywords</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show source</a> ]</p>
  <div id="M000142_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/parser/natural_language.rb, line 88</span>
88:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">step_keywords</span>
89:         <span class="ruby-node">%w{given when then and but}</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">keywords</span>(<span class="ruby-identifier">key</span>, <span class="ruby-keyword kw">true</span>)}.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
90:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>