  <div id="C00000123">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />RbDsl<br/>
  In:
<a href="#" onclick="jsHref('files/lib/cucumber/rb_support/rb_dsl_rb.html');">lib/cucumber/rb_support/rb_dsl.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
This module defines the methods you can use to define pure Ruby Step
Definitions and Hooks. This module is mixed into the toplevel object.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000438&name=After" >After</a></li>
  <li><a href="index.html?a=M000441&name=AfterConfiguration" >AfterConfiguration</a></li>
  <li><a href="index.html?a=M000439&name=AfterStep" >AfterStep</a></li>
  <li><a href="index.html?a=M000437&name=Before" >Before</a></li>
  <li><a href="index.html?a=M000440&name=Transform" >Transform</a></li>
  <li><a href="index.html?a=M000436&name=World" >World</a></li>
  <li><a href="index.html?a=M000431&name=alias_adverb" >alias_adverb</a></li>
  <li><a href="index.html?a=M000432&name=build_rb_world_factory" >build_rb_world_factory</a></li>
  <li><a href="index.html?a=M000433&name=register_rb_hook" >register_rb_hook</a></li>
  <li><a href="index.html?a=M000435&name=register_rb_step_definition" >register_rb_step_definition</a></li>
  <li><a href="index.html?a=M000442&name=register_rb_step_definition" >register_rb_step_definition</a></li>
  <li><a href="index.html?a=M000434&name=register_rb_transform" >register_rb_transform</a></li>
  </ul>





  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[W]
    </td>
    <td class='attr-name'>rb_language</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M000431" class="method">
  <div id="M000431_title" class="title">
    <b>alias_adverb</b>(adverb)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000431_source')" id="l_M000431_source">show source</a> ]</p>
  <div id="M000431_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 10</span>
10:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_adverb</span>(<span class="ruby-identifier">adverb</span>)
11:           <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">adverb</span>, <span class="ruby-identifier">:register_rb_step_definition</span>
12:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000432" class="method">
  <div id="M000432_title" class="title">
    <b>build_rb_world_factory</b>(world_modules, proc)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000432_source')" id="l_M000432_source">show source</a> ]</p>
  <div id="M000432_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 14</span>
14:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_rb_world_factory</span>(<span class="ruby-identifier">world_modules</span>, <span class="ruby-identifier">proc</span>)
15:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">build_rb_world_factory</span>(<span class="ruby-identifier">world_modules</span>, <span class="ruby-identifier">proc</span>)
16:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000433" class="method">
  <div id="M000433_title" class="title">
    <b>register_rb_hook</b>(phase, tag_names, proc)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000433_source')" id="l_M000433_source">show source</a> ]</p>
  <div id="M000433_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 18</span>
18:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-identifier">phase</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
19:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-identifier">phase</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
20:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000435" class="method">
  <div id="M000435_title" class="title">
    <b>register_rb_step_definition</b>(regexp, proc)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000435_source')" id="l_M000435_source">show source</a> ]</p>
  <div id="M000435_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 26</span>
26:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
27:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
28:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000434" class="method">
  <div id="M000434_title" class="title">
    <b>register_rb_transform</b>(regexp, proc)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000434_source')" id="l_M000434_source">show source</a> ]</p>
  <div id="M000434_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 22</span>
22:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
23:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">register_rb_transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)          
24:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000438" class="method">
  <div id="M000438_title" class="title">
    <b>After</b>(*tag_names, &amp;proc)
  </div>
  <div class="description">
  <p>
Registers a proc that will run after each Scenario. You can register as as
you want (typically from ruby scripts under <tt>support/hooks.rb</tt>).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000438_source')" id="l_M000438_source">show source</a> ]</p>
  <div id="M000438_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">After</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
62:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'after'</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
63:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000441" class="method">
  <div id="M000441_title" class="title">
    <b>AfterConfiguration</b>(&amp;proc)
  </div>
  <div class="description">
  <p>
Registers a proc that will run after Cucumber is configured. You can
register as as you want (typically from ruby scripts under
<tt>support/hooks.rb</tt>).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000441_source')" id="l_M000441_source">show source</a> ]</p>
  <div id="M000441_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 82</span>
82:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AfterConfiguration</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
83:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'after_configuration'</span>, [], <span class="ruby-identifier">proc</span>)
84:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000439" class="method">
  <div id="M000439_title" class="title">
    <b>AfterStep</b>(*tag_names, &amp;proc)
  </div>
  <div class="description">
  <p>
Registers a proc that will run after each Step. You can register as as you
want (typically from ruby scripts under <tt>support/hooks.rb</tt>).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000439_source')" id="l_M000439_source">show source</a> ]</p>
  <div id="M000439_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 67</span>
67:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AfterStep</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
68:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'after_step'</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
69:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000437" class="method">
  <div id="M000437_title" class="title">
    <b>Before</b>(*tag_names, &amp;proc)
  </div>
  <div class="description">
  <p>
Registers a proc that will run before each Scenario. You can register as as
you want (typically from ruby scripts under <tt>support/hooks.rb</tt>).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000437_source')" id="l_M000437_source">show source</a> ]</p>
  <div id="M000437_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 55</span>
55:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Before</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
56:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'before'</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
57:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000440" class="method">
  <div id="M000440_title" class="title">
    <b>Transform</b>(regexp, &amp;proc)
  </div>
  <div class="description">
  <p>
Registers a proc that will be called with a step definition argument if it
matches the pattern passed as the first argument to <a
href="index.html?a=M000440&name=Transform">Transform</a>. Alternatively, if
the pattern contains captures then they will be yielded as arguments to the
provided proc. The return value of the proc is consequently yielded to the
step definition.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000440_source')" id="l_M000440_source">show source</a> ]</p>
  <div id="M000440_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
77:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
78:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000436" class="method">
  <div id="M000436_title" class="title">
    <b>World</b>(*world_modules, &amp;proc)
  </div>
  <div class="description">
  <p>
Registers any number of <tt>world_modules</tt> (Ruby Modules) and/or a
Proc. The <tt>proc</tt> will be executed once before each scenario to
create an Object that the scenario&#8217;s steps will run within. Any
<tt>world_modules</tt> will be mixed into this Object (via Object#extend).
</p>
<p>
This method is typically called from one or more Ruby scripts under
<tt>features/support</tt>. You can call this method as many times as you
like (to register more modules), but if you try to register more than one
Proc you will get an error.
</p>
<p>
Cucumber will not yield anything to the <tt>proc</tt>. Examples:
</p>
<pre>
   World do
     MyClass.new
   end

   World(MyModule)
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000436_source')" id="l_M000436_source">show source</a> ]</p>
  <div id="M000436_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 49</span>
49:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">World</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">world_modules</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
50:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">build_rb_world_factory</span>(<span class="ruby-identifier">world_modules</span>, <span class="ruby-identifier">proc</span>)
51:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000442" class="method">
  <div id="M000442_title" class="title">
    <b>register_rb_step_definition</b>(regexp, &amp;proc)
  </div>
  <div class="description">
  <p>
Registers a new Ruby StepDefinition. This method is aliased to
<tt>Given</tt>, <tt>When</tt> and <tt>Then</tt>, and also to the i18n
translations whenever a feature of a new language is loaded.
</p>
<p>
The +&amp;proc+ gets executed in the context of a <tt><a
href="index.html?a=M000436&name=World">World</a></tt> object, which is
defined by <a href="index.html?a=M000436&name=World">World</a>. A new
<tt><a href="index.html?a=M000436&name=World">World</a></tt> object is
created for each scenario and is shared across step definitions within that
scenario.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000442_source')" id="l_M000442_source">show source</a> ]</p>
  <div id="M000442_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 95</span>
95:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
96:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
97:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>