  <div id="fileHeader">
    <h1>string_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/cucumber/core_ext/string_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sat Mar 28 20:11:24 +0100 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../../lib/cucumber/core_ext/string'

describe String, &quot;#gzub&quot; do
  it &quot;should format groups with format string&quot; do
    &quot;I ate 1 egg this morning&quot;.gzub(/I (\w+) (\d+) (\w+) this (\w+)/, &quot;&lt;span&gt;%s&lt;/span&gt;&quot;).should ==
    &quot;I &lt;span&gt;ate&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;egg&lt;/span&gt; this &lt;span&gt;morning&lt;/span&gt;&quot;
  end

  it &quot;should format groups with format string when there are dupes&quot; do
    &quot;I bob 1 bo this bobs&quot;.gzub(/I (\w+) (\d+) (\w+) this (\w+)/, &quot;&lt;span&gt;%s&lt;/span&gt;&quot;).should ==
    &quot;I &lt;span&gt;bob&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;bo&lt;/span&gt; this &lt;span&gt;bobs&lt;/span&gt;&quot;
  end

  it &quot;should format groups with block&quot; do
    f = &quot;I ate 1 egg this morning&quot;.gzub(/I (\w+) (\d+) (\w+) this (\w+)/) do |m|
      &quot;&lt;span&gt;#{m}&lt;/span&gt;&quot;
    end
    f.should == &quot;I &lt;span&gt;ate&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;egg&lt;/span&gt; this &lt;span&gt;morning&lt;/span&gt;&quot;
  end

  it &quot;should format groups with proc object&quot; do
    proc = lambda do |m|
      &quot;&lt;span&gt;#{m}&lt;/span&gt;&quot;
    end
    f = &quot;I ate 1 egg this morning&quot;.gzub(/I (\w+) (\d+) (\w+) this (\w+)/, proc)
    f.should == &quot;I &lt;span&gt;ate&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;egg&lt;/span&gt; this &lt;span&gt;morning&lt;/span&gt;&quot;
  end
  
  it &quot;should format groups with block with not all placeholders having a value&quot; do
    f = &quot;another member named Bob joins the group&quot;.gzub(/(a|another) (user|member) named ([^ ]+)( who is not logged in)?/) do |m|
      &quot;&lt;span&gt;#{m}&lt;/span&gt;&quot;
    end
    f.should == &quot;&lt;span&gt;another&lt;/span&gt; &lt;span&gt;member&lt;/span&gt; named &lt;span&gt;Bob&lt;/span&gt; joins the group&quot;
  end

  it &quot;should format match groups in a textile table row&quot; do
    f = &quot;I ate 1 egg this morning&quot;.gzub(/I (\w+) (\d+) (\w+) this (\w+)/) do |m|
      &quot;&lt;span&gt;#{m}&lt;/span&gt;&quot;
    end
    f.should == &quot;I &lt;span&gt;ate&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;egg&lt;/span&gt; this &lt;span&gt;morning&lt;/span&gt;&quot;
  end
end
</pre>
    </div>