  <div id="fileHeader">
    <h1>progress_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/cucumber/formatter/progress_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:58:05 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper'
require 'cucumber/formatter/progress'

module Cucumber
  module Formatter
    describe Progress do

      before(:each) do
        Term::ANSIColor.coloring = false
        @out = StringIO.new
        progress = Progress.new(mock(&quot;step mother&quot;), @out, {})
        @visitor = Ast::TreeWalker.new(nil, [progress])
      end
 
      describe &quot;visiting a table cell value without a status&quot; do
        it &quot;should take the status from the last run step&quot; do
          @visitor.visit_step_result('', '', nil, :failed, nil, 10, nil)
          outline_table = mock()
          outline_table.should_receive(:accept) do |visitor|
            visitor.visit_table_cell_value('value', nil)
          end
          @visitor.visit_outline_table(outline_table)

          @out.string.should == &quot;FF&quot;
        end
      end

      describe &quot;visiting a table cell which is a table header&quot; do
        it &quot;should not output anything&quot; do
          @visitor.visit_table_cell_value('value', :skipped_param)

          @out.string.should == &quot;&quot;
        end
      end

    end
  end
end
</pre>
    </div>