  <div id="fileHeader">
    <h1>feature_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/cucumber/ast/feature_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 18:21:09 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.expand_path(File.dirname(__FILE__) + '/../../spec_helper')
require 'cucumber/ast/feature_factory'

module Cucumber
  module Ast
    describe Feature do
      include FeatureFactory

      it &quot;should convert to sexp&quot; do
        step_mother = Cucumber::StepMother.new
        step_mother.load_programming_language('rb')
        dsl = Object.new 
        dsl.extend Cucumber::RbSupport::RbDsl

        feature = create_feature(dsl)
        if Cucumber::WINDOWS
          feature_file_path = &quot;features\\pretty_printing.feature&quot;
        else
          feature_file_path = &quot;features/pretty_printing.feature&quot;
        end
        feature.to_sexp.should == 
        [:feature,
          feature_file_path,
          &quot;Pretty printing&quot;, 
          [:comment, &quot;# My feature comment\n&quot;], 
          [:tag, &quot;one&quot;], 
          [:tag, &quot;two&quot;], 
          [:background, 2, 'Background:',
            [:step, 3, &quot;Given&quot;, &quot;a passing step&quot;]],
          [:scenario, 9, &quot;Scenario:&quot;, 
            &quot;A Scenario&quot;, 
            [:comment, &quot;    # My scenario comment  \n# On two lines \n&quot;], 
            [:tag, &quot;three&quot;], 
            [:tag, &quot;four&quot;],
            [:step_invocation, 3, &quot;Given&quot;, &quot;a passing step&quot;], # From the background
            [:step_invocation, 10, &quot;Given&quot;, &quot;a passing step with an inline arg:&quot;,
              [:table, 
                [:row, -1,
                  [:cell, &quot;1&quot;], [:cell, &quot;22&quot;], [:cell, &quot;333&quot;]], 
                [:row, -1,
                  [:cell, &quot;4444&quot;], [:cell, &quot;55555&quot;], [:cell, &quot;666666&quot;]]]], 
            [:step_invocation, 11, &quot;Given&quot;, &quot;a happy step with an inline arg:&quot;, 
              [:py_string, &quot;\n I like\nCucumber sandwich\n&quot;]], 
            [:step_invocation, 12, &quot;Given&quot;, &quot;a failing step&quot;]]]          
      end

      it &quot;should store OS specific file paths&quot; do
        step_mother = Cucumber::StepMother.new
        step_mother.load_programming_language('rb')
        dsl = Object.new 
        dsl.extend Cucumber::RbSupport::RbDsl
        feature = create_feature(dsl)

        if Cucumber::WINDOWS
          feature.file.should == 'features\pretty_printing.feature'
        else
          feature.file.should == 'features/pretty_printing.feature'
        end                
      end

    end
  end
end
</pre>
    </div>