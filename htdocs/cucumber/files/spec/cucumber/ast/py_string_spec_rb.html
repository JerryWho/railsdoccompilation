  <div id="fileHeader">
    <h1>py_string_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/cucumber/ast/py_string_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:58:05 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper'
require 'cucumber/ast/py_string'

module Cucumber
  module Ast
    describe PyString do
      it &quot;should handle unindented&quot; do
        ps = PyString.new(10, 13, &quot;4.1\n4.2\n&quot;, 0)
        ps.to_s.should == &quot;4.1\n4.2\n&quot;
      end

      it &quot;should handle indented&quot; do
        #                    &quot;&quot;&quot;
        ps = PyString.new(10, 13, &quot;     4.1\n   4.2\n&quot;, 2)
        ps.to_s.should == &quot;   4.1\n 4.2\n&quot;
      end
      
      describe &quot;replacing arguments&quot; do

        before(:each) do
          @ps = PyString.new(10, 13, &quot;&lt;book&gt;\n&lt;qty&gt;\n&quot;, 0)
        end
      
        it &quot;should return a new py_string with arguments replaced with values&quot; do
          py_string_with_replaced_arg = @ps.arguments_replaced({'&lt;book&gt;' =&gt; 'Life is elsewhere', '&lt;qty&gt;' =&gt; '5'})
                
          py_string_with_replaced_arg.to_s.should == &quot;Life is elsewhere\n5\n&quot;
        end
        
        it &quot;should not change the original py_string&quot; do
          py_string_with_replaced_arg = @ps.arguments_replaced({'&lt;book&gt;' =&gt; 'Life is elsewhere'})
          
          @ps.to_s.should_not include(&quot;Life is elsewhere&quot;)
        end

        it &quot;should replaced nil with empty string&quot; do
          ps = PyString.new(10, 13, &quot;'&lt;book&gt;'&quot;, 0)
          py_string_with_replaced_arg = ps.arguments_replaced({'&lt;book&gt;' =&gt; nil}) 
          
          py_string_with_replaced_arg.to_s.should == &quot;''&quot;
        end

        it &quot;should recognise when just a subset of a cell is delimited&quot; do
          @ps.should have_text('&lt;qty&gt;')
        end

      end
      
    end
  end
end</pre>
    </div>