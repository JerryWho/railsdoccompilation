  <div id="fileHeader">
    <h1>wire_exception_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/cucumber/wire_support/wire_exception_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 18:21:09 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.expand_path(File.dirname(__FILE__) + '/../../spec_helper')
require 'cucumber/wire_support/wire_language'

module Cucumber
  module WireSupport
    describe WireException do
      before(:each) do
        @host, @port = 'localhost', '54321'
      end
      def exception
        WireException.new(@data, @host, @port)
      end
      describe &quot;with just a message&quot; do
        before(:each) do
          @data = {'message' =&gt; 'foo'}
        end
        it &quot;should #to_s as expected&quot; do
          exception.to_s.should == &quot;foo&quot;
        end
      end
      
      describe &quot;with a message and an exception&quot; do
        before(:each) do
          @data = {'message' =&gt; 'foo', 'exception' =&gt; 'Bar'}
        end
        it &quot;should #to_s as expected&quot; do
          exception.to_s.should == &quot;foo&quot;
        end
        it &quot;#class.to_s should return the name of the exception&quot; do
          exception.class.to_s.should == 'Bar from localhost:54321'
        end
      end
      
      describe &quot;with a custom backtrace&quot; do
        before(:each) do
          @data = {'message' =&gt; 'foo', 'backtrace' =&gt; ['foo', 'bar', 'baz']}
        end
        it &quot;#backrace should return the custom backtrace&quot; do
          exception.backtrace.should == ['foo', 'bar', 'baz']
        end
      end
    end
  end
end</pre>
    </div>