  <div id="fileHeader">
    <h1>wire_step_definition_spec.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>spec/cucumber/wire_support/wire_step_definition_spec.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Wed Dec 16 18:11:50 +0100 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require File.dirname(__FILE__) + '/../../spec_helper'
require 'cucumber/wire_support/wire_language'

module Cucumber
  module WireSupport
    describe WireStepDefinition, &quot;#invoke&quot; do
      describe &quot;if one of the arguments is a table&quot; do
        it &quot;should pass the raw table to the connection&quot; do
          connection = mock('connection')
          step_definition = WireStepDefinition.new(connection, 'id' =&gt; 'the-id')
          expected_args = [&quot;a&quot;,&quot;b&quot;, [[&quot;1&quot;,&quot;2&quot;],[&quot;3&quot;,&quot;4&quot;]]]
          connection.should_receive(:invoke).with('the-id', expected_args)
          args = [&quot;a&quot;,&quot;b&quot;]
          args &lt;&lt; Cucumber::Ast::Table.new([[&quot;1&quot;,&quot;2&quot;],[&quot;3&quot;,&quot;4&quot;]])
          step_definition.invoke(args)
        end
      end
    end
  end
end</pre>
    </div>