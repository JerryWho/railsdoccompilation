  <div id="fileHeader">
    <h1>env.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>examples/selenium_webrat/features/support/env.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:58:05 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require 'spec/expectations'

# START HACK
# Webrat's Selenium wrongly assumes Rails in available. # We'll just fool it...
module ActionController
  class IntegrationTest
  end
end

def silence_stream(*args)
  yield if block_given?
end
# END HACK

# RSpec
require 'spec/expectations'

# Webrat
require 'webrat'

Webrat.configure do |config|
  config.mode = :selenium
end

World do
  session = Webrat::SeleniumSession.new
  session.extend(Webrat::Methods)
  session.extend(Webrat::Selenium::Methods)
  session.extend(Webrat::Selenium::Matchers)
  session
end

# START HACK
# Disable Rails-specific code
class Webrat::Selenium::ApplicationServer
  def self.boot
    
    STDOUT.puts &quot;Starting app server&quot;
  end
  
  def self.stop_at_exit
    STDOUT.puts &quot;Stopping app server&quot;
  end
end
# END HACK
</pre>
    </div>