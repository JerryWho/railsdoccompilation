<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: Sass::Plugin</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Sass.html" title="Sass (module)">Sass</a></span></span>
     &raquo; 
    <span class="title">Plugin</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Sass::Plugin
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="" title="Sass::Plugin (module)">Plugin</a></span></dd>
      
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../Haml/Util.html" title="Haml::Util (module)">Haml::Util</a></span>, <span class='object_link'><a href="Callbacks.html" title="Sass::Callbacks (module)">Callbacks</a></span></dd>
      
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="" title="Sass::Plugin (module)">Plugin</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/sass/plugin.rb<span class="defines">,<br />
  lib/sass/plugin/rack.rb,<br /> lib/sass/plugin/configuration.rb,<br /> lib/sass/plugin/staleness_checker.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>This module handles the compilation of Sass/SCSS files. It provides global options and checks whether CSS files need to be updated.</p>

<p>This module is used as the primary interface with Sass when it&#8217;s used as a plugin for various frameworks. All Rack-enabled frameworks are supported out of the box. The plugin is <a href="../file.SASS_REFERENCE.html#rails_merb_plugin" title="automatically activated for Rails and Merb">automatically activated for Rails and Merb</a>. Other frameworks must enable it explicitly; see <span class='object_link'><a href="Plugin/Rack.html" title="Sass::Plugin::Rack (class)">Plugin::Rack</a></span>.</p>

<p>This module has a large set of callbacks available to allow users to run code (such as logging) when certain things happen. All callback methods are of the form <code>on_#{name}</code>, and they all take a block that&#8217;s called when the given action occurs.</p>

<p>Sass::Plugin.on_updating_stylesheet do |template, css| puts &#8220;Compiling #Plugin.template to #Plugin.css&#8221; end Sass::Plugin.update_stylesheets #=&gt; Compiling app/sass/screen.scss to public/stylesheets/screen.css #=&gt; Compiling app/sass/print.scss to public/stylesheets/print.css #=&gt; Compiling app/sass/ie.scss to public/stylesheets/ie.css</p>

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'><p>Using a callback</p></div></h4>
      <pre class="example code"></pre>
    
  </div>

</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Plugin/MerbBootLoader.html" title="Sass::Plugin::MerbBootLoader (class)">MerbBootLoader</a></span>, <span class='object_link'><a href="Plugin/Rack.html" title="Sass::Plugin::Rack (class)">Rack</a></span>, <span class='object_link'><a href="Plugin/StalenessChecker.html" title="Sass::Plugin::StalenessChecker (class)">StalenessChecker</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="../Haml/Util.html" title="Haml::Util (module)">Haml::Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Haml/Util.html#RUBY_VERSION-constant" title="Haml::Util::RUBY_VERSION (constant)">RUBY_VERSION</a></span></p>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#checked_for_updates-instance_method" title="#checked_for_updates (instance method)">- (Boolean) <strong>checked_for_updates</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Whether or not Sass has <strong>ever</strong> checked if the stylesheets need to be updated (in this Ruby instance).</p></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#options-instance_method" title="#options (instance method)">- ({Symbol =&gt; Object}) <strong>options</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>An options hash.</p></div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_template_location-instance_method" title="#add_template_location (instance method)">- <strong>add_template_location</strong>(template_location, css_location = options[:css_location]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Adds a new template-location/css-location mapping.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_for_updates-instance_method" title="#check_for_updates (instance method)">- <strong>check_for_updates</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Same as <span class='object_link'><a href="#update_stylesheets-instance_method" title="Sass::Plugin#update_stylesheets (method)">Plugin#update_stylesheets</a></span>, but respects <span class='object_link'><a href="#checked_for_updates-instance_method" title="Sass::Plugin#checked_for_updates (method)">Plugin#checked_for_updates</a></span> and the <a href="../file.SASS_REFERENCE.html#always_update-option" title="&lt;code&gt;:always_update&lt;/code&gt;"><code>:always_update</code></a> and <a href="../file.SASS_REFERENCE.html#always_check-option" title="&lt;code&gt;:always_check&lt;/code&gt;"><code>:always_check</code></a> options.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#engine_options-instance_method" title="#engine_options (instance method)">- ({Symbol =&gt; Object}) <strong>engine_options</strong>(additional_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Non-destructively modifies <span class='object_link'><a href="#options-instance_method" title="Sass::Plugin#options (method)">Plugin#options</a></span> so that default values are properly set.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#force_update_stylesheets-instance_method" title="#force_update_stylesheets (instance method)">- <strong>force_update_stylesheets</strong>(individual_files = []) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Updates all stylesheets, even those that aren&#8217;t out-of-date.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_template_location-instance_method" title="#remove_template_location (instance method)">- (Boolean) <strong>remove_template_location</strong>(template_location, css_location = options[:css_location]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes a template-location/css-location mapping.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#template_location_array-instance_method" title="#template_location_array (instance method)">- (Array&lt;(String, String)&gt;) <strong>template_location_array</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the template locations configured for Sass as an array of <code>[template_location, css_location]</code> pairs.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_stylesheets-instance_method" title="#update_stylesheets (instance method)">- <strong>update_stylesheets</strong>(individual_files = []) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Updates out-of-date stylesheets.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#watch-instance_method" title="#watch (instance method)">- <strong>watch</strong>(individual_files = []) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Watches the template directory (or directories) and updates the CSS files whenever the related Sass/SCSS files change.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Callbacks.html" title="Sass::Callbacks (module)">Callbacks</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Callbacks.html#define_callback-instance_method" title="Sass::Callbacks#define_callback (method)">#define_callback</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Haml/Util.html" title="Haml::Util (module)">Haml::Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Haml/Util.html#ap_geq%3F-instance_method" title="Haml::Util#ap_geq? (method)">#ap_geq?</a></span>, <span class='object_link'><a href="../Haml/Util.html#ap_geq_3%3F-instance_method" title="Haml::Util#ap_geq_3? (method)">#ap_geq_3?</a></span>, <span class='object_link'><a href="../Haml/Util.html#assert_html_safe%21-instance_method" title="Haml::Util#assert_html_safe! (method)">#assert_html_safe!</a></span>, <span class='object_link'><a href="../Haml/Util.html#av_template_class-instance_method" title="Haml::Util#av_template_class (method)">#av_template_class</a></span>, <span class='object_link'><a href="../Haml/Util.html#caller_info-instance_method" title="Haml::Util#caller_info (method)">#caller_info</a></span>, <span class='object_link'><a href="../Haml/Util.html#check_encoding-instance_method" title="Haml::Util#check_encoding (method)">#check_encoding</a></span>, <span class='object_link'><a href="../Haml/Util.html#check_haml_encoding-instance_method" title="Haml::Util#check_haml_encoding (method)">#check_haml_encoding</a></span>, <span class='object_link'><a href="../Haml/Util.html#check_sass_encoding-instance_method" title="Haml::Util#check_sass_encoding (method)">#check_sass_encoding</a></span>, <span class='object_link'><a href="../Haml/Util.html#def_static_method-instance_method" title="Haml::Util#def_static_method (method)">#def_static_method</a></span>, <span class='object_link'><a href="../Haml/Util.html#enum_cons-instance_method" title="Haml::Util#enum_cons (method)">#enum_cons</a></span>, <span class='object_link'><a href="../Haml/Util.html#enum_slice-instance_method" title="Haml::Util#enum_slice (method)">#enum_slice</a></span>, <span class='object_link'><a href="../Haml/Util.html#enum_with_index-instance_method" title="Haml::Util#enum_with_index (method)">#enum_with_index</a></span>, <span class='object_link'><a href="../Haml/Util.html#flatten-instance_method" title="Haml::Util#flatten (method)">#flatten</a></span>, <span class='object_link'><a href="../Haml/Util.html#haml_warn-instance_method" title="Haml::Util#haml_warn (method)">#haml_warn</a></span>, <span class='object_link'><a href="../Haml/Util.html#has%3F-instance_method" title="Haml::Util#has? (method)">#has?</a></span>, <span class='object_link'><a href="../Haml/Util.html#html_safe-instance_method" title="Haml::Util#html_safe (method)">#html_safe</a></span>, <span class='object_link'><a href="../Haml/Util.html#inspect_obj-instance_method" title="Haml::Util#inspect_obj (method)">#inspect_obj</a></span>, <span class='object_link'><a href="../Haml/Util.html#intersperse-instance_method" title="Haml::Util#intersperse (method)">#intersperse</a></span>, <span class='object_link'><a href="../Haml/Util.html#lcs-instance_method" title="Haml::Util#lcs (method)">#lcs</a></span>, <span class='object_link'><a href="../Haml/Util.html#map_hash-instance_method" title="Haml::Util#map_hash (method)">#map_hash</a></span>, <span class='object_link'><a href="../Haml/Util.html#map_keys-instance_method" title="Haml::Util#map_keys (method)">#map_keys</a></span>, <span class='object_link'><a href="../Haml/Util.html#map_vals-instance_method" title="Haml::Util#map_vals (method)">#map_vals</a></span>, <span class='object_link'><a href="../Haml/Util.html#merge_adjacent_strings-instance_method" title="Haml::Util#merge_adjacent_strings (method)">#merge_adjacent_strings</a></span>, <span class='object_link'><a href="../Haml/Util.html#ord-instance_method" title="Haml::Util#ord (method)">#ord</a></span>, <span class='object_link'><a href="../Haml/Util.html#paths-instance_method" title="Haml::Util#paths (method)">#paths</a></span>, <span class='object_link'><a href="../Haml/Util.html#powerset-instance_method" title="Haml::Util#powerset (method)">#powerset</a></span>, <span class='object_link'><a href="../Haml/Util.html#rails_env-instance_method" title="Haml::Util#rails_env (method)">#rails_env</a></span>, <span class='object_link'><a href="../Haml/Util.html#rails_root-instance_method" title="Haml::Util#rails_root (method)">#rails_root</a></span>, <span class='object_link'><a href="../Haml/Util.html#rails_safe_buffer_class-instance_method" title="Haml::Util#rails_safe_buffer_class (method)">#rails_safe_buffer_class</a></span>, <span class='object_link'><a href="../Haml/Util.html#rails_xss_safe%3F-instance_method" title="Haml::Util#rails_xss_safe? (method)">#rails_xss_safe?</a></span>, <span class='object_link'><a href="../Haml/Util.html#restrict-instance_method" title="Haml::Util#restrict (method)">#restrict</a></span>, <span class='object_link'><a href="../Haml/Util.html#ruby1_8%3F-instance_method" title="Haml::Util#ruby1_8? (method)">#ruby1_8?</a></span>, <span class='object_link'><a href="../Haml/Util.html#ruby1_8_6%3F-instance_method" title="Haml::Util#ruby1_8_6? (method)">#ruby1_8_6?</a></span>, <span class='object_link'><a href="../Haml/Util.html#scope-instance_method" title="Haml::Util#scope (method)">#scope</a></span>, <span class='object_link'><a href="../Haml/Util.html#set_eql%3F-instance_method" title="Haml::Util#set_eql? (method)">#set_eql?</a></span>, <span class='object_link'><a href="../Haml/Util.html#set_hash-instance_method" title="Haml::Util#set_hash (method)">#set_hash</a></span>, <span class='object_link'><a href="../Haml/Util.html#silence_haml_warnings-instance_method" title="Haml::Util#silence_haml_warnings (method)">#silence_haml_warnings</a></span>, <span class='object_link'><a href="../Haml/Util.html#silence_warnings-instance_method" title="Haml::Util#silence_warnings (method)">#silence_warnings</a></span>, <span class='object_link'><a href="../Haml/Util.html#static_method_name-instance_method" title="Haml::Util#static_method_name (method)">#static_method_name</a></span>, <span class='object_link'><a href="../Haml/Util.html#strip_string_array-instance_method" title="Haml::Util#strip_string_array (method)">#strip_string_array</a></span>, <span class='object_link'><a href="../Haml/Util.html#substitute-instance_method" title="Haml::Util#substitute (method)">#substitute</a></span>, <span class='object_link'><a href="../Haml/Util.html#to_hash-instance_method" title="Haml::Util#to_hash (method)">#to_hash</a></span>, <span class='object_link'><a href="../Haml/Util.html#version_geq-instance_method" title="Haml::Util#version_geq (method)">#version_geq</a></span>, <span class='object_link'><a href="../Haml/Util.html#version_gt-instance_method" title="Haml::Util#version_gt (method)">#version_gt</a></span>, <span class='object_link'><a href="../Haml/Util.html#windows%3F-instance_method" title="Haml::Util#windows? (method)">#windows?</a></span></p>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="checked_for_updates-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="checked_for_updates-instance_method">
  
    - (<tt>Boolean</tt>) <strong>checked_for_updates</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Whether or not Sass has <strong>ever</strong> checked if the stylesheets need to be updated (in this Ruby instance).</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin.rb', line 40</span>

def checked_for_updates
  @checked_for_updates
end</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="options=-instance_method"></span>
      <span id="options-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="options-instance_method">
  
    - (<tt>{Symbol =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>) <strong>options</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>An options hash. See <a href="../file.SASS_REFERENCE.html#sass_options" title="the Sass options documentation">the Sass options documentation</a>.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>{Symbol =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin/configuration.rb', line 126</span>

def options
  @options
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="add_template_location-instance_method">
  
    - <strong>add_template_location</strong>(template_location, css_location = options[:css_location]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Adds a new template-location/css-location mapping. This means that Sass/SCSS files in <code>template_location</code> will be compiled to CSS files in <code>css_location</code>.</p>

<p>This is preferred over manually manipulating the <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a> since the option can be in multiple formats.</p>

<p>Note that this method will change <code>options[:template_location]</code> to be in the Array format. This means that even if <code>options[:template_location]</code> had previously been a Hash or a String, it will now be an Array.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>template_location</span>
      
      
      
        &mdash;
        <div class='inline'><p>The location where Sass/SCSS files will be.</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>css_location</span>
      
      
        <em class="default">(defaults to: <tt>options[:css_location]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The location where compiled CSS files will go.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin/configuration.rb', line 161</span>

def add_template_location(template_location, css_location = options[:css_location])
  normalize_template_location!
  template_location_array &lt;&lt; [template_location, css_location]
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="check_for_updates-instance_method">
  
    - <strong>check_for_updates</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Same as <span class='object_link'><a href="#update_stylesheets-instance_method" title="Sass::Plugin#update_stylesheets (method)">#update_stylesheets</a></span>, but respects <span class='object_link'><a href="#checked_for_updates-instance_method" title="Sass::Plugin#checked_for_updates (method)">#checked_for_updates</a></span> and the <a href="../file.SASS_REFERENCE.html#always_update-option" title="&lt;code&gt;:always_update&lt;/code&gt;"><code>:always_update</code></a> and <a href="../file.SASS_REFERENCE.html#always_check-option" title="&lt;code&gt;:always_check&lt;/code&gt;"><code>:always_check</code></a> options.</p>

  </div>
</div>
<div class="tags">
  
  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#update_stylesheets-instance_method" title="Sass::Plugin#update_stylesheets (method)">#update_stylesheets</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin.rb', line 47</span>

def check_for_updates
  return unless !Sass::Plugin.checked_for_updates ||
      Sass::Plugin.options[:always_update] || Sass::Plugin.options[:always_check]
  update_stylesheets
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="engine_options-instance_method">
  
    - (<tt>{Symbol =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>) <strong>engine_options</strong>(additional_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Non-destructively modifies <span class='object_link'><a href="#options-instance_method" title="Sass::Plugin#options (method)">#options</a></span> so that default values are properly set.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>{Symbol =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <span class='name'>additional_options</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>An options hash with which to merge <span class='object_link'><a href="#options-instance_method" title="Sass::Plugin#options (method)">#options</a></span></p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>{Symbol =&gt; <span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The modified options hash</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin/configuration.rb', line 140</span>

def engine_options(additional_options = {})
  opts = options.dup.merge(additional_options)
  opts[:load_paths] = load_paths(opts)
  opts
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="force_update_stylesheets-instance_method">
  
    - <strong>force_update_stylesheets</strong>(individual_files = []) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Updates all stylesheets, even those that aren&#8217;t out-of-date. Ignores the cache.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array&lt;(String, String)&gt;</tt>)</span>
      
      
        <span class='name'>individual_files</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A list of files to check for updates <strong>in addition to those specified by the <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a>.</strong> The first string in each pair is the location of the Sass/SCSS file, the second is the location of the CSS file that it should be compiled to.</p></div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><span class='object_link'><a href="#update_stylesheets-instance_method" title="Sass::Plugin#update_stylesheets (method)">#update_stylesheets</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin.rb', line 103</span>

def force_update_stylesheets(individual_files = [])
  old_options = options
  self.options = options.dup
  options[:never_update] = false
  options[:always_update] = true
  options[:cache] = false
  update_stylesheets(individual_files)
ensure
  self.options = old_options
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_template_location-instance_method">
  
    - (<tt>Boolean</tt>) <strong>remove_template_location</strong>(template_location, css_location = options[:css_location]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Removes a template-location/css-location mapping. This means that Sass/SCSS files in <code>template_location</code> will no longer be compiled to CSS files in <code>css_location</code>.</p>

<p>This is preferred over manually manipulating the <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a> since the option can be in multiple formats.</p>

<p>Note that this method will change <code>options[:template_location]</code> to be in the Array format. This means that even if <code>options[:template_location]</code> had previously been a Hash or a String, it will now be an Array.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>template_location</span>
      
      
      
        &mdash;
        <div class='inline'><p>The location where Sass/SCSS files were, which is now going to be ignored.</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>css_location</span>
      
      
        <em class="default">(defaults to: <tt>options[:css_location]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The location where compiled CSS files went, but will no longer go.</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>Non-<code>nil</code> if the given mapping already existed and was removed, or <code>nil</code> if nothing was changed.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin/configuration.rb', line 187</span>

def remove_template_location(template_location, css_location = options[:css_location])
  normalize_template_location!
  template_location_array.delete([template_location, css_location])
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="template_location_array-instance_method">
  
    - (<tt>Array&lt;(String, String)&gt;</tt>) <strong>template_location_array</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the template locations configured for Sass as an array of <code>[template_location, css_location]</code> pairs. See the <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a> for details.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Array&lt;(String, String)&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>An array of <code>[template_location, css_location]</code> pairs.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin/configuration.rb', line 199</span>

def template_location_array
  old_template_location = options[:template_location]
  normalize_template_location!
  options[:template_location]
ensure
  options[:template_location] = old_template_location
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_stylesheets-instance_method">
  
    - <strong>update_stylesheets</strong>(individual_files = []) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Updates out-of-date stylesheets.</p>

<p>Checks each Sass/SCSS file in <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt;"><code>:template_location</code></a> to see if it&#8217;s been modified more recently than the corresponding CSS file in <a href="../file.SASS_REFERENCE.html#css_location-option" title="&lt;code&gt;:css_location&lt;/code&gt;"><code>:css_location</code></a>. If it has, it updates the CSS file.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array&lt;(String, String)&gt;</tt>)</span>
      
      
        <span class='name'>individual_files</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A list of files to check for updates <strong>in addition to those specified by the <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a>.</strong> The first string in each pair is the location of the Sass/SCSS file, the second is the location of the CSS file that it should be compiled to.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin.rb', line 66</span>

def update_stylesheets(individual_files = [])
  return if options[:never_update]

  run_updating_stylesheets individual_files

  individual_files.each {|t, c| update_stylesheet(t, c)}

  @checked_for_updates = true
  staleness_checker = StalenessChecker.new

  template_location_array.each do |template_location, css_location|

    Dir.glob(File.join(template_location, &quot;**&quot;, &quot;*.s[ca]ss&quot;)).sort.each do |file|
      # Get the relative path to the file
      name = file.sub(template_location.sub(/\/*$/, '/'), &quot;&quot;)
      css = css_filename(name, css_location)

      next if forbid_update?(name)
      if options[:always_update] || staleness_checker.stylesheet_needs_update?(css, file)
        update_stylesheet file, css
      else
        run_not_updating_stylesheet file, css
      end
    end
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="watch-instance_method">
  
    - <strong>watch</strong>(individual_files = []) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Watches the template directory (or directories) and updates the CSS files whenever the related Sass/SCSS files change. <code>watch</code> never returns.</p>

<p>Whenever a change is detected to a Sass/SCSS file in <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt;"><code>:template_location</code></a>, the corresponding CSS file in <a href="../file.SASS_REFERENCE.html#css_location-option" title="&lt;code&gt;:css_location&lt;/code&gt;"><code>:css_location</code></a> will be recompiled. The CSS files of any Sass/SCSS files that import the changed file will also be recompiled.</p>

<p>Before the watching starts in earnest, <code>watch</code> calls <span class='object_link'><a href="#update_stylesheets-instance_method" title="Sass::Plugin#update_stylesheets (method)">#update_stylesheets</a></span>.</p>

<p>Note that <code>watch</code> uses the <a href='http://github.com/ttilley/fssm'>FSSM</a> library to monitor the filesystem for changes. FSSM isn&#8217;t loaded until <code>watch</code> is run. The version of FSSM distributed with Sass is loaded by default, but if another version has already been loaded that will be used instead.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Array&lt;(String, String)&gt;</tt>)</span>
      
      
        <span class='name'>individual_files</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>A list of files to watch for updates <strong>in addition to those specified by the <a href="../file.SASS_REFERENCE.html#template_location-option" title="&lt;code&gt;:template_location&lt;/code&gt; option"><code>:template_location</code> option</a>.</strong> The first string in each pair is the location of the Sass/SCSS file, the second is the location of the CSS file that it should be compiled to.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sass/plugin.rb', line 138</span>

def watch(individual_files = [])
  update_stylesheets(individual_files)

  begin
    require 'fssm'
  rescue LoadError =&gt; e
    e.message &lt;&lt; &quot;\n&quot; &lt;&lt;
      if File.exists?(scope(&quot;.git&quot;))
        'Run &quot;git submodule update --init&quot; to get the recommended version.'
      else
        'Run &quot;gem install fssm&quot; to get it.'
      end
    raise e
  end

  unless individual_files.empty? &amp;&amp; FSSM::Backends::Default.name == &quot;FSSM::Backends::FSEvents&quot;
    # As of FSSM 0.1.4, it doesn't support FSevents on individual files,
    # but it also isn't smart enough to switch to polling itself.
    require 'fssm/backends/polling'
    Haml::Util.silence_warnings do
      FSSM::Backends.const_set(:Default, FSSM::Backends::Polling)
    end
  end

  # TODO: Keep better track of what depends on what
  # so we don't have to run a global update every time anything changes.
  FSSM.monitor do |mon|
    template_location_array.each do |template_location, css_location|
      mon.path template_location do |path|
        path.glob '**/*.s[ac]ss'

        path.update do |base, relative|
          run_template_modified File.join(base, relative)
          update_stylesheets(individual_files)
        end

        path.create do |base, relative|
          run_template_created File.join(base, relative)
          update_stylesheets(individual_files)
        end

        path.delete do |base, relative|
          run_template_deleted File.join(base, relative)
          css = File.join(css_location, relative.gsub(/\.s[ac]ss$/, '.css'))
          try_delete_css css
          update_stylesheets(individual_files)
        end
      end
    end

    individual_files.each do |template, css|
      mon.file template do |path|
        path.update do
          run_template_modified template
          update_stylesheets(individual_files)
        end

        path.create do
          run_template_created template
          update_stylesheets(individual_files)
        end

        path.delete do
          run_template_deleted template
          try_delete_css css
          update_stylesheets(individual_files)
        end
      end
    end
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 19:12:41 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>