  <div id="C00000064">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />Functions<br/>
  In:
<a href="#" onclick="jsHref('files/lib/sass/script/functions_rb.html');">lib/sass/script/functions.rb</a>
<a href="#" onclick="jsHref('files/test/sass/functions_test_rb.html');">test/sass/functions_test.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
Methods in this module are accessible from the SassScript context. For
example, you can write
</p>
<pre>
    !color = hsl(120, 100%, 50%)
</pre>
<p>
and it will call {<a
href="index.html?a=M000483&name=Sass::Script::Functions#hsl">Sass::Script::Functions#hsl</a>}.
</p>
<p>
The following functions are provided:
</p>
<p>
\{<a href="index.html?a=M000483&name=hsl">hsl</a>} : Converts an `hsl(hue,
saturation, lightness)` triplet into a color.
</p>
<p>
\{<a href="index.html?a=M000482&name=rgb">rgb</a>} : Converts an `rgb(red,
green, blue)` triplet into a color.
</p>
<p>
\{<a href="index.html?a=M000484&name=percentage">percentage</a>} : Converts
a unitless number to a percentage.
</p>
<p>
\{<a href="index.html?a=M000485&name=round">round</a>} : Rounds a number to
the nearest whole number.
</p>
<p>
\{<a href="index.html?a=M000486&name=ceil">ceil</a>} : Rounds a number up
to the nearest whole number.
</p>
<p>
\{<a href="index.html?a=M000487&name=floor">floor</a>} : Rounds a number
down to the nearest whole number.
</p>
<p>
\{<a href="index.html?a=M000488&name=abs">abs</a>} : Returns the absolute
value of a number.
</p>
<p>
These functions are described in more detail below.
</p>
<p>
## Adding Custom <a
href="index.html?a=C00000064&name=Functions">Functions</a>
</p>
<p>
New <a href="index.html?a=C00000062&name=Sass">Sass</a> functions can be
added by adding Ruby methods to this module. For example:
</p>
<pre>
    module Sass::Script::Functions
      def reverse(string)
        assert_type string, :String
        Sass::Script::String.new(string.value.reverse)
      end
    end
</pre>
<p>
There are a few things to keep in mind when modifying this module. First of
all, the arguments passed are {<a
href="index.html?a=C00000072&name=Sass::Script::Literal">Sass::Script::Literal</a>}
objects. <a href="index.html?a=C00000072&name=Literal">Literal</a> objects
are also expected to be returned. This means that Ruby values must be
unwrapped and wrapped.
</p>
<p>
Most <a href="index.html?a=C00000072&name=Literal">Literal</a> objects
support the {Sass::Script::Literal#value value} accessor for getting their
Ruby values. <a href="index.html?a=C00000069&name=Color">Color</a> objects,
though, must be accessed using {<a
href="index.html?a=M000506&name=Sass::Script::Color#rgb">Sass::Script::Color#rgb</a>
rgb}.
</p>
<p>
Second, making Ruby functions accessible from <a
href="index.html?a=C00000062&name=Sass">Sass</a> introduces the temptation
to do things like database access within stylesheets. This temptation must
be resisted. Keep in mind that <a
href="index.html?a=C00000062&name=Sass">Sass</a> stylesheets are only
compiled once at a somewhat indeterminate time and then left as static <a
href="index.html?a=C00000089&name=CSS">CSS</a> files. Any dynamic <a
href="index.html?a=C00000089&name=CSS">CSS</a> should be left in
`&lt;style&gt;` tags in the HTML.
</p>
<p>
Within one of the functions in this module, methods of {<a
href="index.html?a=C00000065&name=EvaluationContext">EvaluationContext</a>}
can be used.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000488&name=abs" >abs</a></li>
  <li><a href="index.html?a=M000486&name=ceil" >ceil</a></li>
  <li><a href="index.html?a=M000487&name=floor" >floor</a></li>
  <li><a href="index.html?a=M000483&name=hsl" >hsl</a></li>
  <li><a href="index.html?a=M000484&name=percentage" >percentage</a></li>
  <li><a href="index.html?a=M000482&name=rgb" >rgb</a></li>
  <li><a href="index.html?a=M000485&name=round" >round</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/UserFunctions.html');">UserFunctions</a></li>
</ul>


  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/Sass/Script/Functions/EvaluationContext.html');" class="link">Sass::Script::Functions::EvaluationContext</a>"<br />




<div class="sectiontitle">Public Instance methods</div>
<div id="M000488" class="method">
  <div id="M000488_title" class="title">
    <b>abs</b>(value)
  </div>
  <div class="description">
  <p>
Finds the absolute value of a number. For example:
</p>
<pre>
    abs(10px) =&gt; 10px
    abs(-10px) =&gt; 10px
</pre>
<p>
@param value [Number] The number @return [Number] The absolute value @raise
[<a
href="index.html?a=C00000091&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000488_source')" id="l_M000488_source">show source</a> ]</p>
  <div id="M000488_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 229</span>
229:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">abs</span>(<span class="ruby-identifier">value</span>)
230:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">abs</span>}
231:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000486" class="method">
  <div id="M000486_title" class="title">
    <b>ceil</b>(value)
  </div>
  <div class="description">
  <p>
Rounds a number up to the nearest whole number. For example:
</p>
<pre>
    ciel(10.4px) =&gt; 11px
    ciel(10.6px) =&gt; 11px
</pre>
<p>
@param value [Number] The number @return [Number] The rounded number @raise
[<a
href="index.html?a=C00000091&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000486_source')" id="l_M000486_source">show source</a> ]</p>
  <div id="M000486_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 203</span>
203:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ceil</span>(<span class="ruby-identifier">value</span>)
204:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">ceil</span>}
205:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000487" class="method">
  <div id="M000487_title" class="title">
    <b>floor</b>(value)
  </div>
  <div class="description">
  <p>
Rounds down to the nearest whole number. For example:
</p>
<pre>
    floor(10.4px) =&gt; 10px
    floor(10.6px) =&gt; 10px
</pre>
<p>
@param value [Number] The number @return [Number] The rounded number @raise
[<a
href="index.html?a=C00000091&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000487_source')" id="l_M000487_source">show source</a> ]</p>
  <div id="M000487_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 216</span>
216:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">floor</span>(<span class="ruby-identifier">value</span>)
217:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">floor</span>}
218:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000483" class="method">
  <div id="M000483_title" class="title">
    <b>hsl</b>(hue, saturation, lightness)
  </div>
  <div class="description">
  <p>
Creates a {<a href="index.html?a=C00000069&name=Color">Color</a>} object
from hue, saturation, and lightness. Uses the algorithm from the [CSS3
spec](<a href="http://www.w3.org/TR/css3-color/#hsl-color"
target="_blank">http://www.w3.org/TR/css3-color/#hsl-color</a>).
</p>
<p>
@param hue [Number] The hue of the color.
</p>
<pre>
  Should be between 0 and 360 degrees, inclusive
</pre>
<p>
@param saturation [Number] The saturation of the color.
</p>
<pre>
  Must be between `0%` and `100%`, inclusive
</pre>
<p>
@param lightness [Number] The lightness of the color.
</p>
<pre>
  Must be between `0%` and `100%`, inclusive
</pre>
<p>
@return [<a href="index.html?a=C00000069&name=Color">Color</a>] The
resulting color @raise [ArgumentError] if `saturation` or `lightness` are
out of bounds
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000483_source')" id="l_M000483_source">show source</a> ]</p>
  <div id="M000483_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 143</span>
143:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hsl</span>(<span class="ruby-identifier">hue</span>, <span class="ruby-identifier">saturation</span>, <span class="ruby-identifier">lightness</span>)
144:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">hue</span>, <span class="ruby-identifier">:Number</span>
145:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">saturation</span>, <span class="ruby-identifier">:Number</span>
146:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">lightness</span>, <span class="ruby-identifier">:Number</span>
147: 
148:       <span class="ruby-identifier">original_s</span> = <span class="ruby-identifier">saturation</span>
149:       <span class="ruby-identifier">original_l</span> = <span class="ruby-identifier">lightness</span>
150:       <span class="ruby-comment cmt"># This algorithm is from http://www.w3.org/TR/css3-color#hsl-color</span>
151:       <span class="ruby-identifier">h</span>, <span class="ruby-identifier">s</span>, <span class="ruby-identifier">l</span> = [<span class="ruby-identifier">hue</span>, <span class="ruby-identifier">saturation</span>, <span class="ruby-identifier">lightness</span>].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">value</span> }
152:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Saturation #{s} must be between 0% and 100%&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">100</span>
153:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Lightness #{l} must be between 0% and 100%&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">100</span>
154: 
155:       <span class="ruby-identifier">h</span> = (<span class="ruby-identifier">h</span> <span class="ruby-operator">%</span> <span class="ruby-value">360</span>) <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span>
156:       <span class="ruby-identifier">s</span> <span class="ruby-operator">/=</span> <span class="ruby-value">100.0</span>
157:       <span class="ruby-identifier">l</span> <span class="ruby-operator">/=</span> <span class="ruby-value">100.0</span>
158: 
159:       <span class="ruby-identifier">m2</span> = <span class="ruby-identifier">l</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span><span class="ruby-value">.5</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">s</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">s</span>
160:       <span class="ruby-identifier">m1</span> = <span class="ruby-identifier">l</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">m2</span>
161:       <span class="ruby-constant">Color</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">hue_to_rgb</span>(<span class="ruby-identifier">m1</span>, <span class="ruby-identifier">m2</span>, <span class="ruby-identifier">h</span> <span class="ruby-operator">+</span> <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">3</span>),
162:                  <span class="ruby-identifier">hue_to_rgb</span>(<span class="ruby-identifier">m1</span>, <span class="ruby-identifier">m2</span>, <span class="ruby-identifier">h</span>),
163:                  <span class="ruby-identifier">hue_to_rgb</span>(<span class="ruby-identifier">m1</span>, <span class="ruby-identifier">m2</span>, <span class="ruby-identifier">h</span> <span class="ruby-operator">-</span> <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">3</span>)].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">*</span> <span class="ruby-value">0xff</span>).<span class="ruby-identifier">round</span> })
164:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000484" class="method">
  <div id="M000484_title" class="title">
    <b>percentage</b>(value)
  </div>
  <div class="description">
  <p>
Converts a decimal number to a percentage. For example:
</p>
<pre>
    percentage(100px / 50px) =&gt; 200%
</pre>
<p>
@param value [Number] The decimal number to convert to a percentage @return
[Number] The percentage @raise [ArgumentError] If `value` isn&#8217;t a
unitless number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000484_source')" id="l_M000484_source">show source</a> ]</p>
  <div id="M000484_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 174</span>
174:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">percentage</span>(<span class="ruby-identifier">value</span>)
175:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Number</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">unitless?</span>
176:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{value.inspect} is not a unitless number&quot;</span>)
177:       <span class="ruby-keyword kw">end</span>
178:       <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Number</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>, [<span class="ruby-value str">'%'</span>])
179:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000482" class="method">
  <div id="M000482_title" class="title">
    <b>rgb</b>(red, green, blue)
  </div>
  <div class="description">
  <p>
Creates a {<a href="index.html?a=C00000069&name=Color">Color</a>} object
from red, green, and blue values. @param red
</p>
<pre>
  A number between 0 and 255 inclusive,
  or between 0% and 100% inclusive
</pre>
<p>
@param green
</p>
<pre>
  A number between 0 and 255 inclusive,
  or between 0% and 100% inclusive
</pre>
<p>
@param blue
</p>
<pre>
  A number between 0 and 255 inclusive,
  or between 0% and 100% inclusive
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000482_source')" id="l_M000482_source">show source</a> ]</p>
  <div id="M000482_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 114</span>
114:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rgb</span>(<span class="ruby-identifier">red</span>, <span class="ruby-identifier">green</span>, <span class="ruby-identifier">blue</span>)
115:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">red</span>, <span class="ruby-identifier">:Number</span>
116:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">green</span>, <span class="ruby-identifier">:Number</span>
117:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">blue</span>, <span class="ruby-identifier">:Number</span>
118: 
119:       <span class="ruby-identifier">rgb</span> = [<span class="ruby-identifier">red</span>, <span class="ruby-identifier">green</span>, <span class="ruby-identifier">blue</span>].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
120:         <span class="ruby-identifier">v</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">value</span>
121:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">numerator_units</span> <span class="ruby-operator">==</span> [<span class="ruby-value str">&quot;%&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">denominator_units</span>.<span class="ruby-identifier">empty?</span>
122:           <span class="ruby-keyword kw">next</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">*</span> <span class="ruby-value">255</span> <span class="ruby-operator">/</span> <span class="ruby-value">100.0</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">100</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">v</span>)
123:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Color value #{c} must be between 0% and 100% inclusive&quot;</span>)
124:         <span class="ruby-keyword kw">else</span>
125:           <span class="ruby-keyword kw">next</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">255</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">v</span>)
126:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Color value #{v} must be between 0 and 255 inclusive&quot;</span>)
127:         <span class="ruby-keyword kw">end</span>
128:       <span class="ruby-keyword kw">end</span>
129:       <span class="ruby-constant">Color</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rgb</span>)
130:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000485" class="method">
  <div id="M000485_title" class="title">
    <b>round</b>(value)
  </div>
  <div class="description">
  <p>
Rounds a number to the nearest whole number. For example:
</p>
<pre>
    round(10.4px) =&gt; 10px
    round(10.6px) =&gt; 11px
</pre>
<p>
@param value [Number] The number @return [Number] The rounded number @raise
[<a
href="index.html?a=C00000091&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000485_source')" id="l_M000485_source">show source</a> ]</p>
  <div id="M000485_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 190</span>
190:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">round</span>(<span class="ruby-identifier">value</span>)
191:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">round</span>}
192:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>