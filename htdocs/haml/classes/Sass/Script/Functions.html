  <div id="C00000060">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />Functions<br/>
  In:
<a href="#" onclick="jsHref('files/lib/sass/script/functions_rb.html');">lib/sass/script/functions.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
Methods in this module are accessible from the SassScript context. For
example, you can write
</p>
<pre>
    !color = hsl(120, 100%, 50%)
</pre>
<p>
and it will call {<a
href="index.html?a=M000447&name=Sass::Script::Functions#hsl">Sass::Script::Functions#hsl</a>}.
</p>
<p>
The following functions are provided:
</p>
<p>
\{<a href="index.html?a=M000447&name=hsl">hsl</a>} : Converts an `hsl(hue,
saturation, lightness)` triplet into a color.
</p>
<p>
\{<a href="index.html?a=M000446&name=rgb">rgb</a>} : Converts an `rgb(red,
green, blue)` triplet into a color.
</p>
<p>
\{<a href="index.html?a=M000448&name=percentage">percentage</a>} : Converts
a unitless number to a percentage.
</p>
<p>
\{<a href="index.html?a=M000449&name=round">round</a>} : Rounds a number to
the nearest whole number.
</p>
<p>
\{<a href="index.html?a=M000450&name=ceil">ceil</a>} : Rounds a number up
to the nearest whole number.
</p>
<p>
\{<a href="index.html?a=M000451&name=floor">floor</a>} : Rounds a number
down to the nearest whole number.
</p>
<p>
\{<a href="index.html?a=M000452&name=abs">abs</a>} : Returns the absolute
value of a number.
</p>
<p>
These functions are described in more detail below.
</p>
<p>
## Adding Custom <a
href="index.html?a=C00000060&name=Functions">Functions</a>
</p>
<p>
New <a href="index.html?a=C00000058&name=Sass">Sass</a> functions can be
added by adding Ruby methods to this module. For example:
</p>
<pre>
    module Sass::Script::Functions
      def reverse(string)
        assert_type string, :String
        Sass::Script::String.new(string.value.reverse)
      end
    end
</pre>
<p>
There are a few things to keep in mind when modifying this module. First of
all, the arguments passed are {<a
href="index.html?a=C00000068&name=Sass::Script::Literal">Sass::Script::Literal</a>}
objects. <a href="index.html?a=C00000068&name=Literal">Literal</a> objects
are also expected to be returned. This means that Ruby values must be
unwrapped and wrapped.
</p>
<p>
Most <a href="index.html?a=C00000068&name=Literal">Literal</a> objects
support the {Sass::Script::Literal#value value} accessor for getting their
Ruby values. <a href="index.html?a=C00000065&name=Color">Color</a> objects,
though, must be accessed using {<a
href="index.html?a=M000470&name=Sass::Script::Color#rgb">Sass::Script::Color#rgb</a>
rgb}.
</p>
<p>
Second, making Ruby functions accessible from <a
href="index.html?a=C00000058&name=Sass">Sass</a> introduces the temptation
to do things like database access within stylesheets. This temptation must
be resisted. Keep in mind that <a
href="index.html?a=C00000058&name=Sass">Sass</a> stylesheets are only
compiled once at a somewhat indeterminate time and then left as static <a
href="index.html?a=C00000085&name=CSS">CSS</a> files. Any dynamic <a
href="index.html?a=C00000085&name=CSS">CSS</a> should be left in
`&lt;style&gt;` tags in the HTML.
</p>
<p>
Within one of the functions in this module, methods of {<a
href="index.html?a=C00000061&name=EvaluationContext">EvaluationContext</a>}
can be used.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000452&name=abs" >abs</a></li>
  <li><a href="index.html?a=M000450&name=ceil" >ceil</a></li>
  <li><a href="index.html?a=M000451&name=floor" >floor</a></li>
  <li><a href="index.html?a=M000447&name=hsl" >hsl</a></li>
  <li><a href="index.html?a=M000448&name=percentage" >percentage</a></li>
  <li><a href="index.html?a=M000446&name=rgb" >rgb</a></li>
  <li><a href="index.html?a=M000449&name=round" >round</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/Sass/Script/Functions/EvaluationContext.html');" class="link">Sass::Script::Functions::EvaluationContext</a>"<br />




<div class="sectiontitle">Public Instance methods</div>
<div id="M000452" class="method">
  <div id="M000452_title" class="title">
    <b>abs</b>(value)
  </div>
  <div class="description">
  <p>
Finds the absolute value of a number. For example:
</p>
<pre>
    abs(10px) =&gt; 10px
    abs(-10px) =&gt; 10px
</pre>
<p>
@param value [Number] The number @return [Number] The absolute value @raise
[<a
href="index.html?a=C00000087&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000452_source')" id="l_M000452_source">show source</a> ]</p>
  <div id="M000452_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 227</span>
227:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">abs</span>(<span class="ruby-identifier">value</span>)
228:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">abs</span>}
229:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000450" class="method">
  <div id="M000450_title" class="title">
    <b>ceil</b>(value)
  </div>
  <div class="description">
  <p>
Rounds a number up to the nearest whole number. For example:
</p>
<pre>
    ciel(10.4px) =&gt; 11px
    ciel(10.6px) =&gt; 11px
</pre>
<p>
@param value [Number] The number @return [Number] The rounded number @raise
[<a
href="index.html?a=C00000087&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000450_source')" id="l_M000450_source">show source</a> ]</p>
  <div id="M000450_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 201</span>
201:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ceil</span>(<span class="ruby-identifier">value</span>)
202:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">ceil</span>}
203:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000451" class="method">
  <div id="M000451_title" class="title">
    <b>floor</b>(value)
  </div>
  <div class="description">
  <p>
Rounds down to the nearest whole number. For example:
</p>
<pre>
    floor(10.4px) =&gt; 10px
    floor(10.6px) =&gt; 10px
</pre>
<p>
@param value [Number] The number @return [Number] The rounded number @raise
[<a
href="index.html?a=C00000087&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000451_source')" id="l_M000451_source">show source</a> ]</p>
  <div id="M000451_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 214</span>
214:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">floor</span>(<span class="ruby-identifier">value</span>)
215:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">floor</span>}
216:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000447" class="method">
  <div id="M000447_title" class="title">
    <b>hsl</b>(hue, saturation, lightness)
  </div>
  <div class="description">
  <p>
Creates a {<a href="index.html?a=C00000065&name=Color">Color</a>} object
from hue, saturation, and lightness. Uses the algorithm from the [CSS3
spec](<a href="http://www.w3.org/TR/css3-color/#hsl-color"
target="_blank">http://www.w3.org/TR/css3-color/#hsl-color</a>).
</p>
<p>
@param hue [Number] The hue of the color.
</p>
<pre>
  Should be between 0 and 360 degrees, inclusive
</pre>
<p>
@param saturation [Number] The saturation of the color.
</p>
<pre>
  Must be between `0%` and `100%`, inclusive
</pre>
<p>
@param lightness [Number] The lightness of the color.
</p>
<pre>
  Must be between `0%` and `100%`, inclusive
</pre>
<p>
@return [<a href="index.html?a=C00000065&name=Color">Color</a>] The
resulting color @raise [ArgumentError] if `saturation` or `lightness` are
out of bounds
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000447_source')" id="l_M000447_source">show source</a> ]</p>
  <div id="M000447_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 141</span>
141:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hsl</span>(<span class="ruby-identifier">hue</span>, <span class="ruby-identifier">saturation</span>, <span class="ruby-identifier">lightness</span>)
142:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">hue</span>, <span class="ruby-identifier">:Number</span>
143:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">saturation</span>, <span class="ruby-identifier">:Number</span>
144:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">lightness</span>, <span class="ruby-identifier">:Number</span>
145: 
146:       <span class="ruby-identifier">original_s</span> = <span class="ruby-identifier">saturation</span>
147:       <span class="ruby-identifier">original_l</span> = <span class="ruby-identifier">lightness</span>
148:       <span class="ruby-comment cmt"># This algorithm is from http://www.w3.org/TR/css3-color#hsl-color</span>
149:       <span class="ruby-identifier">h</span>, <span class="ruby-identifier">s</span>, <span class="ruby-identifier">l</span> = [<span class="ruby-identifier">hue</span>, <span class="ruby-identifier">saturation</span>, <span class="ruby-identifier">lightness</span>].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">value</span> }
150:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Saturation #{s} must be between 0% and 100%&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">100</span>
151:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Lightness #{l} must be between 0% and 100%&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">100</span>
152: 
153:       <span class="ruby-identifier">h</span> = (<span class="ruby-identifier">h</span> <span class="ruby-operator">%</span> <span class="ruby-value">360</span>) <span class="ruby-operator">/</span> <span class="ruby-value">360.0</span>
154:       <span class="ruby-identifier">s</span> <span class="ruby-operator">/=</span> <span class="ruby-value">100.0</span>
155:       <span class="ruby-identifier">l</span> <span class="ruby-operator">/=</span> <span class="ruby-value">100.0</span>
156: 
157:       <span class="ruby-identifier">m2</span> = <span class="ruby-identifier">l</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span><span class="ruby-value">.5</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">s</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">l</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">s</span>
158:       <span class="ruby-identifier">m1</span> = <span class="ruby-identifier">l</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">m2</span>
159:       <span class="ruby-constant">Color</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">hue_to_rgb</span>(<span class="ruby-identifier">m1</span>, <span class="ruby-identifier">m2</span>, <span class="ruby-identifier">h</span> <span class="ruby-operator">+</span> <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">3</span>),
160:                  <span class="ruby-identifier">hue_to_rgb</span>(<span class="ruby-identifier">m1</span>, <span class="ruby-identifier">m2</span>, <span class="ruby-identifier">h</span>),
161:                  <span class="ruby-identifier">hue_to_rgb</span>(<span class="ruby-identifier">m1</span>, <span class="ruby-identifier">m2</span>, <span class="ruby-identifier">h</span> <span class="ruby-operator">-</span> <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">3</span>)].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">*</span> <span class="ruby-value">0xff</span>).<span class="ruby-identifier">round</span> })
162:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000448" class="method">
  <div id="M000448_title" class="title">
    <b>percentage</b>(value)
  </div>
  <div class="description">
  <p>
Converts a decimal number to a percentage. For example:
</p>
<pre>
    percentage(100px / 50px) =&gt; 200%
</pre>
<p>
@param value [Number] The decimal number to convert to a percentage @return
[Number] The percentage @raise [ArgumentError] If `value` isn&#8217;t a
unitless number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000448_source')" id="l_M000448_source">show source</a> ]</p>
  <div id="M000448_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 172</span>
172:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">percentage</span>(<span class="ruby-identifier">value</span>)
173:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Number</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">unitless?</span>
174:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{value.inspect} is not a unitless number&quot;</span>)
175:       <span class="ruby-keyword kw">end</span>
176:       <span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Number</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>, [<span class="ruby-value str">'%'</span>])
177:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000446" class="method">
  <div id="M000446_title" class="title">
    <b>rgb</b>(red, green, blue)
  </div>
  <div class="description">
  <p>
Creates a {<a href="index.html?a=C00000065&name=Color">Color</a>} object
from red, green, and blue values. @param red
</p>
<pre>
  A number between 0 and 255 inclusive,
  or between 0% and 100% inclusive
</pre>
<p>
@param green
</p>
<pre>
  A number between 0 and 255 inclusive,
  or between 0% and 100% inclusive
</pre>
<p>
@param blue
</p>
<pre>
  A number between 0 and 255 inclusive,
  or between 0% and 100% inclusive
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000446_source')" id="l_M000446_source">show source</a> ]</p>
  <div id="M000446_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 112</span>
112:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rgb</span>(<span class="ruby-identifier">red</span>, <span class="ruby-identifier">green</span>, <span class="ruby-identifier">blue</span>)
113:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">red</span>, <span class="ruby-identifier">:Number</span>
114:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">green</span>, <span class="ruby-identifier">:Number</span>
115:       <span class="ruby-identifier">assert_type</span> <span class="ruby-identifier">blue</span>, <span class="ruby-identifier">:Number</span>
116: 
117:       <span class="ruby-identifier">rgb</span> = [<span class="ruby-identifier">red</span>, <span class="ruby-identifier">green</span>, <span class="ruby-identifier">blue</span>].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
118:         <span class="ruby-identifier">v</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">value</span>
119:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">numerator_units</span> <span class="ruby-operator">==</span> [<span class="ruby-value str">&quot;%&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">denominator_units</span>.<span class="ruby-identifier">empty?</span>
120:           <span class="ruby-keyword kw">next</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">*</span> <span class="ruby-value">255</span> <span class="ruby-operator">/</span> <span class="ruby-value">100.0</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">100</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">v</span>)
121:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Color value #{c} must be between 0% and 100% inclusive&quot;</span>)
122:         <span class="ruby-keyword kw">else</span>
123:           <span class="ruby-keyword kw">next</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">255</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">v</span>)
124:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Color value #{v} must be between 0 and 255 inclusive&quot;</span>)
125:         <span class="ruby-keyword kw">end</span>
126:       <span class="ruby-keyword kw">end</span>
127:       <span class="ruby-constant">Color</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rgb</span>)
128:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000449" class="method">
  <div id="M000449_title" class="title">
    <b>round</b>(value)
  </div>
  <div class="description">
  <p>
Rounds a number to the nearest whole number. For example:
</p>
<pre>
    round(10.4px) =&gt; 10px
    round(10.6px) =&gt; 11px
</pre>
<p>
@param value [Number] The number @return [Number] The rounded number @raise
[<a
href="index.html?a=C00000087&name=Sass::SyntaxError">Sass::SyntaxError</a>]
if `value` isn&#8217;t a number
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000449_source')" id="l_M000449_source">show source</a> ]</p>
  <div id="M000449_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File lib/sass/script/functions.rb, line 188</span>
188:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">round</span>(<span class="ruby-identifier">value</span>)
189:       <span class="ruby-identifier">numeric_transformation</span>(<span class="ruby-identifier">value</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">round</span>}
190:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>