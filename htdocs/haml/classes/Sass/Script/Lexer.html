  <div id="C00000076">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Lexer<br/>
  In:
<a href="#" onclick="jsHref('files/lib/sass/script/lexer_rb.html');">lib/sass/script/lexer.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
The lexical analyzer for SassScript. It takes a raw string and converts it
to individual tokens that are easier to parse.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000523&name=done?" >done?</a></li>
  <li><a href="index.html?a=M000520&name=new" >new</a></li>
  <li><a href="index.html?a=M000521&name=next" >next</a></li>
  <li><a href="index.html?a=M000522&name=peek" >peek</a></li>
  </ul>




  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">Token</td>
    <td>=</td>
    <td class="attr-value">Struct.new(:type, :value, :line, :offset)</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc">
A struct containing information about an individual token.

<p>
`type`: [{Symbol}] : The type of token.
</p>
<p>
`value`: [{<a href="index.html?a=C00000006&name=Object">Object</a>}] : The
Ruby object corresponding to the value of the token.
</p>
<p>
`line`: [{Fixnum}] : The line of the source file on which the token
appears.
</p>
<p>
`offset`: [{Fixnum}] : The number of bytes into the line the SassScript
token appeared.
</p>
</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">OPERATORS</td>
    <td>=</td>
    <td class="attr-value">{         '+' =&gt; :plus,         '-' =&gt; :minus,         '*' =&gt; :times,         '/' =&gt; :div,         '%' =&gt; :mod,         '=' =&gt; :single_eq,         '(' =&gt; :lparen,         ')' =&gt; :rparen,         ',' =&gt; :comma,         'and' =&gt; :and,         'or' =&gt; :or,         'not' =&gt; :not,         '==' =&gt; :eq,         '!=' =&gt; :neq,         '&gt;=' =&gt; :gte,         '&lt;=' =&gt; :lte,         '&gt;' =&gt; :gt,         '&lt;' =&gt; :lt,         '#{' =&gt; :begin_interpolation,         '}' =&gt; :end_interpolation,       }</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc">
A hash from operator strings to the corresponding token types.

</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">OP_NAMES</td>
    <td>=</td>
    <td class="attr-value">OPERATORS.keys.sort_by {|o| -o.size}</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc">
A list of operator strings ordered with longer names first so that `&gt;`
and `&lt;` don&#8217;t clobber `&gt;=` and `&lt;=`.

</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">REGULAR_EXPRESSIONS</td>
    <td>=</td>
    <td class="attr-value">{         :whitespace =&gt; /\s*/,         :variable =&gt; /!(\w+)/,         :ident =&gt; /(\\.|\#\{|[^\s\\+\-*\/%(),=!])+/,         :string_end =&gt; /((?:\\.|\#[^{]|[^&quot;\\#])*)(?:&quot;|(?=#\{))/,         :number =&gt; /(-)?(?:(\d*\.\d+)|(\d+))([a-zA-Z%]+)?/,         :color =&gt; /\##{&quot;([0-9a-fA-F]{1,2})&quot; * 3}|(#{Color::HTML4_COLORS.keys.join(&quot;|&quot;)})/,         :bool =&gt; /(true|false)\b/,         :op =&gt; %r{(#{Regexp.union(*OP_NAMES.map{|s| Regexp.new(Regexp.escape(s) + (s =~ /\w$/ ? '(?:\b|$)' : ''))})})}</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc">
A hash of regular expressions that are used for tokenizing.

</td>
  </tr>
  </table>


<div class="sectiontitle">Public Class methods</div>
<div id="M000520" class="method">
  <div id="M000520_title" class="title">
    <b>new</b>(str, line, offset, filename)
  </div>
  <div class="description">
  <p>
@param str [<a href="index.html?a=C00000083&name=String">String</a>,
StringScanner] The source text to lex @param line [Fixnum] The line on
which the SassScript appears.
</p>
<pre>
  Used for error reporting
</pre>
<p>
@param offset [Fixnum] The number of characters in on which the SassScript
appears.
</p>
<pre>
  Used for error reporting
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000520_source')" id="l_M000520_source">show source</a> ]</p>
  <div id="M000520_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/sass/script/lexer.rb, line 69</span>
69:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">str</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">offset</span>, <span class="ruby-identifier">filename</span>)
70:         <span class="ruby-ivar">@scanner</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">StringScanner</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">:</span> <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>)
71:         <span class="ruby-ivar">@line</span> = <span class="ruby-identifier">line</span>
72:         <span class="ruby-ivar">@offset</span> = <span class="ruby-identifier">offset</span>
73:         <span class="ruby-ivar">@filename</span> = <span class="ruby-identifier">filename</span>
74:         <span class="ruby-ivar">@prev</span> = <span class="ruby-keyword kw">nil</span>
75:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M000523" class="method">
  <div id="M000523_title" class="title">
    <b>done?</b>()
  </div>
  <div class="description">
  <p>
@return [Boolean] Whether or not there&#8217;s more source text to lex.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000523_source')" id="l_M000523_source">show source</a> ]</p>
  <div id="M000523_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/sass/script/lexer.rb, line 95</span>
95:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">done?</span>
96:         <span class="ruby-identifier">whitespace</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">after_interpolation?</span>
97:         <span class="ruby-ivar">@scanner</span>.<span class="ruby-identifier">eos?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@tok</span>.<span class="ruby-identifier">nil?</span>
98:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000521" class="method">
  <div id="M000521_title" class="title">
    <b>next</b>()
  </div>
  <div class="description">
  <p>
Moves the lexer forward one token.
</p>
<p>
@return [Token] The token that was moved past
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000521_source')" id="l_M000521_source">show source</a> ]</p>
  <div id="M000521_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/sass/script/lexer.rb, line 80</span>
80:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">next</span>
81:         <span class="ruby-ivar">@tok</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">read_token</span>
82:         <span class="ruby-ivar">@tok</span>, <span class="ruby-identifier">tok</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@tok</span>
83:         <span class="ruby-ivar">@prev</span> = <span class="ruby-identifier">tok</span>
84:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">tok</span>
85:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000522" class="method">
  <div id="M000522_title" class="title">
    <b>peek</b>()
  </div>
  <div class="description">
  <p>
Returns the next token without moving the lexer forward.
</p>
<p>
@return [Token] The next token
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000522_source')" id="l_M000522_source">show source</a> ]</p>
  <div id="M000522_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File lib/sass/script/lexer.rb, line 90</span>
90:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">peek</span>
91:         <span class="ruby-ivar">@tok</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">read_token</span>
92:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>