  <div id="C00000003">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />HelperTest<br/>
  In:
<a href="#" onclick="jsHref('files/test/haml/helper_test_rb.html');">test/haml/helper_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000083&name=render" >render</a></li>
  <li><a href="index.html?a=M000082&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000090&name=test_action_view_included" >test_action_view_included</a></li>
  <li><a href="index.html?a=M000086&name=test_buffer_access" >test_buffer_access</a></li>
  <li><a href="index.html?a=M000122&name=test_capture_deals_properly_with_collections" >test_capture_deals_properly_with_collections</a></li>
  <li><a href="index.html?a=M000093&name=test_capture_haml" >test_capture_haml</a></li>
  <li><a href="index.html?a=M000134&name=test_capture_with_nuke_outer" >test_capture_with_nuke_outer</a></li>
  <li><a href="index.html?a=M000094&name=test_content_tag_block" >test_content_tag_block</a></li>
  <li><a href="index.html?a=M000095&name=test_content_tag_error_wrapping" >test_content_tag_error_wrapping</a></li>
  <li><a href="index.html?a=M000129&name=test_content_tag_nested" >test_content_tag_nested</a></li>
  <li><a href="index.html?a=M000130&name=test_error_return" >test_error_return</a></li>
  <li><a href="index.html?a=M000131&name=test_error_return_line" >test_error_return_line</a></li>
  <li><a href="index.html?a=M000132&name=test_error_return_line_in_helper" >test_error_return_line_in_helper</a></li>
  <li><a href="index.html?a=M000124&name=test_find_and_preserve_with_block" >test_find_and_preserve_with_block</a></li>
  <li><a href="index.html?a=M000125&name=test_find_and_preserve_with_block_and_tags" >test_find_and_preserve_with_block_and_tags</a></li>
  <li><a href="index.html?a=M000084&name=test_flatten" >test_flatten</a></li>
  <li><a href="index.html?a=M000091&name=test_form_tag" >test_form_tag</a></li>
  <li><a href="index.html?a=M000117&name=test_haml_concat_with_multiline_string" >test_haml_concat_with_multiline_string</a></li>
  <li><a href="index.html?a=M000107&name=test_haml_tag_attribute_html_escaping" >test_haml_tag_attribute_html_escaping</a></li>
  <li><a href="index.html?a=M000108&name=test_haml_tag_autoclosed_tags_are_closed" >test_haml_tag_autoclosed_tags_are_closed</a></li>
  <li><a href="index.html?a=M000115&name=test_haml_tag_error_return" >test_haml_tag_error_return</a></li>
  <li><a href="index.html?a=M000114&name=test_haml_tag_flags" >test_haml_tag_flags</a></li>
  <li><a href="index.html?a=M000104&name=test_haml_tag_name_and_attribute_classes_merging" >test_haml_tag_name_and_attribute_classes_merging</a></li>
  <li><a href="index.html?a=M000105&name=test_haml_tag_name_and_attribute_classes_merging" >test_haml_tag_name_and_attribute_classes_merging</a></li>
  <li><a href="index.html?a=M000096&name=test_haml_tag_name_attribute_with_id" >test_haml_tag_name_attribute_with_id</a></li>
  <li><a href="index.html?a=M000106&name=test_haml_tag_name_merges_id_and_attribute_id" >test_haml_tag_name_merges_id_and_attribute_id</a></li>
  <li><a href="index.html?a=M000100&name=test_haml_tag_name_with_class" >test_haml_tag_name_with_class</a></li>
  <li><a href="index.html?a=M000101&name=test_haml_tag_name_with_class_and_id" >test_haml_tag_name_with_class_and_id</a></li>
  <li><a href="index.html?a=M000099&name=test_haml_tag_name_with_id_and_class" >test_haml_tag_name_with_id_and_class</a></li>
  <li><a href="index.html?a=M000102&name=test_haml_tag_name_with_id_and_multiple_classes" >test_haml_tag_name_with_id_and_multiple_classes</a></li>
  <li><a href="index.html?a=M000103&name=test_haml_tag_name_with_multiple_classes_and_id" >test_haml_tag_name_with_multiple_classes_and_id</a></li>
  <li><a href="index.html?a=M000111&name=test_haml_tag_non_autoclosed_tags_arent_closed" >test_haml_tag_non_autoclosed_tags_arent_closed</a></li>
  <li><a href="index.html?a=M000113&name=test_haml_tag_raises_error_for_multiple_content" >test_haml_tag_raises_error_for_multiple_content</a></li>
  <li><a href="index.html?a=M000112&name=test_haml_tag_renders_text_on_a_single_line" >test_haml_tag_renders_text_on_a_single_line</a></li>
  <li><a href="index.html?a=M000109&name=test_haml_tag_with_class_array" >test_haml_tag_with_class_array</a></li>
  <li><a href="index.html?a=M000110&name=test_haml_tag_with_id_array" >test_haml_tag_with_id_array</a></li>
  <li><a href="index.html?a=M000116&name=test_haml_tag_with_multiline_string" >test_haml_tag_with_multiline_string</a></li>
  <li><a href="index.html?a=M000118&name=test_haml_tag_with_ugly" >test_haml_tag_with_ugly</a></li>
  <li><a href="index.html?a=M000098&name=test_haml_tag_without_name_but_with_class" >test_haml_tag_without_name_but_with_class</a></li>
  <li><a href="index.html?a=M000097&name=test_haml_tag_without_name_but_with_id" >test_haml_tag_without_name_but_with_id</a></li>
  <li><a href="index.html?a=M000089&name=test_helpers_dont_leak" >test_helpers_dont_leak</a></li>
  <li><a href="index.html?a=M000121&name=test_indented_capture" >test_indented_capture</a></li>
  <li><a href="index.html?a=M000127&name=test_init_haml_helpers" >test_init_haml_helpers</a></li>
  <li><a href="index.html?a=M000119&name=test_is_haml" >test_is_haml</a></li>
  <li><a href="index.html?a=M000085&name=test_list_of_should_render_correctly" >test_list_of_should_render_correctly</a></li>
  <li><a href="index.html?a=M000128&name=test_non_haml" >test_non_haml</a></li>
  <li><a href="index.html?a=M000120&name=test_page_class" >test_page_class</a></li>
  <li><a href="index.html?a=M000126&name=test_preserve_with_block" >test_preserve_with_block</a></li>
  <li><a href="index.html?a=M000133&name=test_random_class_includes_tag_helper" >test_random_class_includes_tag_helper</a></li>
  <li><a href="index.html?a=M000087&name=test_tabs" >test_tabs</a></li>
  <li><a href="index.html?a=M000092&name=test_text_area" >test_text_area</a></li>
  <li><a href="index.html?a=M000088&name=test_with_tabs" >test_with_tabs</a></li>
  <li><a href="index.html?a=M000123&name=trc" >trc</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/HelperTest/ActsLikeTag.html');" class="link">HelperTest::ActsLikeTag</a>"<br />
Class "<a href="#" onclick="jsHref('classes/HelperTest/PostErrors.html');" class="link">HelperTest::PostErrors</a>"<br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">Post</td>
    <td>=</td>
    <td class="attr-value">Struct.new('Post', :body, :error_field, :errors)</td>
  </tr>
  </table>


<div class="sectiontitle">Public Instance methods</div>
<div id="M000083" class="method">
  <div id="M000083_title" class="title">
    <b>render</b>(text, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000083_source')" id="l_M000083_source">show source</a> ]</p>
  <div id="M000083_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span> = {})
43:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:action_view</span>
44:       <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">render</span> <span class="ruby-identifier">:inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:haml</span>
45:     <span class="ruby-keyword kw">else</span>
46:       <span class="ruby-identifier">scope</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">:scope_object</span>
47:       <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Engine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>).<span class="ruby-identifier">to_html</span>(<span class="ruby-identifier">scope</span> <span class="ruby-value">? </span><span class="ruby-identifier">scope</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>)
48:     <span class="ruby-keyword kw">end</span>
49:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000082" class="method">
  <div id="M000082_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000082_source')" id="l_M000082_source">show source</a> ]</p>
  <div id="M000082_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
31:     <span class="ruby-ivar">@base</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>
32:     <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">controller</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>
33: 
34:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>)
35:       <span class="ruby-comment cmt"># This is needed for &gt;=3.0.0</span>
36:       <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">response</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">new</span>
37:     <span class="ruby-keyword kw">end</span>
38: 
39:     <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value str">'@post'</span>, <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Foo bar\nbaz&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-constant">PostErrors</span>.<span class="ruby-identifier">new</span>))
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000090" class="method">
  <div id="M000090_title" class="title">
    <b>test_action_view_included</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show source</a> ]</p>
  <div id="M000090_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_action_view_included</span>
116:     <span class="ruby-identifier">assert</span>(<span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>.<span class="ruby-identifier">action_view?</span>)
117:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000086" class="method">
  <div id="M000086_title" class="title">
    <b>test_buffer_access</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000086_source')" id="l_M000086_source">show source</a> ]</p>
  <div id="M000086_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 69</span>
69:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_buffer_access</span>
70:     <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= buffer&quot;</span>) <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/#&lt;Haml::Buffer:0x[a-z0-9]+&gt;/</span>)
71:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= (buffer == _hamlout)&quot;</span>), <span class="ruby-value str">&quot;true\n&quot;</span>)
72:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000122" class="method">
  <div id="M000122_title" class="title">
    <b>test_capture_deals_properly_with_collections</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000122_source')" id="l_M000122_source">show source</a> ]</p>
  <div id="M000122_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 338</span>
338:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_capture_deals_properly_with_collections</span>
339:     <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span> 
340:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">trc</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
341:         <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span>
342:           <span class="ruby-identifier">haml_concat</span> <span class="ruby-identifier">capture_haml</span>(<span class="ruby-identifier">record</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
343:         <span class="ruby-keyword kw">end</span>
344:       <span class="ruby-keyword kw">end</span>
345:     <span class="ruby-keyword kw">end</span>
346: 
347:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1\n\n2\n\n3\n\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- trc([1, 2, 3]) do |i|\n  = i.inspect&quot;</span>))
348:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000093" class="method">
  <div id="M000093_title" class="title">
    <b>test_capture_haml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000093_source')" id="l_M000093_source">show source</a> ]</p>
  <div id="M000093_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 147</span>
147:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_capture_haml</span>
148:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;\&quot;&lt;p&gt;13&lt;/p&gt;\\\\n\&quot;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- (foo = capture_haml(13) do |a|\n  %p= a\n- end; nil)\n= foo.dump\n&quot;</span>))
149:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000134" class="method">
  <div id="M000134_title" class="title">
    <b>test_capture_with_nuke_outer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000134_source')" id="l_M000134_source">show source</a> ]</p>
  <div id="M000134_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 426</span>
426:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_capture_with_nuke_outer</span>
427:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;div&gt;&lt;/div&gt;\n*&lt;div&gt;hi there!&lt;/div&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;%div\n= precede(\&quot;*\&quot;) do\n  %div&gt; hi there!\n&quot;</span>)
428: 
429:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;div&gt;&lt;/div&gt;\n*&lt;div&gt;hi there!&lt;/div&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;%div\n= precede(\&quot;*\&quot;) do\n  = \&quot;  \&quot;\n  %div&gt; hi there!\n&quot;</span>)
430:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000094" class="method">
  <div id="M000094_title" class="title">
    <b>test_content_tag_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000094_source')" id="l_M000094_source">show source</a> ]</p>
  <div id="M000094_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 160</span>
160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content_tag_block</span>
161:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;div&gt;&lt;p&gt;bar&lt;/p&gt;\n&lt;strong&gt;bar&lt;/strong&gt;\n&lt;/div&gt;\n&quot;</span>.<span class="ruby-identifier">strip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;\#{rails_block_helper_char} content_tag :div do\n  %p bar\n  %strong bar\n&quot;</span>, <span class="ruby-identifier">:action_view</span>).<span class="ruby-identifier">strip</span>)
162:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000095" class="method">
  <div id="M000095_title" class="title">
    <b>test_content_tag_error_wrapping</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000095_source')" id="l_M000095_source">show source</a> ]</p>
  <div id="M000095_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 174</span>
174:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content_tag_error_wrapping</span>
175:     <span class="ruby-keyword kw">def</span> <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">protect_against_forgery?</span>; <span class="ruby-keyword kw">false</span>; <span class="ruby-keyword kw">end</span>
176:     <span class="ruby-identifier">error_class</span> = <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">ap_geq_3?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;field_with_errors&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;fieldWithErrors&quot;</span>
177:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;form action=\&quot;\&quot; method=\&quot;post\&quot;&gt;\n  &lt;div class=\&quot;\#{error_class}\&quot;&gt;&lt;label for=\&quot;post_error_field\&quot;&gt;Error field&lt;/label&gt;&lt;/div&gt;\n&lt;/form&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;\#{rails_block_helper_char} form_for \#{form_for_calling_convention('post')}, :url =&gt; '' do |f|\n  = f.label 'error_field'\n&quot;</span>, <span class="ruby-identifier">:action_view</span>))
178:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000129" class="method">
  <div id="M000129_title" class="title">
    <b>test_content_tag_nested</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000129_source')" id="l_M000129_source">show source</a> ]</p>
  <div id="M000129_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 385</span>
385:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content_tag_nested</span>
386:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;span&gt;&lt;div&gt;something&lt;/div&gt;&lt;/span&gt;&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= nested_tag&quot;</span>, <span class="ruby-identifier">:action_view</span>).<span class="ruby-identifier">strip</span>
387:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000130" class="method">
  <div id="M000130_title" class="title">
    <b>test_error_return</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000130_source')" id="l_M000130_source">show source</a> ]</p>
  <div id="M000130_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 389</span>
389:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_error_return</span>
390:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-value str">&quot;haml_concat outputs directly to the Haml template.\nDisregard its return value and use the - operator,\nor use capture_haml to get the value as a String.\n&quot;</span>) {<span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= haml_concat 'foo'&quot;</span>)}
391:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000131" class="method">
  <div id="M000131_title" class="title">
    <b>test_error_return_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000131_source')" id="l_M000131_source">show source</a> ]</p>
  <div id="M000131_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 398</span>
398:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_error_return_line</span>
399:     <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;%p foo\n= haml_concat 'foo'\n%p bar&quot;</span>)
400:     <span class="ruby-identifier">assert</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Expected Haml::Error&quot;</span>
401:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
402:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/:(\d+)/</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_i</span>
403:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000132" class="method">
  <div id="M000132_title" class="title">
    <b>test_error_return_line_in_helper</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000132_source')" id="l_M000132_source">show source</a> ]</p>
  <div id="M000132_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 405</span>
405:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_error_return_line_in_helper</span>
406:     <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- something_that_uses_haml_concat&quot;</span>)
407:     <span class="ruby-identifier">assert</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Expected Haml::Error&quot;</span>
408:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
409:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">12</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/:(\d+)/</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_i</span>
410:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000124" class="method">
  <div id="M000124_title" class="title">
    <b>test_find_and_preserve_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000124_source')" id="l_M000124_source">show source</a> ]</p>
  <div id="M000124_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 350</span>
350:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_and_preserve_with_block</span>
351:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;pre&gt;Foo&amp;#x000A;Bar&lt;/pre&gt;\nFoo\nBar\n&quot;</span>,
352:                  <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= find_and_preserve do\n  %pre\n    Foo\n    Bar\n  Foo\n  Bar&quot;</span>))
353:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000125" class="method">
  <div id="M000125_title" class="title">
    <b>test_find_and_preserve_with_block_and_tags</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000125_source')" id="l_M000125_source">show source</a> ]</p>
  <div id="M000125_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 355</span>
355:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_and_preserve_with_block_and_tags</span>
356:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;pre&gt;Foo\nBar&lt;/pre&gt;\nFoo\nBar\n&quot;</span>,
357:                  <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= find_and_preserve([]) do\n  %pre\n    Foo\n    Bar\n  Foo\n  Bar&quot;</span>))
358:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000084" class="method">
  <div id="M000084_title" class="title">
    <b>test_flatten</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000084_source')" id="l_M000084_source">show source</a> ]</p>
  <div id="M000084_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flatten</span>
52:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;FooBar&quot;</span>, <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-value str">&quot;FooBar&quot;</span>))
53: 
54:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;FooBar&quot;</span>, <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-value str">&quot;Foo\rBar&quot;</span>))
55: 
56:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Foo&amp;#x000A;Bar&quot;</span>, <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-value str">&quot;Foo\nBar&quot;</span>))
57: 
58:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Hello&amp;#x000A;World!&amp;#x000A;YOU ARE FLAT?&amp;#x000A;OMGZ!&quot;</span>,
59:       <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-value str">&quot;Hello\nWorld!\nYOU ARE \rFLAT?\n\rOMGZ!&quot;</span>))
60:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000091" class="method">
  <div id="M000091_title" class="title">
    <b>test_form_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000091_source')" id="l_M000091_source">show source</a> ]</p>
  <div id="M000091_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_form_tag</span>
120:     <span class="ruby-comment cmt"># This is usually provided by ActionController::Base.</span>
121:     <span class="ruby-keyword kw">def</span> <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">protect_against_forgery?</span>; <span class="ruby-keyword kw">false</span>; <span class="ruby-keyword kw">end</span>
122:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;form action=\&quot;foo\&quot; method=\&quot;post\&quot;&gt;\n  &lt;p&gt;bar&lt;/p&gt;\n  &lt;strong&gt;baz&lt;/strong&gt;\n&lt;/form&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;\#{rails_block_helper_char} form_tag 'foo' do\n  %p bar\n  %strong baz\n&quot;</span>, <span class="ruby-identifier">:action_view</span>))
123:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000117" class="method">
  <div id="M000117_title" class="title">
    <b>test_haml_concat_with_multiline_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000117_source')" id="l_M000117_source">show source</a> ]</p>
  <div id="M000117_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 289</span>
289:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_concat_with_multiline_string</span>
290:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n  foo\n  bar\n  baz\n&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;%p\n  - haml_concat \&quot;foo\\\\nbar\\\\nbaz\&quot;\n&quot;</span>))
291:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000107" class="method">
  <div id="M000107_title" class="title">
    <b>test_haml_tag_attribute_html_escaping</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000107_source')" id="l_M000107_source">show source</a> ]</p>
  <div id="M000107_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 233</span>
233:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_attribute_html_escaping</span>
234:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p id='foo&amp;amp;bar'&gt;baz&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;%p{:id =&gt; 'foo&amp;bar'} baz&quot;</span>, <span class="ruby-identifier">:escape_html</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
235:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000108" class="method">
  <div id="M000108_title" class="title">
    <b>test_haml_tag_autoclosed_tags_are_closed</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000108_source')" id="l_M000108_source">show source</a> ]</p>
  <div id="M000108_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 237</span>
237:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_autoclosed_tags_are_closed</span>
238:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;br class='foo' /&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :br, :class =&gt; 'foo'&quot;</span>))
239:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000115" class="method">
  <div id="M000115_title" class="title">
    <b>test_haml_tag_error_return</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000115_source')" id="l_M000115_source">show source</a> ]</p>
  <div id="M000115_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 271</span>
271:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_error_return</span>
272:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>) { <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= haml_tag :p&quot;</span>) }
273:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000114" class="method">
  <div id="M000114_title" class="title">
    <b>test_haml_tag_flags</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000114_source')" id="l_M000114_source">show source</a> ]</p>
  <div id="M000114_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 263</span>
263:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_flags</span>
264:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p /&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, :/&quot;</span>))
265:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;kumquat&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, :&lt; do\n  kumquat&quot;</span>))
266: 
267:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>) { <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, 'foo', :/&quot;</span>) }
268:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>) { <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, :/ do\n  foo&quot;</span>) }
269:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000104" class="method">
  <div id="M000104_title" class="title">
    <b>test_haml_tag_name_and_attribute_classes_merging</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000104_source')" id="l_M000104_source">show source</a> ]</p>
  <div id="M000104_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 221</span>
221:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_and_attribute_classes_merging</span>
222:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='foo bar' id='some_id'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p#some_id.foo', :class =&gt; 'bar'&quot;</span>))
223:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000105" class="method">
  <div id="M000105_title" class="title">
    <b>test_haml_tag_name_and_attribute_classes_merging</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000105_source')" id="l_M000105_source">show source</a> ]</p>
  <div id="M000105_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 225</span>
225:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_and_attribute_classes_merging</span>
226:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='bar foo'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p.foo', :class =&gt; 'bar'&quot;</span>))
227:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000096" class="method">
  <div id="M000096_title" class="title">
    <b>test_haml_tag_name_attribute_with_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000096_source')" id="l_M000096_source">show source</a> ]</p>
  <div id="M000096_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 189</span>
189:   <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_haml_tag_name_attribute_with_id</span><span class="ruby-identifier">test_haml_tag_name_attribute_with_id</span>
190:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p id='some_id'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p#some_id'&quot;</span>))
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000106" class="method">
  <div id="M000106_title" class="title">
    <b>test_haml_tag_name_merges_id_and_attribute_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000106_source')" id="l_M000106_source">show source</a> ]</p>
  <div id="M000106_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 229</span>
229:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_merges_id_and_attribute_id</span>
230:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p id='foo_bar'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p#foo', :id =&gt; 'bar'&quot;</span>))
231:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000100" class="method">
  <div id="M000100_title" class="title">
    <b>test_haml_tag_name_with_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000100_source')" id="l_M000100_source">show source</a> ]</p>
  <div id="M000100_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 205</span>
205:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_with_class</span>
206:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='foo'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p.foo'&quot;</span>))
207:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000101" class="method">
  <div id="M000101_title" class="title">
    <b>test_haml_tag_name_with_class_and_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000101_source')" id="l_M000101_source">show source</a> ]</p>
  <div id="M000101_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 209</span>
209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_with_class_and_id</span>
210:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='foo' id='some_id'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p.foo#some_id'&quot;</span>))
211:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000099" class="method">
  <div id="M000099_title" class="title">
    <b>test_haml_tag_name_with_id_and_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000099_source')" id="l_M000099_source">show source</a> ]</p>
  <div id="M000099_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_with_id_and_class</span>
202:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='foo' id='some_id'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p#some_id.foo'&quot;</span>))
203:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000102" class="method">
  <div id="M000102_title" class="title">
    <b>test_haml_tag_name_with_id_and_multiple_classes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000102_source')" id="l_M000102_source">show source</a> ]</p>
  <div id="M000102_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 213</span>
213:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_with_id_and_multiple_classes</span>
214:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='foo bar' id='some_id'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p#some_id.foo.bar'&quot;</span>))
215:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000103" class="method">
  <div id="M000103_title" class="title">
    <b>test_haml_tag_name_with_multiple_classes_and_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000103_source')" id="l_M000103_source">show source</a> ]</p>
  <div id="M000103_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 217</span>
217:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_name_with_multiple_classes_and_id</span>
218:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='foo bar' id='some_id'&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p.foo.bar#some_id'&quot;</span>))
219:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000111" class="method">
  <div id="M000111_title" class="title">
    <b>test_haml_tag_non_autoclosed_tags_arent_closed</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000111_source')" id="l_M000111_source">show source</a> ]</p>
  <div id="M000111_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_non_autoclosed_tags_arent_closed</span>
252:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p&quot;</span>))
253:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000113" class="method">
  <div id="M000113_title" class="title">
    <b>test_haml_tag_raises_error_for_multiple_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000113_source')" id="l_M000113_source">show source</a> ]</p>
  <div id="M000113_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 259</span>
259:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_raises_error_for_multiple_content</span>
260:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>) { <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, 'foo' do\n  bar&quot;</span>) }
261:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000112" class="method">
  <div id="M000112_title" class="title">
    <b>test_haml_tag_renders_text_on_a_single_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000112_source')" id="l_M000112_source">show source</a> ]</p>
  <div id="M000112_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 255</span>
255:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_renders_text_on_a_single_line</span>
256:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-node">&quot;&lt;p&gt;#{'a' * 100}&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, 'a' * 100&quot;</span>))
257:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000109" class="method">
  <div id="M000109_title" class="title">
    <b>test_haml_tag_with_class_array</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000109_source')" id="l_M000109_source">show source</a> ]</p>
  <div id="M000109_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 241</span>
241:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_with_class_array</span>
242:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='a b'&gt;foo&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, 'foo', :class =&gt; %w[a b]&quot;</span>))
243:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p class='a b c d'&gt;foo&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p.c.d', 'foo', :class =&gt; %w[a b]&quot;</span>))
244:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000110" class="method">
  <div id="M000110_title" class="title">
    <b>test_haml_tag_with_id_array</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000110_source')" id="l_M000110_source">show source</a> ]</p>
  <div id="M000110_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 246</span>
246:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_with_id_array</span>
247:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p id='a_b'&gt;foo&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, 'foo', :id =&gt; %w[a b]&quot;</span>))
248:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p id='c_a_b'&gt;foo&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag 'p#c', 'foo', :id =&gt; %w[a b]&quot;</span>))
249:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000116" class="method">
  <div id="M000116_title" class="title">
    <b>test_haml_tag_with_multiline_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000116_source')" id="l_M000116_source">show source</a> ]</p>
  <div id="M000116_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 275</span>
275:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_with_multiline_string</span>
276:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n  foo\n  bar\n  baz\n&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p, \&quot;foo\\\\nbar\\\\nbaz\&quot;\n&quot;</span>))
277:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000118" class="method">
  <div id="M000118_title" class="title">
    <b>test_haml_tag_with_ugly</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000118_source')" id="l_M000118_source">show source</a> ]</p>
  <div id="M000118_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 304</span>
304:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_with_ugly</span>
305:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n&lt;strong&gt;Hi!&lt;/strong&gt;\n&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag :p do\n  - haml_tag :strong, \&quot;Hi!\&quot;\n&quot;</span>, <span class="ruby-identifier">:ugly</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
306:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000098" class="method">
  <div id="M000098_title" class="title">
    <b>test_haml_tag_without_name_but_with_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000098_source')" id="l_M000098_source">show source</a> ]</p>
  <div id="M000098_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_without_name_but_with_class</span>
198:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;div class='foo'&gt;&lt;/div&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag '.foo'&quot;</span>))
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000097" class="method">
  <div id="M000097_title" class="title">
    <b>test_haml_tag_without_name_but_with_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000097_source')" id="l_M000097_source">show source</a> ]</p>
  <div id="M000097_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_haml_tag_without_name_but_with_id</span>
194:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;div id='some_id'&gt;&lt;/div&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- haml_tag '#some_id'&quot;</span>))
195:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000089" class="method">
  <div id="M000089_title" class="title">
    <b>test_helpers_dont_leak</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000089_source')" id="l_M000089_source">show source</a> ]</p>
  <div id="M000089_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 95</span>
 95:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_helpers_dont_leak</span>
 96:     <span class="ruby-comment cmt"># Haml helpers shouldn't be accessible from ERB</span>
 97:     <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;foo&quot;</span>)
 98:     <span class="ruby-identifier">proper_behavior</span> = <span class="ruby-keyword kw">false</span>
 99: 
100:     <span class="ruby-keyword kw">begin</span>
101:       <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">:inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&lt;%= flatten('Foo\\nBar') %&gt;&quot;</span>)
102:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NoMethodError</span>, <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">av_template_class</span>(<span class="ruby-identifier">:Error</span>)
103:       <span class="ruby-identifier">proper_behavior</span> = <span class="ruby-keyword kw">true</span>
104:     <span class="ruby-keyword kw">end</span>
105:     <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">proper_behavior</span>)
106: 
107:     <span class="ruby-keyword kw">begin</span>
108:       <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">:inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&lt;%= concat('foo') %&gt;&quot;</span>)
109:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">NameError</span>
110:       <span class="ruby-identifier">proper_behavior</span> = <span class="ruby-keyword kw">true</span>
111:     <span class="ruby-keyword kw">end</span>    
112:     <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">proper_behavior</span>)
113:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000121" class="method">
  <div id="M000121_title" class="title">
    <b>test_indented_capture</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000121_source')" id="l_M000121_source">show source</a> ]</p>
  <div id="M000121_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 333</span>
333:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indented_capture</span>
334:     <span class="ruby-identifier">prior</span> = <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">ap_geq_3?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;  \n&quot;</span>
335:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-node">&quot;#{prior}  Foo\n  &quot;</span>, <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">:inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;  &lt;% res = capture do %&gt;\n  Foo\n  &lt;% end %&gt;&lt;%= res %&gt;&quot;</span>))
336:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000127" class="method">
  <div id="M000127_title" class="title">
    <b>test_init_haml_helpers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000127_source')" id="l_M000127_source">show source</a> ]</p>
  <div id="M000127_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 365</span>
365:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_init_haml_helpers</span>
366:     <span class="ruby-identifier">context</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
367:     <span class="ruby-keyword kw">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">context</span>
368:       <span class="ruby-identifier">include</span> <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span>
369:     <span class="ruby-keyword kw">end</span>
370:     <span class="ruby-identifier">context</span>.<span class="ruby-identifier">init_haml_helpers</span>
371: 
372:     <span class="ruby-identifier">result</span> = <span class="ruby-identifier">context</span>.<span class="ruby-identifier">capture_haml</span> <span class="ruby-keyword kw">do</span>
373:       <span class="ruby-identifier">context</span>.<span class="ruby-identifier">haml_tag</span> <span class="ruby-identifier">:p</span>, <span class="ruby-identifier">:attr</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;val&quot;</span> <span class="ruby-keyword kw">do</span>
374:         <span class="ruby-identifier">context</span>.<span class="ruby-identifier">haml_concat</span> <span class="ruby-value str">&quot;Blah&quot;</span>
375:       <span class="ruby-keyword kw">end</span>
376:     <span class="ruby-keyword kw">end</span>
377: 
378:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p attr='val'&gt;\n  Blah\n&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">result</span>)
379:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000119" class="method">
  <div id="M000119_title" class="title">
    <b>test_is_haml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000119_source')" id="l_M000119_source">show source</a> ]</p>
  <div id="M000119_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 317</span>
317:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_is_haml</span>
318:     <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span><span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">is_haml?</span>)
319:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;true\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= is_haml?&quot;</span>))
320:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;true\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= is_haml?&quot;</span>, <span class="ruby-identifier">:action_view</span>))
321:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;false&quot;</span>, <span class="ruby-ivar">@base</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">:inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&lt;%= is_haml? %&gt;'</span>))
322:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;false\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= render :inline =&gt; '&lt;%= is_haml? %&gt;'&quot;</span>, <span class="ruby-identifier">:action_view</span>))
323:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000085" class="method">
  <div id="M000085_title" class="title">
    <b>test_list_of_should_render_correctly</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000085_source')" id="l_M000085_source">show source</a> ]</p>
  <div id="M000085_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 62</span>
62:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_list_of_should_render_correctly</span>
63:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;li&gt;1&lt;/li&gt;\n&lt;li&gt;2&lt;/li&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= list_of([1, 2]) do |i|\n  = i&quot;</span>))
64:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;li&gt;[1]&lt;/li&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= list_of([[1]]) do |i|\n  = i.inspect&quot;</span>))
65:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;li&gt;\n  &lt;h1&gt;Fee&lt;/h1&gt;\n  &lt;p&gt;A word!&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n  &lt;h1&gt;Fi&lt;/h1&gt;\n  &lt;p&gt;A word!&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n  &lt;h1&gt;Fo&lt;/h1&gt;\n  &lt;p&gt;A word!&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n  &lt;h1&gt;Fum&lt;/h1&gt;\n  &lt;p&gt;A word!&lt;/p&gt;\n&lt;/li&gt;\n&quot;</span>,
66:       <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= list_of(['Fee', 'Fi', 'Fo', 'Fum']) do |title|\n  %h1= title\n  %p A word!&quot;</span>))
67:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000128" class="method">
  <div id="M000128_title" class="title">
    <b>test_non_haml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000128_source')" id="l_M000128_source">show source</a> ]</p>
  <div id="M000128_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 381</span>
381:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_haml</span>
382:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;false\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= non_haml { is_haml? }&quot;</span>))
383:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000120" class="method">
  <div id="M000120_title" class="title">
    <b>test_page_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000120_source')" id="l_M000120_source">show source</a> ]</p>
  <div id="M000120_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 325</span>
325:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_page_class</span>
326:     <span class="ruby-identifier">controller</span> = <span class="ruby-constant">Struct</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:controller_name</span>, <span class="ruby-identifier">:action_name</span>).<span class="ruby-identifier">new</span>(<span class="ruby-value str">'troller'</span>, <span class="ruby-value str">'tion'</span>)
327:     <span class="ruby-identifier">scope</span> = <span class="ruby-constant">Struct</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:controller</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">controller</span>)
328:     <span class="ruby-identifier">result</span> = <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;%div{:class =&gt; page_class} MyDiv&quot;</span>, <span class="ruby-identifier">:scope_object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">scope</span>)
329:     <span class="ruby-identifier">expected</span> = <span class="ruby-value str">&quot;&lt;div class='troller tion'&gt;MyDiv&lt;/div&gt;\n&quot;</span>
330:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">result</span>
331:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000126" class="method">
  <div id="M000126_title" class="title">
    <b>test_preserve_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000126_source')" id="l_M000126_source">show source</a> ]</p>
  <div id="M000126_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 360</span>
360:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_preserve_with_block</span>
361:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;pre&gt;Foo&amp;#x000A;Bar&lt;/pre&gt;&amp;#x000A;Foo&amp;#x000A;Bar\n&quot;</span>,
362:                  <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;= preserve do\n  %pre\n    Foo\n    Bar\n  Foo\n  Bar&quot;</span>))
363:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000133" class="method">
  <div id="M000133_title" class="title">
    <b>test_random_class_includes_tag_helper</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000133_source')" id="l_M000133_source">show source</a> ]</p>
  <div id="M000133_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 422</span>
422:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_random_class_includes_tag_helper</span>
423:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;some tag content&lt;/p&gt;&quot;</span>, <span class="ruby-constant">ActsLikeTag</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">to_s</span>
424:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000087" class="method">
  <div id="M000087_title" class="title">
    <b>test_tabs</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000087_source')" id="l_M000087_source">show source</a> ]</p>
  <div id="M000087_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tabs</span>
75:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;foo\n  bar\nbaz\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;foo\n- tab_up\nbar\n- tab_down\nbaz&quot;</span>))
76:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;          &lt;p&gt;tabbed&lt;/p&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;- buffer.tabulation=5\n%p tabbed&quot;</span>))
77:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000092" class="method">
  <div id="M000092_title" class="title">
    <b>test_text_area</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000092_source')" id="l_M000092_source">show source</a> ]</p>
  <div id="M000092_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_text_area</span><span class="ruby-identifier">test_text_area</span>
137:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">%(&lt;textarea id=&quot;body&quot; name=&quot;body&quot;&gt;Foo&amp;#x000A;Bar&amp;#x000A; Baz&amp;#x000A;   Boom&lt;/textarea&gt;\n)</span>,
138:                  <span class="ruby-identifier">render</span>(<span class="ruby-value str">'= text_area_tag &quot;body&quot;, &quot;Foo\nBar\n Baz\n   Boom&quot;'</span>, <span class="ruby-identifier">:action_view</span>))
139: 
140:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">%(&lt;textarea cols=&quot;40&quot; id=&quot;post_body&quot; name=&quot;post[body]&quot; rows=&quot;20&quot;&gt;Foo bar&amp;#x000A;baz&lt;/textarea&gt;\n)</span>,
141:                  <span class="ruby-identifier">render</span>(<span class="ruby-value str">'= text_area :post, :body'</span>, <span class="ruby-identifier">:action_view</span>))    
142: 
143:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">%(&lt;pre&gt;Foo bar&amp;#x000A;   baz&lt;/pre&gt;\n)</span>,
144:                  <span class="ruby-identifier">render</span>(<span class="ruby-value str">'= content_tag &quot;pre&quot;, &quot;Foo bar\n   baz&quot;'</span>, <span class="ruby-identifier">:action_view</span>))    
145:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000088" class="method">
  <div id="M000088_title" class="title">
    <b>test_with_tabs</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000088_source')" id="l_M000088_source">show source</a> ]</p>
  <div id="M000088_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_tabs</span>
80:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Foo\n    Bar\n    Baz\nBaz\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;Foo\n- with_tabs 2 do\n  = \&quot;Bar\\\\nBaz\&quot;\nBaz\n&quot;</span>))
81:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000123" class="method">
  <div id="M000123_title" class="title">
    <b>trc</b>(collection, &amp;block)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000123_source')" id="l_M000123_source">show source</a> ]</p>
  <div id="M000123_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/helper_test.rb, line 340</span>
340:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">trc</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
341:         <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span>
342:           <span class="ruby-identifier">haml_concat</span> <span class="ruby-identifier">capture_haml</span>(<span class="ruby-identifier">record</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
343:         <span class="ruby-keyword kw">end</span>
344:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>