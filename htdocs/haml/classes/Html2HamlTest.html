  <div id="C00000013">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Html2HamlTest<br/>
  In:
<a href="#" onclick="jsHref('files/test/haml/html2haml_test_rb.html');">test/haml/html2haml_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000187&name=assert_equal_attributes" >assert_equal_attributes</a></li>
  <li><a href="index.html?a=M000185&name=render" >render</a></li>
  <li><a href="index.html?a=M000186&name=render_rhtml" >render_rhtml</a></li>
  <li><a href="index.html?a=M000171&name=test_empty_render_should_remain_empty" >test_empty_render_should_remain_empty</a></li>
  <li><a href="index.html?a=M000172&name=test_id_and_class_should_be_removed_from_hash" >test_id_and_class_should_be_removed_from_hash</a></li>
  <li><a href="index.html?a=M000174&name=test_multiple_class_names" >test_multiple_class_names</a></li>
  <li><a href="index.html?a=M000173&name=test_no_tag_name_for_div_if_class_or_id_is_present" >test_no_tag_name_for_div_if_class_or_id_is_present</a></li>
  <li><a href="index.html?a=M000177&name=test_rhtml" >test_rhtml</a></li>
  <li><a href="index.html?a=M000181&name=test_rhtml_in_attribute_results_in_string_interpolation" >test_rhtml_in_attribute_results_in_string_interpolation</a></li>
  <li><a href="index.html?a=M000183&name=test_rhtml_in_attribute_to_multiple_interpolations" >test_rhtml_in_attribute_to_multiple_interpolations</a></li>
  <li><a href="index.html?a=M000182&name=test_rhtml_in_attribute_with_trailing_content" >test_rhtml_in_attribute_with_trailing_content</a></li>
  <li><a href="index.html?a=M000179&name=test_rhtml_in_class_attribute" >test_rhtml_in_class_attribute</a></li>
  <li><a href="index.html?a=M000180&name=test_rhtml_in_id_attribute" >test_rhtml_in_id_attribute</a></li>
  <li><a href="index.html?a=M000178&name=test_rhtml_with_html_special_chars" >test_rhtml_with_html_special_chars</a></li>
  <li><a href="index.html?a=M000175&name=test_should_have_pretty_attributes" >test_should_have_pretty_attributes</a></li>
  <li><a href="index.html?a=M000176&name=test_sqml_comment" >test_sqml_comment</a></li>
  <li><a href="index.html?a=M000184&name=test_whitespace_eating_erb_tags" >test_whitespace_eating_erb_tags</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000171" class="method">
  <div id="M000171_title" class="title">
    <b>test_empty_render_should_remain_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000171_source')" id="l_M000171_source">show source</a> ]</p>
  <div id="M000171_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 7</span>
7:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_render_should_remain_empty</span>
8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">''</span>)
9:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000172" class="method">
  <div id="M000172_title" class="title">
    <b>test_id_and_class_should_be_removed_from_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000172_source')" id="l_M000172_source">show source</a> ]</p>
  <div id="M000172_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_and_class_should_be_removed_from_hash</span>
12:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'%span#foo.bar'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;span id=&quot;foo&quot; class=&quot;bar&quot;&gt; &lt;/span&gt;'</span>)
13:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000174" class="method">
  <div id="M000174_title" class="title">
    <b>test_multiple_class_names</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000174_source')" id="l_M000174_source">show source</a> ]</p>
  <div id="M000174_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_class_names</span>
21:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'.foo.bar.baz'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;div class=&quot; foo  bar  baz &quot;&gt; &lt;/div&gt;'</span>)
22:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000173" class="method">
  <div id="M000173_title" class="title">
    <b>test_no_tag_name_for_div_if_class_or_id_is_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000173_source')" id="l_M000173_source">show source</a> ]</p>
  <div id="M000173_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_tag_name_for_div_if_class_or_id_is_present</span>
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'#foo'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;div id=&quot;foo&quot;&gt; &lt;/div&gt;'</span>)
17:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'.foo'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;div class=&quot;foo&quot;&gt; &lt;/div&gt;'</span>)
18:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000177" class="method">
  <div id="M000177_title" class="title">
    <b>test_rhtml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000177_source')" id="l_M000177_source">show source</a> ]</p>
  <div id="M000177_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml</span>
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'- foo = bar'</span>, <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">'&lt;% foo = bar %&gt;'</span>)
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'- foo = bar'</span>, <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">'&lt;% foo = bar -%&gt;'</span>)
38:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'= h @item.title'</span>, <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">'&lt;%=h @item.title %&gt;'</span>)
39:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'= h @item.title'</span>, <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">'&lt;%=h @item.title -%&gt;'</span>)
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000181" class="method">
  <div id="M000181_title" class="title">
    <b>test_rhtml_in_attribute_results_in_string_interpolation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000181_source')" id="l_M000181_source">show source</a> ]</p>
  <div id="M000181_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 57</span>
57:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml_in_attribute_results_in_string_interpolation</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%(%div{ :id =&gt; &quot;item_\#{i}&quot; }\n  Ruby string interpolation FTW)</span>,
59:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;item_&lt;%= i %&gt;&quot;&gt;Ruby string interpolation FTW&lt;/div&gt;}</span>)
60:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000183" class="method">
  <div id="M000183_title" class="title">
    <b>test_rhtml_in_attribute_to_multiple_interpolations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000183_source')" id="l_M000183_source">show source</a> ]</p>
  <div id="M000183_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 67</span>
67:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml_in_attribute_to_multiple_interpolations</span>
68:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%(%div{ :class =&gt; &quot;\#{12} + \#{13}&quot; }\n  Math is super)</span>,
69:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;div class=&quot;&lt;%= 12 %&gt; + &lt;%= 13 %&gt;&quot;&gt;Math is super&lt;/div&gt;}</span>)
70:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000182" class="method">
  <div id="M000182_title" class="title">
    <b>test_rhtml_in_attribute_with_trailing_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000182_source')" id="l_M000182_source">show source</a> ]</p>
  <div id="M000182_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 62</span>
62:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml_in_attribute_with_trailing_content</span>
63:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%(%div{ :class =&gt; &quot;\#{12}!&quot; }\n  Bang!)</span>,
64:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;div class=&quot;&lt;%= 12 %&gt;!&quot;&gt;Bang!&lt;/div&gt;}</span>)
65:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000179" class="method">
  <div id="M000179_title" class="title">
    <b>test_rhtml_in_class_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000179_source')" id="l_M000179_source">show source</a> ]</p>
  <div id="M000179_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml_in_class_attribute</span>
48:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;%div{ :class =&gt; dyna_class }\n  I have a dynamic attribute&quot;</span>,
49:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;div class=&quot;&lt;%= dyna_class %&gt;&quot;&gt;I have a dynamic attribute&lt;/div&gt;}</span>)
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000180" class="method">
  <div id="M000180_title" class="title">
    <b>test_rhtml_in_id_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000180_source')" id="l_M000180_source">show source</a> ]</p>
  <div id="M000180_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml_in_id_attribute</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;%div{ :id =&gt; dyna_id }\n  I have a dynamic attribute&quot;</span>,
54:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;&lt;%= dyna_id %&gt;&quot;&gt;I have a dynamic attribute&lt;/div&gt;}</span>)
55:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000178" class="method">
  <div id="M000178_title" class="title">
    <b>test_rhtml_with_html_special_chars</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000178_source')" id="l_M000178_source">show source</a> ]</p>
  <div id="M000178_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rhtml_with_html_special_chars</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'= 3 &lt; 5 ? &quot;OK&quot; : &quot;Your computer is b0rken&quot;'</span>,
44:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;%= 3 &lt; 5 ? &quot;OK&quot; : &quot;Your computer is b0rken&quot; %&gt;}</span>)
45:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000175" class="method">
  <div id="M000175_title" class="title">
    <b>test_should_have_pretty_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000175_source')" id="l_M000175_source">show source</a> ]</p>
  <div id="M000175_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_have_pretty_attributes</span>
25:     <span class="ruby-identifier">assert_equal_attributes</span>(<span class="ruby-value str">'%input{ :type =&gt; &quot;text&quot;, :name =&gt; &quot;login&quot; }'</span>,
26:       <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;input type=&quot;text&quot; name=&quot;login&quot; /&gt;'</span>))
27:     <span class="ruby-identifier">assert_equal_attributes</span>(<span class="ruby-value str">'%meta{ &quot;http-equiv&quot; =&gt; &quot;Content-Type&quot;, :content =&gt; &quot;text/html&quot; }'</span>,
28:       <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot; /&gt;'</span>))
29:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000176" class="method">
  <div id="M000176_title" class="title">
    <b>test_sqml_comment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000176_source')" id="l_M000176_source">show source</a> ]</p>
  <div id="M000176_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_sqml_comment</span>
32:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/\n  IE sucks&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!-- IE sucks --&gt;'</span>)
33:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000184" class="method">
  <div id="M000184_title" class="title">
    <b>test_whitespace_eating_erb_tags</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000184_source')" id="l_M000184_source">show source</a> ]</p>
  <div id="M000184_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_whitespace_eating_erb_tags</span>
73:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%(- form_for)</span>,
74:       <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-value str">%Q{&lt;%- form_for -%&gt;}</span>)
75:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M000187" class="method">
  <div id="M000187_title" class="title">
    <b>assert_equal_attributes</b>(expected, result)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000187_source')" id="l_M000187_source">show source</a> ]</p>
  <div id="M000187_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_equal_attributes</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">result</span>)
88:     <span class="ruby-identifier">expected_attr</span>, <span class="ruby-identifier">result_attr</span> = [<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">result</span>].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\{ (.+) \}/</span>, <span class="ruby-value str">''</span>); <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">', '</span>).<span class="ruby-identifier">sort</span> }
89:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_attr</span>, <span class="ruby-identifier">result_attr</span>
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">result</span>
91:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000185" class="method">
  <div id="M000185_title" class="title">
    <b>render</b>(text, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000185_source')" id="l_M000185_source">show source</a> ]</p>
  <div id="M000185_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span> = {})
80:     <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>).<span class="ruby-identifier">render</span>.<span class="ruby-identifier">rstrip</span>
81:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000186" class="method">
  <div id="M000186_title" class="title">
    <b>render_rhtml</b>(text)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000186_source')" id="l_M000186_source">show source</a> ]</p>
  <div id="M000186_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_rhtml</span>(<span class="ruby-identifier">text</span>)
84:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">:rhtml</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
85:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>