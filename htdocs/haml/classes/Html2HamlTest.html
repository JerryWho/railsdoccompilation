  <div id="C00000031">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Html2HamlTest<br/>
  In:
<a href="#" onclick="jsHref('files/test/haml/html2haml_test_rb.html');">test/haml/html2haml_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001019&name=render" >render</a></li>
  <li><a href="index.html?a=M001020&name=render_erb" >render_erb</a></li>
  <li><a href="index.html?a=M001017&name=test_ascii_incompatible_encoding_error" >test_ascii_incompatible_encoding_error</a></li>
  <li><a href="index.html?a=M000997&name=test_cdata" >test_cdata</a></li>
  <li><a href="index.html?a=M000993&name=test_class_with_dot_and_hash" >test_class_with_dot_and_hash</a></li>
  <li><a href="index.html?a=M001007&name=test_code_without_pre" >test_code_without_pre</a></li>
  <li><a href="index.html?a=M001014&name=test_comma_post_tag" >test_comma_post_tag</a></li>
  <li><a href="index.html?a=M001015&name=test_comma_post_tag_with_text_before" >test_comma_post_tag_with_text_before</a></li>
  <li><a href="index.html?a=M001008&name=test_conditional_comment" >test_conditional_comment</a></li>
  <li><a href="index.html?a=M000988&name=test_doctype" >test_doctype</a></li>
  <li><a href="index.html?a=M000987&name=test_empty_render_should_remain_empty" >test_empty_render_should_remain_empty</a></li>
  <li><a href="index.html?a=M001016&name=test_encoding_error" >test_encoding_error</a></li>
  <li><a href="index.html?a=M001012&name=test_equals_in_tag" >test_equals_in_tag</a></li>
  <li><a href="index.html?a=M001013&name=test_hash_in_tag" >test_hash_in_tag</a></li>
  <li><a href="index.html?a=M000989&name=test_id_and_class_should_be_removed_from_hash" >test_id_and_class_should_be_removed_from_hash</a></li>
  <li><a href="index.html?a=M000994&name=test_id_with_dot_and_hash" >test_id_with_dot_and_hash</a></li>
  <li><a href="index.html?a=M001000&name=test_inline_comment" >test_inline_comment</a></li>
  <li><a href="index.html?a=M001010&name=test_inline_conditional_comment" >test_inline_conditional_comment</a></li>
  <li><a href="index.html?a=M000999&name=test_inline_text" >test_inline_text</a></li>
  <li><a href="index.html?a=M000995&name=test_interpolation" >test_interpolation</a></li>
  <li><a href="index.html?a=M000996&name=test_interpolation_in_attrs" >test_interpolation_in_attrs</a></li>
  <li><a href="index.html?a=M001011&name=test_minus_in_tag" >test_minus_in_tag</a></li>
  <li><a href="index.html?a=M000991&name=test_multiple_class_names" >test_multiple_class_names</a></li>
  <li><a href="index.html?a=M000990&name=test_no_tag_name_for_div_if_class_or_id_is_present" >test_no_tag_name_for_div_if_class_or_id_is_present</a></li>
  <li><a href="index.html?a=M001001&name=test_non_inline_comment" >test_non_inline_comment</a></li>
  <li><a href="index.html?a=M001002&name=test_non_inline_text" >test_non_inline_text</a></li>
  <li><a href="index.html?a=M001005&name=test_pre" >test_pre</a></li>
  <li><a href="index.html?a=M001006&name=test_pre_code" >test_pre_code</a></li>
  <li><a href="index.html?a=M001003&name=test_script_tag" >test_script_tag</a></li>
  <li><a href="index.html?a=M001004&name=test_script_tag_with_cdata" >test_script_tag_with_cdata</a></li>
  <li><a href="index.html?a=M000998&name=test_self_closing_tag" >test_self_closing_tag</a></li>
  <li><a href="index.html?a=M000992&name=test_should_have_pretty_attributes" >test_should_have_pretty_attributes</a></li>
  <li><a href="index.html?a=M001009&name=test_style_to_css_filter" >test_style_to_css_filter</a></li>
  <li><a href="index.html?a=M001018&name=test_xhtml_strict_doctype" >test_xhtml_strict_doctype</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/ErbTests.html');">ErbTests</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div id="M001017" class="method">
  <div id="M001017_title" class="title">
    <b>test_ascii_incompatible_encoding_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001017_source')" id="l_M001017_source">show source</a> ]</p>
  <div id="M001017_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 339</span>
339:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ascii_incompatible_encoding_error</span>
340:       <span class="ruby-identifier">template</span> = <span class="ruby-value str">&quot;foo\nbar\nb_z&quot;</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-value str">&quot;utf-16le&quot;</span>)
341:       <span class="ruby-identifier">template</span>[<span class="ruby-value">9</span>] = <span class="ruby-value str">&quot;\xFE&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">&quot;utf-16le&quot;</span>)
342:       <span class="ruby-identifier">render</span>(<span class="ruby-identifier">template</span>)
343:       <span class="ruby-identifier">assert</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Expected exception&quot;</span>)
344:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
345:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">line</span>)
346:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Invalid UTF-16LE character &quot;\xFE&quot;'</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>)
347:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000997" class="method">
  <div id="M000997_title" class="title">
    <b>test_cdata</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000997_source')" id="l_M000997_source">show source</a> ]</p>
  <div id="M000997_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 63</span>
63:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cdata</span>
64:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  :cdata\n    &lt;a foo=\&quot;bar\&quot; baz=\&quot;bang\&quot;&gt;\n    &lt;div id=\&quot;foo\&quot;&gt;flop&lt;/div&gt;\n    &lt;/a&gt;\n&quot;</span>.<span class="ruby-identifier">strip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;&lt;![CDATA[\n  &lt;a foo=\&quot;bar\&quot; baz=\&quot;bang\&quot;&gt;\n    &lt;div id=\&quot;foo\&quot;&gt;flop&lt;/div&gt;\n  &lt;/a&gt;\n]]&gt;&lt;/p&gt;\n&quot;</span>))
65:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000993" class="method">
  <div id="M000993_title" class="title">
    <b>test_class_with_dot_and_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000993_source')" id="l_M000993_source">show source</a> ]</p>
  <div id="M000993_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_class_with_dot_and_hash</span>
45:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:class =&gt; &quot;foo.bar&quot;}'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div class='foo.bar'&gt;&lt;/div&gt;&quot;</span>))
46:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:class =&gt; &quot;foo#bar&quot;}'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div class='foo#bar'&gt;&lt;/div&gt;&quot;</span>))
47:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'.foo.bar{:class =&gt; &quot;foo#bar foo.bar&quot;}'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div class='foo foo#bar bar foo.bar'&gt;&lt;/div&gt;&quot;</span>))
48:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001007" class="method">
  <div id="M001007_title" class="title">
    <b>test_code_without_pre</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001007_source')" id="l_M001007_source">show source</a> ]</p>
  <div id="M001007_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_code_without_pre</span>
216:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%code\n  foo\n  bar\n  baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;code&gt;foo\n  bar\nbaz&lt;/code&gt;\n&quot;</span>))
217:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001014" class="method">
  <div id="M001014_title" class="title">
    <b>test_comma_post_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001014_source')" id="l_M001014_source">show source</a> ]</p>
  <div id="M001014_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 284</span>
284:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_comma_post_tag</span>
285:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;#foo\n  %span&gt; Foo\n  ,\n  %span bar\n  Foo\n  %span&gt; bar\n  ,\n  %span baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div id=\&quot;foo\&quot;&gt;\n  &lt;span&gt;Foo&lt;/span&gt;, &lt;span&gt;bar&lt;/span&gt;\n  Foo&lt;span&gt;bar&lt;/span&gt;, &lt;span&gt;baz&lt;/span&gt;\n&lt;/div&gt;\n&quot;</span>))
286:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001015" class="method">
  <div id="M001015_title" class="title">
    <b>test_comma_post_tag_with_text_before</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001015_source')" id="l_M001015_source">show source</a> ]</p>
  <div id="M001015_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 304</span>
304:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_comma_post_tag_with_text_before</span>
305:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;#foo\n  Batch\n  = succeed \&quot;,\&quot; do\n    %span Foo\n  %span Bar\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div id=\&quot;foo\&quot;&gt;\n  Batch\n  &lt;span&gt;Foo&lt;/span&gt;, &lt;span&gt;Bar&lt;/span&gt;\n&lt;/div&gt;\n&quot;</span>))
306:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001008" class="method">
  <div id="M001008_title" class="title">
    <b>test_conditional_comment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001008_source')" id="l_M001008_source">show source</a> ]</p>
  <div id="M001008_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 230</span>
230:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_conditional_comment</span>
231:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;/[if foo]\n  bar\n  baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!--[if foo]&gt;\n  bar\n  baz\n&lt;![endif]--&gt;\n&quot;</span>))
232:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000988" class="method">
  <div id="M000988_title" class="title">
    <b>test_doctype</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000988_source')" id="l_M000988_source">show source</a> ]</p>
  <div id="M000988_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_doctype</span>
12:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!DOCTYPE html&gt;&quot;</span>)
13:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! 1.1'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.1//EN&quot; &quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;'</span>)
14:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! Strict'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;'</span>)
15:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! Frameset'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Frameset//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd&quot;&gt;'</span>)
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! Mobile 1.2'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//WAPFORUM//DTD XHTML Mobile 1.2//EN&quot; &quot;http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd&quot;&gt;'</span>)
17:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! Basic 1.1'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML Basic 1.1//EN&quot; &quot;http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd&quot;&gt;'</span>)
18:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;'</span>)
19:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! Strict'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;'</span>)
20:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!! Frameset'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Frameset//EN&quot; &quot;http://www.w3.org/TR/html4/frameset.dtd&quot;&gt;'</span>)
21:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'!!!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;'</span>)
22:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000987" class="method">
  <div id="M000987_title" class="title">
    <b>test_empty_render_should_remain_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000987_source')" id="l_M000987_source">show source</a> ]</p>
  <div id="M000987_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 7</span>
7:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_render_should_remain_empty</span>
8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">''</span>)
9:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001016" class="method">
  <div id="M001016_title" class="title">
    <b>test_encoding_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001016_source')" id="l_M001016_source">show source</a> ]</p>
  <div id="M001016_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 331</span>
331:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encoding_error</span>
332:       <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;foo\nbar\nb\xFEaz&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">&quot;utf-8&quot;</span>))
333:       <span class="ruby-identifier">assert</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Expected exception&quot;</span>)
334:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
335:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">line</span>)
336:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Invalid UTF-8 character &quot;\xFE&quot;'</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>)
337:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001012" class="method">
  <div id="M001012_title" class="title">
    <b>test_equals_in_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001012_source')" id="l_M001012_source">show source</a> ]</p>
  <div id="M001012_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 276</span>
276:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_equals_in_tag</span>
277:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p = foo bar =&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;= foo bar =&lt;/p&gt;&quot;</span>))
278:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001013" class="method">
  <div id="M001013_title" class="title">
    <b>test_hash_in_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001013_source')" id="l_M001013_source">show source</a> ]</p>
  <div id="M001013_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 280</span>
280:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_hash_in_tag</span>
281:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p # foo bar #&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;# foo bar #&lt;/p&gt;&quot;</span>))
282:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000989" class="method">
  <div id="M000989_title" class="title">
    <b>test_id_and_class_should_be_removed_from_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000989_source')" id="l_M000989_source">show source</a> ]</p>
  <div id="M000989_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_and_class_should_be_removed_from_hash</span>
25:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'%span#foo.bar'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;span id=&quot;foo&quot; class=&quot;bar&quot;&gt; &lt;/span&gt;'</span>)
26:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000994" class="method">
  <div id="M000994_title" class="title">
    <b>test_id_with_dot_and_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000994_source')" id="l_M000994_source">show source</a> ]</p>
  <div id="M000994_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 50</span>
50:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_with_dot_and_hash</span>
51:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:id =&gt; &quot;foo.bar&quot;}'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div id='foo.bar'&gt;&lt;/div&gt;&quot;</span>))
52:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:id =&gt; &quot;foo#bar&quot;}'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;div id='foo#bar'&gt;&lt;/div&gt;&quot;</span>))
53:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001000" class="method">
  <div id="M001000_title" class="title">
    <b>test_inline_comment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001000_source')" id="l_M001000_source">show source</a> ]</p>
  <div id="M001000_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 89</span>
89:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inline_comment</span>
90:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;/ foo&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!-- foo --&gt;&quot;</span>))
91:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;/ foo\n%p bar\n&quot;</span>.<span class="ruby-identifier">strip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!-- foo --&gt;\n&lt;p&gt;bar&lt;/p&gt;\n&quot;</span>))
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001010" class="method">
  <div id="M001010_title" class="title">
    <b>test_inline_conditional_comment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001010_source')" id="l_M001010_source">show source</a> ]</p>
  <div id="M001010_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 262</span>
262:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inline_conditional_comment</span>
263:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;/[if foo] bar baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!--[if foo]&gt; bar baz &lt;![endif]--&gt;\n&quot;</span>))
264:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000999" class="method">
  <div id="M000999_title" class="title">
    <b>test_inline_text</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000999_source')" id="l_M000999_source">show source</a> ]</p>
  <div id="M000999_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inline_text</span>
86:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p foo&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;foo&lt;/p&gt;&quot;</span>))
87:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000995" class="method">
  <div id="M000995_title" class="title">
    <b>test_interpolation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000995_source')" id="l_M000995_source">show source</a> ]</p>
  <div id="M000995_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 55</span>
55:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_interpolation</span>
56:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'Foo \#{bar} baz'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'Foo #{bar} baz'</span>))
57:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000996" class="method">
  <div id="M000996_title" class="title">
    <b>test_interpolation_in_attrs</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000996_source')" id="l_M000996_source">show source</a> ]</p>
  <div id="M000996_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 59</span>
59:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_interpolation_in_attrs</span>
60:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%p{:foo =&gt; &quot;\#{bar} baz&quot;}'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;p foo=&quot;#{bar} baz&quot;&gt;&lt;/p&gt;'</span>))
61:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001011" class="method">
  <div id="M001011_title" class="title">
    <b>test_minus_in_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001011_source')" id="l_M001011_source">show source</a> ]</p>
  <div id="M001011_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 272</span>
272:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_in_tag</span>
273:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p - foo bar -&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;- foo bar -&lt;/p&gt;&quot;</span>))
274:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000991" class="method">
  <div id="M000991_title" class="title">
    <b>test_multiple_class_names</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000991_source')" id="l_M000991_source">show source</a> ]</p>
  <div id="M000991_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 33</span>
33:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_class_names</span>
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'.foo.bar.baz'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;div class=&quot; foo  bar  baz &quot;&gt; &lt;/div&gt;'</span>)
35:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000990" class="method">
  <div id="M000990_title" class="title">
    <b>test_no_tag_name_for_div_if_class_or_id_is_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000990_source')" id="l_M000990_source">show source</a> ]</p>
  <div id="M000990_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 28</span>
28:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_tag_name_for_div_if_class_or_id_is_present</span>
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'#foo'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;div id=&quot;foo&quot;&gt; &lt;/div&gt;'</span>)
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'.foo'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;div class=&quot;foo&quot;&gt; &lt;/div&gt;'</span>)
31:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001001" class="method">
  <div id="M001001_title" class="title">
    <b>test_non_inline_comment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001001_source')" id="l_M001001_source">show source</a> ]</p>
  <div id="M001001_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 102</span>
102:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_inline_comment</span>
103:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;/\n  Foo\n  Bar\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!-- Foo\nBar --&gt;\n&quot;</span>))
104:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001002" class="method">
  <div id="M001002_title" class="title">
    <b>test_non_inline_text</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001002_source')" id="l_M001002_source">show source</a> ]</p>
  <div id="M001002_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_inline_text</span>
116:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n  foo\n&lt;/p&gt;\n&quot;</span>))
117:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n  foo&lt;/p&gt;\n&quot;</span>))
118:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;p&gt;foo\n&lt;/p&gt;\n&quot;</span>))
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001005" class="method">
  <div id="M001005_title" class="title">
    <b>test_pre</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001005_source')" id="l_M001005_source">show source</a> ]</p>
  <div id="M001005_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 182</span>
182:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pre</span>
183:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%pre\n  :preserve\n    foo\n      bar\n    baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;pre&gt;foo\n  bar\nbaz&lt;/pre&gt;\n&quot;</span>))
184:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001006" class="method">
  <div id="M001006_title" class="title">
    <b>test_pre_code</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001006_source')" id="l_M001006_source">show source</a> ]</p>
  <div id="M001006_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 198</span>
198:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pre_code</span>
199:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%pre\n  %code\n    :preserve\n      foo\n        bar\n      baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;pre&gt;&lt;code&gt;foo\n  bar\nbaz&lt;/code&gt;&lt;/pre&gt;\n&quot;</span>))
200:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001003" class="method">
  <div id="M001003_title" class="title">
    <b>test_script_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001003_source')" id="l_M001003_source">show source</a> ]</p>
  <div id="M001003_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_script_tag</span>
147:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;:javascript\n  function foo() {\n      return \&quot;12\&quot; &amp; \&quot;13\&quot;;\n  }\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;\n    function foo() {\n        return \&quot;12\&quot; &amp;amp; \&quot;13\&quot;;\n    }\n&lt;/script&gt;\n&quot;</span>))
148:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001004" class="method">
  <div id="M001004_title" class="title">
    <b>test_script_tag_with_cdata</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001004_source')" id="l_M001004_source">show source</a> ]</p>
  <div id="M001004_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_script_tag_with_cdata</span>
164:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;:javascript\n  function foo() {\n    return \&quot;&amp;amp;\&quot;;\n  }\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;\n  &lt;![CDATA[\n    function foo() {\n      return \&quot;&amp;amp;\&quot;;\n    }\n  ]]&gt;\n&lt;/script&gt;\n&quot;</span>))
165:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000998" class="method">
  <div id="M000998_title" class="title">
    <b>test_self_closing_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000998_source')" id="l_M000998_source">show source</a> ]</p>
  <div id="M000998_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 81</span>
81:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_self_closing_tag</span>
82:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%foo/&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;foo /&gt;&quot;</span>))
83:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000992" class="method">
  <div id="M000992_title" class="title">
    <b>test_should_have_pretty_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000992_source')" id="l_M000992_source">show source</a> ]</p>
  <div id="M000992_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 37</span>
37:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_have_pretty_attributes</span>
38:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%input{:name =&gt; &quot;login&quot;, :type =&gt; &quot;text&quot;}/'</span>,
39:       <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;input type=&quot;text&quot; name=&quot;login&quot; /&gt;'</span>))
40:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%meta{:content =&gt; &quot;text/html&quot;, &quot;http-equiv&quot; =&gt; &quot;Content-Type&quot;}/'</span>,
41:       <span class="ruby-identifier">render</span>(<span class="ruby-value str">'&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html&quot; /&gt;'</span>))
42:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001009" class="method">
  <div id="M001009_title" class="title">
    <b>test_style_to_css_filter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001009_source')" id="l_M001009_source">show source</a> ]</p>
  <div id="M001009_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 245</span>
245:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_style_to_css_filter</span>
246:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;:css\n  foo {\n      bar: baz;\n  }\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;style type=\&quot;text/css\&quot;&gt;\n    foo {\n        bar: baz;\n    }\n&lt;/style&gt;\n&quot;</span>))
247:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001018" class="method">
  <div id="M001018_title" class="title">
    <b>test_xhtml_strict_doctype</b>()
  </div>
  <div class="description">
  <p>
Regression Tests
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001018_source')" id="l_M001018_source">show source</a> ]</p>
  <div id="M001018_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 352</span>
352:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xhtml_strict_doctype</span>
353:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'!!! Strict'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-value str">&quot;&lt;!DOCTYPE html PUBLIC \&quot;-//W3C//DTD XHTML 1.0 Strict//EN\&quot;\n  \&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\&quot;&gt;\n&quot;</span>))
354:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M001019" class="method">
  <div id="M001019_title" class="title">
    <b>render</b>(text, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001019_source')" id="l_M001019_source">show source</a> ]</p>
  <div id="M001019_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 362</span>
362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span> = {})
363:     <span class="ruby-constant">Haml</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>).<span class="ruby-identifier">render</span>.<span class="ruby-identifier">rstrip</span>
364:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001020" class="method">
  <div id="M001020_title" class="title">
    <b>render_erb</b>(text)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001020_source')" id="l_M001020_source">show source</a> ]</p>
  <div id="M001020_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml_test.rb, line 366</span>
366:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_erb</span>(<span class="ruby-identifier">text</span>)
367:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">:erb</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
368:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>