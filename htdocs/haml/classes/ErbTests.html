  <div id="C00000044">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />ErbTests<br/>
  In:
<a href="#" onclick="jsHref('files/test/haml/html2haml/erb_tests_rb.html');">test/haml/html2haml/erb_tests.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001061&name=test_begin_rescue_ensure" >test_begin_rescue_ensure</a></li>
  <li><a href="index.html?a=M001053&name=test_block_parsing" >test_block_parsing</a></li>
  <li><a href="index.html?a=M001054&name=test_block_parsing_with_args" >test_block_parsing_with_args</a></li>
  <li><a href="index.html?a=M001055&name=test_block_parsing_with_equals" >test_block_parsing_with_equals</a></li>
  <li><a href="index.html?a=M001056&name=test_block_parsing_with_modified_end" >test_block_parsing_with_modified_end</a></li>
  <li><a href="index.html?a=M001057&name=test_block_parsing_with_modified_end_with_block" >test_block_parsing_with_modified_end_with_block</a></li>
  <li><a href="index.html?a=M001060&name=test_case_when_parsing" >test_case_when_parsing</a></li>
  <li><a href="index.html?a=M001029&name=test_erb" >test_erb</a></li>
  <li><a href="index.html?a=M001040&name=test_erb_in_attribute_results_in_string_interpolation" >test_erb_in_attribute_results_in_string_interpolation</a></li>
  <li><a href="index.html?a=M001043&name=test_erb_in_attribute_to_multiple_interpolations" >test_erb_in_attribute_to_multiple_interpolations</a></li>
  <li><a href="index.html?a=M001041&name=test_erb_in_attribute_with_trailing_content" >test_erb_in_attribute_with_trailing_content</a></li>
  <li><a href="index.html?a=M001032&name=test_erb_in_cdata" >test_erb_in_cdata</a></li>
  <li><a href="index.html?a=M001038&name=test_erb_in_class_attribute" >test_erb_in_class_attribute</a></li>
  <li><a href="index.html?a=M001042&name=test_erb_in_html_escaped_attribute" >test_erb_in_html_escaped_attribute</a></li>
  <li><a href="index.html?a=M001039&name=test_erb_in_id_attribute" >test_erb_in_id_attribute</a></li>
  <li><a href="index.html?a=M001035&name=test_erb_in_line" >test_erb_in_line</a></li>
  <li><a href="index.html?a=M001033&name=test_erb_in_script" >test_erb_in_script</a></li>
  <li><a href="index.html?a=M001034&name=test_erb_in_style" >test_erb_in_style</a></li>
  <li><a href="index.html?a=M001036&name=test_erb_multi_in_line" >test_erb_multi_in_line</a></li>
  <li><a href="index.html?a=M001037&name=test_erb_with_html_special_chars" >test_erb_with_html_special_chars</a></li>
  <li><a href="index.html?a=M001059&name=test_if_elsif_else_parsing" >test_if_elsif_else_parsing</a></li>
  <li><a href="index.html?a=M001030&name=test_inline_erb" >test_inline_erb</a></li>
  <li><a href="index.html?a=M001045&name=test_interpolation_in_erb" >test_interpolation_in_erb</a></li>
  <li><a href="index.html?a=M001046&name=test_interpolation_in_erb_attrs" >test_interpolation_in_erb_attrs</a></li>
  <li><a href="index.html?a=M001058&name=test_multiline_block_opener" >test_multiline_block_opener</a></li>
  <li><a href="index.html?a=M001052&name=test_multiline_erb_but_really_single_line" >test_multiline_erb_but_really_single_line</a></li>
  <li><a href="index.html?a=M001048&name=test_multiline_erb_loud_script" >test_multiline_erb_loud_script</a></li>
  <li><a href="index.html?a=M001047&name=test_multiline_erb_silent_script" >test_multiline_erb_silent_script</a></li>
  <li><a href="index.html?a=M001051&name=test_multiline_then_single_line_erb_loud_scripts" >test_multiline_then_single_line_erb_loud_scripts</a></li>
  <li><a href="index.html?a=M001031&name=test_non_inline_erb" >test_non_inline_erb</a></li>
  <li><a href="index.html?a=M001050&name=test_two_multiline_erb_loud_scripts" >test_two_multiline_erb_loud_scripts</a></li>
  <li><a href="index.html?a=M001049&name=test_weirdly_indented_multiline_erb_loud_script" >test_weirdly_indented_multiline_erb_loud_script</a></li>
  <li><a href="index.html?a=M001044&name=test_whitespace_eating_erb_tags" >test_whitespace_eating_erb_tags</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001061" class="method">
  <div id="M001061_title" class="title">
    <b>test_begin_rescue_ensure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001061_source')" id="l_M001061_source">show source</a> ]</p>
  <div id="M001061_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 434</span>
434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_begin_rescue_ensure</span>
435:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- begin\n  %p a\n- rescue FooException =&gt; e\n  %p b\n- ensure\n  %p c\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% begin %&gt;\n  &lt;p&gt;a&lt;/p&gt;\n&lt;% rescue FooException =&gt; e %&gt;\n  &lt;p&gt;b&lt;/p&gt;\n&lt;% ensure %&gt;\n  &lt;p&gt;c&lt;/p&gt;\n&lt;% end %&gt;\n&quot;</span>))
436:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001053" class="method">
  <div id="M001053_title" class="title">
    <b>test_block_parsing</b>()
  </div>
  <div class="description">
  <p>
Block Parsing
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001053_source')" id="l_M001053_source">show source</a> ]</p>
  <div id="M001053_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 282</span>
282:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_block_parsing</span>
283:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- foo do\n  %p bar\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% foo do %&gt;\n  &lt;p&gt;bar&lt;/p&gt;\n&lt;% end %&gt;\n&quot;</span>))
284:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001054" class="method">
  <div id="M001054_title" class="title">
    <b>test_block_parsing_with_args</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001054_source')" id="l_M001054_source">show source</a> ]</p>
  <div id="M001054_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 295</span>
295:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_block_parsing_with_args</span>
296:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- foo do |a, b, c|\n  %p bar\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% foo do |a, b, c| %&gt;\n  &lt;p&gt;bar&lt;/p&gt;\n&lt;% end %&gt;\n&quot;</span>))
297:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001055" class="method">
  <div id="M001055_title" class="title">
    <b>test_block_parsing_with_equals</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001055_source')" id="l_M001055_source">show source</a> ]</p>
  <div id="M001055_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 308</span>
308:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_block_parsing_with_equals</span>
309:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;= foo do\n  %p bar\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;%= foo do %&gt;\n  &lt;p&gt;bar&lt;/p&gt;\n&lt;% end %&gt;\n&quot;</span>))
310:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001056" class="method">
  <div id="M001056_title" class="title">
    <b>test_block_parsing_with_modified_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001056_source')" id="l_M001056_source">show source</a> ]</p>
  <div id="M001056_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 321</span>
321:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_block_parsing_with_modified_end</span>
322:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- foo do\n  blah\n- end.bip\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% foo do %&gt;\n  blah\n&lt;% end.bip %&gt;\n&quot;</span>))
323:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001057" class="method">
  <div id="M001057_title" class="title">
    <b>test_block_parsing_with_modified_end_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001057_source')" id="l_M001057_source">show source</a> ]</p>
  <div id="M001057_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 335</span>
335:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_block_parsing_with_modified_end_with_block</span>
336:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- foo do\n  blah\n- end.bip do\n  brang\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% foo do %&gt;\n  blah\n&lt;% end.bip do %&gt;\n  brang\n&lt;% end %&gt;\n&quot;</span>))
337:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001060" class="method">
  <div id="M001060_title" class="title">
    <b>test_case_when_parsing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001060_source')" id="l_M001060_source">show source</a> ]</p>
  <div id="M001060_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 390</span>
390:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_case_when_parsing</span>
391:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- case foo.bar\n- when \&quot;bip\&quot;\n  %p bip\n- when \&quot;bop\&quot;\n  %p BOP\n- when bizzle.bang.boop.blip\n  %em BIZZLE BANG BOOP BLIP\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% case foo.bar %&gt;\n&lt;% when \&quot;bip\&quot; %&gt;\n  &lt;p&gt;bip&lt;/p&gt;\n&lt;% when \&quot;bop\&quot; %&gt;\n  &lt;p&gt;BOP&lt;/p&gt;\n&lt;% when bizzle.bang.boop.blip %&gt;\n  &lt;em&gt;BIZZLE BANG BOOP BLIP&lt;/em&gt;\n&lt;% end %&gt;\n&quot;</span>))
392: 
393:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- case foo.bar\n- when \&quot;bip\&quot;\n  %p bip\n- when \&quot;bop\&quot;\n  %p BOP\n- when bizzle.bang.boop.blip\n  %em BIZZLE BANG BOOP BLIP\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% case foo.bar\n   when \&quot;bip\&quot; %&gt;\n  &lt;p&gt;bip&lt;/p&gt;\n&lt;% when \&quot;bop\&quot; %&gt;\n  &lt;p&gt;BOP&lt;/p&gt;\n&lt;% when bizzle.bang.boop.blip %&gt;\n  &lt;em&gt;BIZZLE BANG BOOP BLIP&lt;/em&gt;\n&lt;% end %&gt;\n&quot;</span>))
394:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001029" class="method">
  <div id="M001029_title" class="title">
    <b>test_erb</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001029_source')" id="l_M001029_source">show source</a> ]</p>
  <div id="M001029_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 2</span>
2:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb</span>
3:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'- foo = bar'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;% foo = bar %&gt;'</span>)
4:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'- foo = bar'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;% foo = bar -%&gt;'</span>)
5:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'= h @item.title'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;%=h @item.title %&gt;'</span>)
6:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'= h @item.title'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;%=h @item.title -%&gt;'</span>)
7:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001040" class="method">
  <div id="M001040_title" class="title">
    <b>test_erb_in_attribute_results_in_string_interpolation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001040_source')" id="l_M001040_source">show source</a> ]</p>
  <div id="M001040_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 116</span>
116:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_attribute_results_in_string_interpolation</span>
117:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:id =&gt; &quot;item_#{i}&quot;} Ruby string interpolation FTW'</span>,
118:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;div id=&quot;item_&lt;%= i %&gt;&quot;&gt;Ruby string interpolation FTW&lt;/div&gt;'</span>))
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001043" class="method">
  <div id="M001043_title" class="title">
    <b>test_erb_in_attribute_to_multiple_interpolations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001043_source')" id="l_M001043_source">show source</a> ]</p>
  <div id="M001043_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 131</span>
131:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_attribute_to_multiple_interpolations</span>
132:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:class =&gt; &quot;#{12} + #{13}&quot;} Math is super'</span>,
133:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;div class=&quot;&lt;%= 12 %&gt; + &lt;%= 13 %&gt;&quot;&gt;Math is super&lt;/div&gt;'</span>))
134:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001041" class="method">
  <div id="M001041_title" class="title">
    <b>test_erb_in_attribute_with_trailing_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001041_source')" id="l_M001041_source">show source</a> ]</p>
  <div id="M001041_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_attribute_with_trailing_content</span>
122:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%div{:class =&gt; &quot;#{12}!&quot;} Bang!'</span>,
123:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;div class=&quot;&lt;%= 12 %&gt;!&quot;&gt;Bang!&lt;/div&gt;'</span>))
124:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001032" class="method">
  <div id="M001032_title" class="title">
    <b>test_erb_in_cdata</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001032_source')" id="l_M001032_source">show source</a> ]</p>
  <div id="M001032_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_cdata</span>
45:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;:cdata\n  Foo \\\#{bar} baz\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;![CDATA[Foo &lt;%= bar %&gt; baz]]&gt;\n&quot;</span>))
46:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001038" class="method">
  <div id="M001038_title" class="title">
    <b>test_erb_in_class_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001038_source')" id="l_M001038_source">show source</a> ]</p>
  <div id="M001038_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_class_attribute</span>
107:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;%div{:class =&gt; dyna_class} I have a dynamic attribute&quot;</span>,
108:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;div class=&quot;&lt;%= dyna_class %&gt;&quot;&gt;I have a dynamic attribute&lt;/div&gt;'</span>)
109:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001042" class="method">
  <div id="M001042_title" class="title">
    <b>test_erb_in_html_escaped_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001042_source')" id="l_M001042_source">show source</a> ]</p>
  <div id="M001042_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 126</span>
126:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_html_escaped_attribute</span>
127:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'%div{:class =&gt; &quot;foo&quot;} Bang!'</span>,
128:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;div class=&quot;&lt;%= &quot;foo&quot; %&gt;&quot;&gt;Bang!&lt;/div&gt;'</span>)
129:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001039" class="method">
  <div id="M001039_title" class="title">
    <b>test_erb_in_id_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001039_source')" id="l_M001039_source">show source</a> ]</p>
  <div id="M001039_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_id_attribute</span>
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;%div{:id =&gt; dyna_id} I have a dynamic attribute&quot;</span>,
113:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;div id=&quot;&lt;%= dyna_id %&gt;&quot;&gt;I have a dynamic attribute&lt;/div&gt;'</span>)
114:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001035" class="method">
  <div id="M001035_title" class="title">
    <b>test_erb_in_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001035_source')" id="l_M001035_source">show source</a> ]</p>
  <div id="M001035_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 89</span>
89:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_line</span>
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo bar #{baz}'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'foo bar &lt;%= baz %&gt;'</span>)
91:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foo bar #{baz}! Bang.'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'foo bar &lt;%= baz %&gt;! Bang.'</span>)
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001033" class="method">
  <div id="M001033_title" class="title">
    <b>test_erb_in_script</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001033_source')" id="l_M001033_source">show source</a> ]</p>
  <div id="M001033_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 55</span>
55:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_script</span>
56:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;:javascript\n  function foo() {\n    return \\\#{foo.to_json};\n  }\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;\n  function foo() {\n    return &lt;%= foo.to_json %&gt;;\n  }\n&lt;/script&gt;\n&quot;</span>))
57:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001034" class="method">
  <div id="M001034_title" class="title">
    <b>test_erb_in_style</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001034_source')" id="l_M001034_source">show source</a> ]</p>
  <div id="M001034_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_in_style</span>
73:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;:css\n  foo {\n      bar: \\\#{\&quot;baz\&quot;};\n  }\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;style type=\&quot;text/css\&quot;&gt;\n    foo {\n        bar: &lt;%= \&quot;baz\&quot; %&gt;;\n    }\n&lt;/style&gt;\n&quot;</span>))
74:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001036" class="method">
  <div id="M001036_title" class="title">
    <b>test_erb_multi_in_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001036_source')" id="l_M001036_source">show source</a> ]</p>
  <div id="M001036_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 94</span>
94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_multi_in_line</span>
95:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'foo bar #{baz}! Bang #{bop}.'</span>,
96:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'foo bar &lt;%= baz %&gt;! Bang &lt;%= bop %&gt;.'</span>))
97:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'foo bar #{baz}#{bop}!'</span>,
98:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'foo bar &lt;%= baz %&gt;&lt;%= bop %&gt;!'</span>))
99:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001037" class="method">
  <div id="M001037_title" class="title">
    <b>test_erb_with_html_special_chars</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001037_source')" id="l_M001037_source">show source</a> ]</p>
  <div id="M001037_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 101</span>
101:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_erb_with_html_special_chars</span>
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'= 3 &lt; 5 ? &quot;OK&quot; : &quot;Your computer is b0rken&quot;'</span>,
103:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;%= 3 &lt; 5 ? &quot;OK&quot; : &quot;Your computer is b0rken&quot; %&gt;'</span>)
104:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001059" class="method">
  <div id="M001059_title" class="title">
    <b>test_if_elsif_else_parsing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001059_source')" id="l_M001059_source">show source</a> ]</p>
  <div id="M001059_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 369</span>
369:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_if_elsif_else_parsing</span>
370:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- if foo\n  %p bar\n- elsif bar.foo(\&quot;zip\&quot;)\n  #bang baz\n- else\n  %strong bibble\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% if foo %&gt;\n  &lt;p&gt;bar&lt;/p&gt;\n&lt;% elsif bar.foo(\&quot;zip\&quot;) %&gt;\n  &lt;div id=\&quot;bang\&quot;&gt;baz&lt;/div&gt;\n&lt;% else %&gt;\n  &lt;strong&gt;bibble&lt;/strong&gt;\n&lt;% end %&gt;\n&quot;</span>))
371:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001030" class="method">
  <div id="M001030_title" class="title">
    <b>test_inline_erb</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001030_source')" id="l_M001030_source">show source</a> ]</p>
  <div id="M001030_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 9</span>
 9:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inline_erb</span>
10:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p= foo&quot;</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;p&gt;&lt;%= foo %&gt;&lt;/p&gt;&quot;</span>))
11:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001045" class="method">
  <div id="M001045_title" class="title">
    <b>test_interpolation_in_erb</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001045_source')" id="l_M001045_source">show source</a> ]</p>
  <div id="M001045_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_interpolation_in_erb</span>
141:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'= &quot;Foo #{bar} baz&quot;'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;%= &quot;Foo #{bar} baz&quot; %&gt;'</span>))
142:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001046" class="method">
  <div id="M001046_title" class="title">
    <b>test_interpolation_in_erb_attrs</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001046_source')" id="l_M001046_source">show source</a> ]</p>
  <div id="M001046_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 144</span>
144:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_interpolation_in_erb_attrs</span>
145:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'%p{:foo =&gt; &quot;#{bar} baz&quot;}'</span>,
146:       <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;p foo=&quot;&lt;%= &quot;#{bar} baz&quot; %&gt;&quot;&gt;&lt;/p&gt;'</span>))
147:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001058" class="method">
  <div id="M001058_title" class="title">
    <b>test_multiline_block_opener</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001058_source')" id="l_M001058_source">show source</a> ]</p>
  <div id="M001058_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 352</span>
352:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiline_block_opener</span>
353:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;- foo bar\n- baz bang\n- biddle do\n  foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;% foo bar\n  baz bang\n  biddle do %&gt;\n    foo\n&lt;% end %&gt;\n&quot;</span>))
354:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001052" class="method">
  <div id="M001052_title" class="title">
    <b>test_multiline_erb_but_really_single_line</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001052_source')" id="l_M001052_source">show source</a> ]</p>
  <div id="M001052_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 263</span>
263:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiline_erb_but_really_single_line</span>
264:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;.blah\n  = foo\n  %p foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;div class=\&quot;blah\&quot;&gt;\n  &lt;%=\n    foo\n  %&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/div&gt;\n&quot;</span>))
265:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001048" class="method">
  <div id="M001048_title" class="title">
    <b>test_multiline_erb_loud_script</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001048_source')" id="l_M001048_source">show source</a> ]</p>
  <div id="M001048_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 170</span>
170:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiline_erb_loud_script</span>
171:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;.blah\n  = foo +            |\n      bar.baz.bang + |\n    baz              |\n  %p foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;div class=\&quot;blah\&quot;&gt;\n  &lt;%=\n    foo +\n      bar.baz.bang +\n    baz\n  %&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/div&gt;\n&quot;</span>))
172:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001047" class="method">
  <div id="M001047_title" class="title">
    <b>test_multiline_erb_silent_script</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001047_source')" id="l_M001047_source">show source</a> ]</p>
  <div id="M001047_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 149</span>
149:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiline_erb_silent_script</span>
150:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;.blah\n  - foo\n  - bar\n  - baz\n  %p foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;div class=\&quot;blah\&quot;&gt;\n  &lt;%\n    foo\n    bar\n    baz\n  %&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/div&gt;\n&quot;</span>))
151:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001051" class="method">
  <div id="M001051_title" class="title">
    <b>test_multiline_then_single_line_erb_loud_scripts</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001051_source')" id="l_M001051_source">show source</a> ]</p>
  <div id="M001051_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 240</span>
240:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiline_then_single_line_erb_loud_scripts</span>
241:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;.blah\n  = foo +          |\n    bar.baz.bang + |\n    baz            |\n  = foo.bar\n  %p foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;div class=\&quot;blah\&quot;&gt;\n  &lt;%=\n    foo +\n    bar.baz.bang +\n    baz\n  %&gt;\n  &lt;%= foo.bar %&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/div&gt;\n&quot;</span>))
242:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001031" class="method">
  <div id="M001031_title" class="title">
    <b>test_non_inline_erb</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001031_source')" id="l_M001031_source">show source</a> ]</p>
  <div id="M001031_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 13</span>
13:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_inline_erb</span>
14:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  = foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n  &lt;%= foo %&gt;\n&lt;/p&gt;\n&quot;</span>))
15:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  = foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;p&gt;\n  &lt;%= foo %&gt;&lt;/p&gt;\n&quot;</span>))
16:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;%p\n  = foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;p&gt;&lt;%= foo %&gt;\n&lt;/p&gt;\n&quot;</span>))
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001050" class="method">
  <div id="M001050_title" class="title">
    <b>test_two_multiline_erb_loud_scripts</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001050_source')" id="l_M001050_source">show source</a> ]</p>
  <div id="M001050_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 212</span>
212:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_two_multiline_erb_loud_scripts</span>
213:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;.blah\n  = foo +          |\n    bar.baz.bang + |\n    baz            |\n  -#\n  = foo.bar do |\n      bang     |\n    end        |\n  %p foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;div class=\&quot;blah\&quot;&gt;\n  &lt;%=\n    foo +\n    bar.baz.bang +\n    baz\n  %&gt;\n  &lt;%= foo.bar do\n        bang\n      end %&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/div&gt;\n&quot;</span>))
214:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001049" class="method">
  <div id="M001049_title" class="title">
    <b>test_weirdly_indented_multiline_erb_loud_script</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001049_source')" id="l_M001049_source">show source</a> ]</p>
  <div id="M001049_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 191</span>
191:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_weirdly_indented_multiline_erb_loud_script</span>
192:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;.blah\n  = foo +          |\n    bar.baz.bang + |\n    baz            |\n  %p foo\n&quot;</span>.<span class="ruby-identifier">rstrip</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">&quot;&lt;div class=\&quot;blah\&quot;&gt;\n  &lt;%=\n    foo +\n  bar.baz.bang +\n    baz\n  %&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/div&gt;\n&quot;</span>))
193:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001044" class="method">
  <div id="M001044_title" class="title">
    <b>test_whitespace_eating_erb_tags</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001044_source')" id="l_M001044_source">show source</a> ]</p>
  <div id="M001044_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File test/haml/html2haml/erb_tests.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_whitespace_eating_erb_tags</span>
137:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'- form_for'</span>, <span class="ruby-identifier">render_erb</span>(<span class="ruby-value str">'&lt;%- form_for -%&gt;'</span>)
138:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>