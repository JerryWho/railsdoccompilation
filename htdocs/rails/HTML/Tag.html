<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: HTML::Tag</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../HTML.html" title="HTML (module)">HTML</a></span></span>
     &raquo; 
    <span class="title">Tag</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: HTML::Tag
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Node.html" title="HTML::Node (class)">Node</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Node.html" title="HTML::Node (class)">Node</a></span></li>
          
            <li class="next">HTML::Tag</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_controller/vendor/html-scanner/html/node.rb<span class="defines">,<br />
  actionpack/lib/action_controller/vendor/html-scanner/html/selector.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
A Tag is any node that represents markup. It may be an opening tag, a
closing tag, or a self-closing tag. It has a name, and may have a hash of
attributes.
</p>


  </div>
</div>
<div class="tags">
  
</div>

  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#attributes-instance_method" title="#attributes (instance method)">- (Object) <strong>attributes</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Either <tt>nil</tt>, or a hash of attributes for this node.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#closing-instance_method" title="#closing (instance method)">- (Object) <strong>closing</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Either <tt>nil</tt>, <tt>:close</tt>, or <tt>:self</tt>.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">- (Object) <strong>name</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The name of this tag.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Object) <strong>==</strong>(node) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(attr) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A convenience for obtaining an attribute of the node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#childless%3F-instance_method" title="#childless? (instance method)">- (Boolean) <strong>childless?</strong>(xml = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns non-<tt>nil</tt> if this tag can contain child nodes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find-instance_method" title="#find (instance method)">- (Object) <strong>find</strong>(conditions) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
If either the node or any of its children meet the given conditions, the
matching node is returned.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Tag) <strong>initialize</strong>(parent, line, pos, name, attributes, closing) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Create a new node as a child of the given parent, using the given content
to describe the node.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">- (Object) <strong>match</strong>(conditions) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if the node meets any of the given conditions.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select-instance_method" title="#select (instance method)">- (Object) <strong>select</strong>(selector, *values) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tag%3F-instance_method" title="#tag? (instance method)">- (Boolean) <strong>tag?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt>, indicating that this node represents an HTML tag.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a textual representation of the node.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Node.html" title="HTML::Node (class)">Node</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Node.html#find_all-instance_method" title="HTML::Node#find_all (method)">#find_all</a></span>, <span class='object_link'><a href="Node.html#parse-class_method" title="HTML::Node.parse (method)">parse</a></span>, <span class='object_link'><a href="Node.html#validate_conditions-instance_method" title="HTML::Node#validate_conditions (method)">#validate_conditions</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="HTML::Tag (class)">Tag</a></span></tt>) <strong>initialize</strong>(parent, line, pos, name, attributes, closing) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Create a new node as a child of the given parent, using the given content
to describe the node. It will be parsed and the node name, attributes and
closing status extracted.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


297
298
299
300
301
302</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 297</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='comma'>,</span> <span class='id line'>line</span><span class='comma'>,</span> <span class='id pos'>pos</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id attributes'>attributes</span><span class='comma'>,</span> <span class='id closing'>closing</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='comma'>,</span> <span class='id line'>line</span><span class='comma'>,</span> <span class='id pos'>pos</span><span class='rparen'>)</span>
  <span class='ivar'>@name</span> <span class='op'>=</span> <span class='id name'>name</span>
  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='id attributes'>attributes</span>
  <span class='ivar'>@closing</span> <span class='op'>=</span> <span class='id closing'>closing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="attributes-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="attributes-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>attributes</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Either <tt>nil</tt>, or a hash of attributes for this node.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 289</span>

<span class='kw'>def</span> <span class='id attributes'>attributes</span>
  <span class='ivar'>@attributes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="closing-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="closing-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>closing</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Either <tt>nil</tt>, <tt>:close</tt>, or <tt>:self</tt>
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 286</span>

<span class='kw'>def</span> <span class='id closing'>closing</span>
  <span class='ivar'>@closing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="name-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="name-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>name</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The name of this tag.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 292</span>

<span class='kw'>def</span> <span class='id name'>name</span>
  <span class='ivar'>@name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="==-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>==</strong>(node) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


513
514
515
516
517</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 513</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id node'>node</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>super</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id closing'>closing</span> <span class='op'>==</span> <span class='id node'>node</span><span class='period'>.</span><span class='id closing'>closing</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id name'>name</span> <span class='op'>==</span> <span class='id node'>node</span><span class='period'>.</span><span class='id name'>name</span>
  <span class='id attributes'>attributes</span> <span class='op'>==</span> <span class='id node'>node</span><span class='period'>.</span><span class='id attributes'>attributes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="[]-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(attr) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A convenience for obtaining an attribute of the node. Returns <tt>nil</tt>
if the node has no attributes.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 306</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id attr'>attr</span><span class='rparen'>)</span>
  <span class='ivar'>@attributes</span> <span class='op'>?</span> <span class='ivar'>@attributes</span><span class='lbracket'>[</span><span class='id attr'>attr</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="childless?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>childless?</strong>(xml = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns non-<tt>nil</tt> if this tag can contain child nodes.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 311</span>

<span class='kw'>def</span> <span class='id childless?'>childless?</span><span class='lparen'>(</span><span class='id xml'>xml</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id xml'>xml</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@closing</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='op'>!</span><span class='ivar'>@closing</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='op'>||</span>
    <span class='ivar'>@name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(img|br|hr|link|meta|area|base|basefont|
</span><span class='tstring_content'>                col|frame|input|isindex|param)$</span><span class='regexp_end'>/ox</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>find</strong>(conditions) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
If either the node or any of its children meet the given conditions, the
matching node is returned. Otherwise, <tt>nil</tt> is returned. (See the
description of the valid conditions in the <tt>match</tt> method.)
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 339</span>

<span class='kw'>def</span> <span class='id find'>find</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='rparen'>)</span>
  <span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span> <span class='op'>||</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match</strong>(conditions) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if the node meets any of the given conditions. The
<tt>conditions</tt> parameter must be a hash of any of the following keys
(all are optional):
</p>
<ul>
<li><p>
<tt>:tag</tt>: the node name must match the corresponding value
</p>
</li>
<li><p>
<tt>:attributes</tt>: a hash. The node&#8217;s values must match the
corresponding values in the hash.
</p>
</li>
<li><p>
<tt>:parent</tt>: a hash. The node&#8217;s parent must match the
corresponding hash.
</p>
</li>
<li><p>
<tt>:child</tt>: a hash. At least one of the node&#8217;s immediate
children must meet the criteria described by the hash.
</p>
</li>
<li><p>
<tt>:ancestor</tt>: a hash. At least one of the node&#8217;s ancestors must
meet the criteria described by the hash.
</p>
</li>
<li><p>
<tt>:descendant</tt>: a hash. At least one of the node&#8217;s descendants
must meet the criteria described by the hash.
</p>
</li>
<li><p>
<tt>:sibling</tt>: a hash. At least one of the node&#8217;s siblings must
meet the criteria described by the hash.
</p>
</li>
<li><p>
<tt>:after</tt>: a hash. The node must be after any sibling meeting the
criteria described by the hash, and at least one sibling must match.
</p>
</li>
<li><p>
<tt>:before</tt>: a hash. The node must be before any sibling meeting the
criteria described by the hash, and at least one sibling must match.
</p>
</li>
<li><p>
<tt>:children</tt>: a hash, for counting children of a node. Accepts the
keys:
</p>
</li>
</ul>
<p>
** <tt>:count</tt>: either a number or a range which must equal (or
</p>
<pre class="code">
   include) the number of children that match.
</pre>
<p>
** <tt>:less_than</tt>: the number of matching children must be less than
</p>
<pre class="code">
   this number.
</pre>
<p>
** <tt>:greater_than</tt>: the number of matching children must be
</p>
<pre class="code">
   greater than this number.
</pre>
<p>
** <tt>:only</tt>: another hash consisting of the keys to use
</p>
<pre class="code">
   to match on the children, and only matching children will be
   counted.
</pre>
<p>
Conditions are matched using the following algorithm:
</p>
<ul>
<li><p>
if the condition is a string, it must be a substring of the value.
</p>
</li>
<li><p>
if the condition is a regexp, it must match the value.
</p>
</li>
<li><p>
if the condition is a number, the value must match number.to_s.
</p>
</li>
<li><p>
if the condition is <tt>true</tt>, the value must not be <tt>nil</tt>.
</p>
</li>
<li><p>
if the condition is <tt>false</tt> or <tt>nil</tt>, the value must be
<tt>nil</tt>.
</p>
</li>
</ul>
<p>
Usage:
</p>
<pre class="code">
  <span class='comment'># test if the node is a &quot;span&quot; tag
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>span</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># test if the node's parent is a &quot;div&quot;
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:parent</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='comment'># test if any of the node's ancestors are &quot;table&quot; tags
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:ancestor</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>table</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='comment'># test if any of the node's immediate children are &quot;em&quot; tags
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:child</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>em</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='comment'># test if any of the node's descendants are &quot;strong&quot; tags
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:descendant</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>strong</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

  <span class='comment'># test if the node has between 2 and 4 span tags as immediate children
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:children</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='op'>..</span><span class='int'>4</span><span class='comma'>,</span> <span class='symbol'>:only</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>span</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>

  <span class='comment'># get funky: test to see if the node is a &quot;div&quot;, has a &quot;ul&quot; ancestor
</span>  <span class='comment'># and an &quot;li&quot; parent (with &quot;class&quot; = &quot;enum&quot;), and whether or not it has
</span>  <span class='comment'># a &quot;span&quot; descendant that contains # text matching /hello world/:
</span>  <span class='id node'>node</span><span class='period'>.</span><span class='id match'>match</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>div</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='symbol'>:ancestor</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ul</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
             <span class='symbol'>:parent</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>li</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                          <span class='symbol'>:attributes</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:class</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>enum</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='rbrace'>}</span><span class='comma'>,</span>
             <span class='symbol'>:descendant</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:tag</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>span</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                              <span class='symbol'>:child</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>hello world</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 418</span>

<span class='kw'>def</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='rparen'>)</span>
  <span class='id conditions'>conditions</span> <span class='op'>=</span> <span class='id validate_conditions'>validate_conditions</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='rparen'>)</span>
  <span class='comment'># check content of child nodes
</span>  <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:content</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id children'>children</span><span class='period'>.</span><span class='id empty?'>empty?</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id match_condition'>match_condition</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:content</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id children'>children</span><span class='period'>.</span><span class='id find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id child'>child</span><span class='op'>|</span> <span class='id child'>child</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:content</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># test the name
</span>  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id match_condition'>match_condition</span><span class='lparen'>(</span><span class='ivar'>@name</span><span class='comma'>,</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span>

  <span class='comment'># test attributes
</span>  <span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:attributes</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id value'>value</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id match_condition'>match_condition</span><span class='lparen'>(</span><span class='kw'>self</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># test parent
</span>  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id parent'>parent</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:parent</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:parent</span><span class='rbracket'>]</span>

  <span class='comment'># test children
</span>  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id children'>children</span><span class='period'>.</span><span class='id find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id child'>child</span><span class='op'>|</span> <span class='id child'>child</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:child</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:child</span><span class='rbracket'>]</span>

  <span class='comment'># test ancestors
</span>  <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:ancestor</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id catch'>catch</span> <span class='symbol'>:found</span> <span class='kw'>do</span>
      <span class='id p'>p</span> <span class='op'>=</span> <span class='kw'>self</span>
      <span class='id throw'>throw</span> <span class='symbol'>:found</span><span class='comma'>,</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id p'>p</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:ancestor</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>while</span> <span class='id p'>p</span> <span class='op'>=</span> <span class='id p'>p</span><span class='period'>.</span><span class='id parent'>parent</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># test descendants
</span>  <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:descendant</span><span class='rbracket'>]</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id children'>children</span><span class='period'>.</span><span class='id find'>find</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id child'>child</span><span class='op'>|</span>
      <span class='comment'># test the child
</span>      <span class='id child'>child</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:descendant</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>||</span>
      <span class='comment'># test the child's descendants
</span>      <span class='id child'>child</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='symbol'>:descendant</span> <span class='op'>=&gt;</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:descendant</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># count children
</span>  <span class='kw'>if</span> <span class='id opts'>opts</span> <span class='op'>=</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:children</span><span class='rbracket'>]</span>
    <span class='id matches'>matches</span> <span class='op'>=</span> <span class='id children'>children</span><span class='period'>.</span><span class='id select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
      <span class='lparen'>(</span><span class='id c'>c</span><span class='period'>.</span><span class='id kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>HTML</span><span class='op'>::</span><span class='const'>Tag</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='lparen'>(</span><span class='id c'>c</span><span class='period'>.</span><span class='id closing'>closing</span> <span class='op'>==</span> <span class='symbol'>:self</span> <span class='kw'>or</span> <span class='op'>!</span> <span class='id c'>c</span><span class='period'>.</span><span class='id childless?'>childless?</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id matches'>matches</span> <span class='op'>=</span> <span class='id matches'>matches</span><span class='period'>.</span><span class='id select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id c'>c</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span>
    <span class='id opts'>opts</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id value'>value</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id key'>key</span> <span class='op'>==</span> <span class='symbol'>:only</span>
      <span class='kw'>case</span> <span class='id key'>key</span>
        <span class='kw'>when</span> <span class='symbol'>:count</span>
          <span class='kw'>if</span> <span class='const'>Integer</span> <span class='op'>===</span> <span class='id value'>value</span>
            <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id matches'>matches</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>!=</span> <span class='id value'>value</span>
          <span class='kw'>else</span>
            <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id value'>value</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id matches'>matches</span><span class='period'>.</span><span class='id length'>length</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>when</span> <span class='symbol'>:less_than</span>
          <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id matches'>matches</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>&lt;</span> <span class='id value'>value</span>
        <span class='kw'>when</span> <span class='symbol'>:greater_than</span>
          <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id matches'>matches</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>&gt;</span> <span class='id value'>value</span>
        <span class='kw'>else</span> <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown count condition </span><span class='embexpr_beg'>#{</span><span class='id key'>key</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># test siblings
</span>  <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:sibling</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:before</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:after</span><span class='rbracket'>]</span>
    <span class='id siblings'>siblings</span> <span class='op'>=</span> <span class='id parent'>parent</span> <span class='op'>?</span> <span class='id parent'>parent</span><span class='period'>.</span><span class='id children'>children</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id self_index'>self_index</span> <span class='op'>=</span> <span class='id siblings'>siblings</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:sibling</span><span class='rbracket'>]</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id siblings'>siblings</span><span class='period'>.</span><span class='id detect'>detect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span>
        <span class='id s'>s</span> <span class='op'>!=</span> <span class='kw'>self</span> <span class='op'>&amp;&amp;</span> <span class='id s'>s</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:sibling</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:before</span><span class='rbracket'>]</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id siblings'>siblings</span><span class='lbracket'>[</span><span class='id self_index'>self_index</span><span class='op'>+</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id detect'>detect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span>
        <span class='id s'>s</span> <span class='op'>!=</span> <span class='kw'>self</span> <span class='op'>&amp;&amp;</span> <span class='id s'>s</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:before</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:after</span><span class='rbracket'>]</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id siblings'>siblings</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='id self_index'>self_index</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id detect'>detect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id s'>s</span><span class='op'>|</span>
        <span class='id s'>s</span> <span class='op'>!=</span> <span class='kw'>self</span> <span class='op'>&amp;&amp;</span> <span class='id s'>s</span><span class='period'>.</span><span class='id match'>match</span><span class='lparen'>(</span><span class='id conditions'>conditions</span><span class='lbracket'>[</span><span class='symbol'>:after</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select</strong>(selector, *values) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


821
822
823
824</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/selector.rb', line 821</span>

<span class='kw'>def</span> <span class='id select'>select</span><span class='lparen'>(</span><span class='id selector'>selector</span><span class='comma'>,</span> <span class='op'>*</span><span class='id values'>values</span><span class='rparen'>)</span>
  <span class='id selector'>selector</span> <span class='op'>=</span> <span class='const'>HTML</span><span class='op'>::</span><span class='const'>Selector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id selector'>selector</span><span class='comma'>,</span> <span class='id values'>values</span><span class='rparen'>)</span>
  <span class='id selector'>selector</span><span class='period'>.</span><span class='id select'>select</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tag?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>tag?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt>, indicating that this node represents an HTML tag.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


344
345
346</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 344</span>

<span class='kw'>def</span> <span class='id tag?'>tag?</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_s-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_s</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a textual representation of the node
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/vendor/html-scanner/html/node.rb', line 319</span>

<span class='kw'>def</span> <span class='id to_s'>to_s</span>
  <span class='kw'>if</span> <span class='ivar'>@closing</span> <span class='op'>==</span> <span class='symbol'>:close</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@name</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@attributes</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id k'>k</span><span class='comma'>,</span><span class='id v'>v</span><span class='op'>|</span>
      <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id k'>k</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id v'>v</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'>String</span> <span class='op'>===</span> <span class='id v'>v</span>
    <span class='kw'>end</span>
    <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> /</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@closing</span> <span class='op'>==</span> <span class='symbol'>:self</span>
    <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@children</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id child'>child</span><span class='op'>|</span> <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='id child'>child</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='rbrace'>}</span>
    <span class='id s'>s</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@name</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@closing</span> <span class='op'>!=</span> <span class='symbol'>:self</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@children</span><span class='period'>.</span><span class='id empty?'>empty?</span>
    <span class='id s'>s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:25 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>