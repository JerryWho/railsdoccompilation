<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionDispatch::Routing::Mapper::Scoping</title>
<link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (S)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Routing.html" title="ActionDispatch::Routing (module)">Routing</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Mapper.html" title="ActionDispatch::Routing::Mapper (class)">Mapper</a></span></span>
     &raquo; 
    <span class="title">Scoping</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionDispatch::Routing::Mapper::Scoping
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Mapper.html" title="ActionDispatch::Routing::Mapper (class)">ActionDispatch::Routing::Mapper</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_dispatch/routing/mapper.rb</dd>
  
</dl>
<div class="clear"></div>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#constraints-instance_method" title="#constraints (instance method)">- (Object) <strong>constraints</strong>(constraints = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#controller-instance_method" title="#controller (instance method)">- (Object) <strong>controller</strong>(controller, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#defaults-instance_method" title="#defaults (instance method)">- (Object) <strong>defaults</strong>(defaults = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Scoping) <strong>initialize</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace-instance_method" title="#namespace (instance method)">- (Object) <strong>namespace</strong>(path, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scope-instance_method" title="#scope (instance method)">- (Object) <strong>scope</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="constraints-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>constraints</strong>(constraints = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


376
377
378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 376</span>

<span class='kw'>def</span> <span class='id constraints'>constraints</span><span class='lparen'>(</span><span class='id constraints'>constraints</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id scope'>scope</span><span class='lparen'>(</span><span class='symbol'>:constraints</span> <span class='op'>=&gt;</span> <span class='id constraints'>constraints</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="controller-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>controller</strong>(controller, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 364</span>

<span class='kw'>def</span> <span class='id controller'>controller</span><span class='lparen'>(</span><span class='id controller'>controller</span><span class='comma'>,</span> <span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:controller</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id controller'>controller</span>
  <span class='id scope'>scope</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="defaults-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>defaults</strong>(defaults = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


380
381
382</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 380</span>

<span class='kw'>def</span> <span class='id defaults'>defaults</span><span class='lparen'>(</span><span class='id defaults'>defaults</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id scope'>scope</span><span class='lparen'>(</span><span class='symbol'>:defaults</span> <span class='op'>=&gt;</span> <span class='id defaults'>defaults</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="ActionDispatch::Routing::Mapper::Scoping (module)">Scoping</a></span></tt>) <strong>initialize</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 318</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='ivar'>@scope</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespace-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>namespace</strong>(path, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 369</span>

<span class='kw'>def</span> <span class='id namespace'>namespace</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id path'>path</span> <span class='op'>=</span> <span class='id path'>path</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='symbol'>:path</span> <span class='op'>=&gt;</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='symbol'>:module</span> <span class='op'>=&gt;</span> <span class='id path'>path</span><span class='comma'>,</span>
              <span class='symbol'>:shallow_path</span> <span class='op'>=&gt;</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='symbol'>:shallow_prefix</span> <span class='op'>=&gt;</span> <span class='id path'>path</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id merge!'>merge!</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='id scope'>scope</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="scope-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>scope</strong>(*args) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 323</span>

<span class='kw'>def</span> <span class='id scope'>scope</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id dup'>dup</span>

  <span class='kw'>if</span> <span class='id name_prefix'>name_prefix</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:name_prefix</span><span class='rparen'>)</span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id name_prefix'>name_prefix</span>
    <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:name_prefix was deprecated in the new router syntax. Use :as instead.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id caller'>caller</span>
  <span class='kw'>end</span>

  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id first'>first</span> <span class='kw'>if</span> <span class='id args'>args</span><span class='period'>.</span><span class='id first'>first</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
  <span class='id recover'>recover</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:constraints</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:constraints</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id block'>block</span><span class='comma'>,</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:constraints</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:constraints</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id scope_options'>scope_options</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id option'>option</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id value'>value</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='id option'>option</span><span class='rparen'>)</span>
      <span class='id recover'>recover</span><span class='lbracket'>[</span><span class='id option'>option</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='id option'>option</span><span class='rbracket'>]</span>
      <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='id option'>option</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>merge_</span><span class='embexpr_beg'>#{</span><span class='id option'>option</span><span class='rbrace'>}</span><span class='tstring_content'>_scope</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='id option'>option</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id recover'>recover</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:blocks</span><span class='rbracket'>]</span>
  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:blocks</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id merge_blocks_scope'>merge_blocks_scope</span><span class='lparen'>(</span><span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:blocks</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id block'>block</span><span class='rparen'>)</span>

  <span class='id recover'>recover</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span>
  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id merge_options_scope'>merge_options_scope</span><span class='lparen'>(</span><span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span>

  <span class='kw'>yield</span>
  <span class='kw'>self</span>
<span class='kw'>ensure</span>
  <span class='id scope_options'>scope_options</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id option'>option</span><span class='op'>|</span>
    <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='id option'>option</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id recover'>recover</span><span class='lbracket'>[</span><span class='id option'>option</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id recover'>recover</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='id option'>option</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id recover'>recover</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span>
  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:blocks</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id recover'>recover</span><span class='lbracket'>[</span><span class='symbol'>:block</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:43 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>