<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionDispatch::Routing::Mapper::Resources</title>
<link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (R)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../ActionDispatch.html" title="ActionDispatch (module)">ActionDispatch</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Routing.html" title="ActionDispatch::Routing (module)">Routing</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Mapper.html" title="ActionDispatch::Routing::Mapper (class)">Mapper</a></span></span>
     &raquo; 
    <span class="title">Resources</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionDispatch::Routing::Mapper::Resources
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Mapper.html" title="ActionDispatch::Routing::Mapper (class)">ActionDispatch::Routing::Mapper</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_dispatch/routing/mapper.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Resources/Resource.html" title="ActionDispatch::Routing::Mapper::Resources::Resource (class)">Resource</a></span>, <span class='object_link'><a href="Resources/SingletonResource.html" title="ActionDispatch::Routing::Mapper::Resources::SingletonResource (class)">SingletonResource</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="VALID_ON_OPTIONS-constant" class="">VALID_ON_OPTIONS =
          <div class="docstring">
  <div class="discussion">
    <p>
CANONICAL_ACTIONS holds all actions that does not need a prefix or a path
appended since they fit properly in their scope level.
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:new</span><span class='comma'>,</span> <span class='symbol'>:collection</span><span class='comma'>,</span> <span class='symbol'>:member</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="RESOURCE_OPTIONS-constant" class="">RESOURCE_OPTIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='comma'>,</span> <span class='symbol'>:controller</span><span class='comma'>,</span> <span class='symbol'>:path</span><span class='comma'>,</span> <span class='symbol'>:only</span><span class='comma'>,</span> <span class='symbol'>:except</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="CANONICAL_ACTIONS-constant" class="">CANONICAL_ACTIONS =
          
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_end'>index</span></span></pre></dd>
      
    </dl>
  



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#collection-instance_method" title="#collection (instance method)">- (Object) <strong>collection</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Resources) <strong>initialize</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">- (Object) <strong>match</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#member-instance_method" title="#member (instance method)">- (Object) <strong>member</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespace-instance_method" title="#namespace (instance method)">- (Object) <strong>namespace</strong>(path, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nested-instance_method" title="#nested (instance method)">- (Object) <strong>nested</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-instance_method" title="#new (instance method)">- (Object) <strong>new</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resource-instance_method" title="#resource (instance method)">- (Object) <strong>resource</strong>(*resources, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resources-instance_method" title="#resources (instance method)">- (Object) <strong>resources</strong>(*resources, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resources_path_names-instance_method" title="#resources_path_names (instance method)">- (Object) <strong>resources_path_names</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">- (Object) <strong>root</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shallow-instance_method" title="#shallow (instance method)">- (Object) <strong>shallow</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shallow%3F-instance_method" title="#shallow? (instance method)">- (Boolean) <strong>shallow?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="collection-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>collection</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


611
612
613
614
615
616
617
618
619</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 611</span>

<span class='kw'>def</span> <span class='id collection'>collection</span>
  <span class='kw'>unless</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:scope_level</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:resources</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can't use collection outside resources scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id collection_scope'>collection_scope</span> <span class='kw'>do</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="ActionDispatch::Routing::Mapper::Resources (module)">Resources</a></span></tt>) <strong>initialize</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


543
544
545
546</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 543</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>super</span>
  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:path_names</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@set</span><span class='period'>.</span><span class='id resources_path_names'>resources_path_names</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>match</strong>(*args) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 681</span>

<span class='kw'>def</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:anchor</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='id options'>options</span><span class='period'>.</span><span class='id key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:anchor</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id args'>args</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id args'>args</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id path'>path</span><span class='op'>|</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id dup'>dup</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='id on'>on</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:on</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'>VALID_ON_OPTIONS</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id on'>on</span><span class='rparen'>)</span>
    <span class='id args'>args</span><span class='period'>.</span><span class='id push'>push</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id send'>send</span><span class='lparen'>(</span><span class='id on'>on</span><span class='rparen'>)</span><span class='lbrace'>{</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>elsif</span> <span class='id on'>on</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown scope </span><span class='embexpr_beg'>#{</span><span class='id on'>on</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'> given to :on</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:scope_level</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:resources</span>
    <span class='id args'>args</span><span class='period'>.</span><span class='id push'>push</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id nested'>nested</span> <span class='lbrace'>{</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>elsif</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:scope_level</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:resource</span>
    <span class='id args'>args</span><span class='period'>.</span><span class='id push'>push</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id member'>member</span> <span class='lbrace'>{</span> <span class='id match'>match</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id action'>action</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id first'>first</span>
  <span class='id path'>path</span> <span class='op'>=</span> <span class='id path_for_action'>path_for_action</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:path</span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id action'>action</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[\w\/]+$</span><span class='regexp_end'>/</span></span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:action</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id action'>action</span> <span class='kw'>unless</span> <span class='id action'>action</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id name_for_action'>name_for_action</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id name_for_action'>name_for_action</span><span class='lparen'>(</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>super</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="member-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>member</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


621
622
623
624
625
626
627
628
629</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 621</span>

<span class='kw'>def</span> <span class='id member'>member</span>
  <span class='kw'>unless</span> <span class='id resource_scope?'>resource_scope?</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can't use member outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id member_scope'>member_scope</span> <span class='kw'>do</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="namespace-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>namespace</strong>(path, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


663
664
665
666
667
668
669</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 663</span>

<span class='kw'>def</span> <span class='id namespace'>namespace</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id resource_scope?'>resource_scope?</span>
    <span class='id nested'>nested</span> <span class='lbrace'>{</span> <span class='kw'>super</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="nested-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>nested</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 641</span>

<span class='kw'>def</span> <span class='id nested'>nested</span>
  <span class='kw'>unless</span> <span class='id resource_scope?'>resource_scope?</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can't use nested outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbol'>:nested</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id shallow?'>shallow?</span>
      <span class='id with_exclusive_scope'>with_exclusive_scope</span> <span class='kw'>do</span>
        <span class='kw'>if</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:shallow_path</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id blank?'>blank?</span>
          <span class='id scope'>scope</span><span class='lparen'>(</span><span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id nested_scope'>nested_scope</span><span class='comma'>,</span> <span class='id nested_options'>nested_options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
        <span class='kw'>else</span>
          <span class='id scope'>scope</span><span class='lparen'>(</span><span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:shallow_path</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:shallow_prefix</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>do</span>
            <span class='id scope'>scope</span><span class='lparen'>(</span><span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id nested_scope'>nested_scope</span><span class='comma'>,</span> <span class='id nested_options'>nested_options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id scope'>scope</span><span class='lparen'>(</span><span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id nested_scope'>nested_scope</span><span class='comma'>,</span> <span class='id nested_options'>nested_options</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>yield</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>new</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


631
632
633
634
635
636
637
638
639</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 631</span>

<span class='kw'>def</span> <span class='id new'>new</span>
  <span class='kw'>unless</span> <span class='id resource_scope?'>resource_scope?</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can't use new outside resource(s) scope</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id new_scope'>new_scope</span> <span class='kw'>do</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="resource-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>resource</strong>(*resources, &amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 552</span>

<span class='kw'>def</span> <span class='id resource'>resource</span><span class='lparen'>(</span><span class='op'>*</span><span class='id resources'>resources</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id resources'>resources</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>

  <span class='kw'>if</span> <span class='id apply_common_behavior_for'>apply_common_behavior_for</span><span class='lparen'>(</span><span class='symbol'>:resource</span><span class='comma'>,</span> <span class='id resources'>resources</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='id resource_scope'>resource_scope</span><span class='lparen'>(</span><span class='const'>SingletonResource</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id resources'>resources</span><span class='period'>.</span><span class='id pop'>pop</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>

    <span class='id collection_scope'>collection_scope</span> <span class='kw'>do</span>
      <span class='id post'>post</span> <span class='symbol'>:create</span>
    <span class='kw'>end</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:create</span><span class='rparen'>)</span>

    <span class='id new_scope'>new_scope</span> <span class='kw'>do</span>
      <span class='id get'>get</span> <span class='symbol'>:new</span>
    <span class='kw'>end</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:new</span><span class='rparen'>)</span>

    <span class='id member_scope'>member_scope</span>  <span class='kw'>do</span>
      <span class='id get'>get</span>    <span class='symbol'>:edit</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:edit</span><span class='rparen'>)</span>
      <span class='id get'>get</span>    <span class='symbol'>:show</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:show</span><span class='rparen'>)</span>
      <span class='id put'>put</span>    <span class='symbol'>:update</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:update</span><span class='rparen'>)</span>
      <span class='id delete'>delete</span> <span class='symbol'>:destroy</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:destroy</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="resources-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>resources</strong>(*resources, &amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 581</span>

<span class='kw'>def</span> <span class='id resources'>resources</span><span class='lparen'>(</span><span class='op'>*</span><span class='id resources'>resources</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id resources'>resources</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>

  <span class='kw'>if</span> <span class='id apply_common_behavior_for'>apply_common_behavior_for</span><span class='lparen'>(</span><span class='symbol'>:resources</span><span class='comma'>,</span> <span class='id resources'>resources</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='id resource_scope'>resource_scope</span><span class='lparen'>(</span><span class='const'>Resource</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id resources'>resources</span><span class='period'>.</span><span class='id pop'>pop</span><span class='comma'>,</span> <span class='id options'>options</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>yield</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>

    <span class='id collection_scope'>collection_scope</span> <span class='kw'>do</span>
      <span class='id get'>get</span>  <span class='symbol'>:index</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:index</span><span class='rparen'>)</span>
      <span class='id post'>post</span> <span class='symbol'>:create</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:create</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id new_scope'>new_scope</span> <span class='kw'>do</span>
      <span class='id get'>get</span> <span class='symbol'>:new</span>
    <span class='kw'>end</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:new</span><span class='rparen'>)</span>

    <span class='id member_scope'>member_scope</span>  <span class='kw'>do</span>
      <span class='id get'>get</span>    <span class='symbol'>:edit</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:edit</span><span class='rparen'>)</span>
      <span class='id get'>get</span>    <span class='symbol'>:show</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:show</span><span class='rparen'>)</span>
      <span class='id put'>put</span>    <span class='symbol'>:update</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:update</span><span class='rparen'>)</span>
      <span class='id delete'>delete</span> <span class='symbol'>:destroy</span> <span class='kw'>if</span> <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id actions'>actions</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:destroy</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="resources_path_names-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>resources_path_names</strong>(options) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


548
549
550</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 548</span>

<span class='kw'>def</span> <span class='id resources_path_names'>resources_path_names</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:path_names</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id merge!'>merge!</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="root-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>root</strong>(options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


719
720
721
722
723
724
725
726
727
728
729</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 719</span>

<span class='kw'>def</span> <span class='id root'>root</span><span class='lparen'>(</span><span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:scope_level</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:resources</span>
    <span class='id with_scope_level'>with_scope_level</span><span class='lparen'>(</span><span class='symbol'>:root</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id scope'>scope</span><span class='lparen'>(</span><span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id path'>path</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='kw'>super</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="shallow-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>shallow</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


671
672
673
674
675</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 671</span>

<span class='kw'>def</span> <span class='id shallow'>shallow</span>
  <span class='id scope'>scope</span><span class='lparen'>(</span><span class='symbol'>:shallow</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>yield</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="shallow?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>shallow?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


677
678
679</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_dispatch/routing/mapper.rb', line 677</span>

<span class='kw'>def</span> <span class='id shallow?'>shallow?</span>
  <span class='id parent_resource'>parent_resource</span><span class='period'>.</span><span class='id instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='const'>Resource</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@scope</span><span class='lbracket'>[</span><span class='symbol'>:shallow</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:43 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>