<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Class</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (C)</a> &raquo; 
    
    
    <span class="title">Class</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Class
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Class</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">activesupport/lib/active_support/core_ext/class/subclasses.rb<span class="defines">,<br />
  activesupport/lib/active_support/core_ext/class/attribute.rb,<br /> activesupport/lib/active_support/core_ext/object/duplicable.rb,<br /> activesupport/lib/active_support/core_ext/class/attribute_accessors.rb,<br /> activesupport/lib/active_support/core_ext/class/delegating_attributes.rb,<br /> activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb,<br /> activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
It is recommended to use <tt>class_attribute</tt> over methods defined in
this file. Please refer to documentation for <tt>class_attribute</tt> for
more information. Officially it is not deprecated but
<tt>class_attribute</tt> is faster.
</p>
<p>
Allows attributes to be shared within an inheritance hierarchy. Each
descendant gets a copy of their parents&#8217; attributes, instead of just
a pointer to the same. This means that the child can add elements to, for
example, an array without those additions being shared with either their
parent, siblings, or children. This is unlike the regular class-level
attributes that are shared across the entire hierarchy.
</p>
<p>
The copies of inheritable parent attributes are added to subclasses when
they are created, via the <tt>inherited</tt> hook.
</p>
<pre class="code">
 <span class='kw'>class</span> <span class='const'>Person</span>
   <span class='id class_inheritable_accessor'>class_inheritable_accessor</span> <span class='symbol'>:hair_colors</span>
 <span class='kw'>end</span>

 <span class='const'>Person</span><span class='period'>.</span><span class='id hair_colors'>hair_colors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:brown</span><span class='comma'>,</span> <span class='symbol'>:black</span><span class='comma'>,</span> <span class='symbol'>:blonde</span><span class='comma'>,</span> <span class='symbol'>:red</span><span class='rbracket'>]</span>
 <span class='const'>Person</span><span class='period'>.</span><span class='id hair_colors'>hair_colors</span>     <span class='comment'># =&gt; [:brown, :black, :blonde, :red]
</span> <span class='const'>Person</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id hair_colors'>hair_colors</span> <span class='comment'># =&gt; [:brown, :black, :blonde, :red]
</span></pre>
<p>
To opt out of the instance writer method, pass :instance_writer => false.
To opt out of the instance reader method, pass :instance_reader => false.
</p>
<pre class="code">
  class Person
    class_inheritable_accessor :hair_colors :instance_writer =&gt; false, :instance_reader =&gt; false
  end

  Person.new.hair_colors = [:brown]  # =&gt; NoMethodError
  Person.new.hair_colors             # =&gt; NoMethodError</pre>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="EMPTY_INHERITABLE_ATTRIBUTES-constant" class="">EMPTY_INHERITABLE_ATTRIBUTES =
          <div class="docstring">
  <div class="discussion">
    <p>
Prevent this constant from being created multiple times
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
    </dl>
  



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cattr_accessor-instance_method" title="#cattr_accessor (instance method)">- (Object) <strong>cattr_accessor</strong>(*syms, &amp;blk) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cattr_reader-instance_method" title="#cattr_reader (instance method)">- (Object) <strong>cattr_reader</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cattr_writer-instance_method" title="#cattr_writer (instance method)">- (Object) <strong>cattr_writer</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_attribute-instance_method" title="#class_attribute (instance method)">- (Object) <strong>class_attribute</strong>(*attrs) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Declare a class-level attribute whose value is inheritable by subclasses.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_accessor-instance_method" title="#class_inheritable_accessor (instance method)">- (Object) <strong>class_inheritable_accessor</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_array-instance_method" title="#class_inheritable_array (instance method)">- (Object) <strong>class_inheritable_array</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_array_writer-instance_method" title="#class_inheritable_array_writer (instance method)">- (Object) <strong>class_inheritable_array_writer</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_hash-instance_method" title="#class_inheritable_hash (instance method)">- (Object) <strong>class_inheritable_hash</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_hash_writer-instance_method" title="#class_inheritable_hash_writer (instance method)">- (Object) <strong>class_inheritable_hash_writer</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_reader-instance_method" title="#class_inheritable_reader (instance method)">- (Object) <strong>class_inheritable_reader</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#class_inheritable_writer-instance_method" title="#class_inheritable_writer (instance method)">- (Object) <strong>class_inheritable_writer</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#descendants-instance_method" title="#descendants (instance method)">- (Object) <strong>descendants</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#duplicable%3F-instance_method" title="#duplicable? (instance method)">- (Boolean) <strong>duplicable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extlib_inheritable_accessor-instance_method" title="#extlib_inheritable_accessor (instance method)">- (Array[#to_s]) <strong>extlib_inheritable_accessor</strong>(*syms, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Defines class-level inheritable attribute accessor.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extlib_inheritable_reader-instance_method" title="#extlib_inheritable_reader (instance method)">- (Array[#to_s]) <strong>extlib_inheritable_reader</strong>(*ivars, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Defines class-level inheritable attribute reader.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extlib_inheritable_writer-instance_method" title="#extlib_inheritable_writer (instance method)">- (Array[#to_s]) <strong>extlib_inheritable_writer</strong>(*ivars) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Defines class-level inheritable attribute writer.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inheritable_attributes-instance_method" title="#inheritable_attributes (instance method)">- (Object) <strong>inheritable_attributes</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_inheritable_attribute-instance_method" title="#read_inheritable_attribute (instance method)">- (Object) <strong>read_inheritable_attribute</strong>(key) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset_inheritable_attributes-instance_method" title="#reset_inheritable_attributes (instance method)">- (Object) <strong>reset_inheritable_attributes</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#superclass_delegating_accessor-instance_method" title="#superclass_delegating_accessor (instance method)">- (Object) <strong>superclass_delegating_accessor</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_inheritable_array-instance_method" title="#write_inheritable_array (instance method)">- (Object) <strong>write_inheritable_array</strong>(key, elements) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_inheritable_attribute-instance_method" title="#write_inheritable_attribute (instance method)">- (Object) <strong>write_inheritable_attribute</strong>(key, value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_inheritable_hash-instance_method" title="#write_inheritable_hash (instance method)">- (Object) <strong>write_inheritable_hash</strong>(key, hash) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="cattr_accessor-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>cattr_accessor</strong>(*syms, &amp;blk) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/attribute_accessors.rb', line 75</span>

<span class='kw'>def</span> <span class='id cattr_accessor'>cattr_accessor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id blk'>blk</span><span class='rparen'>)</span>
  <span class='id cattr_reader'>cattr_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id cattr_writer'>cattr_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id blk'>blk</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="cattr_reader-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>cattr_reader</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/attribute_accessors.rb', line 28</span>

<span class='kw'>def</span> <span class='id cattr_reader'>cattr_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      unless defined? @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = nil
      end

</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
      end
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>

    <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_reader</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>        def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>          @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
        end
</span><span class='heredoc_end'>      EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="cattr_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>cattr_writer</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/attribute_accessors.rb', line 51</span>

<span class='kw'>def</span> <span class='id cattr_writer'>cattr_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      unless defined? @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = nil
      end

</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)
</span><span class='tstring_content'>        @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj
      end
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>

    <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>        def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)
</span><span class='tstring_content'>          @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj
        end
</span><span class='heredoc_end'>      EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>yield</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_attribute-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_attribute</strong>(*attrs) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Declare a class-level attribute whose value is inheritable by subclasses.
Subclasses can change their own value and it will not impact parent class.
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Base</span>
    <span class='id class_attribute'>class_attribute</span> <span class='symbol'>:setting</span>
  <span class='kw'>end</span>

  <span class='kw'>class</span> <span class='const'>Subclass</span> <span class='op'>&lt;</span> <span class='const'>Base</span>
  <span class='kw'>end</span>

  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span>            <span class='comment'># =&gt; true
</span>  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span>            <span class='comment'># =&gt; false
</span>  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span>                <span class='comment'># =&gt; true
</span></pre>
<p>
In the above case as long as Subclass does not assign a value to setting by
performing <tt>Subclass.setting = <em>something</em> </tt>,
<tt>Subclass.setting</tt> would read value assigned to parent class. Once
Subclass assigns a value then the value assigned by Subclass would be
returned.
</p>
<p>
This matches normal Ruby method inheritance: think of writing an attribute
on a subclass as overriding the reader method. However, you need to be
aware when using <tt>class_attribute</tt> with mutable structures as
<tt>Array</tt> or <tt>Hash</tt>. In such cases, you don&#8217;t want to do
changes in places but use setters:
</p>
<pre class="code">
  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span>                <span class='comment'># =&gt; []
</span>  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span>            <span class='comment'># =&gt; []
</span>
  <span class='comment'># Appending in child changes both parent and child because it is the same object:
</span>  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>&lt;&lt;</span> <span class='symbol'>:foo</span>
  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span>               <span class='comment'># =&gt; [:foo]
</span>  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span>           <span class='comment'># =&gt; [:foo]
</span>
  <span class='comment'># Use setters to not propagate changes:
</span>  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='symbol'>:foo</span><span class='rbracket'>]</span>
  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span>               <span class='comment'># =&gt; []
</span>  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting'>setting</span>           <span class='comment'># =&gt; [:foo]
</span></pre>
<p>
For convenience, a query method is defined as well:
</p>
<pre class="code">
  <span class='const'>Subclass</span><span class='period'>.</span><span class='id setting?'>setting?</span>       <span class='comment'># =&gt; false
</span></pre>
<p>
Instances may overwrite the class value in the same way:
</p>
<pre class="code">
  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id object'>object</span> <span class='op'>=</span> <span class='const'>Base</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='id object'>object</span><span class='period'>.</span><span class='id setting'>setting</span>          <span class='comment'># =&gt; true
</span>  <span class='id object'>object</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id object'>object</span><span class='period'>.</span><span class='id setting'>setting</span>          <span class='comment'># =&gt; false
</span>  <span class='const'>Base</span><span class='period'>.</span><span class='id setting'>setting</span>            <span class='comment'># =&gt; true
</span></pre>
<p>
To opt out of the instance writer method, pass :instance_writer => false.
</p>
<pre class="code">
  <span class='id object'>object</span><span class='period'>.</span><span class='id setting'>setting</span> <span class='op'>=</span> <span class='kw'>false</span>  <span class='comment'># =&gt; NoMethodError</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/attribute.rb', line 62</span>

<span class='kw'>def</span> <span class='id class_attribute'>class_attribute</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attrs'>attrs</span><span class='rparen'>)</span>
  <span class='id instance_writer'>instance_writer</span> <span class='op'>=</span> <span class='op'>!</span><span class='id attrs'>attrs</span><span class='period'>.</span><span class='id last'>last</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id attrs'>attrs</span><span class='period'>.</span><span class='id pop'>pop</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span>

  <span class='id attrs'>attrs</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id name'>name</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>() nil end
</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>?() !!</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'> end

</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>=(val)
        singleton_class.class_eval do
</span><span class='tstring_content'>          remove_possible_method(:</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>)
</span><span class='tstring_content'>          define_method(:</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>) { val }
        end
        val
      end

</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        defined?(@</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>) ? @</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'> : singleton_class.</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>
      end

</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>?
</span><span class='tstring_content'>        !!</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>
      end
</span><span class='heredoc_end'>    RUBY
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>

    <span class='id attr_writer'>attr_writer</span> <span class='id name'>name</span> <span class='kw'>if</span> <span class='id instance_writer'>instance_writer</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_accessor-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_accessor</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 107</span>

<span class='kw'>def</span> <span class='id class_inheritable_accessor'>class_inheritable_accessor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id class_inheritable_reader'>class_inheritable_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id class_inheritable_writer'>class_inheritable_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_array-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_array</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 112</span>

<span class='kw'>def</span> <span class='id class_inheritable_array'>class_inheritable_array</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id class_inheritable_reader'>class_inheritable_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id class_inheritable_array_writer'>class_inheritable_array_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_array_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_array_writer</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 73</span>

<span class='kw'>def</span> <span class='id class_inheritable_array_writer'>class_inheritable_array_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)                          # def self.levels=(obj)
</span><span class='tstring_content'>        write_inheritable_array(:</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>, obj)        #   write_inheritable_array(:levels, obj)
      end                                            # end
                                                     #
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>                                            #
</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)                               # def levels=(obj)
</span><span class='tstring_content'>        self.class.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj                      #   self.class.levels = obj
      end                                            # end
</span><span class='tstring_content'>      </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='tstring_content'>  # # the writer above is generated unless options[:instance_writer] == false
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_hash-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_hash</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 117</span>

<span class='kw'>def</span> <span class='id class_inheritable_hash'>class_inheritable_hash</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id class_inheritable_reader'>class_inheritable_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id class_inheritable_hash_writer'>class_inheritable_hash_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_hash_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_hash_writer</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 90</span>

<span class='kw'>def</span> <span class='id class_inheritable_hash_writer'>class_inheritable_hash_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)                          # def self.nicknames=(obj)
</span><span class='tstring_content'>        write_inheritable_hash(:</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>, obj)         #   write_inheritable_hash(:nicknames, obj)
      end                                            # end
                                                     #
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>                                            #
</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)                               # def nicknames=(obj)
</span><span class='tstring_content'>        self.class.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj                      #   self.class.nicknames = obj
      end                                            # end
</span><span class='tstring_content'>      </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='tstring_content'>  # # the writer above is generated unless options[:instance_writer] == false
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_reader-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_reader</strong>(*syms) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 38</span>

<span class='kw'>def</span> <span class='id class_inheritable_reader'>class_inheritable_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id sym'>sym</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>                                # def self.after_add
</span><span class='tstring_content'>        read_inheritable_attribute(:</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>)          #   read_inheritable_attribute(:after_add)
      end                                            # end
                                                     #
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>                                            #
</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>                                     # def after_add
</span><span class='tstring_content'>        self.class.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>                            #   self.class.after_add
      end                                            # end
</span><span class='tstring_content'>      </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_reader</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='tstring_content'>  # # the reader above is generated unless options[:instance_reader] == false
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="class_inheritable_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>class_inheritable_writer</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 56</span>

<span class='kw'>def</span> <span class='id class_inheritable_writer'>class_inheritable_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)                          # def self.color=(obj)
</span><span class='tstring_content'>        write_inheritable_attribute(:</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>, obj)    #   write_inheritable_attribute(:color, obj)
      end                                            # end
                                                     #
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>                                            #
</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)                               # def color=(obj)
</span><span class='tstring_content'>        self.class.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj                      #   self.class.color = obj
      end                                            # end
</span><span class='tstring_content'>      </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='tstring_content'>  # # the writer above is generated unless options[:instance_writer] == false
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="descendants-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>descendants</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/subclasses.rb', line 9</span>

<span class='kw'>def</span> <span class='id descendants'>descendants</span>
  <span class='id descendants'>descendants</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id __subclasses__'>__subclasses__</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id k'>k</span><span class='op'>|</span>
    <span class='id descendants'>descendants</span> <span class='op'>&lt;&lt;</span> <span class='id k'>k</span>
    <span class='id descendants'>descendants</span><span class='period'>.</span><span class='id concat'>concat</span> <span class='id k'>k</span><span class='period'>.</span><span class='id descendants'>descendants</span>
  <span class='kw'>end</span>
  <span class='id descendants'>descendants</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="duplicable?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>duplicable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/object/duplicable.rb', line 56</span>

<span class='kw'>def</span> <span class='id duplicable?'>duplicable?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extlib_inheritable_accessor-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>) <strong>extlib_inheritable_accessor</strong>(*syms, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Defines class-level inheritable attribute accessor. Attributes are
available to subclasses, each subclass has a copy of parent&#8217;s
attribute.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[*#to_s, <span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{:instance_writer =&gt; Boolean}]</tt>)</span>
      
      
        <span class='name'>*syms</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Array of attributes to define inheritable accessor for.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
        <span class='name'>syms</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a customizable set of options
</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
An Array of attributes turned into inheritable accessors.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 250</span>

<span class='kw'>def</span> <span class='id extlib_inheritable_accessor'>extlib_inheritable_accessor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id extlib_inheritable_reader'>extlib_inheritable_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id extlib_inheritable_writer'>extlib_inheritable_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extlib_inheritable_reader-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>) <strong>extlib_inheritable_reader</strong>(*ivars, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong> 
    <div class='inline'><p>
Do we want to block instance_reader via :instance_reader => false
</p>
</div>
  </div>

  <div class="note todo">
    <strong>TODO:</strong> 
    <div class='inline'><p>
It would be preferable that we do something with a Hash passed in (error
out or do the same as other methods above) instead of silently moving on).
In particular, this makes the return value of this function less useful.
</p>
</div>
  </div>

<p>
Defines class-level inheritable attribute reader. Attributes are available
to subclasses, each subclass has a copy of parent&#8217;s attribute.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>)</span>
      
      
        <span class='name'>*syms</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Array of attributes to define inheritable reader for.
</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Array of attributes converted into inheritable_readers.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 187</span>

<span class='kw'>def</span> <span class='id extlib_inheritable_reader'>extlib_inheritable_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id ivars'>ivars</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id ivars'>ivars</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>

  <span class='id ivars'>ivars</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id ivar'>ivar</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        return @</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'> if self.object_id == </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id object_id'>object_id</span><span class='rbrace'>}</span><span class='tstring_content'> || defined?(@</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>)
</span><span class='tstring_content'>        ivar = superclass.</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        return nil if ivar.nil? &amp;&amp; !</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='rbrace'>}</span><span class='tstring_content'>.instance_variable_defined?(&quot;@</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>&quot;)
</span><span class='tstring_content'>        @</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'> = ivar.duplicable? ? ivar.dup : ivar
      end
</span><span class='heredoc_end'>    RUBY
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_reader</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='tstring_content'>        def </span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>          self.class.</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>
        end
</span><span class='heredoc_end'>      RUBY
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='id instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>yield</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extlib_inheritable_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>) <strong>extlib_inheritable_writer</strong>(*ivars) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong> 
    <div class='inline'><p>
We need a style for class_eval <<-HEREDOC. I&#8217;d like to make it
class_eval(<<-RUBY, <em>FILE</em>, <em>LINE</em>), but we should codify it
somewhere.
</p>
</div>
  </div>

<p>
Defines class-level inheritable attribute writer. Attributes are available
to subclasses, each subclass has a copy of parent&#8217;s attribute.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[*#to_s, <span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>{:instance_writer =&gt; Boolean}]</tt>)</span>
      
      
        <span class='name'>*syms</span>
      
      
      
        &mdash;
        <div class='inline'><p>
Array of attributes to define inheritable writer for.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
        <span class='name'>syms</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a customizable set of options
</p>
</div>
      
    </li>
  
</ul>

  
    
    
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>[#to_s]</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
An Array of the attributes that were made into inheritable writers.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 222</span>

<span class='kw'>def</span> <span class='id extlib_inheritable_writer'>extlib_inheritable_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id ivars'>ivars</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id ivars'>ivars</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>

  <span class='id ivars'>ivars</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id ivar'>ivar</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)
</span><span class='tstring_content'>        @</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'> = obj
      end
</span><span class='heredoc_end'>    RUBY
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-RUBY</span><span class='tstring_content'>        def </span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj) self.class.</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'> = obj end
</span><span class='heredoc_end'>      RUBY
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='kw'>end</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id ivar'>ivar</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>yield</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inheritable_attributes-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>inheritable_attributes</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 122</span>

<span class='kw'>def</span> <span class='id inheritable_attributes'>inheritable_attributes</span>
  <span class='ivar'>@inheritable_attributes</span> <span class='op'>||=</span> <span class='const'>EMPTY_INHERITABLE_ATTRIBUTES</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="read_inheritable_attribute-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>read_inheritable_attribute</strong>(key) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 143</span>

<span class='kw'>def</span> <span class='id read_inheritable_attribute'>read_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span>
  <span class='id inheritable_attributes'>inheritable_attributes</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reset_inheritable_attributes-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>reset_inheritable_attributes</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 147</span>

<span class='kw'>def</span> <span class='id reset_inheritable_attributes'>reset_inheritable_attributes</span>
  <span class='ivar'>@inheritable_attributes</span> <span class='op'>=</span> <span class='const'>EMPTY_INHERITABLE_ATTRIBUTES</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="superclass_delegating_accessor-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>superclass_delegating_accessor</strong>(name, options = {}) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/delegating_attributes.rb', line 7</span>

<span class='kw'>def</span> <span class='id superclass_delegating_accessor'>superclass_delegating_accessor</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># Create private _name and _name= methods that can still be used if the public
</span>  <span class='comment'># methods are overridden. This allows
</span>  <span class='id _superclass_delegating_accessor'>_superclass_delegating_accessor</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Generate the public methods name, name=, and name?
</span>  <span class='comment'># These methods dispatch to the private _name, and _name= methods, making them
</span>  <span class='comment'># overridable
</span>  <span class='id singleton_class'>singleton_class</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:define_method</span><span class='comma'>,</span> <span class='id name'>name</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id singleton_class'>singleton_class</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:define_method</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>!</span><span class='op'>!</span><span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id singleton_class'>singleton_class</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:define_method</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id value'>value</span><span class='op'>|</span> <span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id value'>value</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='comment'># If an instance_reader is needed, generate methods for name and name= on the
</span>  <span class='comment'># class itself, so instances will be able to see them
</span>  <span class='id define_method'>define_method</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_reader</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='kw'>false</span>
  <span class='id define_method'>define_method</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>!</span><span class='op'>!</span><span class='id send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_reader</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_inheritable_array-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>write_inheritable_array</strong>(key, elements) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 133</span>

<span class='kw'>def</span> <span class='id write_inheritable_array'>write_inheritable_array</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id elements'>elements</span><span class='rparen'>)</span>
  <span class='id write_inheritable_attribute'>write_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id read_inheritable_attribute'>read_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id write_inheritable_attribute'>write_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id read_inheritable_attribute'>read_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id elements'>elements</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_inheritable_attribute-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>write_inheritable_attribute</strong>(key, value) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 126</span>

<span class='kw'>def</span> <span class='id write_inheritable_attribute'>write_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id value'>value</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id inheritable_attributes'>inheritable_attributes</span><span class='period'>.</span><span class='id equal?'>equal?</span><span class='lparen'>(</span><span class='const'>EMPTY_INHERITABLE_ATTRIBUTES</span><span class='rparen'>)</span>
    <span class='ivar'>@inheritable_attributes</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id inheritable_attributes'>inheritable_attributes</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="write_inheritable_hash-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>write_inheritable_hash</strong>(key, hash) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/class/inheritable_attributes.rb', line 138</span>

<span class='kw'>def</span> <span class='id write_inheritable_hash'>write_inheritable_hash</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id hash'>hash</span><span class='rparen'>)</span>
  <span class='id write_inheritable_attribute'>write_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id read_inheritable_attribute'>read_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id write_inheritable_attribute'>write_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id read_inheritable_attribute'>read_inheritable_attribute</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span><span class='period'>.</span><span class='id merge'>merge</span><span class='lparen'>(</span><span class='id hash'>hash</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:23 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>