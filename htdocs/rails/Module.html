<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Module</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (M)</a> &raquo; 
    
    
    <span class="title">Module</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Module
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Module</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">activesupport/lib/active_support/core_ext/object/duplicable.rb<span class="defines">,<br />
  activesupport/lib/active_support/core_ext/module/aliasing.rb,<br /> activesupport/lib/active_support/core_ext/module/anonymous.rb,<br /> activesupport/lib/active_support/core_ext/module/reachable.rb,<br /> activesupport/lib/active_support/core_ext/module/delegation.rb,<br /> activesupport/lib/active_support/core_ext/module/deprecation.rb,<br /> activesupport/lib/active_support/core_ext/module/method_names.rb,<br /> activesupport/lib/active_support/core_ext/module/introspection.rb,<br /> activesupport/lib/active_support/core_ext/module/attr_internal.rb,<br /> activesupport/lib/active_support/core_ext/module/remove_method.rb,<br /> activesupport/lib/active_support/core_ext/module/synchronization.rb,<br /> activesupport/lib/active_support/core_ext/module/attribute_accessors.rb,<br /> activesupport/lib/active_support/core_ext/module/attr_accessor_with_default.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div>

  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_internal_naming_format-class_method" title="attr_internal_naming_format (class method)">+ (Object) <strong>attr_internal_naming_format</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute attr_internal_naming_format.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#alias_attribute-instance_method" title="#alias_attribute (instance method)">- (Object) <strong>alias_attribute</strong>(new_name, old_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Allows you to make aliases for attributes, which includes getter, setter,
and query methods.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#alias_method_chain-instance_method" title="#alias_method_chain (instance method)">- (Object) <strong>alias_method_chain</strong>(target, feature) {|aliased_target, punctuation| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Encapsulates the common pattern of:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#anonymous%3F-instance_method" title="#anonymous? (instance method)">- (Boolean) <strong>anonymous?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A module may or may not have a name.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_accessor_with_default-instance_method" title="#attr_accessor_with_default (instance method)">- (Object) <strong>attr_accessor_with_default</strong>(sym, default = nil, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Declare an attribute accessor with an initial default return value.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_internal_accessor-instance_method" title="#attr_internal_accessor (instance method)">- (Object) <strong>attr_internal_accessor</strong>(*attrs) </a>
    

    
      (also: #attr_internal)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Declares an attribute reader and writer backed by an internally-named
instance variable.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_internal_reader-instance_method" title="#attr_internal_reader (instance method)">- (Object) <strong>attr_internal_reader</strong>(*attrs) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Declares an attribute reader backed by an internally-named instance
variable.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr_internal_writer-instance_method" title="#attr_internal_writer (instance method)">- (Object) <strong>attr_internal_writer</strong>(*attrs) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Declares an attribute writer backed by an internally-named instance
variable.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delegate-instance_method" title="#delegate (instance method)">- (Object) <strong>delegate</strong>(*methods) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Provides a delegate class method to easily expose contained objects&#8217;
methods as your own.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deprecate-instance_method" title="#deprecate (instance method)">- (Object) <strong>deprecate</strong>(*method_names) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Declare that a method has been deprecated.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#duplicable%3F-instance_method" title="#duplicable? (instance method)">- (Boolean) <strong>duplicable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_constant_names-instance_method" title="#local_constant_names (instance method)">- (Object) <strong>local_constant_names</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the names of the constants defined locally rather than the
constants themselves.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_constants-instance_method" title="#local_constants (instance method)">- (Object) <strong>local_constants</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mattr_accessor-instance_method" title="#mattr_accessor (instance method)">- (Object) <strong>mattr_accessor</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Extends the module object with module and instance accessors for class
attributes, just like the native attr* accessors for instance attributes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mattr_reader-instance_method" title="#mattr_reader (instance method)">- (Object) <strong>mattr_reader</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mattr_writer-instance_method" title="#mattr_writer (instance method)">- (Object) <strong>mattr_writer</strong>(*syms) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent-instance_method" title="#parent (instance method)">- (Object) <strong>parent</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the module which contains this one according to its name.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent_name-instance_method" title="#parent_name (instance method)">- (Object) <strong>parent_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the name of the module containing this one.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parents-instance_method" title="#parents (instance method)">- (Object) <strong>parents</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns all the parents of this module according to its name, ordered from
nested outwards.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reachable%3F-instance_method" title="#reachable? (instance method)">- (Boolean) <strong>reachable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#redefine_method-instance_method" title="#redefine_method (instance method)">- (Object) <strong>redefine_method</strong>(method, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_possible_method-instance_method" title="#remove_possible_method (instance method)">- (Object) <strong>remove_possible_method</strong>(method) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#synchronize-instance_method" title="#synchronize (instance method)">- (Object) <strong>synchronize</strong>(*methods) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Synchronize access around a method, delegating synchronization to a
particular mutex.
</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="attr_internal_naming_format=-class_method"></span>
      <span id="attr_internal_naming_format-class_method"></span>
      <div class="method_details first">
  <p class="signature first" id="attr_internal_naming_format-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>attr_internal_naming_format</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute attr_internal_naming_format
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attr_internal.rb', line 25</span>

<span class='kw'>def</span> <span class='id attr_internal_naming_format'>attr_internal_naming_format</span>
  <span class='ivar'>@attr_internal_naming_format</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="alias_attribute-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>alias_attribute</strong>(new_name, old_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Allows you to make aliases for attributes, which includes getter, setter,
and query methods.
</p>
<p>
Example:
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Content</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='comment'># has a title attribute
</span>  <span class='kw'>end</span>

  <span class='kw'>class</span> <span class='const'>Email</span> <span class='op'>&lt;</span> <span class='const'>Content</span>
    <span class='id alias_attribute'>alias_attribute</span> <span class='symbol'>:subject</span><span class='comma'>,</span> <span class='symbol'>:title</span>
  <span class='kw'>end</span>

  <span class='id e'>e</span> <span class='op'>=</span> <span class='const'>Email</span><span class='period'>.</span><span class='id find'>find</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id e'>e</span><span class='period'>.</span><span class='id title'>title</span>    <span class='comment'># =&gt; &quot;Superstars&quot;
</span>  <span class='id e'>e</span><span class='period'>.</span><span class='id subject'>subject</span>  <span class='comment'># =&gt; &quot;Superstars&quot;
</span>  <span class='id e'>e</span><span class='period'>.</span><span class='id subject?'>subject?</span> <span class='comment'># =&gt; true
</span>  <span class='id e'>e</span><span class='period'>.</span><span class='id subject'>subject</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Megastars</span><span class='tstring_end'>&quot;</span></span>
  <span class='id e'>e</span><span class='period'>.</span><span class='id title'>title</span>    <span class='comment'># =&gt; &quot;Megastars&quot;</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/aliasing.rb', line 63</span>

<span class='kw'>def</span> <span class='id alias_attribute'>alias_attribute</span><span class='lparen'>(</span><span class='id new_name'>new_name</span><span class='comma'>,</span> <span class='id old_name'>old_name</span><span class='rparen'>)</span>
  <span class='id module_eval'>module_eval</span> <span class='heredoc_beg'>&lt;&lt;-STR</span><span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id new_name'>new_name</span><span class='rbrace'>}</span><span class='tstring_content'>; self.</span><span class='embexpr_beg'>#{</span><span class='id old_name'>old_name</span><span class='rbrace'>}</span><span class='tstring_content'>; end          # def subject; self.title; end
</span><span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id new_name'>new_name</span><span class='rbrace'>}</span><span class='tstring_content'>?; self.</span><span class='embexpr_beg'>#{</span><span class='id old_name'>old_name</span><span class='rbrace'>}</span><span class='tstring_content'>?; end        # def subject?; self.title?; end
</span><span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id new_name'>new_name</span><span class='rbrace'>}</span><span class='tstring_content'>=(v); self.</span><span class='embexpr_beg'>#{</span><span class='id old_name'>old_name</span><span class='rbrace'>}</span><span class='tstring_content'> = v; end  # def subject=(v); self.title = v; end
</span><span class='heredoc_end'>  STR
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="alias_method_chain-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>alias_method_chain</strong>(target, feature) {|aliased_target, punctuation| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Encapsulates the common pattern of:
</p>
<pre class="code">
  <span class='id alias_method'>alias_method</span> <span class='symbol'>:foo_without_feature</span><span class='comma'>,</span> <span class='symbol'>:foo</span>
  <span class='id alias_method'>alias_method</span> <span class='symbol'>:foo</span><span class='comma'>,</span> <span class='symbol'>:foo_with_feature</span>
</pre>
<p>
With this, you simply do:
</p>
<pre class="code">
  <span class='id alias_method_chain'>alias_method_chain</span> <span class='symbol'>:foo</span><span class='comma'>,</span> <span class='symbol'>:feature</span>
</pre>
<p>
And both aliases are set up for you.
</p>
<p>
Query and bang methods (foo?, foo!) keep the same punctuation:
</p>
<pre class="code">
  <span class='id alias_method_chain'>alias_method_chain</span> <span class='symbol'>:foo?</span><span class='comma'>,</span> <span class='symbol'>:feature</span>
</pre>
<p>
is equivalent to
</p>
<pre class="code">
  <span class='id alias_method'>alias_method</span> <span class='symbol'>:foo_without_feature?</span><span class='comma'>,</span> <span class='symbol'>:foo?</span>
  <span class='id alias_method'>alias_method</span> <span class='symbol'>:foo?</span><span class='comma'>,</span> <span class='symbol'>:foo_with_feature?</span>
</pre>
<p>
so you can safely chain foo, foo?, and foo! with the same feature.
</p>


  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>aliased_target</tt>, <tt>punctuation</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/aliasing.rb', line 23</span>

<span class='kw'>def</span> <span class='id alias_method_chain'>alias_method_chain</span><span class='lparen'>(</span><span class='id target'>target</span><span class='comma'>,</span> <span class='id feature'>feature</span><span class='rparen'>)</span>
  <span class='comment'># Strip out punctuation on predicates or bang methods since
</span>  <span class='comment'># e.g. target?_without_feature is not a valid method name.
</span>  <span class='id aliased_target'>aliased_target</span><span class='comma'>,</span> <span class='id punctuation'>punctuation</span> <span class='op'>=</span> <span class='id target'>target</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([?!=])$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='backref'>$1</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='id aliased_target'>aliased_target</span><span class='comma'>,</span> <span class='id punctuation'>punctuation</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>

  <span class='id with_method'>with_method</span><span class='comma'>,</span> <span class='id without_method'>without_method</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id aliased_target'>aliased_target</span><span class='rbrace'>}</span><span class='tstring_content'>_with_</span><span class='embexpr_beg'>#{</span><span class='id feature'>feature</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id punctuation'>punctuation</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id aliased_target'>aliased_target</span><span class='rbrace'>}</span><span class='tstring_content'>_without_</span><span class='embexpr_beg'>#{</span><span class='id feature'>feature</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id punctuation'>punctuation</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id alias_method'>alias_method</span> <span class='id without_method'>without_method</span><span class='comma'>,</span> <span class='id target'>target</span>
  <span class='id alias_method'>alias_method</span> <span class='id target'>target</span><span class='comma'>,</span> <span class='id with_method'>with_method</span>

  <span class='kw'>case</span>
    <span class='kw'>when</span> <span class='id public_method_defined?'>public_method_defined?</span><span class='lparen'>(</span><span class='id without_method'>without_method</span><span class='rparen'>)</span>
      <span class='id public'>public</span> <span class='id target'>target</span>
    <span class='kw'>when</span> <span class='id protected_method_defined?'>protected_method_defined?</span><span class='lparen'>(</span><span class='id without_method'>without_method</span><span class='rparen'>)</span>
      <span class='id protected'>protected</span> <span class='id target'>target</span>
    <span class='kw'>when</span> <span class='id private_method_defined?'>private_method_defined?</span><span class='lparen'>(</span><span class='id without_method'>without_method</span><span class='rparen'>)</span>
      <span class='id private'>private</span> <span class='id target'>target</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="anonymous?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>anonymous?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A module may or may not have a name.
</p>
<pre class="code">
  <span class='kw'>module</span> <span class='const'>M</span><span class='semicolon'>;</span> <span class='kw'>end</span>
  <span class='const'>M</span><span class='period'>.</span><span class='id name'>name</span> <span class='comment'># =&gt; &quot;M&quot;
</span>
  <span class='id m'>m</span> <span class='op'>=</span> <span class='const'>Module</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='id m'>m</span><span class='period'>.</span><span class='id name'>name</span> <span class='comment'># =&gt; &quot;&quot;
</span></pre>
<p>
A module gets a name when it is first assigned to a constant. Either via
the <tt>module</tt> or <tt>class</tt> keyword or by an explicit assignment:
</p>
<pre class="code">
  <span class='id m'>m</span> <span class='op'>=</span> <span class='const'>Module</span><span class='period'>.</span><span class='id new'>new</span> <span class='comment'># creates an anonymous module
</span>  <span class='const'>M</span> <span class='op'>=</span> <span class='id m'>m</span>          <span class='comment'># =&gt; m gets a name here as a side-effect
</span>  <span class='id m'>m</span><span class='period'>.</span><span class='id name'>name</span>         <span class='comment'># =&gt; &quot;M&quot;</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/anonymous.rb', line 19</span>

<span class='kw'>def</span> <span class='id anonymous?'>anonymous?</span>
  <span class='comment'># Uses blank? because the name of an anonymous class is an empty
</span>  <span class='comment'># string in 1.8, and nil in 1.9.
</span>  <span class='id name'>name</span><span class='period'>.</span><span class='id blank?'>blank?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_accessor_with_default-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>attr_accessor_with_default</strong>(sym, default = nil, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Declare an attribute accessor with an initial default return value.
</p>
<p>
To give attribute <tt>:age</tt> the initial value <tt>25</tt>:
</p>
<pre class="code">
  class Person
    attr_accessor_with_default :age, 25
  end

  some_person.age
  =&gt; 25
  some_person.age = 26
  some_person.age
  =&gt; 26
</pre>
<p>
To give attribute <tt>:element_name</tt> a dynamic default value, evaluated
in scope of self:
</p>
<pre class="code">
  <span class='id attr_accessor_with_default'>attr_accessor_with_default</span><span class='lparen'>(</span><span class='symbol'>:element_name</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id name'>name</span><span class='period'>.</span><span class='id underscore'>underscore</span> <span class='rbrace'>}</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attr_accessor_with_default.rb', line 21</span>

<span class='kw'>def</span> <span class='id attr_accessor_with_default'>attr_accessor_with_default</span><span class='lparen'>(</span><span class='id sym'>sym</span><span class='comma'>,</span> <span class='id default'>default</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Default value or block required</span><span class='tstring_end'>'</span></span> <span class='kw'>unless</span> <span class='op'>!</span><span class='id default'>default</span><span class='period'>.</span><span class='id nil?'>nil?</span> <span class='op'>||</span> <span class='id block'>block</span>
  <span class='id define_method'>define_method</span><span class='lparen'>(</span><span class='id sym'>sym</span><span class='comma'>,</span> <span class='id block_given?'>block_given?</span> <span class='op'>?</span> <span class='id block'>block</span> <span class='op'>:</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id new'>new</span> <span class='lbrace'>{</span> <span class='id default'>default</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id module_eval'>module_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EVAL</span><span class='tstring_content'>    def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(value)                        # def age=(value)
</span><span class='tstring_content'>      class &lt;&lt; self; attr_reader :</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> end  #   class &lt;&lt; self; attr_reader :age end
</span><span class='tstring_content'>      @</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = value                         #   @age = value
    end                                       # end
</span><span class='heredoc_end'>  EVAL
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_internal_accessor-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>attr_internal_accessor</strong>(*attrs) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='attr_internal-instance_method'>attr_internal</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Declares an attribute reader and writer backed by an internally-named
instance variable.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attr_internal.rb', line 18</span>

<span class='kw'>def</span> <span class='id attr_internal_accessor'>attr_internal_accessor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attrs'>attrs</span><span class='rparen'>)</span>
  <span class='id attr_internal_reader'>attr_internal_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attrs'>attrs</span><span class='rparen'>)</span>
  <span class='id attr_internal_writer'>attr_internal_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attrs'>attrs</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_internal_reader-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>attr_internal_reader</strong>(*attrs) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Declares an attribute reader backed by an internally-named instance
variable.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3
4
5
6
7</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attr_internal.rb', line 3</span>

<span class='kw'>def</span> <span class='id attr_internal_reader'>attr_internal_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attrs'>attrs</span><span class='rparen'>)</span>
  <span class='id attrs'>attrs</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id attr'>attr</span><span class='op'>|</span>
    <span class='id module_eval'>module_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id attr'>attr</span><span class='rbrace'>}</span><span class='tstring_content'>() </span><span class='embexpr_beg'>#{</span><span class='id attr_internal_ivar_name'>attr_internal_ivar_name</span><span class='lparen'>(</span><span class='id attr'>attr</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'> end</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attr_internal_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>attr_internal_writer</strong>(*attrs) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Declares an attribute writer backed by an internally-named instance
variable.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attr_internal.rb', line 10</span>

<span class='kw'>def</span> <span class='id attr_internal_writer'>attr_internal_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id attrs'>attrs</span><span class='rparen'>)</span>
  <span class='id attrs'>attrs</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id attr'>attr</span><span class='op'>|</span>
    <span class='id module_eval'>module_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id attr'>attr</span><span class='rbrace'>}</span><span class='tstring_content'>=(v) </span><span class='embexpr_beg'>#{</span><span class='id attr_internal_ivar_name'>attr_internal_ivar_name</span><span class='lparen'>(</span><span class='id attr'>attr</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'> = v end</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delegate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delegate</strong>(*methods) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Provides a delegate class method to easily expose contained objects&#8217;
methods as your own. Pass one or more methods (specified as symbols or
strings) and the name of the target object via the <tt>:to</tt> option
(also a symbol or string). At least one method and the <tt>:to</tt> option
are required.
</p>
<p>
Delegation is particularly useful with Active Record associations:
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Greeter</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='kw'>def</span> <span class='id hello'>hello</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id goodbye'>goodbye</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>class</span> <span class='const'>Foo</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='id belongs_to'>belongs_to</span> <span class='symbol'>:greeter</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:hello</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:greeter</span>
  <span class='kw'>end</span>

  <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id hello'>hello</span>   <span class='comment'># =&gt; &quot;hello&quot;
</span>  <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id goodbye'>goodbye</span> <span class='comment'># =&gt; NoMethodError: undefined method `goodbye' for #&lt;Foo:0x1af30c&gt;
</span></pre>
<p>
Multiple delegates to the same target are allowed:
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Foo</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='id belongs_to'>belongs_to</span> <span class='symbol'>:greeter</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:hello</span><span class='comma'>,</span> <span class='symbol'>:goodbye</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:greeter</span>
  <span class='kw'>end</span>

  <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id goodbye'>goodbye</span> <span class='comment'># =&gt; &quot;goodbye&quot;
</span></pre>
<p>
Methods can be delegated to instance variables, class variables, or
constants by providing them as a symbols:
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Foo</span>
    <span class='const'>CONSTANT_ARRAY</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span>
    <span class='cvar'>@@class_array</span>  <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span><span class='int'>6</span><span class='comma'>,</span><span class='int'>7</span><span class='rbracket'>]</span>

    <span class='kw'>def</span> <span class='id initialize'>initialize</span>
      <span class='ivar'>@instance_array</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>8</span><span class='comma'>,</span><span class='int'>9</span><span class='comma'>,</span><span class='int'>10</span><span class='comma'>,</span><span class='int'>11</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:sum</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:CONSTANT_ARRAY</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:min</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:@@class_array</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:max</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:@instance_array</span>
  <span class='kw'>end</span>

  <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id sum'>sum</span> <span class='comment'># =&gt; 6
</span>  <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id min'>min</span> <span class='comment'># =&gt; 4
</span>  <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id max'>max</span> <span class='comment'># =&gt; 11
</span></pre>
<p>
Delegates can optionally be prefixed using the <tt>:prefix</tt> option. If
the value is <tt>true</tt>, the delegate methods are prefixed with the name
of the object being delegated to.
</p>
<pre class="code">
  <span class='const'>Person</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='rparen'>)</span>

  <span class='kw'>class</span> <span class='const'>Invoice</span> <span class='op'>&lt;</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:client</span><span class='rparen'>)</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:client</span><span class='comma'>,</span> <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id john_doe'>john_doe</span> <span class='op'>=</span> <span class='const'>Person</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>John Doe</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Vimmersvej 13</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id invoice'>invoice</span> <span class='op'>=</span> <span class='const'>Invoice</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id john_doe'>john_doe</span><span class='rparen'>)</span>
  <span class='id invoice'>invoice</span><span class='period'>.</span><span class='id client_name'>client_name</span>    <span class='comment'># =&gt; &quot;John Doe&quot;
</span>  <span class='id invoice'>invoice</span><span class='period'>.</span><span class='id client_address'>client_address</span> <span class='comment'># =&gt; &quot;Vimmersvej 13&quot;
</span></pre>
<p>
It is also possible to supply a custom prefix.
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Invoice</span> <span class='op'>&lt;</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='symbol'>:client</span><span class='rparen'>)</span>
    <span class='id delegate'>delegate</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:address</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:client</span><span class='comma'>,</span> <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='symbol'>:customer</span>
  <span class='kw'>end</span>

  <span class='id invoice'>invoice</span> <span class='op'>=</span> <span class='const'>Invoice</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id john_doe'>john_doe</span><span class='rparen'>)</span>
  <span class='id invoice'>invoice</span><span class='period'>.</span><span class='id customer_name'>customer_name</span>    <span class='comment'># =&gt; &quot;John Doe&quot;
</span>  <span class='id invoice'>invoice</span><span class='period'>.</span><span class='id customer_address'>customer_address</span> <span class='comment'># =&gt; &quot;Vimmersvej 13&quot;
</span></pre>
<p>
If the delegate object is <tt>nil</tt> an exception is raised, and that
happens no matter whether <tt>nil</tt> responds to the delegated method.
You can get a <tt>nil</tt> instead with the <tt>:allow_nil</tt> option.
</p>
<pre class="code">
 <span class='kw'>class</span> <span class='const'>Foo</span>
   <span class='id attr_accessor'>attr_accessor</span> <span class='symbol'>:bar</span>
   <span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id bar'>bar</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
     <span class='ivar'>@bar</span> <span class='op'>=</span> <span class='id bar'>bar</span>
   <span class='kw'>end</span>
   <span class='id delegate'>delegate</span> <span class='symbol'>:zoo</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:bar</span>
 <span class='kw'>end</span>

 <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id zoo'>zoo</span>   <span class='comment'># raises NoMethodError exception (you called nil.zoo)
</span>
 <span class='kw'>class</span> <span class='const'>Foo</span>
   <span class='id attr_accessor'>attr_accessor</span> <span class='symbol'>:bar</span>
   <span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id bar'>bar</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
     <span class='ivar'>@bar</span> <span class='op'>=</span> <span class='id bar'>bar</span>
   <span class='kw'>end</span>
   <span class='id delegate'>delegate</span> <span class='symbol'>:zoo</span><span class='comma'>,</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='symbol'>:bar</span><span class='comma'>,</span> <span class='symbol'>:allow_nil</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
 <span class='kw'>end</span>

 <span class='const'>Foo</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id zoo'>zoo</span>   <span class='comment'># returns nil</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/delegation.rb', line 106</span>

<span class='kw'>def</span> <span class='id delegate'>delegate</span><span class='lparen'>(</span><span class='op'>*</span><span class='id methods'>methods</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id methods'>methods</span><span class='period'>.</span><span class='id pop'>pop</span>
  <span class='kw'>unless</span> <span class='id options'>options</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id to'>to</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:to</span><span class='rbracket'>]</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delegation needs a target. Supply an options hash with a :to key as the last argument (e.g. delegate :hello, :to =&gt; :greeter).</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:prefix</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>true</span> <span class='op'>&amp;&amp;</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:to</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^[^a-z_]</span><span class='regexp_end'>/</span></span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can only automatically set the delegation prefix when delegating to a method.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id prefix'>prefix</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:prefix</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:prefix</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>true</span> <span class='op'>?</span> <span class='id to'>to</span> <span class='op'>:</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:prefix</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>

  <span class='id file'>file</span><span class='comma'>,</span> <span class='id line'>line</span> <span class='op'>=</span> <span class='id caller'>caller</span><span class='period'>.</span><span class='id first'>first</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>:</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='id line'>line</span> <span class='op'>=</span> <span class='id line'>line</span><span class='period'>.</span><span class='id to_i'>to_i</span>

  <span class='id methods'>methods</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id method'>method</span><span class='op'>|</span>
    <span class='id on_nil'>on_nil</span> <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:allow_nil</span><span class='rbracket'>]</span>
        <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>return</span><span class='tstring_end'>'</span></span>
      <span class='kw'>else</span>
        <span class='tstring'><span class='tstring_beg'>%(</span><span class='tstring_content'>raise &quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='rbrace'>}</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id prefix'>prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='rbrace'>}</span><span class='tstring_content'> delegated to </span><span class='embexpr_beg'>#{</span><span class='id to'>to</span><span class='rbrace'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='rbrace'>}</span><span class='tstring_content'>, but </span><span class='embexpr_beg'>#{</span><span class='id to'>to</span><span class='rbrace'>}</span><span class='tstring_content'> is nil: \#{self.inspect}&quot;</span><span class='tstring_end'>)</span></span>
      <span class='kw'>end</span>

    <span class='id module_eval'>module_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      if instance_methods(false).map(&amp;:to_s).include?(&quot;</span><span class='embexpr_beg'>#{</span><span class='id prefix'>prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='rbrace'>}</span><span class='tstring_content'>&quot;)
</span><span class='tstring_content'>        remove_possible_method(&quot;</span><span class='embexpr_beg'>#{</span><span class='id prefix'>prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='rbrace'>}</span><span class='tstring_content'>&quot;)
      end

</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id prefix'>prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='rbrace'>}</span><span class='tstring_content'>(*args, &amp;block)               # def customer_name(*args, &amp;block)
</span><span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id to'>to</span><span class='rbrace'>}</span><span class='tstring_content'>.__send__(</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>, *args, &amp;block)  #   client.__send__(:name, *args, &amp;block)
      rescue NoMethodError                                # rescue NoMethodError
</span><span class='tstring_content'>        if </span><span class='embexpr_beg'>#{</span><span class='id to'>to</span><span class='rbrace'>}</span><span class='tstring_content'>.nil?                                     #   if client.nil?
</span><span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id on_nil'>on_nil</span><span class='rbrace'>}</span><span class='tstring_content'>                                       #     return # depends on :allow_nil
        else                                              #   else
          raise                                           #     raise
        end                                               #   end
      end                                                 # end
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='id file'>file</span><span class='comma'>,</span> <span class='id line'>line</span> <span class='op'>-</span> <span class='int'>5</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deprecate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>deprecate</strong>(*method_names) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Declare that a method has been deprecated.
</p>
<pre class="code">
  <span class='id deprecate'>deprecate</span> <span class='symbol'>:foo</span>
  <span class='id deprecate'>deprecate</span> <span class='symbol'>:bar</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>message</span><span class='tstring_end'>'</span></span>
  <span class='id deprecate'>deprecate</span> <span class='symbol'>:foo</span><span class='comma'>,</span> <span class='symbol'>:bar</span><span class='comma'>,</span> <span class='symbol'>:baz</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>warning!</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:qux</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>gone!</span><span class='tstring_end'>'</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/deprecation.rb', line 6</span>

<span class='kw'>def</span> <span class='id deprecate'>deprecate</span><span class='lparen'>(</span><span class='op'>*</span><span class='id method_names'>method_names</span><span class='rparen'>)</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id deprecate_methods'>deprecate_methods</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id method_names'>method_names</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="duplicable?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>duplicable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/object/duplicable.rb', line 62</span>

<span class='kw'>def</span> <span class='id duplicable?'>duplicable?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="local_constant_names-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>local_constant_names</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the names of the constants defined locally rather than the
constants themselves. See <tt>local_constants</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/introspection.rb', line 85</span>

<span class='kw'>def</span> <span class='id local_constant_names'>local_constant_names</span>
  <span class='id local_constants'>local_constants</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id c'>c</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="local_constants-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>local_constants</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/introspection.rb', line 65</span>

<span class='kw'>def</span> <span class='id local_constants'>local_constants</span> <span class='comment'>#:nodoc:
</span>  <span class='id constants'>constants</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mattr_accessor-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>mattr_accessor</strong>(*syms) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Extends the module object with module and instance accessors for class
attributes, just like the native attr* accessors for instance attributes.
</p>
<pre class="code">
 <span class='kw'>module</span> <span class='const'>AppConfiguration</span>
   <span class='id mattr_accessor'>mattr_accessor</span> <span class='symbol'>:google_api_key</span>
   <span class='kw'>self</span><span class='period'>.</span><span class='id google_api_key'>google_api_key</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123456789</span><span class='tstring_end'>&quot;</span></span>

   <span class='id mattr_accessor'>mattr_accessor</span> <span class='symbol'>:paypal_url</span>
   <span class='kw'>self</span><span class='period'>.</span><span class='id paypal_url'>paypal_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.sandbox.paypal.com</span><span class='tstring_end'>&quot;</span></span>
 <span class='kw'>end</span>

 <span class='const'>AppConfiguration</span><span class='period'>.</span><span class='id google_api_key'>google_api_key</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>overriding the api key!</span><span class='tstring_end'>&quot;</span></span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attribute_accessors.rb', line 56</span>

<span class='kw'>def</span> <span class='id mattr_accessor'>mattr_accessor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id mattr_reader'>mattr_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id mattr_writer'>mattr_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mattr_reader-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>mattr_reader</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attribute_accessors.rb', line 4</span>

<span class='kw'>def</span> <span class='id mattr_reader'>mattr_reader</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = nil unless defined? @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>

</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>        @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
      end
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>

    <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_reader</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>        def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
</span><span class='tstring_content'>          @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>
        end
</span><span class='heredoc_end'>      EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mattr_writer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>mattr_writer</strong>(*syms) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/attribute_accessors.rb', line 25</span>

<span class='kw'>def</span> <span class='id mattr_writer'>mattr_writer</span><span class='lparen'>(</span><span class='op'>*</span><span class='id syms'>syms</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id syms'>syms</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id syms'>syms</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sym'>sym</span><span class='op'>|</span>
    <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)
</span><span class='tstring_content'>        @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj
      end
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>

    <span class='kw'>unless</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:instance_writer</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span>
      <span class='id class_eval'>class_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>        def </span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'>=(obj)
</span><span class='tstring_content'>          @@</span><span class='embexpr_beg'>#{</span><span class='id sym'>sym</span><span class='rbrace'>}</span><span class='tstring_content'> = obj
        end
</span><span class='heredoc_end'>      EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parent-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>parent</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the module which contains this one according to its name.
</p>
<pre class="code">
  <span class='kw'>module</span> <span class='const'>M</span>
    <span class='kw'>module</span> <span class='const'>N</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='const'>X</span> <span class='op'>=</span> <span class='const'>M</span><span class='op'>::</span><span class='const'>N</span>

  <span class='const'>M</span><span class='op'>::</span><span class='const'>N</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='comment'># =&gt; M
</span>  <span class='const'>X</span><span class='period'>.</span><span class='id parent'>parent</span>    <span class='comment'># =&gt; M
</span></pre>
<p>
The parent of top-level and anonymous modules is Object.
</p>
<pre class="code">
  <span class='const'>M</span><span class='period'>.</span><span class='id parent'>parent</span>          <span class='comment'># =&gt; Object
</span>  <span class='const'>Module</span><span class='period'>.</span><span class='id new'>new</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='comment'># =&gt; Object</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/introspection.rb', line 30</span>

<span class='kw'>def</span> <span class='id parent'>parent</span>
  <span class='id parent_name'>parent_name</span> <span class='op'>?</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Inflector</span><span class='period'>.</span><span class='id constantize'>constantize</span><span class='lparen'>(</span><span class='id parent_name'>parent_name</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='const'>Object</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parent_name-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>parent_name</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the name of the module containing this one.
</p>
<pre class="code">
  <span class='const'>M</span><span class='op'>::</span><span class='const'>N</span><span class='period'>.</span><span class='id parent_name'>parent_name</span> <span class='comment'># =&gt; &quot;M&quot;</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/introspection.rb', line 7</span>

<span class='kw'>def</span> <span class='id parent_name'>parent_name</span>
  <span class='kw'>unless</span> <span class='kw'>defined?</span> <span class='ivar'>@parent_name</span>
    <span class='ivar'>@parent_name</span> <span class='op'>=</span> <span class='id name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>::[^:]+\Z</span><span class='regexp_end'>/</span></span> <span class='op'>?</span> <span class='backref'>$`</span><span class='period'>.</span><span class='id freeze'>freeze</span> <span class='op'>:</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='ivar'>@parent_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="parents-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>parents</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns all the parents of this module according to its name, ordered from
nested outwards. The receiver is not contained within the result.
</p>
<pre class="code">
  <span class='kw'>module</span> <span class='const'>M</span>
    <span class='kw'>module</span> <span class='const'>N</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='const'>X</span> <span class='op'>=</span> <span class='const'>M</span><span class='op'>::</span><span class='const'>N</span>

  <span class='const'>M</span><span class='period'>.</span><span class='id parents'>parents</span>    <span class='comment'># =&gt; [Object]
</span>  <span class='const'>M</span><span class='op'>::</span><span class='const'>N</span><span class='period'>.</span><span class='id parents'>parents</span> <span class='comment'># =&gt; [M, Object]
</span>  <span class='const'>X</span><span class='period'>.</span><span class='id parents'>parents</span>    <span class='comment'># =&gt; [M, Object]</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/introspection.rb', line 47</span>

<span class='kw'>def</span> <span class='id parents'>parents</span>
  <span class='id parents'>parents</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id parent_name'>parent_name</span>
    <span class='id parts'>parts</span> <span class='op'>=</span> <span class='id parent_name'>parent_name</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>until</span> <span class='id parts'>parts</span><span class='period'>.</span><span class='id empty?'>empty?</span>
      <span class='id parents'>parents</span> <span class='op'>&lt;&lt;</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Inflector</span><span class='period'>.</span><span class='id constantize'>constantize</span><span class='lparen'>(</span><span class='id parts'>parts</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
      <span class='id parts'>parts</span><span class='period'>.</span><span class='id pop'>pop</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id parents'>parents</span> <span class='op'>&lt;&lt;</span> <span class='const'>Object</span> <span class='kw'>unless</span> <span class='id parents'>parents</span><span class='period'>.</span><span class='id include?'>include?</span> <span class='const'>Object</span>
  <span class='id parents'>parents</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reachable?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>reachable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5
6
7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/reachable.rb', line 5</span>

<span class='kw'>def</span> <span class='id reachable?'>reachable?</span> <span class='comment'>#:nodoc:
</span>  <span class='op'>!</span><span class='id anonymous?'>anonymous?</span> <span class='op'>&amp;&amp;</span> <span class='id name'>name</span><span class='period'>.</span><span class='id constantize'>constantize</span><span class='period'>.</span><span class='id equal?'>equal?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>NameError</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="redefine_method-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>redefine_method</strong>(method, &amp;block) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/remove_method.rb', line 7</span>

<span class='kw'>def</span> <span class='id redefine_method'>redefine_method</span><span class='lparen'>(</span><span class='id method'>method</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id remove_possible_method'>remove_possible_method</span><span class='lparen'>(</span><span class='id method'>method</span><span class='rparen'>)</span>
  <span class='id define_method'>define_method</span><span class='lparen'>(</span><span class='id method'>method</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_possible_method-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_possible_method</strong>(method) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2
3
4
5</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/remove_method.rb', line 2</span>

<span class='kw'>def</span> <span class='id remove_possible_method'>remove_possible_method</span><span class='lparen'>(</span><span class='id method'>method</span><span class='rparen'>)</span>
  <span class='id remove_method'>remove_method</span><span class='lparen'>(</span><span class='id method'>method</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>NameError</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="synchronize-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>synchronize</strong>(*methods) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Synchronize access around a method, delegating synchronization to a
particular mutex. A mutex (either a Mutex, or any object that responds to
#synchronize and yields to a block) must be provided as a final :with
option. The :with option should be a symbol or string, and can represent a
method, constant, or instance or class variable. Example:
</p>
<pre class="code">
  class SharedCache
    @@lock = Mutex.new
    def expire
      ...
    end
    synchronize :expire, :with =&gt; :@@lock
  end</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/core_ext/module/synchronization.rb', line 18</span>

<span class='kw'>def</span> <span class='id synchronize'>synchronize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id methods'>methods</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id methods'>methods</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='kw'>unless</span> <span class='id options'>options</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id with'>with</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:with</span><span class='rbracket'>]</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Synchronization needs a mutex. Supply an options hash with a :with key as the last argument (e.g. synchronize :hello, :with =&gt; :@mutex).</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id methods'>methods</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id method'>method</span><span class='op'>|</span>
    <span class='id aliased_method'>aliased_method</span><span class='comma'>,</span> <span class='id punctuation'>punctuation</span> <span class='op'>=</span> <span class='id method'>method</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([?!=])$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='backref'>$1</span>

    <span class='kw'>if</span> <span class='id method_defined?'>method_defined?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id aliased_method'>aliased_method</span><span class='rbrace'>}</span><span class='tstring_content'>_without_synchronization</span><span class='embexpr_beg'>#{</span><span class='id punctuation'>punctuation</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id method'>method</span><span class='rbrace'>}</span><span class='tstring_content'> is already synchronized. Double synchronization is not currently supported.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id module_eval'>module_eval</span><span class='lparen'>(</span><span class='heredoc_beg'>&lt;&lt;-EOS</span><span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id aliased_method'>aliased_method</span><span class='rbrace'>}</span><span class='tstring_content'>_with_synchronization</span><span class='embexpr_beg'>#{</span><span class='id punctuation'>punctuation</span><span class='rbrace'>}</span><span class='tstring_content'>(*args, &amp;block)     # def expire_with_synchronization(*args, &amp;block)
</span><span class='tstring_content'>        </span><span class='embexpr_beg'>#{</span><span class='id with'>with</span><span class='rbrace'>}</span><span class='tstring_content'>.synchronize do                                                    #   @@lock.synchronize do
</span><span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id aliased_method'>aliased_method</span><span class='rbrace'>}</span><span class='tstring_content'>_without_synchronization</span><span class='embexpr_beg'>#{</span><span class='id punctuation'>punctuation</span><span class='rbrace'>}</span><span class='tstring_content'>(*args, &amp;block)  #     expire_without_synchronization(*args, &amp;block)
        end                                                                       #   end
      end                                                                         # end
</span><span class='heredoc_end'>    EOS
</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>

    <span class='id alias_method_chain'>alias_method_chain</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='symbol'>:synchronization</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:23 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>