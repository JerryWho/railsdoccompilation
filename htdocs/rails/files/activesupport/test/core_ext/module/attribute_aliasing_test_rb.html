  <div id="fileHeader">
    <h1>attribute_aliasing_test.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>activesupport/test/core_ext/module/attribute_aliasing_test.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 11:32:54 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require 'abstract_unit'

module AttributeAliasing
  class Content
    attr_accessor :title, :Data

    def initialize
      @title, @Data = nil, nil
    end

    def title?
      !title.nil?
    end

    def Data?
      !self.Data.nil?
    end
  end

  class Email &lt; Content
    alias_attribute :subject, :title
    alias_attribute :body, :Data
  end
end

class AttributeAliasingTest &lt; Test::Unit::TestCase
  def test_attribute_alias
    e = AttributeAliasing::Email.new

    assert !e.subject?

    e.title = &quot;Upgrade computer&quot;
    assert_equal &quot;Upgrade computer&quot;, e.subject
    assert e.subject?

    e.subject = &quot;We got a long way to go&quot;
    assert_equal &quot;We got a long way to go&quot;, e.title
    assert e.title?
  end

  def test_aliasing_to_uppercase_attributes
    # Although it's very un-Ruby, some people's AR-mapped tables have
    # upper-case attributes, and when people want to alias those names
    # to more sensible ones, everything goes *foof*.
    e = AttributeAliasing::Email.new
    
    assert !e.body?
    assert !e.Data?
    
    e.body = &quot;No, really, this is not a joke.&quot;
    assert_equal &quot;No, really, this is not a joke.&quot;, e.Data
    assert e.Data?
    
    e.Data = &quot;Uppercased methods are teh suck&quot;
    assert_equal &quot;Uppercased methods are teh suck&quot;, e.body
    assert e.body?
  end
end
</pre>
    </div>