  <div id="fileHeader">
    <h1>class_inheritable_attributes_test.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>activerecord/test/cases/class_inheritable_attributes_test.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Fri Nov 27 16:38:16 +0100 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require 'test/unit'
require &quot;cases/helper&quot;
require 'active_support/core_ext/class/inheritable_attributes'

class A
  include ClassInheritableAttributes
end

class B &lt; A
  write_inheritable_array &quot;first&quot;, [ :one, :two ]
end

class C &lt; A
  write_inheritable_array &quot;first&quot;, [ :three ]
end

class D &lt; B
  write_inheritable_array &quot;first&quot;, [ :four ]
end


class ClassInheritableAttributesTest &lt; ActiveRecord::TestCase
  def test_first_level
    assert_equal [ :one, :two ], B.read_inheritable_attribute(&quot;first&quot;)
    assert_equal [ :three ], C.read_inheritable_attribute(&quot;first&quot;)
  end

  def test_second_level
    assert_equal [ :one, :two, :four ], D.read_inheritable_attribute(&quot;first&quot;)
    assert_equal [ :one, :two ], B.read_inheritable_attribute(&quot;first&quot;)
  end
end
</pre>
    </div>