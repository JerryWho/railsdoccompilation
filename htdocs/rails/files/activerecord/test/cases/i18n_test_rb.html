  <div id="fileHeader">
    <h1>i18n_test.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>activerecord/test/cases/i18n_test.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:59:08 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require &quot;cases/helper&quot;
require 'models/topic'
require 'models/reply'

class ActiveRecordI18nTests &lt; Test::Unit::TestCase

  def setup
    I18n.backend = I18n::Backend::Simple.new
  end
  
  def test_translated_model_attributes
    I18n.backend.store_translations 'en', :activerecord =&gt; {:attributes =&gt; {:topic =&gt; {:title =&gt; 'topic title attribute'} } }
    assert_equal 'topic title attribute', Topic.human_attribute_name('title')
  end
  
  def test_translated_model_attributes_with_symbols
    I18n.backend.store_translations 'en', :activerecord =&gt; {:attributes =&gt; {:topic =&gt; {:title =&gt; 'topic title attribute'} } }
    assert_equal 'topic title attribute', Topic.human_attribute_name(:title)
  end

  def test_translated_model_attributes_with_sti
    I18n.backend.store_translations 'en', :activerecord =&gt; {:attributes =&gt; {:reply =&gt; {:title =&gt; 'reply title attribute'} } }
    assert_equal 'reply title attribute', Reply.human_attribute_name('title')
  end

  def test_translated_model_attributes_with_sti_fallback
    I18n.backend.store_translations 'en', :activerecord =&gt; {:attributes =&gt; {:topic =&gt; {:title =&gt; 'topic title attribute'} } }
    assert_equal 'topic title attribute', Reply.human_attribute_name('title')
  end

  def test_translated_model_names
    I18n.backend.store_translations 'en', :activerecord =&gt; {:models =&gt; {:topic =&gt; 'topic model'} }
    assert_equal 'topic model', Topic.human_name
  end

  def test_translated_model_names_with_sti
    I18n.backend.store_translations 'en', :activerecord =&gt; {:models =&gt; {:reply =&gt; 'reply model'} }
    assert_equal 'reply model', Reply.human_name
  end

  def test_translated_model_names_with_sti_fallback
    I18n.backend.store_translations 'en', :activerecord =&gt; {:models =&gt; {:topic =&gt; 'topic model'} }
    assert_equal 'topic model', Reply.human_name
  end
end

</pre>
    </div>