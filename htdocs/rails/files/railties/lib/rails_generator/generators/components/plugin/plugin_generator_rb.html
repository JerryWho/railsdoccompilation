  <div id="fileHeader">
    <h1>plugin_generator.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>railties/lib/rails_generator/generators/components/plugin/plugin_generator.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Fri Nov 27 16:38:16 +0100 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>class PluginGenerator &lt; Rails::Generator::NamedBase
  attr_reader :plugin_path

  def initialize(runtime_args, runtime_options = {})
    @with_generator = runtime_args.delete(&quot;--with-generator&quot;)
    super
    @plugin_path = &quot;vendor/plugins/#{file_name}&quot;
  end

  def manifest
    record do |m|
      # Check for class naming collisions.
      m.class_collisions class_name

      m.directory &quot;#{plugin_path}/lib&quot;
      m.directory &quot;#{plugin_path}/tasks&quot;
      m.directory &quot;#{plugin_path}/test&quot;

      m.template 'README',         &quot;#{plugin_path}/README&quot;
      m.template 'MIT-LICENSE',    &quot;#{plugin_path}/MIT-LICENSE&quot;
      m.template 'Rakefile',       &quot;#{plugin_path}/Rakefile&quot;
      m.template 'init.rb',        &quot;#{plugin_path}/init.rb&quot;
      m.template 'install.rb',     &quot;#{plugin_path}/install.rb&quot;
      m.template 'uninstall.rb',   &quot;#{plugin_path}/uninstall.rb&quot;
      m.template 'plugin.rb',      &quot;#{plugin_path}/lib/#{file_name}.rb&quot;
      m.template 'tasks.rake',     &quot;#{plugin_path}/tasks/#{file_name}_tasks.rake&quot;
      m.template 'unit_test.rb',   &quot;#{plugin_path}/test/#{file_name}_test.rb&quot;
      m.template 'test_helper.rb', &quot;#{plugin_path}/test/test_helper.rb&quot;
      if @with_generator
        m.directory &quot;#{plugin_path}/generators&quot;
        m.directory &quot;#{plugin_path}/generators/#{file_name}&quot;
        m.directory &quot;#{plugin_path}/generators/#{file_name}/templates&quot;

        m.template 'generator.rb', &quot;#{plugin_path}/generators/#{file_name}/#{file_name}_generator.rb&quot;
        m.template 'USAGE',        &quot;#{plugin_path}/generators/#{file_name}/USAGE&quot;
      end
    end
  end
end
</pre>
    </div>