  <div id="fileHeader">
    <h1>errors.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>activemodel/lib/active_model/errors.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 11:32:53 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>module ActiveModel
  class Errors &lt; Hash
    include DeprecatedErrorMethods
    
    @@default_error_messages = {
      :inclusion                =&gt; &quot;is not included in the list&quot;,
      :exclusion                =&gt; &quot;is reserved&quot;,
      :invalid                  =&gt; &quot;is invalid&quot;,
      :confirmation             =&gt; &quot;doesn't match confirmation&quot;,
      :accepted                 =&gt; &quot;must be accepted&quot;,
      :empty                    =&gt; &quot;can't be empty&quot;,
      :blank                    =&gt; &quot;can't be blank&quot;,
      :too_long                 =&gt; &quot;is too long (maximum is %d characters)&quot;,
      :too_short                =&gt; &quot;is too short (minimum is %d characters)&quot;,
      :wrong_length             =&gt; &quot;is the wrong length (should be %d characters)&quot;,
      :taken                    =&gt; &quot;has already been taken&quot;,
      :not_a_number             =&gt; &quot;is not a number&quot;,
      :greater_than             =&gt; &quot;must be greater than %d&quot;,
      :greater_than_or_equal_to =&gt; &quot;must be greater than or equal to %d&quot;,
      :equal_to                 =&gt; &quot;must be equal to %d&quot;,
      :less_than                =&gt; &quot;must be less than %d&quot;,
      :less_than_or_equal_to    =&gt; &quot;must be less than or equal to %d&quot;,
      :odd                      =&gt; &quot;must be odd&quot;,
      :even                     =&gt; &quot;must be even&quot;
    }
  
    ##
    # :singleton-method:
    # Holds a hash with all the default error messages that can be replaced by your own copy or localizations.
    cattr_accessor :default_error_messages

    alias_method :get, :[]
    alias_method :set, :[]=

    def [](attribute)
      if errors = get(attribute.to_sym)
        errors.size == 1 ? errors.first : errors
      else
        set(attribute.to_sym, [])
      end
    end

    def []=(attribute, error)
      self[attribute.to_sym] &lt;&lt; error
    end

    def each
      each_key do |attribute| 
        self[attribute].each { |error| yield attribute, error }
      end
    end

    def size
      values.flatten.size
    end

    def to_a
      inject([]) do |errors_with_attributes, (attribute, errors)|
        if error.blank?
          errors_with_attributes
        else
          if attr == :base
            errors_with_attributes &lt;&lt; error
          else
            errors_with_attributes &lt;&lt; (attribute.to_s.humanize + &quot; &quot; + error)
          end
        end
      end
    end

    def to_xml(options={})
      options[:root]    ||= &quot;errors&quot;
      options[:indent]  ||= 2
      options[:builder] ||= Builder::XmlMarkup.new(:indent =&gt; options[:indent])

      options[:builder].instruct! unless options.delete(:skip_instruct)
      options[:builder].errors do |e|
        to_a.each { |error| e.error(error) }
      end
    end
  end
end</pre>
    </div>