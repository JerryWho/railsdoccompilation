  <div id="fileHeader">
    <h1>translation_helper_test.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>actionpack/test/template/translation_helper_test.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:59:08 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require 'abstract_unit'

class TranslationHelperTest &lt; Test::Unit::TestCase
  include ActionView::Helpers::TagHelper
  include ActionView::Helpers::TranslationHelper
  
  attr_reader :request
  def setup
  end
  
  def test_delegates_to_i18n_setting_the_raise_option
    I18n.expects(:translate).with(:foo, :locale =&gt; 'en', :raise =&gt; true)
    translate :foo, :locale =&gt; 'en'
  end
  
  def test_returns_missing_translation_message_wrapped_into_span
    expected = '&lt;span class=&quot;translation_missing&quot;&gt;en, foo&lt;/span&gt;'
    assert_equal expected, translate(:foo)
  end

  def test_delegates_localize_to_i18n
    @time = Time.utc(2008, 7, 8, 12, 18, 38)
    I18n.expects(:localize).with(@time)
    localize @time
  end
  
  def test_scoping_by_partial
    expects(:template).returns(stub(:path_without_format_and_extension =&gt; &quot;people/index&quot;))
    I18n.expects(:translate).with(&quot;people.index.foo&quot;, :locale =&gt; 'en', :raise =&gt; true)
    translate &quot;.foo&quot;, :locale =&gt; 'en'
  end
end
</pre>
    </div>