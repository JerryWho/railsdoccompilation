  <div id="fileHeader">
    <h1>template_test.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>actionpack/test/template/template_test.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 25 11:32:53 +0200 2010</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>require 'abstract_unit'

class TemplateTest &lt; Test::Unit::TestCase
  def test_template_path_parsing
    with_options :base_path =&gt; nil, :name =&gt; 'abc', :locale =&gt; nil, :format =&gt; 'html', :extension =&gt; 'erb' do |t|
      t.assert_parses_template_path 'abc.en.html.erb',        :locale =&gt; 'en'
      t.assert_parses_template_path 'abc.en.plain.html.erb',  :locale =&gt; 'en', :format =&gt; 'plain.html'
      t.assert_parses_template_path 'abc.html.erb'
      t.assert_parses_template_path 'abc.plain.html.erb',     :format =&gt; 'plain.html'
      t.assert_parses_template_path 'abc.erb',                :format =&gt; nil
      t.assert_parses_template_path 'abc.html',               :extension =&gt; nil
      
      t.assert_parses_template_path '_abc.html.erb',          :name =&gt; '_abc'
      
      t.assert_parses_template_path 'test/abc.html.erb',      :base_path =&gt; 'test'
      t.assert_parses_template_path './test/abc.html.erb',    :base_path =&gt; './test'
      t.assert_parses_template_path '../test/abc.html.erb',   :base_path =&gt; '../test'
      
      t.assert_parses_template_path 'abc',                    :extension =&gt; nil, :format =&gt; nil, :name =&gt; nil
      t.assert_parses_template_path 'abc.xxx',                :extension =&gt; nil, :format =&gt; 'xxx', :name =&gt; 'abc'
      t.assert_parses_template_path 'abc.html.xxx',           :extension =&gt; nil, :format =&gt; 'xxx', :name =&gt; 'abc'
    end
  end

  private
  def assert_parses_template_path(path, parse_results)
    template = ActionView::Template.new(path, '')
    parse_results.each_pair do |k, v|
      assert_block(%Q{Expected template to parse #{k.inspect} from &quot;#{path}&quot; as #{v.inspect}, but got #{template.send(k).inspect}}) { v == template.send(k) }
    end
  end
end
</pre>
    </div>