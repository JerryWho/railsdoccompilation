  <div id="fileHeader">
    <h1>release.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>release.rb</td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Oct 12 14:59:08 +0200 2009</td>
    </tr>
    </table>
  </div>
 <!-- banner header -->

  <div id="bodyContent" >
    <h2>Source Code</h2>
    <pre>#!/usr/bin/env ruby

VERSION  = ARGV.first
PACKAGES = %w(activesupport activerecord actionpack actionmailer activeresource)

# Copy source
`mkdir release`
(PACKAGES + %w(railties)).each do |p| 
  `cp -R #{p} release/#{p}`
end

# Create Rails packages
`cd release/railties &amp;&amp; rake template=jamis package`

# Upload documentation
`cd release/rails/doc/api &amp;&amp; scp -r * davidhh@wrath.rubyonrails.com:public_html/api`

# Upload packages
(PACKAGES + %w(railties)).each do |p| 
  `cd release/#{p} &amp;&amp; echo &quot;Releasing #{p}&quot; &amp;&amp; rake release`
end

# Upload rails tgz/zip
`rubyforge add_release rails rails 'REL #{VERSION}' release/rails-#{VERSION}.tgz`
`rubyforge add_release rails rails 'REL #{VERSION}' release/rails-#{VERSION}.zip`</pre>
    </div>