<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionView::Helpers::DateHelper</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../ActionView.html" title="ActionView (module)">ActionView</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a></span></span>
     &raquo; 
    <span class="title">DateHelper</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionView::Helpers::DateHelper
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_view/helpers/date_helper.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h1>Action View Date Helpers</h1>
<p>
The Date Helper primarily creates select/option tags for different kinds of
dates and date elements. All of the select-type methods share a number of
common options that are as follows:
</p>
<ul>
<li><p>
<tt>:prefix</tt> - overwrites the default prefix of &#8220;date&#8221; used
for the select names. So specifying &#8220;birthday&#8220;
</p>
</li>
</ul>
<p>
would give birthday[month] instead of date[month] if passed to the
select_month method.
</p>
<ul>
<li><p>
<tt>:include_blank</tt> - set to true if it should be possible to set an
empty date.
</p>
</li>
<li><p>
<tt>:discard_type</tt> - set to true if you want to discard the type part
of the select name. If set to true, the select_month method would use
simply &#8220;date&#8221; (which can be overwritten using <tt>:prefix</tt>)
instead of &#8220;date[month]&#8221;.
</p>
</li>
</ul>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#date_select-instance_method" title="#date_select (instance method)">- (Object) <strong>date_select</strong>(object_name, method, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a set of select tags (one for year, month, and day) pre-selected
for accessing a specified date-based attribute (identified by
<tt>method</tt>) on an object assigned to the template (identified by
<tt>object</tt>).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#datetime_select-instance_method" title="#datetime_select (instance method)">- (Object) <strong>datetime_select</strong>(object_name, method, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a set of select tags (one for year, month, day, hour, and minute)
pre-selected for accessing a specified datetime-based attribute (identified
by <tt>method</tt>) on an object assigned to the template (identified by
<tt>object</tt>).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#distance_of_time_in_words-instance_method" title="#distance_of_time_in_words (instance method)">- (Object) <strong>distance_of_time_in_words</strong>(from_time, to_time = 0, include_seconds = false, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Reports the approximate distance in time between two Time or Date objects
or integers as seconds.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_date-instance_method" title="#select_date (instance method)">- (Object) <strong>select_date</strong>(date = Date.current, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a set of html select-tags (one for year, month, and day)
pre-selected with the <tt>date</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_datetime-instance_method" title="#select_datetime (instance method)">- (Object) <strong>select_datetime</strong>(datetime = Time.current, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a set of html select-tags (one for year, month, day, hour, and
minute) pre-selected with the <tt>datetime</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_day-instance_method" title="#select_day (instance method)">- (Object) <strong>select_day</strong>(date, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a select tag with options for each of the days 1 through 31 with
the current day selected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_hour-instance_method" title="#select_hour (instance method)">- (Object) <strong>select_hour</strong>(datetime, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a select tag with options for each of the hours 0 through 23 with
the current hour selected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_minute-instance_method" title="#select_minute (instance method)">- (Object) <strong>select_minute</strong>(datetime, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a select tag with options for each of the minutes 0 through 59 with
the current minute selected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_month-instance_method" title="#select_month (instance method)">- (Object) <strong>select_month</strong>(date, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a select tag with options for each of the months January through
December with the current month selected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_second-instance_method" title="#select_second (instance method)">- (Object) <strong>select_second</strong>(datetime, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a select tag with options for each of the seconds 0 through 59 with
the current second selected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_time-instance_method" title="#select_time (instance method)">- (Object) <strong>select_time</strong>(datetime = Time.current, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a set of html select-tags (one for hour and minute) You can set
<tt>:time_separator</tt> key to format the output, and the
<tt>:include_seconds</tt> option to include an input for seconds.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_year-instance_method" title="#select_year (instance method)">- (Object) <strong>select_year</strong>(date, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a select tag with options for each of the five years on each side
of the current, which is selected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_ago_in_words-instance_method" title="#time_ago_in_words (instance method)">- (Object) <strong>time_ago_in_words</strong>(from_time, include_seconds = false) </a>
    

    
      (also: #distance_of_time_in_words_to_now)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Like distance_of_time_in_words, but where <tt>to_time</tt> is fixed to
<tt>Time.now</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#time_select-instance_method" title="#time_select (instance method)">- (Object) <strong>time_select</strong>(object_name, method, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a set of select tags (one for hour, minute and optionally second)
pre-selected for accessing a specified time-based attribute (identified by
<tt>method</tt>) on an object assigned to the template (identified by
<tt>object</tt>).
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="date_select-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>date_select</strong>(object_name, method, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a set of select tags (one for year, month, and day) pre-selected
for accessing a specified date-based attribute (identified by
<tt>method</tt>) on an object assigned to the template (identified by
<tt>object</tt>).
</p>
<h4>Options</h4>
<ul>
<li><p>
<tt>:use_month_numbers</tt> - Set to true if you want to use month numbers
rather than month names (e.g. &#8220;2&#8221; instead of
&#8220;February&#8221;).
</p>
</li>
<li><p>
<tt>:use_short_month</tt>   - Set to true if you want to use abbreviated
month names instead of full month names (e.g. &#8220;Feb&#8221; instead of
&#8220;February&#8221;).
</p>
</li>
<li><p>
<tt>:add_month_numbers</tt>  - Set to true if you want to use both month
numbers and month names (e.g. &#8220;2 - February&#8221; instead of
&#8220;February&#8221;).
</p>
</li>
<li><p>
<tt>:use_month_names</tt>   - Set to an array with 12 month names if you
want to customize month names. Note: You can also use Rails&#8217; i18n
functionality for this.
</p>
</li>
<li><p>
<tt>:date_separator</tt>    - Specifies a string to separate the date
fields. Default is &#8220;&#8221; (i.e. nothing).
</p>
</li>
<li><p>
<tt>:start_year</tt>        - Set the start year for the year select.
Default is <tt>Time.now.year - 5</tt>.
</p>
</li>
<li><p>
<tt>:end_year</tt>          - Set the end year for the year select. Default
is <tt>Time.now.year + 5</tt>.
</p>
</li>
<li><p>
<tt>:discard_day</tt>       - Set to true if you don&#8217;t want to show a
day select. This includes the day as a hidden field instead of showing a
select field. Also note that this implicitly sets the day to be the first
of the given month in order to not create invalid dates like 31 February.
</p>
</li>
<li><p>
<tt>:discard_month</tt>     - Set to true if you don&#8217;t want to show a
month select. This includes the month as a hidden field instead of showing
a select field. Also note that this implicitly sets :discard_day to true.
</p>
</li>
<li><p>
<tt>:discard_year</tt>      - Set to true if you don&#8217;t want to show a
year select. This includes the year as a hidden field instead of showing a
select field.
</p>
</li>
<li><p>
<tt>:order</tt>             - Set to an array containing <tt>:day</tt>,
<tt>:month</tt> and <tt>:year</tt> to customize the order in which the
select fields are shown. If you leave out any of the symbols, the
respective select will not be shown (like when you set <tt>:discard_xxx
=&gt; true</tt>. Defaults to the order defined in the respective locale
(e.g. [:year, :month, :day] in the en locale that ships with Rails).
</p>
</li>
<li><p>
<tt>:include_blank</tt>     - Include a blank option in every select field
so it&#8217;s possible to set empty dates.
</p>
</li>
<li><p>
<tt>:default</tt>           - Set a default date if the affected date
isn&#8217;t set or is nil.
</p>
</li>
<li><p>
<tt>:disabled</tt>          - Set to true if you want show the select
fields as disabled.
</p>
</li>
<li><p>
<tt>:prompt</tt>            - Set to true (for a generic prompt), a prompt
string or a hash of prompt strings for <tt>:year</tt>, <tt>:month</tt>,
<tt>:day</tt>, <tt>:hour</tt>, <tt>:minute</tt> and <tt>:second</tt>.
Setting this option prepends a select option with a generic prompt  (Day,
Month, Year, Hour, Minute, Seconds) or the given prompt string.
</p>
</li>
</ul>
<p>
If anything is passed in the <tt>html_options</tt> hash it will be applied
to every select tag in the set.
</p>
<p>
NOTE: Discarded selects will default to 1. So if no month select is
available, January will be assumed.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='comment'># Generates a date select that when POSTed is stored in the post variable, in the written_on attribute
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that when POSTed is stored in the post variable, in the written_on attribute,
</span>  <span class='comment'># with the year in the year drop down box starting at 1995.
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:start_year</span> <span class='op'>=&gt;</span> <span class='int'>1995</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that when POSTed is stored in the post variable, in the written_on attribute,
</span>  <span class='comment'># with the year in the year drop down box starting at 1995, numbers used for months instead of words,
</span>  <span class='comment'># and without a day select box.
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:start_year</span> <span class='op'>=&gt;</span> <span class='int'>1995</span><span class='comma'>,</span> <span class='symbol'>:use_month_numbers</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>
                                    <span class='symbol'>:discard_day</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:include_blank</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that when POSTed is stored in the post variable, in the written_on attribute
</span>  <span class='comment'># with the fields ordered as day, month, year rather than month, day, year.
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:day</span><span class='comma'>,</span> <span class='symbol'>:month</span><span class='comma'>,</span> <span class='symbol'>:year</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that when POSTed is stored in the user variable, in the birthday attribute
</span>  <span class='comment'># lacking a year field.
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>birthday</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:month</span><span class='comma'>,</span> <span class='symbol'>:day</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that when POSTed is stored in the user variable, in the birthday attribute
</span>  <span class='comment'># which is initially set to the date 3 days from the current date
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='period'>.</span><span class='id days'>days</span><span class='period'>.</span><span class='id from_now'>from_now</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that when POSTed is stored in the credit_card variable, in the bill_due attribute
</span>  <span class='comment'># that will have a default day of 20.
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>credit_card</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bill_due</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='int'>20</span> <span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select with custom prompts
</span>  <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Select day</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Select month</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Select year</span><span class='tstring_end'>'</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
</pre>
<p>
The selects are prepared for multi-parameter assignment to an Active Record
object.
</p>
<p>
Note: If the day is not included as an option but the month is, the day
will be set to the 1st to ensure that all month choices are valid.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 201</span>

<span class='kw'>def</span> <span class='id date_select'>date_select</span><span class='lparen'>(</span><span class='id object_name'>object_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>InstanceTag</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id object_name'>object_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:object</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_date_select_tag'>to_date_select_tag</span><span class='lparen'>(</span><span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="datetime_select-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>datetime_select</strong>(object_name, method, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a set of select tags (one for year, month, day, hour, and minute)
pre-selected for accessing a specified datetime-based attribute (identified
by <tt>method</tt>) on an object assigned to the template (identified by
<tt>object</tt>).
</p>
<p>
If anything is passed in the html_options hash it will be applied to every
select tag in the set.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='comment'># Generates a datetime select that, when POSTed, will be stored in the post variable in the written_on
</span>  <span class='comment'># attribute
</span>  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select with a year select that starts at 1995 that, when POSTed, will be stored in the
</span>  <span class='comment'># post variable in the written_on attribute.
</span>  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:start_year</span> <span class='op'>=&gt;</span> <span class='int'>1995</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select with a default value of 3 days from the current time that, when POSTed, will
</span>  <span class='comment'># be stored in the trip variable in the departing attribute.
</span>  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trip</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>departing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:default</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='period'>.</span><span class='id days'>days</span><span class='period'>.</span><span class='id from_now'>from_now</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that discards the type that, when POSTed, will be stored in the post variable
</span>  <span class='comment'># as the written_on attribute.
</span>  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:discard_type</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select with a custom prompt. Use :prompt=&gt;true for generic prompts.
</span>  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose day</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose month</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose year</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># generic prompt for hours
</span>  <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># generic prompts for all
</span></pre>
<p>
The selects are prepared for multi-parameter assignment to an Active Record
object.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 278</span>

<span class='kw'>def</span> <span class='id datetime_select'>datetime_select</span><span class='lparen'>(</span><span class='id object_name'>object_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>InstanceTag</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id object_name'>object_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:object</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_datetime_select_tag'>to_datetime_select_tag</span><span class='lparen'>(</span><span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="distance_of_time_in_words-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>distance_of_time_in_words</strong>(from_time, to_time = 0, include_seconds = false, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Reports the approximate distance in time between two Time or Date objects
or integers as seconds. Set <tt>include_seconds</tt> to true if you want
more detailed approximations when distance < 1 min, 29 secs Distances are
reported based on the following table:
</p>
<pre class="code">
  0 &lt;-&gt; 29 secs                                                             # =&gt; less than a minute
  30 secs &lt;-&gt; 1 min, 29 secs                                                # =&gt; 1 minute
  1 min, 30 secs &lt;-&gt; 44 mins, 29 secs                                       # =&gt; [2..44] minutes
  44 mins, 30 secs &lt;-&gt; 89 mins, 29 secs                                     # =&gt; about 1 hour
  89 mins, 29 secs &lt;-&gt; 23 hrs, 59 mins, 29 secs                             # =&gt; about [2..24] hours
  23 hrs, 59 mins, 29 secs &lt;-&gt; 47 hrs, 59 mins, 29 secs                     # =&gt; 1 day
  47 hrs, 59 mins, 29 secs &lt;-&gt; 29 days, 23 hrs, 59 mins, 29 secs            # =&gt; [2..29] days
  29 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 59 days, 23 hrs, 59 mins, 29 secs   # =&gt; about 1 month
  59 days, 23 hrs, 59 mins, 30 secs &lt;-&gt; 1 yr minus 1 sec                    # =&gt; [2..12] months
  1 yr &lt;-&gt; 1 yr, 3 months                                                   # =&gt; about 1 year
  1 yr, 3 months &lt;-&gt; 1 yr, 9 months                                         # =&gt; over 1 year
  1 yr, 9 months &lt;-&gt; 2 yr minus 1 sec                                       # =&gt; almost 2 years
  2 yrs &lt;-&gt; max time or date                                                # =&gt; (same rules as 1 yr)
</pre>
<p>
With <tt>include_seconds</tt> = true and the difference < 1 minute 29
seconds:
</p>
<pre class="code">
  0-4   secs      # =&gt; less than 5 seconds
  5-9   secs      # =&gt; less than 10 seconds
  10-19 secs      # =&gt; less than 20 seconds
  20-39 secs      # =&gt; half a minute
  40-59 secs      # =&gt; less than a minute
  60-89 secs      # =&gt; 1 minute
</pre>
<h4>Examples</h4>
<pre class="code">
  <span class='id from_time'>from_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span>
  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>50</span><span class='period'>.</span><span class='id minutes'>minutes</span><span class='rparen'>)</span>        <span class='comment'># =&gt; about 1 hour
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='int'>50</span><span class='period'>.</span><span class='id minutes'>minutes</span><span class='period'>.</span><span class='id from_now'>from_now</span><span class='rparen'>)</span>           <span class='comment'># =&gt; about 1 hour
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>15</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='rparen'>)</span>        <span class='comment'># =&gt; less than a minute
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>15</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># =&gt; less than 20 seconds
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='int'>3</span><span class='period'>.</span><span class='id years'>years</span><span class='period'>.</span><span class='id from_now'>from_now</span><span class='rparen'>)</span>              <span class='comment'># =&gt; about 3 years
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>60</span><span class='period'>.</span><span class='id hours'>hours</span><span class='rparen'>)</span>          <span class='comment'># =&gt; about 3 days
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>45</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># =&gt; less than a minute
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>-</span> <span class='int'>45</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># =&gt; less than a minute
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='int'>76</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='period'>.</span><span class='id from_now'>from_now</span><span class='rparen'>)</span>           <span class='comment'># =&gt; 1 minute
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>1</span><span class='period'>.</span><span class='id year'>year</span> <span class='op'>+</span> <span class='int'>3</span><span class='period'>.</span><span class='id days'>days</span><span class='rparen'>)</span>   <span class='comment'># =&gt; about 1 year
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>3</span><span class='period'>.</span><span class='id years'>years</span> <span class='op'>+</span> <span class='int'>6</span><span class='period'>.</span><span class='id months'>months</span><span class='rparen'>)</span> <span class='comment'># =&gt; over 3 years
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span> <span class='op'>+</span> <span class='int'>4</span><span class='period'>.</span><span class='id years'>years</span> <span class='op'>+</span> <span class='int'>9</span><span class='period'>.</span><span class='id days'>days</span> <span class='op'>+</span> <span class='int'>30</span><span class='period'>.</span><span class='id minutes'>minutes</span> <span class='op'>+</span> <span class='int'>5</span><span class='period'>.</span><span class='id seconds'>seconds</span><span class='rparen'>)</span> <span class='comment'># =&gt; about 4 years
</span>
  <span class='id to_time'>to_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>+</span> <span class='int'>6</span><span class='period'>.</span><span class='id years'>years</span> <span class='op'>+</span> <span class='int'>19</span><span class='period'>.</span><span class='id days'>days</span>
  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id to_time'>to_time</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>     <span class='comment'># =&gt; about 6 years
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id to_time'>to_time</span><span class='comma'>,</span> <span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>     <span class='comment'># =&gt; about 6 years
</span>  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span><span class='comma'>,</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span><span class='rparen'>)</span>           <span class='comment'># =&gt; less than a minute</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 66</span>

<span class='kw'>def</span> <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id to_time'>to_time</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id include_seconds'>include_seconds</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id from_time'>from_time</span> <span class='op'>=</span> <span class='id from_time'>from_time</span><span class='period'>.</span><span class='id to_time'>to_time</span> <span class='kw'>if</span> <span class='id from_time'>from_time</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_time</span><span class='rparen'>)</span>
  <span class='id to_time'>to_time</span> <span class='op'>=</span> <span class='id to_time'>to_time</span><span class='period'>.</span><span class='id to_time'>to_time</span> <span class='kw'>if</span> <span class='id to_time'>to_time</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_time</span><span class='rparen'>)</span>
  <span class='id distance_in_minutes'>distance_in_minutes</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id to_time'>to_time</span> <span class='op'>-</span> <span class='id from_time'>from_time</span><span class='rparen'>)</span><span class='period'>.</span><span class='id abs'>abs</span><span class='rparen'>)</span><span class='op'>/</span><span class='int'>60</span><span class='rparen'>)</span><span class='period'>.</span><span class='id round'>round</span>
  <span class='id distance_in_seconds'>distance_in_seconds</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id to_time'>to_time</span> <span class='op'>-</span> <span class='id from_time'>from_time</span><span class='rparen'>)</span><span class='period'>.</span><span class='id abs'>abs</span><span class='rparen'>)</span><span class='period'>.</span><span class='id round'>round</span>

  <span class='const'>I18n</span><span class='period'>.</span><span class='id with_options'>with_options</span> <span class='symbol'>:locale</span> <span class='op'>=&gt;</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:locale</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:scope</span> <span class='op'>=&gt;</span> <span class='symbol'>:datetime.distance_in_words</span><span class='tstring_end'>'</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id locale'>locale</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id distance_in_minutes'>distance_in_minutes</span>
      <span class='kw'>when</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>1</span>
        <span class='kw'>return</span> <span class='id distance_in_minutes'>distance_in_minutes</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span>
               <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span><span class='lparen'>(</span><span class='symbol'>:less_than_x_minutes</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>:</span>
               <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span><span class='lparen'>(</span><span class='symbol'>:x_minutes</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='id distance_in_minutes'>distance_in_minutes</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id include_seconds'>include_seconds</span>

        <span class='kw'>case</span> <span class='id distance_in_seconds'>distance_in_seconds</span>
          <span class='kw'>when</span> <span class='int'>0</span><span class='op'>..</span><span class='int'>4</span>   <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:less_than_x_seconds</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>5</span>
          <span class='kw'>when</span> <span class='int'>5</span><span class='op'>..</span><span class='int'>9</span>   <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:less_than_x_seconds</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>10</span>
          <span class='kw'>when</span> <span class='int'>10</span><span class='op'>..</span><span class='int'>19</span> <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:less_than_x_seconds</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>20</span>
          <span class='kw'>when</span> <span class='int'>20</span><span class='op'>..</span><span class='int'>39</span> <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:half_a_minute</span>
          <span class='kw'>when</span> <span class='int'>40</span><span class='op'>..</span><span class='int'>59</span> <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:less_than_x_minutes</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>1</span>
          <span class='kw'>else</span>             <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:x_minutes</span><span class='comma'>,</span>           <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>1</span>
        <span class='kw'>end</span>

      <span class='kw'>when</span> <span class='int'>2</span><span class='op'>..</span><span class='int'>44</span>           <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:x_minutes</span><span class='comma'>,</span>      <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='id distance_in_minutes'>distance_in_minutes</span>
      <span class='kw'>when</span> <span class='int'>45</span><span class='op'>..</span><span class='int'>89</span>          <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:about_x_hours</span><span class='comma'>,</span>  <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>1</span>
      <span class='kw'>when</span> <span class='int'>90</span><span class='op'>..</span><span class='int'>1439</span>        <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:about_x_hours</span><span class='comma'>,</span>  <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id distance_in_minutes'>distance_in_minutes</span><span class='period'>.</span><span class='id to_f'>to_f</span> <span class='op'>/</span> <span class='float'>60.0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id round'>round</span>
      <span class='kw'>when</span> <span class='int'>1440</span><span class='op'>..</span><span class='int'>2529</span>      <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:x_days</span><span class='comma'>,</span>         <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>1</span>
      <span class='kw'>when</span> <span class='int'>2530</span><span class='op'>..</span><span class='int'>43199</span>     <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:x_days</span><span class='comma'>,</span>         <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id distance_in_minutes'>distance_in_minutes</span><span class='period'>.</span><span class='id to_f'>to_f</span> <span class='op'>/</span> <span class='float'>1440.0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id round'>round</span>
      <span class='kw'>when</span> <span class='int'>43200</span><span class='op'>..</span><span class='int'>86399</span>    <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:about_x_months</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='int'>1</span>
      <span class='kw'>when</span> <span class='int'>86400</span><span class='op'>..</span><span class='int'>525599</span>   <span class='kw'>then</span> <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span> <span class='symbol'>:x_months</span><span class='comma'>,</span>       <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id distance_in_minutes'>distance_in_minutes</span><span class='period'>.</span><span class='id to_f'>to_f</span> <span class='op'>/</span> <span class='float'>43200.0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id round'>round</span>
      <span class='kw'>else</span>
        <span class='id distance_in_years'>distance_in_years</span>           <span class='op'>=</span> <span class='id distance_in_minutes'>distance_in_minutes</span> <span class='op'>/</span> <span class='int'>525600</span>
        <span class='id minute_offset_for_leap_year'>minute_offset_for_leap_year</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id distance_in_years'>distance_in_years</span> <span class='op'>/</span> <span class='int'>4</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1440</span>
        <span class='id remainder'>remainder</span>                   <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id distance_in_minutes'>distance_in_minutes</span> <span class='op'>-</span> <span class='id minute_offset_for_leap_year'>minute_offset_for_leap_year</span><span class='rparen'>)</span> <span class='op'>%</span> <span class='int'>525600</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id remainder'>remainder</span> <span class='op'>&lt;</span> <span class='int'>131400</span>
          <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span><span class='lparen'>(</span><span class='symbol'>:about_x_years</span><span class='comma'>,</span>  <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='id distance_in_years'>distance_in_years</span><span class='rparen'>)</span>
        <span class='kw'>elsif</span> <span class='id remainder'>remainder</span> <span class='op'>&lt;</span> <span class='int'>394200</span>
          <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span><span class='lparen'>(</span><span class='symbol'>:over_x_years</span><span class='comma'>,</span>   <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='id distance_in_years'>distance_in_years</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id locale'>locale</span><span class='period'>.</span><span class='id t'>t</span><span class='lparen'>(</span><span class='symbol'>:almost_x_years</span><span class='comma'>,</span> <span class='symbol'>:count</span> <span class='op'>=&gt;</span> <span class='id distance_in_years'>distance_in_years</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_date-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_date</strong>(date = Date.current, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a set of html select-tags (one for year, month, and day)
pre-selected with the <tt>date</tt>. It&#8217;s possible to explicitly set
the order of the tags using the <tt>:order</tt> option with an array of
symbols <tt>:year</tt>, <tt>:month</tt> and <tt>:day</tt> in the desired
order. If you do not supply a Symbol, it will be appended onto the
<tt>:order</tt> passed in.
</p>
<p>
If anything is passed in the html_options hash it will be applied to every
select tag in the set.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_date'>my_date</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id today'>today</span> <span class='op'>+</span> <span class='int'>6</span><span class='period'>.</span><span class='id days'>days</span>

  <span class='comment'># Generates a date select that defaults to the date in my_date (six days after today)
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that defaults to today (no specified date)
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that defaults to the date in my_date (six days after today)
</span>  <span class='comment'># with the fields ordered year, month, day rather than month, day, year.
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:year</span><span class='comma'>,</span> <span class='symbol'>:month</span><span class='comma'>,</span> <span class='symbol'>:day</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that discards the type of the field and defaults to the date in
</span>  <span class='comment'># my_date (six days after today)
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:discard_type</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that defaults to the date in my_date,
</span>  <span class='comment'># which has fields separated by '/'
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:date_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select that defaults to the datetime in my_date (six days after today)
</span>  <span class='comment'># prefixed with 'payday' rather than 'date'
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>payday</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a date select with a custom prompt. Use :prompt=&gt;true for generic prompts.
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose day</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose month</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose year</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># generic prompt for hours
</span>  <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id my_date'>my_date</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># generic prompts for all</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


367
368
369</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 367</span>

<span class='kw'>def</span> <span class='id select_date'>select_date</span><span class='lparen'>(</span><span class='id date'>date</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id current'>current</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_date'>select_date</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_datetime-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_datetime</strong>(datetime = Time.current, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a set of html select-tags (one for year, month, day, hour, and
minute) pre-selected with the <tt>datetime</tt>. It&#8217;s also possible
to explicitly set the order of the tags using the <tt>:order</tt> option
with an array of symbols <tt>:year</tt>, <tt>:month</tt> and <tt>:day</tt>
in the desired order. If you do not supply a Symbol, it will be appended
onto the <tt>:order</tt> passed in. You can also add
<tt>:date_separator</tt>, <tt>:datetime_separator</tt> and
<tt>:time_separator</tt> keys to the <tt>options</tt> to control visual
display of the elements.
</p>
<p>
If anything is passed in the html_options hash it will be applied to every
select tag in the set.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_date_time'>my_date_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>+</span> <span class='int'>4</span><span class='period'>.</span><span class='id days'>days</span>

  <span class='comment'># Generates a datetime select that defaults to the datetime in my_date_time (four days after today)
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that defaults to today (no specified datetime)
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that defaults to the datetime in my_date_time (four days after today)
</span>  <span class='comment'># with the fields ordered year, month, day rather than month, day, year.
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:year</span><span class='comma'>,</span> <span class='symbol'>:month</span><span class='comma'>,</span> <span class='symbol'>:day</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that defaults to the datetime in my_date_time (four days after today)
</span>  <span class='comment'># with a '/' between each date field.
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:date_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that defaults to the datetime in my_date_time (four days after today)
</span>  <span class='comment'># with a date fields separated by '/', time fields separated by '' and the date and time fields
</span>  <span class='comment'># separated by a comma (',').
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:date_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:time_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:datetime_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>,</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that discards the type of the field and defaults to the datetime in
</span>  <span class='comment'># my_date_time (four days after today)
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:discard_type</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select that defaults to the datetime in my_date_time (four days after today)
</span>  <span class='comment'># prefixed with 'payday' rather than 'date'
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:prefix</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>payday</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a datetime select with a custom prompt. Use :prompt=&gt;true for generic prompts.
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose day</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose month</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose year</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># generic prompt for hours
</span>  <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id my_date_time'>my_date_time</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># generic prompts for all</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 326</span>

<span class='kw'>def</span> <span class='id select_datetime'>select_datetime</span><span class='lparen'>(</span><span class='id datetime'>datetime</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id current'>current</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_datetime'>select_datetime</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_day-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_day</strong>(date, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a select tag with options for each of the days 1 through 31 with
the current day selected. The <tt>date</tt> can also be substituted for a
hour number. Override the field name using the <tt>:field_name</tt> option,
&#8216;day&#8217; by default.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_date'>my_date</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id today'>today</span> <span class='op'>+</span> <span class='int'>2</span><span class='period'>.</span><span class='id days'>days</span>

  <span class='comment'># Generates a select field for days that defaults to the day for the date in my_date
</span>  <span class='id select_day'>select_day</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for days that defaults to the number given
</span>  <span class='id select_day'>select_day</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for days that defaults to the day for the date in my_date
</span>  <span class='comment'># that is named 'due' rather than 'day'
</span>  <span class='id select_day'>select_day</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>due</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for days with a custom prompt.  Use :prompt =&gt; true for a
</span>  <span class='comment'># generic prompt.
</span>  <span class='id select_day'>select_day</span><span class='lparen'>(</span><span class='int'>5</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose day</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


504
505
506</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 504</span>

<span class='kw'>def</span> <span class='id select_day'>select_day</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_day'>select_day</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_hour-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_hour</strong>(datetime, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a select tag with options for each of the hours 0 through 23 with
the current hour selected. The <tt>hour</tt> can also be substituted for a
hour number. Override the field name using the <tt>:field_name</tt> option,
&#8216;hour&#8217; by default.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_time'>my_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>+</span> <span class='int'>6</span><span class='period'>.</span><span class='id hours'>hours</span>

  <span class='comment'># Generates a select field for hours that defaults to the hour for the time in my_time
</span>  <span class='id select_hour'>select_hour</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for hours that defaults to the number given
</span>  <span class='id select_hour'>select_hour</span><span class='lparen'>(</span><span class='int'>13</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for hours that defaults to the minutes for the time in my_time
</span>  <span class='comment'># that is named 'stride' rather than 'second'
</span>  <span class='id select_hour'>select_hour</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>stride</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for hours with a custom prompt.  Use :prompt =&gt; true for a
</span>  <span class='comment'># generic prompt.
</span>  <span class='id select_hour'>select_hour</span><span class='lparen'>(</span><span class='int'>13</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose hour</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


479
480
481</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 479</span>

<span class='kw'>def</span> <span class='id select_hour'>select_hour</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_hour'>select_hour</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_minute-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_minute</strong>(datetime, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a select tag with options for each of the minutes 0 through 59 with
the current minute selected. Also can return a select tag with options by
<tt>minute_step</tt> from 0 through 59 with the 00 minute selected. The
<tt>minute</tt> can also be substituted for a minute number. Override the
field name using the <tt>:field_name</tt> option, &#8216;minute&#8217; by
default.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_time'>my_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>+</span> <span class='int'>6</span><span class='period'>.</span><span class='id hours'>hours</span>

  <span class='comment'># Generates a select field for minutes that defaults to the minutes for the time in my_time
</span>  <span class='id select_minute'>select_minute</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for minutes that defaults to the number given
</span>  <span class='id select_minute'>select_minute</span><span class='lparen'>(</span><span class='int'>14</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for minutes that defaults to the minutes for the time in my_time
</span>  <span class='comment'># that is named 'stride' rather than 'second'
</span>  <span class='id select_minute'>select_minute</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>stride</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for minutes with a custom prompt.  Use :prompt=&gt;true for a
</span>  <span class='comment'># generic prompt.
</span>  <span class='id select_minute'>select_minute</span><span class='lparen'>(</span><span class='int'>14</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose minutes</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


454
455
456</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 454</span>

<span class='kw'>def</span> <span class='id select_minute'>select_minute</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_minute'>select_minute</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_month-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_month</strong>(date, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a select tag with options for each of the months January through
December with the current month selected. The month names are presented as
keys (what&#8217;s shown to the user) and the month numbers (1-12) are used
as values (what&#8217;s submitted to the server). It&#8217;s also possible
to use month numbers for the presentation instead of names &#8212; set the
<tt>:use_month_numbers</tt> key in <tt>options</tt> to true for this to
happen. If you want both numbers and names, set the
<tt>:add_month_numbers</tt> key in <tt>options</tt> to true. If you would
prefer to show month names as abbreviations, set the
<tt>:use_short_month</tt> key in <tt>options</tt> to true. If you want to
use your own month names, set the <tt>:use_month_names</tt> key in
<tt>options</tt> to an array of 12 month names. Override the field name
using the <tt>:field_name</tt> option, &#8216;month&#8217; by default.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='comment'># Generates a select field for months that defaults to the current month that
</span>  <span class='comment'># will use keys like &quot;January&quot;, &quot;March&quot;.
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for months that defaults to the current month that
</span>  <span class='comment'># is named &quot;start&quot; rather than &quot;month&quot;
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for months that defaults to the current month that
</span>  <span class='comment'># will use keys like &quot;1&quot;, &quot;3&quot;.
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:use_month_numbers</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for months that defaults to the current month that
</span>  <span class='comment'># will use keys like &quot;1 - January&quot;, &quot;3 - March&quot;.
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:add_month_numbers</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for months that defaults to the current month that
</span>  <span class='comment'># will use keys like &quot;Jan&quot;, &quot;Mar&quot;.
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:use_short_month</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for months that defaults to the current month that
</span>  <span class='comment'># will use keys like &quot;Januar&quot;, &quot;Marts.&quot;
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:use_month_names</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>Januar</span><span class='words_sep'> </span><span class='tstring_content'>Februar</span><span class='words_sep'> </span><span class='tstring_content'>Marts</span><span class='words_sep'> </span><span class='tstring_content'>...</span><span class='words_sep'>)</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for months with a custom prompt.  Use :prompt =&gt; true for a
</span>  <span class='comment'># generic prompt.
</span>  <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='int'>14</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose month</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


546
547
548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 546</span>

<span class='kw'>def</span> <span class='id select_month'>select_month</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_month'>select_month</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_second-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_second</strong>(datetime, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a select tag with options for each of the seconds 0 through 59 with
the current second selected. The <tt>second</tt> can also be substituted
for a second number. Override the field name using the <tt>:field_name</tt>
option, &#8216;second&#8217; by default.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_time'>my_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>+</span> <span class='int'>16</span><span class='period'>.</span><span class='id minutes'>minutes</span>

  <span class='comment'># Generates a select field for seconds that defaults to the seconds for the time in my_time
</span>  <span class='id select_second'>select_second</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for seconds that defaults to the number given
</span>  <span class='id select_second'>select_second</span><span class='lparen'>(</span><span class='int'>33</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for seconds that defaults to the seconds for the time in my_time
</span>  <span class='comment'># that is named 'interval' rather than 'second'
</span>  <span class='id select_second'>select_second</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>interval</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for seconds with a custom prompt.  Use :prompt=&gt;true for a
</span>  <span class='comment'># generic prompt.
</span>  <span class='id select_minute'>select_minute</span><span class='lparen'>(</span><span class='int'>14</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose seconds</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 428</span>

<span class='kw'>def</span> <span class='id select_second'>select_second</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_second'>select_second</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_time-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_time</strong>(datetime = Time.current, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a set of html select-tags (one for hour and minute) You can set
<tt>:time_separator</tt> key to format the output, and the
<tt>:include_seconds</tt> option to include an input for seconds.
</p>
<p>
If anything is passed in the html_options hash it will be applied to every
select tag in the set.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id my_time'>my_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>+</span> <span class='int'>5</span><span class='period'>.</span><span class='id days'>days</span> <span class='op'>+</span> <span class='int'>7</span><span class='period'>.</span><span class='id hours'>hours</span> <span class='op'>+</span> <span class='int'>3</span><span class='period'>.</span><span class='id minutes'>minutes</span> <span class='op'>+</span> <span class='int'>14</span><span class='period'>.</span><span class='id seconds'>seconds</span>

  <span class='comment'># Generates a time select that defaults to the time in my_time
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='rparen'>)</span>

  <span class='comment'># Generates a time select that defaults to the current time (no specified time)
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='rparen'>)</span>

  <span class='comment'># Generates a time select that defaults to the time in my_time,
</span>  <span class='comment'># which has fields separated by ':'
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:time_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>:</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a time select that defaults to the time in my_time,
</span>  <span class='comment'># that also includes an input for seconds
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:include_seconds</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a time select that defaults to the time in my_time, that has fields
</span>  <span class='comment'># separated by ':' and includes an input for seconds
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:time_separator</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>:</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:include_seconds</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Generates a time select with a custom prompt. Use :prompt=&gt;true for generic prompts.
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:day</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose day</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose month</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose year</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># generic prompt for hours
</span>  <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id my_time'>my_time</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># generic prompts for all</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 403</span>

<span class='kw'>def</span> <span class='id select_time'>select_time</span><span class='lparen'>(</span><span class='id datetime'>datetime</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id current'>current</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id datetime'>datetime</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_time'>select_time</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select_year-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>select_year</strong>(date, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a select tag with options for each of the five years on each side
of the current, which is selected. The five year radius can be changed
using the <tt>:start_year</tt> and <tt>:end_year</tt> keys in the
<tt>options</tt>. Both ascending and descending year lists are supported by
making <tt>:start_year</tt> less than or greater than <tt>:end_year</tt>.
The <tt>date</tt> can also be substituted for a year given as a number.
Override the field name using the <tt>:field_name</tt> option,
&#8216;year&#8217; by default.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='comment'># Generates a select field for years that defaults to the current year that
</span>  <span class='comment'># has ascending year values
</span>  <span class='id select_year'>select_year</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:start_year</span> <span class='op'>=&gt;</span> <span class='int'>1992</span><span class='comma'>,</span> <span class='symbol'>:end_year</span> <span class='op'>=&gt;</span> <span class='int'>2007</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for years that defaults to the current year that
</span>  <span class='comment'># is named 'birth' rather than 'year'
</span>  <span class='id select_year'>select_year</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>birth</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for years that defaults to the current year that
</span>  <span class='comment'># has descending year values
</span>  <span class='id select_year'>select_year</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id today'>today</span><span class='comma'>,</span> <span class='symbol'>:start_year</span> <span class='op'>=&gt;</span> <span class='int'>2005</span><span class='comma'>,</span> <span class='symbol'>:end_year</span> <span class='op'>=&gt;</span> <span class='int'>1900</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for years that defaults to the year 2006 that
</span>  <span class='comment'># has ascending year values
</span>  <span class='id select_year'>select_year</span><span class='lparen'>(</span><span class='int'>2006</span><span class='comma'>,</span> <span class='symbol'>:start_year</span> <span class='op'>=&gt;</span> <span class='int'>2000</span><span class='comma'>,</span> <span class='symbol'>:end_year</span> <span class='op'>=&gt;</span> <span class='int'>2010</span><span class='rparen'>)</span>

  <span class='comment'># Generates a select field for years with a custom prompt.  Use :prompt =&gt; true for a
</span>  <span class='comment'># generic prompt.
</span>  <span class='id select_year'>select_year</span><span class='lparen'>(</span><span class='int'>14</span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose year</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


577
578
579</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 577</span>

<span class='kw'>def</span> <span class='id select_year'>select_year</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>DateTimeSelector</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id date'>date</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id select_year'>select_year</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="time_ago_in_words-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>time_ago_in_words</strong>(from_time, include_seconds = false) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='distance_of_time_in_words_to_now-instance_method'>distance_of_time_in_words_to_now</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Like distance_of_time_in_words, but where <tt>to_time</tt> is fixed to
<tt>Time.now</tt>.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='id time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='int'>3</span><span class='period'>.</span><span class='id minutes'>minutes</span><span class='period'>.</span><span class='id from_now'>from_now</span><span class='rparen'>)</span>       <span class='comment'># =&gt; 3 minutes
</span>  <span class='id time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>-</span> <span class='int'>15</span><span class='period'>.</span><span class='id hours'>hours</span><span class='rparen'>)</span>      <span class='comment'># =&gt; 15 hours
</span>  <span class='id time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span><span class='rparen'>)</span>                 <span class='comment'># =&gt; less than a minute
</span>
  <span class='id from_time'>from_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span> <span class='op'>-</span> <span class='int'>3</span><span class='period'>.</span><span class='id days'>days</span> <span class='op'>-</span> <span class='int'>14</span><span class='period'>.</span><span class='id minutes'>minutes</span> <span class='op'>-</span> <span class='int'>25</span><span class='period'>.</span><span class='id seconds'>seconds</span>     <span class='comment'># =&gt; 3 days</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 118</span>

<span class='kw'>def</span> <span class='id time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='id include_seconds'>include_seconds</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id distance_of_time_in_words'>distance_of_time_in_words</span><span class='lparen'>(</span><span class='id from_time'>from_time</span><span class='comma'>,</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span><span class='comma'>,</span> <span class='id include_seconds'>include_seconds</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="time_select-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>time_select</strong>(object_name, method, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a set of select tags (one for hour, minute and optionally second)
pre-selected for accessing a specified time-based attribute (identified by
<tt>method</tt>) on an object assigned to the template (identified by
<tt>object</tt>). You can include the seconds with
<tt>:include_seconds</tt>.
</p>
<p>
This method will also generate 3 input hidden tags, for the actual year,
month and day unless the option <tt>:ignore_date</tt> is set to
<tt>true</tt>.
</p>
<p>
If anything is passed in the html_options hash it will be applied to every
select tag in the set.
</p>
<h4>Examples</h4>
<pre class="code">
  <span class='comment'># Creates a time select tag that, when POSTed, will be stored in the post variable in the sunrise attribute
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sunrise</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Creates a time select tag that, when POSTed, will be stored in the order variable in the submitted
</span>  <span class='comment'># attribute
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>order</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>submitted</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Creates a time select tag that, when POSTed, will be stored in the mail variable in the sent_at attribute
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mail</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sent_at</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Creates a time select tag with a seconds field that, when POSTed, will be stored in the post variables in
</span>  <span class='comment'># the sunrise attribute.
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start_time</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:include_seconds</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># Creates a time select tag with a seconds field that, when POSTed, will be stored in the entry variables in
</span>  <span class='comment'># the submission_time attribute.
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>entry</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>submission_time</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:include_seconds</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># You can set the :minute_step to 15 which will give you: 00, 15, 30 and 45.
</span>  <span class='id time_select'>time_select</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>game</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>game_time</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:minute_step</span> <span class='op'>=&gt;</span> <span class='int'>15</span><span class='rbrace'>}</span>

  <span class='comment'># Creates a time select tag with a custom prompt. Use :prompt =&gt; true for generic prompts.
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose hour</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:minute</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose minute</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:second</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Choose seconds</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='symbol'>:hour</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'># generic prompt for hours
</span>  <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>written_on</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prompt</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># generic prompts for all
</span></pre>
<p>
The selects are prepared for multi-parameter assignment to an Active Record
object.
</p>
<p>
Note: If the day is not included as an option but the month is, the day
will be set to the 1st to ensure that all month choices are valid.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/date_helper.rb', line 245</span>

<span class='kw'>def</span> <span class='id time_select'>time_select</span><span class='lparen'>(</span><span class='id object_name'>object_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'>InstanceTag</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id object_name'>object_name</span><span class='comma'>,</span> <span class='id method'>method</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:object</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_time_select_tag'>to_time_select_tag</span><span class='lparen'>(</span><span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:55 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>