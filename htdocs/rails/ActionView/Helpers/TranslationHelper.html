<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionView::Helpers::TranslationHelper</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../ActionView.html" title="ActionView (module)">ActionView</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a></span></span>
     &raquo; 
    <span class="title">TranslationHelper</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionView::Helpers::TranslationHelper
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_view/helpers/translation_helper.rb</dd>
  
</dl>
<div class="clear"></div>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#localize-instance_method" title="#localize (instance method)">- (Object) <strong>localize</strong>(*args) </a>
    

    
      (also: #l)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delegates to I18n.localize with no additional functionality.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#translate-instance_method" title="#translate (instance method)">- (Object) <strong>translate</strong>(key, options = {}) </a>
    

    
      (also: #t)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delegates to I18n#translate but also performs three additional functions.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="localize-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>localize</strong>(*args) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='l-instance_method'>l</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delegates to I18n.localize with no additional functionality.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/translation_helper.rb', line 40</span>

<span class='kw'>def</span> <span class='id localize'>localize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
  <span class='const'>I18n</span><span class='period'>.</span><span class='id localize'>localize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="translate-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>translate</strong>(key, options = {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='t-instance_method'>t</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delegates to I18n#translate but also performs three additional functions.
First, it&#8217;ll catch MissingTranslationData exceptions and turn them
into inline spans that contains the missing key, such that you can see in a
view what is missing where.
</p>
<p>
Second, it&#8217;ll scope the key by the current partial if the key starts
with a period. So if you call <tt>translate(&quot;.foo&quot;)</tt> from the
<tt>people/index.html.erb</tt> template, you&#8217;ll actually be calling
<tt>I18n.translate(&quot;people.index.foo&quot;)</tt>. This makes it less
repetitive to translate many keys within the same partials and gives you a
simple framework for scoping them consistently. If you don&#8217;t prepend
the key with a period, nothing is converted.
</p>
<p>
Third, it&#8217;ll mark the translation as safe HTML if the key has the
suffix &#8220;_html&#8221; or the last element of the key is the word
&#8220;html&#8221;. For example, calling
translate(&#8220;footer_html&#8221;) or
translate(&#8220;footer.html&#8221;) will return a safe HTML string that
won&#8217;t be escaped by other HTML helper methods. This naming convention
helps to identify translations that include HTML tags so that you know what
kind of output to expect when you call translate in a template.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/translation_helper.rb', line 26</span>

<span class='kw'>def</span> <span class='id translate'>translate</span><span class='lparen'>(</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id translation'>translation</span> <span class='op'>=</span> <span class='const'>I18n</span><span class='period'>.</span><span class='id translate'>translate</span><span class='lparen'>(</span><span class='id scope_key_by_partial'>scope_key_by_partial</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id options'>options</span><span class='period'>.</span><span class='id merge!'>merge!</span><span class='lparen'>(</span><span class='symbol'>:raise</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id html_safe_translation_key?'>html_safe_translation_key?</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id translation'>translation</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:html_safe</span><span class='rparen'>)</span>
    <span class='id translation'>translation</span><span class='period'>.</span><span class='id html_safe'>html_safe</span>
  <span class='kw'>else</span>
    <span class='id translation'>translation</span>
  <span class='kw'>end</span>
<span class='kw'>rescue</span> <span class='const'>I18n</span><span class='op'>::</span><span class='const'>MissingTranslationData</span> <span class='op'>=&gt;</span> <span class='id e'>e</span>
  <span class='id keys'>keys</span> <span class='op'>=</span> <span class='const'>I18n</span><span class='period'>.</span><span class='id normalize_keys'>normalize_keys</span><span class='lparen'>(</span><span class='id e'>e</span><span class='period'>.</span><span class='id locale'>locale</span><span class='comma'>,</span> <span class='id e'>e</span><span class='period'>.</span><span class='id key'>key</span><span class='comma'>,</span> <span class='id e'>e</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:scope</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>span</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id keys'>keys</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>, </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:class</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>translation_missing</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:19 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>