<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionView::Helpers::UrlHelper</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (U)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../ActionView.html" title="ActionView (module)">ActionView</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Helpers.html" title="ActionView::Helpers (module)">Helpers</a></span></span>
     &raquo; 
    <span class="title">UrlHelper</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionView::Helpers::UrlHelper
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></span></dd>
      
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../../ActionDispatch/Routing/UrlFor.html" title="ActionDispatch::Routing::UrlFor (module)">ActionDispatch::Routing::UrlFor</a></span>, <span class='object_link'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></span></dd>
      
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Helpers.html" title="ActionView::Helpers (module)">ActionView::Helpers</a></span>, <span class='object_link'><a href="FormHelper.html" title="ActionView::Helpers::FormHelper (module)">FormHelper</a></span>, <span class='object_link'><a href="FormTagHelper.html" title="ActionView::Helpers::FormTagHelper (module)">FormTagHelper</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_view/helpers/url_helper.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Provides a set of methods for making links and getting URLs that depend on
the routing subsystem (see ActionDispatch::Routing). This allows you to use
the same format for links in views and controllers.
</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="TagHelper.html#BOOLEAN_ATTRIBUTES-constant" title="ActionView::Helpers::TagHelper::BOOLEAN_ATTRIBUTES (constant)">BOOLEAN_ATTRIBUTES</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Constants included from <span class='object_link'><a href="../../ERB/Util.html" title="ERB::Util (module)">ERB::Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ERB/Util.html#HTML_ESCAPE-constant" title="ERB::Util::HTML_ESCAPE (constant)">HTML_ESCAPE</a></span>, <span class='object_link'><a href="../../ERB/Util.html#JSON_ESCAPE-constant" title="ERB::Util::JSON_ESCAPE (constant)">JSON_ESCAPE</a></span></p>

  
  
  
  
  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#button_to-instance_method" title="#button_to (instance method)">- (Object) <strong>button_to</strong>(name, options = {}, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Generates a form containing a single button that submits to the URL created
by the set of <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_page%3F-instance_method" title="#current_page? (instance method)">- (Boolean) <strong>current_page?</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
True if the current request URI was generated by the given
<tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link_to-instance_method" title="#link_to (instance method)">- (Object) <strong>link_to</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link_to_if-instance_method" title="#link_to_if (instance method)">- (Object) <strong>link_to_if</strong>(condition, name, options = {}, html_options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> if <tt>condition</tt> is true, in which case only
the name is returned.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link_to_unless-instance_method" title="#link_to_unless (instance method)">- (Object) <strong>link_to_unless</strong>(condition, name, options = {}, html_options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> unless <tt>condition</tt> is true, in which case
only the name is returned.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link_to_unless_current-instance_method" title="#link_to_unless_current (instance method)">- (Object) <strong>link_to_unless_current</strong>(name, options = {}, html_options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> unless the current request URI is the same as the
links, in which case only the name is returned (or the given block is
yielded, if one exists).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mail_to-instance_method" title="#mail_to (instance method)">- (Object) <strong>mail_to</strong>(email_address, name = nil, html_options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a mailto link tag to the specified <tt>email_address</tt>, which is
also used as the name of the link unless <tt>name</tt> is specified.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#url_for-instance_method" title="#url_for (instance method)">- (Object) <strong>url_for</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the URL for the set of <tt>options</tt> provided.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#url_options-instance_method" title="#url_options (instance method)">- (Object) <strong>url_options</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Need to map default url options to controller one.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a></span>, <span class='object_link'><a href="../../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">extended</a></span>, <span class='object_link'><a href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="TagHelper.html" title="ActionView::Helpers::TagHelper (module)">TagHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="TagHelper.html#cdata_section-instance_method" title="ActionView::Helpers::TagHelper#cdata_section (method)">#cdata_section</a></span>, <span class='object_link'><a href="TagHelper.html#content_tag-instance_method" title="ActionView::Helpers::TagHelper#content_tag (method)">#content_tag</a></span>, <span class='object_link'><a href="TagHelper.html#escape_once-instance_method" title="ActionView::Helpers::TagHelper#escape_once (method)">#escape_once</a></span>, <span class='object_link'><a href="TagHelper.html#tag-instance_method" title="ActionView::Helpers::TagHelper#tag (method)">#tag</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="CaptureHelper.html" title="ActionView::Helpers::CaptureHelper (module)">CaptureHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="CaptureHelper.html#capture-instance_method" title="ActionView::Helpers::CaptureHelper#capture (method)">#capture</a></span>, <span class='object_link'><a href="CaptureHelper.html#content_for-instance_method" title="ActionView::Helpers::CaptureHelper#content_for (method)">#content_for</a></span>, <span class='object_link'><a href="CaptureHelper.html#content_for%3F-instance_method" title="ActionView::Helpers::CaptureHelper#content_for? (method)">#content_for?</a></span>, <span class='object_link'><a href="CaptureHelper.html#flush_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#flush_output_buffer (method)">#flush_output_buffer</a></span>, <span class='object_link'><a href="CaptureHelper.html#with_output_buffer-instance_method" title="ActionView::Helpers::CaptureHelper#with_output_buffer (method)">#with_output_buffer</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../ERB/Util.html" title="ERB::Util (module)">ERB::Util</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ERB/Util.html#html_escape-instance_method" title="ERB::Util#html_escape (method)">#html_escape</a></span>, <span class='object_link'><a href="../../ERB/Util.html#json_escape-instance_method" title="ERB::Util#json_escape (method)">#json_escape</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../ActionDispatch/Routing/PolymorphicRoutes.html" title="ActionDispatch::Routing::PolymorphicRoutes (module)">ActionDispatch::Routing::PolymorphicRoutes</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ActionDispatch/Routing/PolymorphicRoutes.html#polymorphic_path-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_path (method)">#polymorphic_path</a></span>, <span class='object_link'><a href="../../ActionDispatch/Routing/PolymorphicRoutes.html#polymorphic_url-instance_method" title="ActionDispatch::Routing::PolymorphicRoutes#polymorphic_url (method)">#polymorphic_url</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="button_to-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>button_to</strong>(name, options = {}, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Generates a form containing a single button that submits to the URL created
by the set of <tt>options</tt>. This is the safest method to ensure links
that cause changes to your data are not triggered by search bots or
accelerators. If the HTML button does not work with your layout, you can
also consider using the <tt>link_to</tt> method with the <tt>:method</tt>
modifier as described in the <tt>link_to</tt> documentation.
</p>
<p>
The generated form element has a class name of <tt>button_to</tt> to allow
styling of the form itself and its children. You can control the form
submission and input element behavior using <tt>html_options</tt>. This
method accepts the <tt>:method</tt> and <tt>:confirm</tt> modifiers
described in the <tt>link_to</tt> documentation. If no <tt>:method</tt>
modifier is given, it will default to performing a POST operation. You can
also disable the button by passing <tt>:disabled =&gt; true</tt> in
<tt>html_options</tt>. If you are using RESTful routes, you can pass the
<tt>:method</tt> to change the HTTP verb used to submit the form.
</p>
<h4>Options</h4>
<p>
The <tt>options</tt> hash accepts the same options as url_for.
</p>
<p>
There are a few special <tt>html_options</tt>:
</p>
<ul>
<li><p>
<tt>:method</tt> - Specifies the anchor name to be appended to the path.
</p>
</li>
<li><p>
<tt>:disabled</tt> - Specifies the anchor name to be appended to the path.
</p>
</li>
<li><p>
<tt>:confirm</tt> - This will use the unobtrusive JavaScript driver to
prompt with the question specified. If the user accepts, the link is
processed normally, otherwise no action is taken.
</p>
</li>
<li><p>
<tt>:remote</tt> -  If set to true, will allow the Unobtrusive JavaScript
drivers to control the submit behaviour. By default this behaviour is an
ajax submit.
</p>
</li>
</ul>
<h4>Examples</h4>
<pre class="code">
  &lt;%= button_to &quot;New&quot;, :action =&gt; &quot;new&quot; %&gt;
  # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/controller/new&quot; class=&quot;button_to&quot;&gt;
  #      &lt;div&gt;&lt;input value=&quot;New&quot; type=&quot;submit&quot; /&gt;&lt;/div&gt;
  #    &lt;/form&gt;&quot;

  &lt;%= button_to &quot;Delete Image&quot;, { :action =&gt; &quot;delete&quot;, :id =&gt; @image.id },
            :confirm =&gt; &quot;Are you sure?&quot;, :method =&gt; :delete %&gt;
  # =&gt; &quot;&lt;form method=&quot;post&quot; action=&quot;/images/delete/1&quot; class=&quot;button_to&quot;&gt;
  #      &lt;div&gt;
  #        &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;
  #        &lt;input data-confirm='Are you sure?' value=&quot;Delete&quot; type=&quot;submit&quot; /&gt;
  #      &lt;/div&gt;
  #    &lt;/form&gt;&quot;

  &lt;%= button_to('Destroy', 'http://www.example.com', :confirm =&gt; 'Are you sure?',
            :method =&gt; &quot;delete&quot;, :remote =&gt; true, :disable_with =&gt; 'loading...') %&gt;
  # =&gt; &quot;&lt;form class='button_to' method='post' action='http://www.example.com' data-remote='true'&gt;
  #       &lt;div&gt;
  #         &lt;input name='_method' value='delete' type='hidden' /&gt;
  #         &lt;input value='Destroy' type='submit' disable_with='loading...' data-confirm='Are you sure?' /&gt;
  #       &lt;/div&gt;
  #     &lt;/form&gt;&quot;
  #</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 306</span>

<span class='kw'>def</span> <span class='id button_to'>button_to</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id stringify_keys'>stringify_keys</span>
  <span class='id convert_boolean_attributes!'>convert_boolean_attributes!</span><span class='lparen'>(</span><span class='id html_options'>html_options</span><span class='comma'>,</span> <span class='qwords_beg'>%w( </span><span class='tstring_content'>disabled</span><span class='words_sep'> )</span><span class='rparen'>)</span>

  <span class='id method_tag'>method_tag</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id method'>method</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>method</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='qwords_beg'>%w{</span><span class='tstring_content'>put</span><span class='words_sep'> </span><span class='tstring_content'>delete</span><span class='words_sep'>}</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id method'>method</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span>
    <span class='id method_tag'>method_tag</span> <span class='op'>=</span> <span class='id tag'>tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>input</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>hidden</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_method</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:value</span> <span class='op'>=&gt;</span> <span class='id method'>method</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id form_method'>form_method</span> <span class='op'>=</span> <span class='id method'>method</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>get</span><span class='tstring_end'>'</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>get</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>post</span><span class='tstring_end'>'</span></span>

  <span class='id remote'>remote</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>remote</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='id request_token_tag'>request_token_tag</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
  <span class='kw'>if</span> <span class='id form_method'>form_method</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>post</span><span class='tstring_end'>'</span></span> <span class='op'>&amp;&amp;</span> <span class='id protect_against_forgery?'>protect_against_forgery?</span>
    <span class='id request_token_tag'>request_token_tag</span> <span class='op'>=</span> <span class='id tag'>tag</span><span class='lparen'>(</span><span class='symbol'>:input</span><span class='comma'>,</span> <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hidden</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='id request_forgery_protection_token'>request_forgery_protection_token</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='comma'>,</span> <span class='symbol'>:value</span> <span class='op'>=&gt;</span> <span class='id form_authenticity_token'>form_authenticity_token</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id url'>url</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id options'>options</span> <span class='op'>:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id url_for'>url_for</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='id name'>name</span> <span class='op'>||=</span> <span class='id url'>url</span>

  <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id convert_options_to_data_attributes'>convert_options_to_data_attributes</span><span class='lparen'>(</span><span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>

  <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id merge!'>merge!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>submit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id name'>name</span><span class='rparen'>)</span>

  <span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;form method=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id form_method'>form_method</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot; action=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id html_escape'>html_escape</span><span class='lparen'>(</span><span class='id url'>url</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot; </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>data-remote=\&quot;true\&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id remote'>remote</span><span class='rbrace'>}</span><span class='tstring_content'> class=\&quot;button_to\&quot;&gt;&lt;div&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='id method_tag'>method_tag</span> <span class='op'>+</span> <span class='id tag'>tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>input</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id request_token_tag'>request_token_tag</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/div&gt;&lt;/form&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id html_safe'>html_safe</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="current_page?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>current_page?</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
True if the current request URI was generated by the given
<tt>options</tt>.
</p>
<h4>Examples</h4>
<p>
Let&#8217;s say we&#8217;re in the <tt>/shop/checkout?order=desc</tt>
action.
</p>
<pre class="code">
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>process</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>shop</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; true
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>shop</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>asc</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; true
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>library</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span></pre>
<p>
Let&#8217;s say we&#8217;re in the
<tt>/shop/checkout?order=desc&amp;page=1</tt> action.
</p>
<pre class="code">
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>process</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>shop</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; true
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>shop</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>desc</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:page</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>1</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; true
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>shop</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>desc</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:page</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>2</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>shop</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>desc</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; true
</span>
  <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>library</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkout</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; false</span></pre>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 562</span>

<span class='kw'>def</span> <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id request'>request</span>
    <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You cannot use helpers that need to determine the current </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>page unless your view context provides a Request object </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in a #request method</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id url_string'>url_string</span> <span class='op'>=</span> <span class='id url_for'>url_for</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>

  <span class='comment'># We ignore any extra parameters in the request_uri if the
</span>  <span class='comment'># submitted url doesn't have any either.  This lets the function
</span>  <span class='comment'># work with things like ?order=asc
</span>  <span class='kw'>if</span> <span class='id url_string'>url_string</span><span class='period'>.</span><span class='id index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id request_uri'>request_uri</span> <span class='op'>=</span> <span class='id request'>request</span><span class='period'>.</span><span class='id fullpath'>fullpath</span>
  <span class='kw'>else</span>
    <span class='id request_uri'>request_uri</span> <span class='op'>=</span> <span class='id request'>request</span><span class='period'>.</span><span class='id path'>path</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id url_string'>url_string</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\w+:\/\/</span><span class='regexp_end'>/</span></span>
    <span class='id url_string'>url_string</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id request'>request</span><span class='period'>.</span><span class='id protocol'>protocol</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id request'>request</span><span class='period'>.</span><span class='id host_with_port'>host_with_port</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id request_uri'>request_uri</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id url_string'>url_string</span> <span class='op'>==</span> <span class='id request_uri'>request_uri</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="link_to-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>link_to</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt>. See the valid options in the documentation for
<tt>url_for</tt>. It&#8217;s also possible to pass a string instead of an
options hash to get a link tag that uses the value of the string as the
href for the link, or use <tt>:back</tt> to link to the referrer - a
JavaScript back link will be used in place of a referrer if none exists. If
<tt>nil</tt> is passed as a name, the link itself will become the name.
</p>
<h4>Signatures</h4>
<pre class="code">
  <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='id body'>body</span><span class='comma'>,</span> <span class='id url'>url</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='comment'># url is a String; you can use URL helpers like
</span>    <span class='comment'># posts_path
</span>
  <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='id body'>body</span><span class='comma'>,</span> <span class='id url_options'>url_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='comment'># url_options, except :confirm or :method,
</span>    <span class='comment'># is passed to url_for
</span>
  <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># name
</span>  <span class='kw'>end</span>

  <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='id url'>url</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># name
</span>  <span class='kw'>end</span>
</pre>
<h4>Options</h4>
<ul>
<li><p>
<tt>:confirm =&gt; 'question?'</tt> - This will allow the unobtrusive
JavaScript driver to prompt with the question specified. If the user
accepts, the link is processed normally, otherwise no action is taken.
</p>
</li>
<li><p>
<tt>:method =&gt; symbol of HTTP verb</tt> - This modifier will dynamically
create an HTML form and immediately submit the form for processing using
the HTTP verb specified. Useful for having links perform a POST operation
in dangerous actions like deleting a record (which search bots can follow
while spidering your site). Supported verbs are <tt>:post</tt>,
<tt>:delete</tt> and <tt>:put</tt>. Note that if the user has JavaScript
disabled, the request will fall back to using GET. If <tt>:href =&gt;
'#'</tt> is used and the user has JavaScript disabled clicking the link
will have no effect. If you are relying on the POST behavior, you should
check for it in your controller&#8217;s action by using the request
object&#8217;s methods for <tt>post?</tt>, <tt>delete?</tt> or
<tt>put?</tt>.
</p>
</li>
<li><p>
<tt>:remote =&gt; true</tt> - This will allow the unobtrusive JavaScript
driver to make an Ajax request to the URL in question instead of following
the link. The drivers each provide mechanisms for listening for the
completion of the Ajax request and performing JavaScript operations once
they&#8217;re complete
</p>
</li>
</ul>
<h4>Examples</h4>
<p>
Because it relies on <tt>url_for</tt>, <tt>link_to</tt> supports both
older-style controller/action/id arguments and newer RESTful routes. 
Current Rails style favors RESTful routes whenever possible, so base your
application on resources and use
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id profile_path'>profile_path</span><span class='lparen'>(</span><span class='ivar'>@profile</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</span></pre>
<p>
or the even pithier
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@profile</span>
  <span class='comment'># =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;Profile&lt;/a&gt;
</span></pre>
<p>
in place of the older more verbose, non-resource-oriented
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>show</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='ivar'>@profile</span>
  <span class='comment'># =&gt; &lt;a href=&quot;/profiles/show/1&quot;&gt;Profile&lt;/a&gt;
</span></pre>
<p>
Similarly,
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id profiles_path'>profiles_path</span>
  <span class='comment'># =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</span></pre>
<p>
is better than
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Profiles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>profiles</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;/profiles&quot;&gt;Profiles&lt;/a&gt;
</span></pre>
<p>
You can use a block as well if your link target is hard to fit into the
name parameter. ERb example:
</p>
<pre class="code">
  &lt;%= link_to(@profile) do %&gt;
    &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
  &lt;% end %&gt;
  # =&gt; &lt;a href=&quot;/profiles/1&quot;&gt;
         &lt;strong&gt;David&lt;/strong&gt; -- &lt;span&gt;Check it out!&lt;/span&gt;
       &lt;/a&gt;
</pre>
<p>
Classes and ids for CSS are easy to produce:
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id articles_path'>articles_path</span><span class='comma'>,</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>news</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:class</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;
</span></pre>
<p>
Be careful when using the older argument style, as an extra literal hash is
needed:
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>articles</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>news</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:class</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;/articles&quot; class=&quot;article&quot; id=&quot;news&quot;&gt;Articles&lt;/a&gt;
</span></pre>
<p>
Leaving the hash off gives the wrong link:
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>WRONG!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>articles</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>news</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:class</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>article</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;/articles/index/news?class=article&quot;&gt;WRONG!&lt;/a&gt;
</span></pre>
<p>
<tt>link_to</tt> can also produce links with anchors or query strings:
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Comment wall</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id profile_path'>profile_path</span><span class='lparen'>(</span><span class='ivar'>@profile</span><span class='comma'>,</span> <span class='symbol'>:anchor</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wall</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &lt;a href=&quot;/profiles/1#wall&quot;&gt;Comment wall&lt;/a&gt;
</span>
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ruby on Rails search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>searches</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:query</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby on rails</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;/searches?query=ruby+on+rails&quot;&gt;Ruby on Rails search&lt;/a&gt;
</span>
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Nonsense search</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id searches_path'>searches_path</span><span class='lparen'>(</span><span class='symbol'>:foo</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:baz</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quux</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &lt;a href=&quot;/searches?foo=bar&amp;amp;baz=quux&quot;&gt;Nonsense search&lt;/a&gt;
</span></pre>
<p>
The two options specific to <tt>link_to</tt> (<tt>:confirm</tt> and
<tt>:method</tt>) are used as follows:
</p>
<pre class="code">
  <span class='id link_to'>link_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Visit Other Site</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.rubyonrails.org/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:confirm</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Are you sure?</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;http://www.rubyonrails.org/&quot; data-confirm=&quot;Are you sure?&quot;&quot;&gt;Visit Other Site&lt;/a&gt;
</span>
  <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Destroy</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.example.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:method</span> <span class='op'>=&gt;</span> <span class='symbol'>:delete</span><span class='comma'>,</span> <span class='symbol'>:confirm</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Are you sure?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &lt;a href='http://www.example.com' rel=&quot;nofollow&quot; data-method=&quot;delete&quot; data-confirm=&quot;Are you sure?&quot;&gt;Destroy&lt;/a&gt;</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 225</span>

<span class='kw'>def</span> <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
    <span class='id options'>options</span>      <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id first'>first</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id second'>second</span>
    <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='id capture'>capture</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id name'>name</span>         <span class='op'>=</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id options'>options</span>      <span class='op'>=</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>

    <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id convert_options_to_data_attributes'>convert_options_to_data_attributes</span><span class='lparen'>(</span><span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>
    <span class='id url'>url</span> <span class='op'>=</span> <span class='id url_for'>url_for</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id html_options'>html_options</span>
      <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id stringify_keys'>stringify_keys</span>
      <span class='id href'>href</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>href</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
      <span class='id tag_options'>tag_options</span> <span class='op'>=</span> <span class='id tag_options'>tag_options</span><span class='lparen'>(</span><span class='id html_options'>html_options</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id tag_options'>tag_options</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='id href_attr'>href_attr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id html_escape'>html_escape</span><span class='lparen'>(</span><span class='id url'>url</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id href'>href</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;a </span><span class='embexpr_beg'>#{</span><span class='id href_attr'>href_attr</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id tag_options'>tag_options</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='embexpr_beg'>#{</span><span class='id html_escape'>html_escape</span><span class='lparen'>(</span><span class='id name'>name</span> <span class='op'>||</span> <span class='id url'>url</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>&lt;/a&gt;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id html_safe'>html_safe</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="link_to_if-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>link_to_if</strong>(condition, name, options = {}, html_options = {}, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> if <tt>condition</tt> is true, in which case only
the name is returned. To specialize the default behavior, you can pass a
block that accepts the name or the full argument list for
<tt>link_to_unless</tt> (see the examples in <tt>link_to_unless</tt>).
</p>
<h4>Examples</h4>
<pre class="code">
  &lt;%= link_to_if(@current_user.nil?, &quot;Login&quot;, { :controller =&gt; &quot;sessions&quot;, :action =&gt; &quot;new&quot; }) %&gt;
  # If the user isn't logged in...
  # =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;

  &lt;%=
     link_to_if(@current_user.nil?, &quot;Login&quot;, { :controller =&gt; &quot;sessions&quot;, :action =&gt; &quot;new&quot; }) do
       link_to(@current_user.login, { :controller =&gt; &quot;accounts&quot;, :action =&gt; &quot;show&quot;, :id =&gt; @current_user })
     end
  %&gt;
  # If the user isn't logged in...
  # =&gt; &lt;a href=&quot;/sessions/new/&quot;&gt;Login&lt;/a&gt;
  # If they are logged in...
  # =&gt; &lt;a href=&quot;/accounts/show/3&quot;&gt;my_username&lt;/a&gt;</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


430
431
432</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 430</span>

<span class='kw'>def</span> <span class='id link_to_if'>link_to_if</span><span class='lparen'>(</span><span class='id condition'>condition</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id link_to_unless'>link_to_unless</span> <span class='op'>!</span><span class='id condition'>condition</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="link_to_unless-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>link_to_unless</strong>(condition, name, options = {}, html_options = {}, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> unless <tt>condition</tt> is true, in which case
only the name is returned. To specialize the default behavior (i.e., show a
login link rather than just the plaintext link text), you can pass a block
that accepts the name or the full argument list for
<tt>link_to_unless</tt>.
</p>
<h4>Examples</h4>
<pre class="code">
  &lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { :action =&gt; &quot;reply&quot; }) %&gt;
  # If the user is logged in...
  # =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;

  &lt;%=
     link_to_unless(@current_user.nil?, &quot;Reply&quot;, { :action =&gt; &quot;reply&quot; }) do |name|
       link_to(name, { :controller =&gt; &quot;accounts&quot;, :action =&gt; &quot;signup&quot; })
     end
  %&gt;
  # If the user is logged in...
  # =&gt; &lt;a href=&quot;/controller/reply/&quot;&gt;Reply&lt;/a&gt;
  # If not...
  # =&gt; &lt;a href=&quot;/accounts/signup&quot;&gt;Reply&lt;/a&gt;</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


398
399
400
401
402
403
404
405
406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 398</span>

<span class='kw'>def</span> <span class='id link_to_unless'>link_to_unless</span><span class='lparen'>(</span><span class='id condition'>condition</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id condition'>condition</span>
    <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
      <span class='id block'>block</span><span class='period'>.</span><span class='id arity'>arity</span> <span class='op'>&lt;=</span> <span class='int'>1</span> <span class='op'>?</span> <span class='id capture'>capture</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id capture'>capture</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id name'>name</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id link_to'>link_to</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="link_to_unless_current-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>link_to_unless_current</strong>(name, options = {}, html_options = {}, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a link tag of the given <tt>name</tt> using a URL created by the
set of <tt>options</tt> unless the current request URI is the same as the
links, in which case only the name is returned (or the given block is
yielded, if one exists).  You can give <tt>link_to_unless_current</tt> a
block which will specialize the default behavior (e.g., show a &#8220;Start
Here&#8221; link rather than the link&#8217;s text).
</p>
<h4>Examples</h4>
<p>
Let&#8217;s say you have a navigation menu&#8230;
</p>
<pre class="code">
  &lt;ul id=&quot;navbar&quot;&gt;
    &lt;li&gt;&lt;%= link_to_unless_current(&quot;Home&quot;, { :action =&gt; &quot;index&quot; }) %&gt;&lt;/li&gt;
    &lt;li&gt;&lt;%= link_to_unless_current(&quot;About Us&quot;, { :action =&gt; &quot;about&quot; }) %&gt;&lt;/li&gt;
  &lt;/ul&gt;
</pre>
<p>
If in the &#8220;about&#8221; action, it will render&#8230;
</p>
<pre class="code">
  &lt;ul id=&quot;navbar&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;/controller/index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;About Us&lt;/li&gt;
  &lt;/ul&gt;
</pre>
<p>
&#8230;but if in the &#8220;index&#8221; action, it will render:
</p>
<pre class="code">
  &lt;ul id=&quot;navbar&quot;&gt;
    &lt;li&gt;Home&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;/controller/about&quot;&gt;About Us&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
</pre>
<p>
The implicit block given to <tt>link_to_unless_current</tt> is evaluated if
the current action is the action given.  So, if we had a comments page and
wanted to render a &#8220;Go Back&#8221; link instead of a link to the
comments page, we could do something like this&#8230;
</p>
<pre class="code">
   &lt;%=
       link_to_unless_current(&quot;Comment&quot;, { :controller =&gt; &quot;comments&quot;, :action =&gt; &quot;new&quot; }) do
          link_to(&quot;Go back&quot;, { :controller =&gt; &quot;posts&quot;, :action =&gt; &quot;index&quot; })
       end
    %&gt;</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 374</span>

<span class='kw'>def</span> <span class='id link_to_unless_current'>link_to_unless_current</span><span class='lparen'>(</span><span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id link_to_unless'>link_to_unless</span> <span class='id current_page?'>current_page?</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id name'>name</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mail_to-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>mail_to</strong>(email_address, name = nil, html_options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a mailto link tag to the specified <tt>email_address</tt>, which is
also used as the name of the link unless <tt>name</tt> is specified.
Additional HTML attributes for the link can be passed in
<tt>html_options</tt>.
</p>
<p>
<tt>mail_to</tt> has several methods for hindering email harvesters and
customizing the email itself by passing special keys to
<tt>html_options</tt>.
</p>
<h4>Options</h4>
<ul>
<li><p>
<tt>:encode</tt> - This key will accept the strings
&#8220;javascript&#8221; or &#8220;hex&#8221;. Passing
&#8220;javascript&#8221; will dynamically create and encode the mailto link
then eval it into the DOM of the page. This method will not show the link
on the page if the user has JavaScript disabled. Passing &#8220;hex&#8221;
will hex encode the <tt>email_address</tt> before outputting the mailto
link.
</p>
</li>
<li><p>
<tt>:replace_at</tt> - When the link <tt>name</tt> isn&#8217;t provided,
the <tt>email_address</tt> is used for the link label. You can use this
option to obfuscate the <tt>email_address</tt> by substituting the @ sign
with the string given as the value.
</p>
</li>
<li><p>
<tt>:replace_dot</tt> - When the link <tt>name</tt> isn&#8217;t provided,
the <tt>email_address</tt> is used for the link label. You can use this
option to obfuscate the <tt>email_address</tt> by substituting the . in the
email with the string given as the value.
</p>
</li>
<li><p>
<tt>:subject</tt> - Preset the subject line of the email.
</p>
</li>
<li><p>
<tt>:body</tt> - Preset the body of the email.
</p>
</li>
<li><p>
<tt>:cc</tt> - Carbon Copy addition recipients on the email.
</p>
</li>
<li><p>
<tt>:bcc</tt> - Blind Carbon Copy additional recipients on the email.
</p>
</li>
</ul>
<h4>Examples</h4>
<pre class="code">
  <span class='id mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;me@domain.com&lt;/a&gt;
</span>
  <span class='id mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My email</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:encode</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>javascript</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;script type=&quot;text/javascript&quot;&gt;eval(decodeURIComponent('%64%6f%63...%27%29%3b'))&lt;/script&gt;
</span>
  <span class='id mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My email</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:encode</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hex</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;mailto:%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d&quot;&gt;My email&lt;/a&gt;
</span>
  <span class='id mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:replace_at</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_at_</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:replace_dot</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_dot_</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:class</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>email</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;mailto:me@domain.com&quot; class=&quot;email&quot;&gt;me_at_domain_dot_com&lt;/a&gt;
</span>
  <span class='id mail_to'>mail_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>me@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My email</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:cc</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ccaddress@domain.com</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='symbol'>:subject</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is an example email</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># =&gt; &lt;a href=&quot;mailto:me@domain.com?cc=ccaddress@domain.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 476</span>

<span class='kw'>def</span> <span class='id mail_to'>mail_to</span><span class='lparen'>(</span><span class='id email_address'>email_address</span><span class='comma'>,</span> <span class='id name'>name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id email_address'>email_address</span> <span class='op'>=</span> <span class='id html_escape'>html_escape</span><span class='lparen'>(</span><span class='id email_address'>email_address</span><span class='rparen'>)</span>

  <span class='id html_options'>html_options</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id stringify_keys'>stringify_keys</span>
  <span class='id encode'>encode</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>encode</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='id cc'>cc</span><span class='comma'>,</span> <span class='id bcc'>bcc</span><span class='comma'>,</span> <span class='id subject'>subject</span><span class='comma'>,</span> <span class='id body'>body</span> <span class='op'>=</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bcc</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>subject</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>body</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id extras'>extras</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id extras'>extras</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cc=</span><span class='embexpr_beg'>#{</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='id cc'>cc</span><span class='rparen'>)</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id cc'>cc</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id extras'>extras</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bcc=</span><span class='embexpr_beg'>#{</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='id bcc'>bcc</span><span class='rparen'>)</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id bcc'>bcc</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id extras'>extras</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>body=</span><span class='embexpr_beg'>#{</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='id body'>body</span><span class='rparen'>)</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id body'>body</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id extras'>extras</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>subject=</span><span class='embexpr_beg'>#{</span><span class='const'>Rack</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='id subject'>subject</span><span class='rparen'>)</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>+</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id subject'>subject</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='id extras'>extras</span> <span class='op'>=</span> <span class='id extras'>extras</span><span class='period'>.</span><span class='id empty?'>empty?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>?</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id html_escape'>html_escape</span><span class='lparen'>(</span><span class='id extras'>extras</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='id email_address_obfuscated'>email_address_obfuscated</span> <span class='op'>=</span> <span class='id email_address'>email_address</span><span class='period'>.</span><span class='id dup'>dup</span>
  <span class='id email_address_obfuscated'>email_address_obfuscated</span><span class='period'>.</span><span class='id gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>@</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace_at</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace_at</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id email_address_obfuscated'>email_address_obfuscated</span><span class='period'>.</span><span class='id gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace_dot</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>replace_dot</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>

  <span class='kw'>if</span> <span class='id encode'>encode</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>javascript</span><span class='tstring_end'>&quot;</span></span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>document.write('</span><span class='embexpr_beg'>#{</span><span class='id content_tag'>content_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id name'>name</span> <span class='op'>||</span> <span class='id email_address_obfuscated'>email_address_obfuscated</span><span class='period'>.</span><span class='id html_safe'>html_safe</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id merge'>merge</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mailto:</span><span class='embexpr_beg'>#{</span><span class='id email_address'>email_address</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id extras'>extras</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id html_safe'>html_safe</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>');</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id each_byte'>each_byte</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
      <span class='id string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%%%x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;script type=\&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Mime</span><span class='op'>::</span><span class='const'>JS</span><span class='rbrace'>}</span><span class='tstring_content'>\&quot;&gt;eval(decodeURIComponent('</span><span class='embexpr_beg'>#{</span><span class='id string'>string</span><span class='rbrace'>}</span><span class='tstring_content'>'))&lt;/script&gt;</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id html_safe'>html_safe</span>
  <span class='kw'>elsif</span> <span class='id encode'>encode</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hex</span><span class='tstring_end'>&quot;</span></span>
    <span class='id email_address_encoded'>email_address_encoded</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
    <span class='id email_address_obfuscated'>email_address_obfuscated</span><span class='period'>.</span><span class='id each_byte'>each_byte</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
      <span class='id email_address_encoded'>email_address_encoded</span> <span class='op'>&lt;&lt;</span> <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;#%d;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id protocol'>protocol</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>mailto:</span><span class='tstring_end'>'</span></span>
    <span class='id protocol'>protocol</span><span class='period'>.</span><span class='id each_byte'>each_byte</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id string'>string</span> <span class='op'>&lt;&lt;</span> <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;#%d;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

    <span class='id email_address'>email_address</span><span class='period'>.</span><span class='id each_byte'>each_byte</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span>
      <span class='id char'>char</span> <span class='op'>=</span> <span class='id c'>c</span><span class='period'>.</span><span class='id chr'>chr</span>
      <span class='id string'>string</span> <span class='op'>&lt;&lt;</span> <span class='lparen'>(</span><span class='id char'>char</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w</span><span class='regexp_end'>/</span></span> <span class='op'>?</span> <span class='id sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%%%x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id c'>c</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id char'>char</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id content_tag'>content_tag</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id name'>name</span> <span class='op'>||</span> <span class='id email_address_encoded'>email_address_encoded</span><span class='period'>.</span><span class='id html_safe'>html_safe</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id merge'>merge</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id string'>string</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id extras'>extras</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id html_safe'>html_safe</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id content_tag'>content_tag</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id name'>name</span> <span class='op'>||</span> <span class='id email_address_obfuscated'>email_address_obfuscated</span><span class='period'>.</span><span class='id html_safe'>html_safe</span><span class='comma'>,</span> <span class='id html_options'>html_options</span><span class='period'>.</span><span class='id merge'>merge</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>href</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mailto:</span><span class='embexpr_beg'>#{</span><span class='id email_address'>email_address</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id extras'>extras</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id html_safe'>html_safe</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="url_for-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>url_for</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the URL for the set of <tt>options</tt> provided. This takes the
same options as <tt>url_for</tt> in Action Controller (see the
documentation for <tt>ActionController::Base#url_for</tt>). Note that by
default <tt>:only_path</tt> is <tt>true</tt> so you&#8217;ll get the
relative &#8220;/controller/action&#8221; instead of the fully qualified
URL like &#8220;<a
href="http://example.com/controller/action">example.com/controller/action</a>&#8220;.
</p>
<h4>Options</h4>
<ul>
<li><p>
<tt>:anchor</tt> - Specifies the anchor name to be appended to the path.
</p>
</li>
<li><p>
<tt>:only_path</tt> - If true, returns the relative URL (omitting the
protocol, host name, and port) (<tt>true</tt> by default unless
<tt>:host</tt> is specified).
</p>
</li>
<li><p>
<tt>:trailing_slash</tt> - If true, adds a trailing slash, as in
&#8220;/archive/2005/&#8221;. Note that this is currently not recommended
since it breaks caching.
</p>
</li>
<li><p>
<tt>:host</tt> - Overrides the default (current) host if provided.
</p>
</li>
<li><p>
<tt>:protocol</tt> - Overrides the default (current) protocol if provided.
</p>
</li>
<li><p>
<tt>:user</tt> - Inline HTTP authentication (only plucked out if
<tt>:password</tt> is also present).
</p>
</li>
<li><p>
<tt>:password</tt> - Inline HTTP authentication (only plucked out if
<tt>:user</tt> is also present).
</p>
</li>
</ul>
<h4>Relying on named routes</h4>
<p>
If you instead of a hash pass a record (like an Active Record or Active
Resource) as the options parameter, you&#8217;ll trigger the named route
for that record. The lookup will happen on the name of the class. So
passing a Workshop object will attempt to use the <tt>workshop_path</tt>
route. If you have a nested route, such as <tt>admin_workshop_path</tt>
you&#8217;ll have to call that explicitly (it&#8217;s impossible for
<tt>url_for</tt> to guess that route).
</p>
<h4>Examples</h4>
<pre class="code">
  &lt;%= url_for(:action =&gt; 'index') %&gt;
  # =&gt; /blog/

  &lt;%= url_for(:action =&gt; 'find', :controller =&gt; 'books') %&gt;
  # =&gt; /books/find

  &lt;%= url_for(:action =&gt; 'login', :controller =&gt; 'members', :only_path =&gt; false, :protocol =&gt; 'https') %&gt;
  # =&gt; https://www.railsapplication.com/members/login/

  &lt;%= url_for(:action =&gt; 'play', :anchor =&gt; 'player') %&gt;
  # =&gt; /messages/play/#player

  &lt;%= url_for(:action =&gt; 'jump', :anchor =&gt; 'tax&amp;ship') %&gt;
  # =&gt; /testing/jump/#tax&amp;ship

  &lt;%= url_for(Workshop.new) %&gt;
  # relies on Workshop answering a persisted? call (and in this case returning false)
  # =&gt; /workshops

  &lt;%= url_for(@workshop) %&gt;
  # calls @workshop.to_s
  # =&gt; /workshops/5

  &lt;%= url_for(&quot;http://www.example.com&quot;) %&gt;
  # =&gt; http://www.example.com

  &lt;%= url_for(:back) %&gt;
  # if request.env[&quot;HTTP_REFERER&quot;] is set to &quot;http://www.example.com&quot;
  # =&gt; http://www.example.com

  &lt;%= url_for(:back) %&gt;
  # if request.env[&quot;HTTP_REFERER&quot;] is not set or is blank
  # =&gt; javascript:history.back()</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 92</span>

<span class='kw'>def</span> <span class='id url_for'>url_for</span><span class='lparen'>(</span><span class='id options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id url'>url</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id options'>options</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='id options'>options</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id options'>options</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id symbolize_keys'>symbolize_keys</span><span class='period'>.</span><span class='id reverse_merge!'>reverse_merge!</span><span class='lparen'>(</span><span class='symbol'>:only_path</span> <span class='op'>=&gt;</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:host</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id nil?'>nil?</span><span class='rparen'>)</span>
    <span class='kw'>super</span>
  <span class='kw'>when</span> <span class='symbol'>:back</span>
    <span class='id controller'>controller</span><span class='period'>.</span><span class='id request'>request</span><span class='period'>.</span><span class='id env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_REFERER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>javascript:history.back()</span><span class='tstring_end'>'</span></span>
  <span class='kw'>else</span>
    <span class='id polymorphic_path'>polymorphic_path</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id url'>url</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="url_options-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>url_options</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Need to map default url options to controller one. def
default_url_options(*args) #:nodoc:
</p>
<pre class="code">
  <span class='id controller'>controller</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='symbol'>:default_url_options</span><span class='comma'>,</span> <span class='op'>*</span><span class='id args'>args</span><span class='rparen'>)</span>
</pre>
<p>
end
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_view/helpers/url_helper.rb', line 30</span>

<span class='kw'>def</span> <span class='id url_options'>url_options</span>
  <span class='kw'>return</span> <span class='kw'>super</span> <span class='kw'>unless</span> <span class='id controller'>controller</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:url_options</span><span class='rparen'>)</span>
  <span class='id controller'>controller</span><span class='period'>.</span><span class='id url_options'>url_options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:43 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>