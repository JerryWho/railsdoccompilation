<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActiveModel::Validations</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (V)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span></span>
     &raquo; 
    <span class="title">Validations</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActiveModel::Validations
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></span></dd>
      
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../ActiveSupport/Callbacks.html" title="ActiveSupport::Callbacks (module)">ActiveSupport::Callbacks</a></span></dd>
      
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../ActiveRecord/Validations.html" title="ActiveRecord::Validations (module)">ActiveRecord::Validations</a></span>, <span class='object_link'><a href="../ActiveResource/Validations.html" title="ActiveResource::Validations (module)">ActiveResource::Validations</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">activemodel/lib/active_model/validations.rb<span class="defines">,<br />
  activemodel/lib/active_model/validations/with.rb,<br /> activemodel/lib/active_model/validations/format.rb,<br /> activemodel/lib/active_model/validations/length.rb,<br /> activemodel/lib/active_model/validations/presence.rb,<br /> activemodel/lib/active_model/validations/exclusion.rb,<br /> activemodel/lib/active_model/validations/callbacks.rb,<br /> activemodel/lib/active_model/validations/inclusion.rb,<br /> activemodel/lib/active_model/validations/validates.rb,<br /> activemodel/lib/active_model/validations/acceptance.rb,<br /> activemodel/lib/active_model/validations/confirmation.rb,<br /> activemodel/lib/active_model/validations/numericality.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <h2>Active Model Numericality Validator</h2>


  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Validations/Callbacks.html" title="ActiveModel::Validations::Callbacks (module)">Callbacks</a></span>, <span class='object_link'><a href="Validations/ClassMethods.html" title="ActiveModel::Validations::ClassMethods (module)">ClassMethods</a></span>, <span class='object_link'><a href="Validations/HelperMethods.html" title="ActiveModel::Validations::HelperMethods (module)">HelperMethods</a></span>
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Validations/AcceptanceValidator.html" title="ActiveModel::Validations::AcceptanceValidator (class)">AcceptanceValidator</a></span>, <span class='object_link'><a href="Validations/ConfirmationValidator.html" title="ActiveModel::Validations::ConfirmationValidator (class)">ConfirmationValidator</a></span>, <span class='object_link'><a href="Validations/ExclusionValidator.html" title="ActiveModel::Validations::ExclusionValidator (class)">ExclusionValidator</a></span>, <span class='object_link'><a href="Validations/FormatValidator.html" title="ActiveModel::Validations::FormatValidator (class)">FormatValidator</a></span>, <span class='object_link'><a href="Validations/InclusionValidator.html" title="ActiveModel::Validations::InclusionValidator (class)">InclusionValidator</a></span>, <span class='object_link'><a href="Validations/LengthValidator.html" title="ActiveModel::Validations::LengthValidator (class)">LengthValidator</a></span>, <span class='object_link'><a href="Validations/NumericalityValidator.html" title="ActiveModel::Validations::NumericalityValidator (class)">NumericalityValidator</a></span>, <span class='object_link'><a href="Validations/PresenceValidator.html" title="ActiveModel::Validations::PresenceValidator (class)">PresenceValidator</a></span>
    
  
</p>


  
  
  
  
  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#errors-instance_method" title="#errors (instance method)">- (Object) <strong>errors</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the Errors object that holds all information about attribute error
messages.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#invalid%3F-instance_method" title="#invalid? (instance method)">- (Boolean) <strong>invalid?</strong>(context = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Performs the opposite of <tt>valid?</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid%3F-instance_method" title="#valid? (instance method)">- (Boolean) <strong>valid?</strong>(context = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Runs all the specified validations and returns true if no errors were added
otherwise false.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validates_with-instance_method" title="#validates_with (instance method)">- (Object) <strong>validates_with</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Passes the record off to the class or classes specified and allows them to
add errors based on more complex conditions.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a></span>, <span class='object_link'><a href="../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">extended</a></span>, <span class='object_link'><a href="../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../ActiveSupport/Callbacks.html" title="ActiveSupport::Callbacks (module)">ActiveSupport::Callbacks</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../ActiveSupport/Callbacks.html#callback-instance_method" title="ActiveSupport::Callbacks#callback (method)">#callback</a></span>, <span class='object_link'><a href="../ActiveSupport/Callbacks.html#run_callbacks-instance_method" title="ActiveSupport::Callbacks#run_callbacks (method)">#run_callbacks</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="errors-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>errors</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the Errors object that holds all information about attribute error
messages.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/validations.rb', line 169</span>

<span class='kw'>def</span> <span class='id errors'>errors</span>
  <span class='ivar'>@errors</span> <span class='op'>||=</span> <span class='const'>Errors</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="invalid?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>invalid?</strong>(context = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Performs the opposite of <tt>valid?</tt>. Returns true if errors were
added, false otherwise.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/validations.rb', line 186</span>

<span class='kw'>def</span> <span class='id invalid?'>invalid?</span><span class='lparen'>(</span><span class='id context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='op'>!</span><span class='id valid?'>valid?</span><span class='lparen'>(</span><span class='id context'>context</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="valid?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>valid?</strong>(context = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Runs all the specified validations and returns true if no errors were added
otherwise false. Context can optionally be supplied to define which
callbacks to test against (the context is defined on the validations using
:on).
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/validations.rb', line 176</span>

<span class='kw'>def</span> <span class='id valid?'>valid?</span><span class='lparen'>(</span><span class='id context'>context</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id current_context'>current_context</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id validation_context'>validation_context</span> <span class='op'>=</span> <span class='id validation_context'>validation_context</span><span class='comma'>,</span> <span class='id context'>context</span>
  <span class='id errors'>errors</span><span class='period'>.</span><span class='id clear'>clear</span>
  <span class='id run_validations!'>run_validations!</span>
<span class='kw'>ensure</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id validation_context'>validation_context</span> <span class='op'>=</span> <span class='id current_context'>current_context</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="validates_with-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>validates_with</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Passes the record off to the class or classes specified and allows them to
add errors based on more complex conditions.
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Person</span>
    <span class='id include'>include</span> <span class='const'>ActiveModel</span><span class='op'>::</span><span class='const'>Validations</span>

    <span class='id validates'>validates</span> <span class='symbol'>:instance_validations</span>

    <span class='kw'>def</span> <span class='id instance_validations'>instance_validations</span>
      <span class='id validates_with'>validates_with</span> <span class='const'>MyValidator</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
</pre>
<p>
Please consult the class method documentation for more information on
creating your own validator.
</p>
<p>
You may also pass it multiple classes, like so:
</p>
<pre class="code">
  <span class='kw'>class</span> <span class='const'>Person</span>
    <span class='id include'>include</span> <span class='const'>ActiveModel</span><span class='op'>::</span><span class='const'>Validations</span>

    <span class='id validates'>validates</span> <span class='symbol'>:instance_validations</span><span class='comma'>,</span> <span class='symbol'>:on</span> <span class='op'>=&gt;</span> <span class='symbol'>:create</span>

    <span class='kw'>def</span> <span class='id instance_validations'>instance_validations</span>
      <span class='id validates_with'>validates_with</span> <span class='const'>MyValidator</span><span class='comma'>,</span> <span class='const'>MyOtherValidator</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
</pre>
<p>
Standard configuration options (:on, :if and :unless), which are available
on the class version of validates_with, should instead be placed on the
<tt>validates</tt> method as these are applied and tested in the callback
</p>
<p>
If you pass any additional configuration options, they will be passed to
the class and available as <tt>options</tt>, please refer to the class
version of this method for more information
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/validations/with.rb', line 123</span>

<span class='kw'>def</span> <span class='id validates_with'>validates_with</span><span class='lparen'>(</span><span class='op'>*</span><span class='id args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='id options'>options</span> <span class='op'>=</span> <span class='id args'>args</span><span class='period'>.</span><span class='id extract_options!'>extract_options!</span>
  <span class='id args'>args</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id klass'>klass</span><span class='op'>|</span>
    <span class='id validator'>validator</span> <span class='op'>=</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
    <span class='id validator'>validator</span><span class='period'>.</span><span class='id validate'>validate</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:31 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>