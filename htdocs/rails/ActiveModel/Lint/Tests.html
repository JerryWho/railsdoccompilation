<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActiveModel::Lint::Tests</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../ActiveModel.html" title="ActiveModel (module)">ActiveModel</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Lint.html" title="ActiveModel::Lint (module)">Lint</a></span></span>
     &raquo; 
    <span class="title">Tests</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActiveModel::Lint::Tests
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">activemodel/lib/active_model/lint.rb</dd>
  
</dl>
<div class="clear"></div>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_errors_aref-instance_method" title="#test_errors_aref (instance method)">- (Object) <strong>test_errors_aref</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><h2>Errors Testing.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_errors_full_messages-instance_method" title="#test_errors_full_messages (instance method)">- (Object) <strong>test_errors_full_messages</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an Array of all error messages for the object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_model_naming-instance_method" title="#test_model_naming (instance method)">- (Object) <strong>test_model_naming</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><h2>Naming.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_persisted%3F-instance_method" title="#test_persisted? (instance method)">- (Boolean) <strong>test_persisted?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><h2>Responds to <tt>persisted?</tt>.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_to_key-instance_method" title="#test_to_key (instance method)">- (Object) <strong>test_to_key</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><h2>Responds to <tt>to_key</tt>.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_to_param-instance_method" title="#test_to_param (instance method)">- (Object) <strong>test_to_param</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><h2>Responds to <tt>to_param</tt>.</h2>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test_valid%3F-instance_method" title="#test_valid? (instance method)">- (Boolean) <strong>test_valid?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><h2>Responds to <tt>valid?</tt>.</h2>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="test_errors_aref-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>test_errors_aref</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <h2>Errors Testing</h2>
<p>
Returns an object that has :[] and :full_messages defined on it. See below
for more details.
</p>
<p>
Returns an Array of Strings that are the errors for the attribute in
question. If localization is used, the Strings should be localized for the
current locale. If no error is present, this method should return an empty
Array.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 91</span>

<span class='kw'>def</span> <span class='id test_errors_aref'>test_errors_aref</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:errors</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to errors</span><span class='tstring_end'>&quot;</span></span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id errors'>errors</span><span class='lbracket'>[</span><span class='symbol'>:hello</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>errors#[] should return an Array</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test_errors_full_messages-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>test_errors_full_messages</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an Array of all error messages for the object. Each message should
contain information about the field, if applicable.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 98</span>

<span class='kw'>def</span> <span class='id test_errors_full_messages'>test_errors_full_messages</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:errors</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to errors</span><span class='tstring_end'>&quot;</span></span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id errors'>errors</span><span class='period'>.</span><span class='id full_messages'>full_messages</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>errors#full_messages should return an Array</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test_model_naming-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>test_model_naming</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <h2>Naming</h2>
<p>
Model.model_name must return a string with some convenience methods as
:human and :partial_path. Check ActiveModel::Naming for more information.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 72</span>

<span class='kw'>def</span> <span class='id test_model_naming'>test_model_naming</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:model_name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to model_name</span><span class='tstring_end'>&quot;</span></span>
  <span class='id model_name'>model_name</span> <span class='op'>=</span> <span class='id model'>model</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id model_name'>model_name</span>
  <span class='id assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id model_name'>model_name</span>
  <span class='id assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id model_name'>model_name</span><span class='period'>.</span><span class='id human'>human</span>
  <span class='id assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id model_name'>model_name</span><span class='period'>.</span><span class='id partial_path'>partial_path</span>
  <span class='id assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id model_name'>model_name</span><span class='period'>.</span><span class='id singular'>singular</span>
  <span class='id assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id model_name'>model_name</span><span class='period'>.</span><span class='id plural'>plural</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test_persisted?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>test_persisted?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <h2>Responds to <tt>persisted?</tt></h2>
<p>
Returns a boolean that specifies whether the object has been persisted yet.
This is used when calculating the URL for an object. If the object is not
persisted, a form for that object, for instance, will be POSTed to the
collection. If it is persisted, a form for the object will be PUT to the
URL for the object.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 62</span>

<span class='kw'>def</span> <span class='id test_persisted?'>test_persisted?</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:persisted?</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to persisted?</span><span class='tstring_end'>&quot;</span></span>
  <span class='id assert_boolean'>assert_boolean</span> <span class='id model'>model</span><span class='period'>.</span><span class='id persisted?'>persisted?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>persisted?</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test_to_key-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>test_to_key</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <h2>Responds to <tt>to_key</tt></h2>
<p>
Returns an Enumerable of all (primary) key attributes or nil if
model.persisted? is false
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 23</span>

<span class='kw'>def</span> <span class='id test_to_key'>test_to_key</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to to_key</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>def</span> <span class='id model'>model</span><span class='period'>.</span><span class='id persisted?'>persisted?</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='kw'>false</span> <span class='kw'>end</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id to_key'>to_key</span><span class='period'>.</span><span class='id nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test_to_param-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>test_to_param</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <h2>Responds to <tt>to_param</tt></h2>
<p>
Returns a string representing the object&#8217;s key suitable for use in
URLs or nil if model.persisted? is false.
</p>
<p>
Implementers can decide to either raise an exception or provide a default
in case the record uses a composite primary key. There are no tests for
this behavior in lint because it doesn&#8217;t make sense to force any of
the possible implementation strategies on the implementer. However, if the
resource is not persisted?, then to_param should always return nil.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 39</span>

<span class='kw'>def</span> <span class='id test_to_param'>test_to_param</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_param</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to to_param</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>def</span> <span class='id model'>model</span><span class='period'>.</span><span class='id to_key'>to_key</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>end</span>
  <span class='kw'>def</span> <span class='id model'>model</span><span class='period'>.</span><span class='id persisted?'>persisted?</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='kw'>false</span> <span class='kw'>end</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id to_param'>to_param</span><span class='period'>.</span><span class='id nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="test_valid?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>test_valid?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <h2>Responds to <tt>valid?</tt></h2>
<p>
Returns a boolean that specifies whether the object is in a valid or
invalid state.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activemodel/lib/active_model/lint.rb', line 50</span>

<span class='kw'>def</span> <span class='id test_valid?'>test_valid?</span>
  <span class='id assert'>assert</span> <span class='id model'>model</span><span class='period'>.</span><span class='id respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:valid?</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The model should respond to valid?</span><span class='tstring_end'>&quot;</span></span>
  <span class='id assert_boolean'>assert_boolean</span> <span class='id model'>model</span><span class='period'>.</span><span class='id valid?'>valid?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>valid?</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:17 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>