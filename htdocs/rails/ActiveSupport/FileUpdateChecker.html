<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: ActiveSupport::FileUpdateChecker</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span></span>
     &raquo; 
    <span class="title">FileUpdateChecker</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: ActiveSupport::FileUpdateChecker
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">ActiveSupport::FileUpdateChecker</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">activesupport/lib/active_support/file_update_checker.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
This class is responsible to track files and invoke the given block
whenever one of these files are changed. For example, this class is used by
Rails to reload the I18n framework whenever they are changed upon a new
request.
</p>
<pre class="code">
  <span class='id i18n_reloader'>i18n_reloader</span> <span class='op'>=</span> <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>FileUpdateChecker</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id paths'>paths</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='const'>I18n</span><span class='period'>.</span><span class='id reload!'>reload!</span>
  <span class='kw'>end</span>

  <span class='const'>ActionDispatch</span><span class='op'>::</span><span class='const'>Callbacks</span><span class='period'>.</span><span class='id to_prepare'>to_prepare</span> <span class='kw'>do</span>
    <span class='id i18n_reloader'>i18n_reloader</span><span class='period'>.</span><span class='id execute_if_updated'>execute_if_updated</span>
  <span class='kw'>end</span></pre>


  </div>
</div>
<div class="tags">
  
</div>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_update_at-instance_method" title="#last_update_at (instance method)">- (Object) <strong>last_update_at</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute last_update_at.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#paths-instance_method" title="#paths (instance method)">- (Object) <strong>paths</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute paths.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#execute_if_updated-instance_method" title="#execute_if_updated (instance method)">- (Object) <strong>execute_if_updated</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (FileUpdateChecker) <strong>initialize</strong>(paths, calculate = false, &amp;block) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of FileUpdateChecker.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#updated_at-instance_method" title="#updated_at (instance method)">- (Object) <strong>updated_at</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="ActiveSupport::FileUpdateChecker (class)">FileUpdateChecker</a></span></tt>) <strong>initialize</strong>(paths, calculate = false, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of FileUpdateChecker
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/file_update_checker.rb', line 18</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id paths'>paths</span><span class='comma'>,</span> <span class='id calculate'>calculate</span><span class='op'>=</span><span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@paths</span> <span class='op'>=</span> <span class='id paths'>paths</span>
  <span class='ivar'>@block</span> <span class='op'>=</span> <span class='id block'>block</span>
  <span class='ivar'>@last_update_at</span> <span class='op'>=</span> <span class='id calculate'>calculate</span> <span class='op'>?</span> <span class='id updated_at'>updated_at</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="last_update_at-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="last_update_at-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>last_update_at</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute last_update_at
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/file_update_checker.rb', line 16</span>

<span class='kw'>def</span> <span class='id last_update_at'>last_update_at</span>
  <span class='ivar'>@last_update_at</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="paths-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="paths-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>paths</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute paths
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/file_update_checker.rb', line 16</span>

<span class='kw'>def</span> <span class='id paths'>paths</span>
  <span class='ivar'>@paths</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="execute_if_updated-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>execute_if_updated</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/file_update_checker.rb', line 28</span>

<span class='kw'>def</span> <span class='id execute_if_updated'>execute_if_updated</span>
  <span class='id current_update_at'>current_update_at</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id updated_at'>updated_at</span>
  <span class='kw'>if</span> <span class='ivar'>@last_update_at</span> <span class='op'>!=</span> <span class='id current_update_at'>current_update_at</span>
    <span class='ivar'>@last_update_at</span> <span class='op'>=</span> <span class='id current_update_at'>current_update_at</span>
    <span class='ivar'>@block</span><span class='period'>.</span><span class='id call'>call</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="updated_at-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>updated_at</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/file_update_checker.rb', line 24</span>

<span class='kw'>def</span> <span class='id updated_at'>updated_at</span>
  <span class='id paths'>paths</span><span class='period'>.</span><span class='id map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id path'>path</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id stat'>stat</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id mtime'>mtime</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id max'>max</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:16 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>