<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActiveSupport::Dependencies</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (D)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../ActiveSupport.html" title="ActiveSupport (module)">ActiveSupport</a></span></span>
     &raquo; 
    <span class="title">Dependencies</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActiveSupport::Dependencies
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="" title="ActiveSupport::Dependencies (module)">Dependencies</a></span></dd>
      
    
  
    
  
  
    <dt class="r2">Included in:</dt>
    <dd class="r2"><span class='object_link'><a href="" title="ActiveSupport::Dependencies (module)">Dependencies</a></span></dd>
    
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">activesupport/lib/active_support/dependencies.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Dependencies/Blamable.html" title="ActiveSupport::Dependencies::Blamable (module)">Blamable</a></span>, <span class='object_link'><a href="Dependencies/Loadable.html" title="ActiveSupport::Dependencies::Loadable (module)">Loadable</a></span>, <span class='object_link'><a href="Dependencies/ModuleConstMissing.html" title="ActiveSupport::Dependencies::ModuleConstMissing (module)">ModuleConstMissing</a></span>
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Dependencies/LoadingModule.html" title="ActiveSupport::Dependencies::LoadingModule (class)">LoadingModule</a></span>, <span class='object_link'><a href="Dependencies/Reference.html" title="ActiveSupport::Dependencies::Reference (class)">Reference</a></span>, <span class='object_link'><a href="Dependencies/WatchStack.html" title="ActiveSupport::Dependencies::WatchStack (class)">WatchStack</a></span>
    
  
</p>



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#associate_with-instance_method" title="#associate_with (instance method)">- (Object) <strong>associate_with</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoload_module%21-instance_method" title="#autoload_module! (instance method)">- (Object) <strong>autoload_module!</strong>(into, const_name, qualified_name, path_suffix) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attempt to autoload the provided module name by searching for a directory
matching the expect path suffix.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoloadable_module%3F-instance_method" title="#autoloadable_module? (instance method)">- (Boolean) <strong>autoloadable_module?</strong>(path_suffix) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Does the provided path_suffix correspond to an autoloadable module? Instead
of returning a boolean, the autoload base for this module is returned.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoloaded%3F-instance_method" title="#autoloaded? (instance method)">- (Boolean) <strong>autoloaded?</strong>(desc) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Determine if the given constant has been automatically loaded.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">- (Object) <strong>clear</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#constantize-instance_method" title="#constantize (instance method)">- (Object) <strong>constantize</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#depend_on-instance_method" title="#depend_on (instance method)">- (Object) <strong>depend_on</strong>(file_name, swallow_load_errors = false, message = &quot;No such file to load -- %s.rb&quot;) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hook%21-instance_method" title="#hook! (instance method)">- (Object) <strong>hook!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load%3F-instance_method" title="#load? (instance method)">- (Boolean) <strong>load?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_file-instance_method" title="#load_file (instance method)">- (Object) <strong>load_file</strong>(path, const_paths = loadable_constants_for_path(path)) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Load the file at the provided path.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_missing_constant-instance_method" title="#load_missing_constant (instance method)">- (Object) <strong>load_missing_constant</strong>(from_mod, const_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Load the constant named <tt>const_name</tt> which is missing from
<tt>from_mod</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_once_path%3F-instance_method" title="#load_once_path? (instance method)">- (Boolean) <strong>load_once_path?</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loadable_constants_for_path-instance_method" title="#loadable_constants_for_path (instance method)">- (Object) <strong>loadable_constants_for_path</strong>(path, bases = autoload_paths) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Given <tt>path</tt>, a filesystem path to a ruby file, return an array of
constant paths which would cause Dependencies to attempt to load this file.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_const_defined%3F-instance_method" title="#local_const_defined? (instance method)">- (Boolean) <strong>local_const_defined?</strong>(mod, const) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mark_for_unload-instance_method" title="#mark_for_unload (instance method)">- (Object) <strong>mark_for_unload</strong>(const_desc) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Mark the provided constant name for unloading.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_constants_in-instance_method" title="#new_constants_in (instance method)">- (Object) <strong>new_constants_in</strong>(*descs) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Run the provided block and detect the new constants that were loaded during
its execution.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#qualified_const_defined%3F-instance_method" title="#qualified_const_defined? (instance method)">- (Boolean) <strong>qualified_const_defined?</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Is the provided constant path defined?.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#qualified_name_for-instance_method" title="#qualified_name_for (instance method)">- (Object) <strong>qualified_name_for</strong>(mod, name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Return the constant path for the provided parent and constant name.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ref-instance_method" title="#ref (instance method)">- (Object) <strong>ref</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_constant-instance_method" title="#remove_constant (instance method)">- (Object) <strong>remove_constant</strong>(const) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_unloadable_constants%21-instance_method" title="#remove_unloadable_constants! (instance method)">- (Object) <strong>remove_unloadable_constants!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Remove the constants that have been autoloaded, and those that have been
marked for unloading.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require_or_load-instance_method" title="#require_or_load (instance method)">- (Object) <strong>require_or_load</strong>(file_name, const_path = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search_for_file-instance_method" title="#search_for_file (instance method)">- (Object) <strong>search_for_file</strong>(path_suffix) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Search for a file in autoload_paths matching the provided suffix.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_constant_name-instance_method" title="#to_constant_name (instance method)">- (Object) <strong>to_constant_name</strong>(desc) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Convert the provided const desc to a qualified constant name (as a string).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unhook%21-instance_method" title="#unhook! (instance method)">- (Object) <strong>unhook!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#will_unload%3F-instance_method" title="#will_unload? (instance method)">- (Boolean) <strong>will_unload?</strong>(const_desc) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Will the provided constant descriptor be unloaded?.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="associate_with-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>associate_with</strong>(file_name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 310</span>

<span class='kw'>def</span> <span class='id associate_with'>associate_with</span><span class='lparen'>(</span><span class='id file_name'>file_name</span><span class='rparen'>)</span>
  <span class='id depend_on'>depend_on</span><span class='lparen'>(</span><span class='id file_name'>file_name</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="autoload_module!-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>autoload_module!</strong>(into, const_name, qualified_name, path_suffix) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attempt to autoload the provided module name by searching for a directory
matching the expect path suffix. If found, the module is created and
assigned to <tt>into</tt>&#8217;s constants with the name
<tt>const_name</tt>. Provided that the directory was loaded from a
reloadable base path, it is added to the set of constants that are to be
unloaded.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


431
432
433
434
435
436
437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 431</span>

<span class='kw'>def</span> <span class='id autoload_module!'>autoload_module!</span><span class='lparen'>(</span><span class='id into'>into</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='comma'>,</span> <span class='id qualified_name'>qualified_name</span><span class='comma'>,</span> <span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id base_path'>base_path</span> <span class='op'>=</span> <span class='id autoloadable_module?'>autoloadable_module?</span><span class='lparen'>(</span><span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
  <span class='id mod'>mod</span> <span class='op'>=</span> <span class='const'>Module</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='id into'>into</span><span class='period'>.</span><span class='id const_set'>const_set</span> <span class='id const_name'>const_name</span><span class='comma'>,</span> <span class='id mod'>mod</span>
  <span class='id autoloaded_constants'>autoloaded_constants</span> <span class='op'>&lt;&lt;</span> <span class='id qualified_name'>qualified_name</span> <span class='kw'>unless</span> <span class='id autoload_once_paths'>autoload_once_paths</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id base_path'>base_path</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id mod'>mod</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="autoloadable_module?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>autoloadable_module?</strong>(path_suffix) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Does the provided path_suffix correspond to an autoloadable module? Instead
of returning a boolean, the autoload base for this module is returned.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


415
416
417
418
419
420</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 415</span>

<span class='kw'>def</span> <span class='id autoloadable_module?'>autoloadable_module?</span><span class='lparen'>(</span><span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
  <span class='id autoload_paths'>autoload_paths</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id load_path'>load_path</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id load_path'>load_path</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id directory?'>directory?</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='id load_path'>load_path</span><span class='comma'>,</span> <span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="autoloaded?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>autoloaded?</strong>(desc) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Determine if the given constant has been automatically loaded.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


550
551
552
553
554
555
556</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 550</span>

<span class='kw'>def</span> <span class='id autoloaded?'>autoloaded?</span><span class='lparen'>(</span><span class='id desc'>desc</span><span class='rparen'>)</span>
  <span class='comment'># No name =&gt; anonymous module.
</span>  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id desc'>desc</span><span class='period'>.</span><span class='id is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Module</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id desc'>desc</span><span class='period'>.</span><span class='id anonymous?'>anonymous?</span>
  <span class='id name'>name</span> <span class='op'>=</span> <span class='id to_constant_name'>to_constant_name</span> <span class='id desc'>desc</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id qualified_const_defined?'>qualified_const_defined?</span> <span class='id name'>name</span>
  <span class='kw'>return</span> <span class='id autoloaded_constants'>autoloaded_constants</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="clear-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>clear</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 314</span>

<span class='kw'>def</span> <span class='id clear'>clear</span>
  <span class='id log_call'>log_call</span>
  <span class='id loaded'>loaded</span><span class='period'>.</span><span class='id clear'>clear</span>
  <span class='id remove_unloadable_constants!'>remove_unloadable_constants!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="constantize-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>constantize</strong>(name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


545
546
547</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 545</span>

<span class='kw'>def</span> <span class='id constantize'>constantize</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
  <span class='id ref'>ref</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id get'>get</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="depend_on-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>depend_on</strong>(file_name, swallow_load_errors = false, message = &quot;No such file to load -- %s.rb&quot;) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303
304
305
306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 298</span>

<span class='kw'>def</span> <span class='id depend_on'>depend_on</span><span class='lparen'>(</span><span class='id file_name'>file_name</span><span class='comma'>,</span> <span class='id swallow_load_errors'>swallow_load_errors</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No such file to load -- %s.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id path'>path</span> <span class='op'>=</span> <span class='id search_for_file'>search_for_file</span><span class='lparen'>(</span><span class='id file_name'>file_name</span><span class='rparen'>)</span>
  <span class='id require_or_load'>require_or_load</span><span class='lparen'>(</span><span class='id path'>path</span> <span class='op'>||</span> <span class='id file_name'>file_name</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>LoadError</span> <span class='op'>=&gt;</span> <span class='id load_error'>load_error</span>
  <span class='kw'>unless</span> <span class='id swallow_load_errors'>swallow_load_errors</span>
    <span class='kw'>if</span> <span class='id file_name'>file_name</span> <span class='op'>=</span> <span class='id load_error'>load_error</span><span class='period'>.</span><span class='id message'>message</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> -- (.*?)(\.rb)?$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rbracket'>]</span>
      <span class='id raise'>raise</span> <span class='const'>LoadError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id message'>message</span> <span class='op'>%</span> <span class='id file_name'>file_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id copy_blame!'>copy_blame!</span><span class='lparen'>(</span><span class='id load_error'>load_error</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="hook!-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>hook!</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283
284
285
286</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 281</span>

<span class='kw'>def</span> <span class='id hook!'>hook!</span>
  <span class='const'>Object</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='lbrace'>{</span> <span class='id include'>include</span> <span class='const'>Loadable</span> <span class='rbrace'>}</span>
  <span class='const'>Module</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='lbrace'>{</span> <span class='id include'>include</span> <span class='const'>ModuleConstMissing</span> <span class='rbrace'>}</span>
  <span class='const'>Exception</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='lbrace'>{</span> <span class='id include'>include</span> <span class='const'>Blamable</span> <span class='rbrace'>}</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>load?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 294</span>

<span class='kw'>def</span> <span class='id load?'>load?</span>
  <span class='id mechanism'>mechanism</span> <span class='op'>==</span> <span class='symbol'>:load</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_file</strong>(path, const_paths = loadable_constants_for_path(path)) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Load the file at the provided path. <tt>const_paths</tt> is a set of
qualified constant names. When loading the file, Dependencies will watch
for the addition of these constants. Each that is defined will be marked as
autoloaded, and will be removed when Dependencies.clear is next called.
</p>
<p>
If the second parameter is left off, then Dependencies will construct a set
of names that the file at <tt>path</tt> may define. See
<tt>loadable_constants_for_path</tt> for more details.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


447
448
449
450
451
452
453
454
455
456
457
458
459
460
461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 447</span>

<span class='kw'>def</span> <span class='id load_file'>load_file</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id const_paths'>const_paths</span> <span class='op'>=</span> <span class='id loadable_constants_for_path'>loadable_constants_for_path</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id log_call'>log_call</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id const_paths'>const_paths</span>
  <span class='id const_paths'>const_paths</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id const_paths'>const_paths</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id compact'>compact</span> <span class='kw'>unless</span> <span class='id const_paths'>const_paths</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Array</span>
  <span class='id parent_paths'>parent_paths</span> <span class='op'>=</span> <span class='id const_paths'>const_paths</span><span class='period'>.</span><span class='id collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id const_path'>const_path</span><span class='op'>|</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.*)::[^:]+\Z</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id const_path'>const_path</span> <span class='op'>?</span> <span class='backref'>$1</span> <span class='op'>:</span> <span class='symbol'>:Object</span> <span class='rbrace'>}</span>

  <span class='id result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id newly_defined_paths'>newly_defined_paths</span> <span class='op'>=</span> <span class='id new_constants_in'>new_constants_in</span><span class='lparen'>(</span><span class='op'>*</span><span class='id parent_paths'>parent_paths</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id result'>result</span> <span class='op'>=</span> <span class='const'>Kernel</span><span class='period'>.</span><span class='id load'>load</span> <span class='id path'>path</span>
  <span class='kw'>end</span>

  <span class='id autoloaded_constants'>autoloaded_constants</span><span class='period'>.</span><span class='id concat'>concat</span> <span class='id newly_defined_paths'>newly_defined_paths</span> <span class='kw'>unless</span> <span class='id load_once_path?'>load_once_path?</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='id autoloaded_constants'>autoloaded_constants</span><span class='period'>.</span><span class='id uniq!'>uniq!</span>
  <span class='id log'>log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loading </span><span class='embexpr_beg'>#{</span><span class='id path'>path</span><span class='rbrace'>}</span><span class='tstring_content'> defined </span><span class='embexpr_beg'>#{</span><span class='id newly_defined_paths'>newly_defined_paths</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>, </span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id newly_defined_paths'>newly_defined_paths</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='kw'>return</span> <span class='id result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_missing_constant-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>load_missing_constant</strong>(from_mod, const_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Load the constant named <tt>const_name</tt> which is missing from
<tt>from_mod</tt>. If it is not possible to load the constant into
from_mod, try its parent module using const_missing.
</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 472</span>

<span class='kw'>def</span> <span class='id load_missing_constant'>load_missing_constant</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='rparen'>)</span>
  <span class='id log_call'>log_call</span> <span class='id from_mod'>from_mod</span><span class='comma'>,</span> <span class='id const_name'>const_name</span>

  <span class='kw'>unless</span> <span class='id qualified_const_defined?'>qualified_const_defined?</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='const'>Inflector</span><span class='period'>.</span><span class='id constantize'>constantize</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id equal?'>equal?</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='rparen'>)</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A copy of </span><span class='embexpr_beg'>#{</span><span class='id from_mod'>from_mod</span><span class='rbrace'>}</span><span class='tstring_content'> has been removed from the module tree but is still active!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id from_mod'>from_mod</span><span class='rbrace'>}</span><span class='tstring_content'> is not missing constant </span><span class='embexpr_beg'>#{</span><span class='id const_name'>const_name</span><span class='rbrace'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id local_const_defined?'>local_const_defined?</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='rparen'>)</span>

  <span class='id qualified_name'>qualified_name</span> <span class='op'>=</span> <span class='id qualified_name_for'>qualified_name_for</span> <span class='id from_mod'>from_mod</span><span class='comma'>,</span> <span class='id const_name'>const_name</span>
  <span class='id path_suffix'>path_suffix</span> <span class='op'>=</span> <span class='id qualified_name'>qualified_name</span><span class='period'>.</span><span class='id underscore'>underscore</span>

  <span class='id trace'>trace</span> <span class='op'>=</span> <span class='id caller'>caller</span><span class='period'>.</span><span class='id reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id l'>l</span><span class='op'>|</span> <span class='id l'>l</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='regexp_end'>}</span></span><span class='rbrace'>}</span>
  <span class='id name_error'>name_error</span> <span class='op'>=</span> <span class='const'>NameError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>uninitialized constant </span><span class='embexpr_beg'>#{</span><span class='id qualified_name'>qualified_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id name_error'>name_error</span><span class='period'>.</span><span class='id set_backtrace'>set_backtrace</span><span class='lparen'>(</span><span class='id trace'>trace</span><span class='rparen'>)</span>

  <span class='id file_path'>file_path</span> <span class='op'>=</span> <span class='id search_for_file'>search_for_file</span><span class='lparen'>(</span><span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id file_path'>file_path</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span> <span class='id loaded'>loaded</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id file_path'>file_path</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># We found a matching file to load
</span>    <span class='id require_or_load'>require_or_load</span> <span class='id file_path'>file_path</span>
    <span class='id raise'>raise</span> <span class='const'>LoadError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected </span><span class='embexpr_beg'>#{</span><span class='id file_path'>file_path</span><span class='rbrace'>}</span><span class='tstring_content'> to define </span><span class='embexpr_beg'>#{</span><span class='id qualified_name'>qualified_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id local_const_defined?'>local_const_defined?</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id from_mod'>from_mod</span><span class='period'>.</span><span class='id const_get'>const_get</span><span class='lparen'>(</span><span class='id const_name'>const_name</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id mod'>mod</span> <span class='op'>=</span> <span class='id autoload_module!'>autoload_module!</span><span class='lparen'>(</span><span class='id from_mod'>from_mod</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='comma'>,</span> <span class='id qualified_name'>qualified_name</span><span class='comma'>,</span> <span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id mod'>mod</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id parent'>parent</span> <span class='op'>=</span> <span class='id from_mod'>from_mod</span><span class='period'>.</span><span class='id parent'>parent</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id parent'>parent</span> <span class='op'>!=</span> <span class='id from_mod'>from_mod</span> <span class='op'>&amp;&amp;</span>
        <span class='op'>!</span> <span class='id from_mod'>from_mod</span><span class='period'>.</span><span class='id parents'>parents</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id p'>p</span><span class='op'>|</span> <span class='id local_const_defined?'>local_const_defined?</span><span class='lparen'>(</span><span class='id p'>p</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='comment'># If our parents do not have a constant named +const_name+ then we are free
</span>    <span class='comment'># to attempt to load upwards. If they do have such a constant, then this
</span>    <span class='comment'># const_missing must be due to from_mod::const_name, which should not
</span>    <span class='comment'># return constants from from_mod's parents.
</span>    <span class='kw'>begin</span>
      <span class='kw'>return</span> <span class='id parent'>parent</span><span class='period'>.</span><span class='id const_missing'>const_missing</span><span class='lparen'>(</span><span class='id const_name'>const_name</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>NameError</span> <span class='op'>=&gt;</span> <span class='id e'>e</span>
      <span class='id raise'>raise</span> <span class='kw'>unless</span> <span class='id e'>e</span><span class='period'>.</span><span class='id missing_name?'>missing_name?</span> <span class='id qualified_name_for'>qualified_name_for</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='comma'>,</span> <span class='id const_name'>const_name</span><span class='rparen'>)</span>
      <span class='id raise'>raise</span> <span class='id name_error'>name_error</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id raise'>raise</span> <span class='id name_error'>name_error</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_once_path?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>load_once_path?</strong>(path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


422
423
424</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 422</span>

<span class='kw'>def</span> <span class='id load_once_path?'>load_once_path?</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='id autoload_once_paths'>autoload_once_paths</span><span class='period'>.</span><span class='id any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id base'>base</span><span class='op'>|</span> <span class='id path'>path</span><span class='period'>.</span><span class='id starts_with?'>starts_with?</span> <span class='id base'>base</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="loadable_constants_for_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>loadable_constants_for_path</strong>(path, bases = autoload_paths) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Given <tt>path</tt>, a filesystem path to a ruby file, return an array of
constant paths which would cause Dependencies to attempt to load this file.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 382</span>

<span class='kw'>def</span> <span class='id loadable_constants_for_path'>loadable_constants_for_path</span><span class='lparen'>(</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id bases'>bases</span> <span class='op'>=</span> <span class='id autoload_paths'>autoload_paths</span><span class='rparen'>)</span>
  <span class='id path'>path</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='id path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A(.*)\.rb\Z</span><span class='regexp_end'>/</span></span>
  <span class='id expanded_path'>expanded_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='id paths'>paths</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id bases'>bases</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id root'>root</span><span class='op'>|</span>
    <span class='id expanded_root'>expanded_root</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id root'>root</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>\A</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='id expanded_root'>expanded_root</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>(/|\\)</span><span class='regexp_end'>}</span></span> <span class='op'>=~</span> <span class='id expanded_path'>expanded_path</span>

    <span class='id nesting'>nesting</span> <span class='op'>=</span> <span class='id expanded_path'>expanded_path</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id expanded_root'>expanded_root</span><span class='period'>.</span><span class='id size'>size</span><span class='rparen'>)</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id nesting'>nesting</span> <span class='op'>=</span> <span class='id nesting'>nesting</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id nesting'>nesting</span> <span class='op'>&amp;&amp;</span> <span class='id nesting'>nesting</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='CHAR'>?/</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id nesting'>nesting</span><span class='period'>.</span><span class='id blank?'>blank?</span>

    <span class='id paths'>paths</span> <span class='op'>&lt;&lt;</span> <span class='id nesting'>nesting</span><span class='period'>.</span><span class='id camelize'>camelize</span>
  <span class='kw'>end</span>

  <span class='id paths'>paths</span><span class='period'>.</span><span class='id uniq!'>uniq!</span>
  <span class='id paths'>paths</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="local_const_defined?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>local_const_defined?</strong>(mod, const) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


371
372
373</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 371</span>

<span class='kw'>def</span> <span class='id local_const_defined?'>local_const_defined?</span><span class='lparen'>(</span><span class='id mod'>mod</span><span class='comma'>,</span> <span class='id const'>const</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='id mod'>mod</span><span class='period'>.</span><span class='id const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='id const'>const</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mark_for_unload-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>mark_for_unload</strong>(const_desc) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Mark the provided constant name for unloading. This constant will be
unloaded on each request, not just the next one.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


566
567
568
569
570
571
572
573
574</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 566</span>

<span class='kw'>def</span> <span class='id mark_for_unload'>mark_for_unload</span><span class='lparen'>(</span><span class='id const_desc'>const_desc</span><span class='rparen'>)</span>
  <span class='id name'>name</span> <span class='op'>=</span> <span class='id to_constant_name'>to_constant_name</span> <span class='id const_desc'>const_desc</span>
  <span class='kw'>if</span> <span class='id explicitly_unloadable_constants'>explicitly_unloadable_constants</span><span class='period'>.</span><span class='id include?'>include?</span> <span class='id name'>name</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>else</span>
    <span class='id explicitly_unloadable_constants'>explicitly_unloadable_constants</span> <span class='op'>&lt;&lt;</span> <span class='id name'>name</span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new_constants_in-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>new_constants_in</strong>(*descs) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Run the provided block and detect the new constants that were loaded during
its execution. Constants may only be regarded as &#8216;new&#8217; once
&#8212; so if the block calls <tt>new_constants_in</tt> again, then the
constants defined within the inner call will not be reported in this one.
</p>
<p>
If the provided block does not run to completion, and instead raises an
exception, any new constants are regarded as being only partially defined
and will be removed immediately.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 584</span>

<span class='kw'>def</span> <span class='id new_constants_in'>new_constants_in</span><span class='lparen'>(</span><span class='op'>*</span><span class='id descs'>descs</span><span class='rparen'>)</span>
  <span class='id log_call'>log_call</span><span class='lparen'>(</span><span class='op'>*</span><span class='id descs'>descs</span><span class='rparen'>)</span>

  <span class='id constant_watch_stack'>constant_watch_stack</span><span class='period'>.</span><span class='id watch_namespaces'>watch_namespaces</span><span class='lparen'>(</span><span class='id descs'>descs</span><span class='rparen'>)</span>
  <span class='id aborting'>aborting</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='kw'>begin</span>
    <span class='kw'>yield</span> <span class='comment'># Now yield to the code that is to define new constants.
</span>    <span class='id aborting'>aborting</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>ensure</span>
    <span class='id new_constants'>new_constants</span> <span class='op'>=</span> <span class='id constant_watch_stack'>constant_watch_stack</span><span class='period'>.</span><span class='id new_constants'>new_constants</span>

    <span class='id log'>log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>New constants: </span><span class='embexpr_beg'>#{</span><span class='id new_constants'>new_constants</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>, </span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span> <span class='id new_constants'>new_constants</span> <span class='kw'>unless</span> <span class='id aborting'>aborting</span>

    <span class='id log'>log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error during loading, removing partially loaded constants </span><span class='tstring_end'>&quot;</span></span>
    <span class='id new_constants'>new_constants</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id c'>c</span><span class='op'>|</span> <span class='id remove_constant'>remove_constant</span><span class='lparen'>(</span><span class='id c'>c</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id clear'>clear</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="qualified_const_defined?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>qualified_const_defined?</strong>(path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Is the provided constant path defined?
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


359
360
361
362
363
364
365
366</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 359</span>

<span class='kw'>def</span> <span class='id qualified_const_defined?'>qualified_const_defined?</span><span class='lparen'>(</span><span class='id path'>path</span><span class='rparen'>)</span>
  <span class='id names'>names</span> <span class='op'>=</span> <span class='id path'>path</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='id names'>names</span><span class='period'>.</span><span class='id inject'>inject</span><span class='lparen'>(</span><span class='const'>Object</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id mod'>mod</span><span class='comma'>,</span> <span class='id name'>name</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id local_const_defined?'>local_const_defined?</span><span class='lparen'>(</span><span class='id mod'>mod</span><span class='comma'>,</span> <span class='id name'>name</span><span class='rparen'>)</span>
    <span class='id mod'>mod</span><span class='period'>.</span><span class='id const_get'>const_get</span> <span class='id name'>name</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="qualified_name_for-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>qualified_name_for</strong>(mod, name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Return the constant path for the provided parent and constant name.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


464
465
466
467</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 464</span>

<span class='kw'>def</span> <span class='id qualified_name_for'>qualified_name_for</span><span class='lparen'>(</span><span class='id mod'>mod</span><span class='comma'>,</span> <span class='id name'>name</span><span class='rparen'>)</span>
  <span class='id mod_name'>mod_name</span> <span class='op'>=</span> <span class='id to_constant_name'>to_constant_name</span> <span class='id mod'>mod</span>
  <span class='id mod_name'>mod_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id name'>name</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id mod_name'>mod_name</span><span class='rbrace'>}</span><span class='tstring_content'>::</span><span class='embexpr_beg'>#{</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ref-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ref</strong>(name) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


541
542
543</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 541</span>

<span class='kw'>def</span> <span class='id ref'>ref</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
  <span class='id references'>references</span><span class='lbracket'>[</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Reference</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_constant-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_constant</strong>(const) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


630
631
632
633
634
635
636
637
638
639
640
641
642</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 630</span>

<span class='kw'>def</span> <span class='id remove_constant'>remove_constant</span><span class='lparen'>(</span><span class='id const'>const</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id qualified_const_defined?'>qualified_const_defined?</span> <span class='id const'>const</span>

  <span class='comment'># Normalize ::Foo, Foo, Object::Foo, and ::Object::Foo to Object::Foo
</span>  <span class='id names'>names</span> <span class='op'>=</span> <span class='id const'>const</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::(Object)?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Object::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id to_remove'>to_remove</span> <span class='op'>=</span> <span class='id names'>names</span><span class='period'>.</span><span class='id pop'>pop</span>
  <span class='id parent'>parent</span> <span class='op'>=</span> <span class='const'>Inflector</span><span class='period'>.</span><span class='id constantize'>constantize</span><span class='lparen'>(</span><span class='id names'>names</span> <span class='op'>*</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>::</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='id log'>log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>removing constant </span><span class='embexpr_beg'>#{</span><span class='id const'>const</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id parent'>parent</span><span class='period'>.</span><span class='id instance_eval'>instance_eval</span> <span class='lbrace'>{</span> <span class='id remove_const'>remove_const</span> <span class='id to_remove'>to_remove</span> <span class='rbrace'>}</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_unloadable_constants!-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_unloadable_constants!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Remove the constants that have been autoloaded, and those that have been
marked for unloading.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


515
516
517
518
519
520</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 515</span>

<span class='kw'>def</span> <span class='id remove_unloadable_constants!'>remove_unloadable_constants!</span>
  <span class='id autoloaded_constants'>autoloaded_constants</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id const'>const</span><span class='op'>|</span> <span class='id remove_constant'>remove_constant</span> <span class='id const'>const</span> <span class='rbrace'>}</span>
  <span class='id autoloaded_constants'>autoloaded_constants</span><span class='period'>.</span><span class='id clear'>clear</span>
  <span class='const'>Reference</span><span class='period'>.</span><span class='id clear!'>clear!</span>
  <span class='id explicitly_unloadable_constants'>explicitly_unloadable_constants</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id const'>const</span><span class='op'>|</span> <span class='id remove_constant'>remove_constant</span> <span class='id const'>const</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="require_or_load-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>require_or_load</strong>(file_name, const_path = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 320</span>

<span class='kw'>def</span> <span class='id require_or_load'>require_or_load</span><span class='lparen'>(</span><span class='id file_name'>file_name</span><span class='comma'>,</span> <span class='id const_path'>const_path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id log_call'>log_call</span> <span class='id file_name'>file_name</span><span class='comma'>,</span> <span class='id const_path'>const_path</span>
  <span class='id file_name'>file_name</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='id file_name'>file_name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^(.*)\.rb$</span><span class='regexp_end'>/</span></span>
  <span class='id expanded'>expanded</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='id file_name'>file_name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id loaded'>loaded</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id expanded'>expanded</span><span class='rparen'>)</span>

  <span class='comment'># Record that we've seen this file *before* loading it to avoid an
</span>  <span class='comment'># infinite loop with mutual dependencies.
</span>  <span class='id loaded'>loaded</span> <span class='op'>&lt;&lt;</span> <span class='id expanded'>expanded</span>

  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='id load?'>load?</span>
      <span class='id log'>log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>loading </span><span class='embexpr_beg'>#{</span><span class='id file_name'>file_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='comment'># Enable warnings iff this file has not been loaded before and
</span>      <span class='comment'># warnings_on_first_load is set.
</span>      <span class='id load_args'>load_args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id file_name'>file_name</span><span class='rbrace'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='id load_args'>load_args</span> <span class='op'>&lt;&lt;</span> <span class='id const_path'>const_path</span> <span class='kw'>unless</span> <span class='id const_path'>const_path</span><span class='period'>.</span><span class='id nil?'>nil?</span>

      <span class='kw'>if</span> <span class='op'>!</span><span class='id warnings_on_first_load'>warnings_on_first_load</span> <span class='kw'>or</span> <span class='id history'>history</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id expanded'>expanded</span><span class='rparen'>)</span>
        <span class='id result'>result</span> <span class='op'>=</span> <span class='id load_file'>load_file</span><span class='lparen'>(</span><span class='op'>*</span><span class='id load_args'>load_args</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id enable_warnings'>enable_warnings</span> <span class='lbrace'>{</span> <span class='id result'>result</span> <span class='op'>=</span> <span class='id load_file'>load_file</span><span class='lparen'>(</span><span class='op'>*</span><span class='id load_args'>load_args</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id log'>log</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>requiring </span><span class='embexpr_beg'>#{</span><span class='id file_name'>file_name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id result'>result</span> <span class='op'>=</span> <span class='id require'>require</span> <span class='id file_name'>file_name</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span>
    <span class='id loaded'>loaded</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='id expanded'>expanded</span>
    <span class='id raise'>raise</span>
  <span class='kw'>end</span>

  <span class='comment'># Record history *after* loading so first load gets warnings.
</span>  <span class='id history'>history</span> <span class='op'>&lt;&lt;</span> <span class='id expanded'>expanded</span>
  <span class='kw'>return</span> <span class='id result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="search_for_file-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>search_for_file</strong>(path_suffix) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Search for a file in autoload_paths matching the provided suffix.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


403
404
405
406
407
408
409
410
411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 403</span>

<span class='kw'>def</span> <span class='id search_for_file'>search_for_file</span><span class='lparen'>(</span><span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
  <span class='id path_suffix'>path_suffix</span> <span class='op'>=</span> <span class='id path_suffix'>path_suffix</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\.rb)?$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id autoload_paths'>autoload_paths</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id root'>root</span><span class='op'>|</span>
    <span class='id path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='id root'>root</span><span class='comma'>,</span> <span class='id path_suffix'>path_suffix</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id path'>path</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id file?'>file?</span> <span class='id path'>path</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span> <span class='comment'># Gee, I sure wish we had first_match ;-)
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_constant_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_constant_name</strong>(desc) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Convert the provided const desc to a qualified constant name (as a string).
A module, class, symbol, or string may be provided.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


619
620
621
622
623
624
625
626
627
628</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 619</span>

<span class='kw'>def</span> <span class='id to_constant_name'>to_constant_name</span><span class='lparen'>(</span><span class='id desc'>desc</span><span class='rparen'>)</span> <span class='comment'>#:nodoc:
</span>  <span class='kw'>case</span> <span class='id desc'>desc</span>
    <span class='kw'>when</span> <span class='const'>String</span> <span class='kw'>then</span> <span class='id desc'>desc</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^::</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'>Symbol</span> <span class='kw'>then</span> <span class='id desc'>desc</span><span class='period'>.</span><span class='id to_s'>to_s</span>
    <span class='kw'>when</span> <span class='const'>Module</span>
      <span class='id desc'>desc</span><span class='period'>.</span><span class='id name'>name</span><span class='period'>.</span><span class='id presence'>presence</span> <span class='op'>||</span>
        <span class='id raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Anonymous modules have no name to be referenced by</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span> <span class='id raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not a valid constant descriptor: </span><span class='embexpr_beg'>#{</span><span class='id desc'>desc</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="unhook!-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>unhook!</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


288
289
290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 288</span>

<span class='kw'>def</span> <span class='id unhook!'>unhook!</span>
  <span class='const'>ModuleConstMissing</span><span class='period'>.</span><span class='id exclude_from'>exclude_from</span><span class='lparen'>(</span><span class='const'>Module</span><span class='rparen'>)</span>
  <span class='const'>Loadable</span><span class='period'>.</span><span class='id exclude_from'>exclude_from</span><span class='lparen'>(</span><span class='const'>Object</span><span class='rparen'>)</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="will_unload?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>will_unload?</strong>(const_desc) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Will the provided constant descriptor be unloaded?
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


559
560
561
562</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activesupport/lib/active_support/dependencies.rb', line 559</span>

<span class='kw'>def</span> <span class='id will_unload?'>will_unload?</span><span class='lparen'>(</span><span class='id const_desc'>const_desc</span><span class='rparen'>)</span>
  <span class='id autoloaded?'>autoloaded?</span><span class='lparen'>(</span><span class='id const_desc'>const_desc</span><span class='rparen'>)</span> <span class='op'>||</span>
    <span class='id explicitly_unloadable_constants'>explicitly_unloadable_constants</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id to_constant_name'>to_constant_name</span><span class='lparen'>(</span><span class='id const_desc'>const_desc</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:41 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>