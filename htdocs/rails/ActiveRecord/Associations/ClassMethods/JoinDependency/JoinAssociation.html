<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: ActiveRecord::Associations::ClassMethods::JoinDependency::JoinAssociation</title>
<link rel="stylesheet" href="../../../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../../_index.html">Index (J)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Associations.html" title="ActiveRecord::Associations (module)">Associations</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../ClassMethods.html" title="ActiveRecord::Associations::ClassMethods (module)">ClassMethods</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../JoinDependency.html" title="ActiveRecord::Associations::ClassMethods::JoinDependency (class)">JoinDependency</a></span></span>
     &raquo; 
    <span class="title">JoinAssociation</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: ActiveRecord::Associations::ClassMethods::JoinDependency::JoinAssociation
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="JoinBase.html" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase (class)">JoinBase</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="JoinBase.html" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase (class)">JoinBase</a></span></li>
          
            <li class="next">ActiveRecord::Associations::ClassMethods::JoinDependency::JoinAssociation</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">activerecord/lib/active_record/associations.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div>

  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#aliased_join_table_name-instance_method" title="#aliased_join_table_name (instance method)">- (Object) <strong>aliased_join_table_name</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute aliased_join_table_name.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#aliased_prefix-instance_method" title="#aliased_prefix (instance method)">- (Object) <strong>aliased_prefix</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute aliased_prefix.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#aliased_table_name-instance_method" title="#aliased_table_name (instance method)">- (Object) <strong>aliased_table_name</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute aliased_table_name.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#join_class-instance_method" title="#join_class (instance method)">- (Object) <strong>join_class</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute join_class.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent-instance_method" title="#parent (instance method)">- (Object) <strong>parent</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute parent.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent_table_name-instance_method" title="#parent_table_name (instance method)">- (Object) <strong>parent_table_name</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute parent_table_name.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#reflection-instance_method" title="#reflection (instance method)">- (Object) <strong>reflection</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute reflection.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Object) <strong>==</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#association_join-instance_method" title="#association_join (instance method)">- (Object) <strong>association_join</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_parent_in-instance_method" title="#find_parent_in (instance method)">- (Object) <strong>find_parent_in</strong>(other_join_dependency) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (JoinAssociation) <strong>initialize</strong>(reflection, join_dependency, parent = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of JoinAssociation.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join_relation-instance_method" title="#join_relation (instance method)">- (Object) <strong>join_relation</strong>(joining_relation, join = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relation-instance_method" title="#relation (instance method)">- (Object) <strong>relation</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_join_class-instance_method" title="#with_join_class (instance method)">- (Object) <strong>with_join_class</strong>(join_class) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="JoinBase.html" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase (class)">JoinBase</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="JoinBase.html#aliased_primary_key-instance_method" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase#aliased_primary_key (method)">#aliased_primary_key</a></span>, <span class='object_link'><a href="JoinBase.html#column_names_with_alias-instance_method" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase#column_names_with_alias (method)">#column_names_with_alias</a></span>, <span class='object_link'><a href="JoinBase.html#extract_record-instance_method" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase#extract_record (method)">#extract_record</a></span>, <span class='object_link'><a href="JoinBase.html#instantiate-instance_method" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase#instantiate (method)">#instantiate</a></span>, <span class='object_link'><a href="JoinBase.html#record_id-instance_method" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinBase#record_id (method)">#record_id</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="ActiveRecord::Associations::ClassMethods::JoinDependency::JoinAssociation (class)">JoinAssociation</a></span></tt>) <strong>initialize</strong>(reflection, join_dependency, parent = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of JoinAssociation
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2068
2069
2070
2071
2072
2073
2074
2075
2076
2077
2078
2079
2080
2081
2082
2083
2084
2085
2086
2087
2088
2089
2090
2091</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2068</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='comma'>,</span> <span class='id join_dependency'>join_dependency</span><span class='comma'>,</span> <span class='id parent'>parent</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id check_validity!'>check_validity!</span>
  <span class='kw'>if</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:polymorphic</span><span class='rbracket'>]</span>
    <span class='id raise'>raise</span> <span class='const'>EagerLoadPolymorphicError</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>super</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='rparen'>)</span>
  <span class='ivar'>@join_dependency</span>    <span class='op'>=</span> <span class='id join_dependency'>join_dependency</span>
  <span class='ivar'>@parent</span>             <span class='op'>=</span> <span class='id parent'>parent</span>
  <span class='ivar'>@reflection</span>         <span class='op'>=</span> <span class='id reflection'>reflection</span>
  <span class='ivar'>@aliased_prefix</span>     <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>t</span><span class='embexpr_beg'>#{</span> <span class='id join_dependency'>join_dependency</span><span class='period'>.</span><span class='id joins'>joins</span><span class='period'>.</span><span class='id size'>size</span> <span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@parent_table_name</span>  <span class='op'>=</span> <span class='id parent'>parent</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id table_name'>table_name</span>
  <span class='ivar'>@aliased_table_name</span> <span class='op'>=</span> <span class='id aliased_table_name_for'>aliased_table_name_for</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='rparen'>)</span>
  <span class='ivar'>@join</span>               <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@join_class</span>         <span class='op'>=</span> <span class='const'>Arel</span><span class='op'>::</span><span class='const'>InnerJoin</span>

  <span class='kw'>if</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id macro'>macro</span> <span class='op'>==</span> <span class='symbol'>:has_and_belongs_to_many</span>
    <span class='ivar'>@aliased_join_table_name</span> <span class='op'>=</span> <span class='id aliased_table_name_for'>aliased_table_name_for</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:join_table</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_join</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='lbracket'>[</span><span class='symbol'>:has_many</span><span class='comma'>,</span> <span class='symbol'>:has_one</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id macro'>macro</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:through</span><span class='rbracket'>]</span>
    <span class='ivar'>@aliased_join_table_name</span> <span class='op'>=</span> <span class='id aliased_table_name_for'>aliased_table_name_for</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_join</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="aliased_join_table_name-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="aliased_join_table_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>aliased_join_table_name</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute aliased_join_table_name
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id aliased_join_table_name'>aliased_join_table_name</span>
  <span class='ivar'>@aliased_join_table_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="aliased_prefix-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="aliased_prefix-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>aliased_prefix</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute aliased_prefix
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id aliased_prefix'>aliased_prefix</span>
  <span class='ivar'>@aliased_prefix</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="aliased_table_name-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="aliased_table_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>aliased_table_name</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute aliased_table_name
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id aliased_table_name'>aliased_table_name</span>
  <span class='ivar'>@aliased_table_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="join_class-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="join_class-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>join_class</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute join_class
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id join_class'>join_class</span>
  <span class='ivar'>@join_class</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="parent-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="parent-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>parent</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute parent
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id parent'>parent</span>
  <span class='ivar'>@parent</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="parent_table_name-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="parent_table_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>parent_table_name</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute parent_table_name
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id parent_table_name'>parent_table_name</span>
  <span class='ivar'>@parent_table_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="reflection-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="reflection-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>reflection</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute reflection
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2065
2066
2067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2065</span>

<span class='kw'>def</span> <span class='id reflection'>reflection</span>
  <span class='ivar'>@reflection</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="==-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>==</strong>(other) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2093
2094
2095
2096
2097</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2093</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id other'>other</span><span class='rparen'>)</span>
  <span class='id other'>other</span><span class='period'>.</span><span class='id class'>class</span> <span class='op'>==</span> <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span> <span class='op'>&amp;&amp;</span>
  <span class='id other'>other</span><span class='period'>.</span><span class='id reflection'>reflection</span> <span class='op'>==</span> <span class='id reflection'>reflection</span> <span class='op'>&amp;&amp;</span>
  <span class='id other'>other</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='op'>==</span> <span class='id parent'>parent</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="association_join-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>association_join</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2110
2111
2112
2113
2114
2115
2116
2117
2118
2119
2120
2121
2122
2123
2124
2125
2126
2127
2128
2129
2130
2131
2132
2133
2134
2135
2136
2137
2138
2139
2140
2141
2142
2143
2144
2145
2146
2147
2148
2149
2150
2151
2152
2153
2154
2155
2156
2157
2158
2159
2160
2161
2162
2163
2164
2165
2166
2167
2168
2169
2170
2171
2172
2173
2174
2175
2176
2177
2178
2179
2180
2181
2182
2183
2184
2185
2186
2187
2188
2189
2190
2191
2192
2193
2194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2110</span>

<span class='kw'>def</span> <span class='id association_join'>association_join</span>
  <span class='kw'>return</span> <span class='ivar'>@join</span> <span class='kw'>if</span> <span class='ivar'>@join</span>

  <span class='id aliased_table'>aliased_table</span> <span class='op'>=</span> <span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='ivar'>@aliased_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span>
  <span class='id parent_table'>parent_table</span> <span class='op'>=</span> <span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id parent'>parent</span><span class='period'>.</span><span class='id aliased_table_name'>aliased_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span>

  <span class='ivar'>@join</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id macro'>macro</span>
  <span class='kw'>when</span> <span class='symbol'>:has_and_belongs_to_many</span>
    <span class='id join_table'>join_table</span> <span class='op'>=</span> <span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:join_table</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id aliased_join_table_name'>aliased_join_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span>
    <span class='id fk'>fk</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id foreign_key'>foreign_key</span>
    <span class='id klass_fk'>klass_fk</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:association_foreign_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id foreign_key'>foreign_key</span>

    <span class='lbracket'>[</span>
      <span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id fk'>fk</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id parent_table'>parent_table</span><span class='lbracket'>[</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id klass_fk'>klass_fk</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='symbol'>:has_many</span><span class='comma'>,</span> <span class='symbol'>:has_one</span>
    <span class='kw'>if</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:through</span><span class='rbracket'>]</span>
      <span class='id join_table'>join_table</span> <span class='op'>=</span> <span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id aliased_join_table_name'>aliased_join_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span>
      <span class='id jt_foreign_key'>jt_foreign_key</span> <span class='op'>=</span> <span class='id jt_as_extra'>jt_as_extra</span> <span class='op'>=</span> <span class='id jt_source_extra'>jt_source_extra</span> <span class='op'>=</span> <span class='id jt_sti_extra'>jt_sti_extra</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id first_key'>first_key</span> <span class='op'>=</span> <span class='id second_key'>second_key</span> <span class='op'>=</span> <span class='id as_extra'>as_extra</span> <span class='op'>=</span> <span class='kw'>nil</span>

      <span class='kw'>if</span> <span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span> <span class='comment'># has_many :through against a polymorphic join
</span>        <span class='id jt_foreign_key'>jt_foreign_key</span> <span class='op'>=</span> <span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_id</span><span class='tstring_end'>'</span></span>
        <span class='id jt_as_extra'>jt_as_extra</span> <span class='op'>=</span> <span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id base_class'>base_class</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id jt_foreign_key'>jt_foreign_key</span> <span class='op'>=</span> <span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id primary_key_name'>primary_key_name</span>
      <span class='kw'>end</span>

      <span class='kw'>case</span> <span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id macro'>macro</span>
      <span class='kw'>when</span> <span class='symbol'>:has_many</span>
        <span class='kw'>if</span> <span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span>
          <span class='id first_key'>first_key</span>   <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span>
          <span class='id second_key'>second_key</span>  <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id primary_key'>primary_key</span>
          <span class='id as_extra'>as_extra</span>    <span class='op'>=</span> <span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>_type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id base_class'>base_class</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id first_key'>first_key</span>   <span class='op'>=</span> <span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id base_class'>base_class</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id foreign_key'>foreign_key</span>
          <span class='id second_key'>second_key</span>  <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id primary_key'>primary_key</span>
        <span class='kw'>end</span>

        <span class='kw'>unless</span> <span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id descends_from_active_record?'>descends_from_active_record?</span>
          <span class='id jt_sti_extra'>jt_sti_extra</span> <span class='op'>=</span> <span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id inheritance_column'>inheritance_column</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id sti_name'>sti_name</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='symbol'>:belongs_to</span>
        <span class='id first_key'>first_key</span> <span class='op'>=</span> <span class='id primary_key'>primary_key</span>
        <span class='kw'>if</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:source_type</span><span class='rbracket'>]</span>
          <span class='id second_key'>second_key</span> <span class='op'>=</span> <span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id association_foreign_key'>association_foreign_key</span>
          <span class='id jt_source_extra'>jt_source_extra</span> <span class='op'>=</span> <span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_type</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:source_type</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id second_key'>second_key</span> <span class='op'>=</span> <span class='id source_reflection'>source_reflection</span><span class='period'>.</span><span class='id primary_key_name'>primary_key_name</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='lbracket'>[</span>
        <span class='lbracket'>[</span><span class='id parent_table'>parent_table</span><span class='lbracket'>[</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id jt_foreign_key'>jt_foreign_key</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id jt_as_extra'>jt_as_extra</span><span class='comma'>,</span> <span class='id jt_source_extra'>jt_source_extra</span><span class='comma'>,</span> <span class='id jt_sti_extra'>jt_sti_extra</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id reject'>reject</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id x'>x</span><span class='op'>|</span> <span class='id x'>x</span><span class='period'>.</span><span class='id blank?'>blank?</span> <span class='rbrace'>}</span><span class='comma'>,</span>
        <span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='id first_key'>first_key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id join_table'>join_table</span><span class='lbracket'>[</span><span class='id second_key'>second_key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span>
      <span class='id id_rel'>id_rel</span> <span class='op'>=</span> <span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id parent_table'>parent_table</span><span class='lbracket'>[</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id type_rel'>type_rel</span> <span class='op'>=</span> <span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:as</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>_type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id parent'>parent</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id base_class'>base_class</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span>
      <span class='lbracket'>[</span><span class='id id_rel'>id_rel</span><span class='comma'>,</span> <span class='id type_rel'>type_rel</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id foreign_key'>foreign_key</span> <span class='op'>=</span> <span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id active_record'>active_record</span><span class='period'>.</span><span class='id name'>name</span><span class='period'>.</span><span class='id foreign_key'>foreign_key</span>
      <span class='lbracket'>[</span><span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='id foreign_key'>foreign_key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id parent_table'>parent_table</span><span class='lbracket'>[</span><span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:primary_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id parent'>parent</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>when</span> <span class='symbol'>:belongs_to</span>
    <span class='lbracket'>[</span><span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:primary_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id primary_key'>primary_key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id parent_table'>parent_table</span><span class='lbracket'>[</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id primary_key_name'>primary_key_name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id descends_from_active_record?'>descends_from_active_record?</span>
    <span class='id sti_column'>sti_column</span> <span class='op'>=</span> <span class='id aliased_table'>aliased_table</span><span class='lbracket'>[</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id inheritance_column'>inheritance_column</span><span class='rbracket'>]</span>
    <span class='id sti_condition'>sti_condition</span> <span class='op'>=</span> <span class='id sti_column'>sti_column</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id sti_name'>sti_name</span><span class='rparen'>)</span>
    <span class='id klass'>klass</span><span class='period'>.</span><span class='id descendants'>descendants</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id subclass'>subclass</span><span class='op'>|</span> <span class='id sti_condition'>sti_condition</span> <span class='op'>=</span> <span class='id sti_condition'>sti_condition</span><span class='period'>.</span><span class='id or'>or</span><span class='lparen'>(</span><span class='id sti_column'>sti_column</span><span class='period'>.</span><span class='id eq'>eq</span><span class='lparen'>(</span><span class='id subclass'>subclass</span><span class='period'>.</span><span class='id sti_name'>sti_name</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

    <span class='ivar'>@join</span> <span class='op'>&lt;&lt;</span> <span class='id sti_condition'>sti_condition</span>
  <span class='kw'>end</span>

  <span class='lbracket'>[</span><span class='id through_reflection'>through_reflection</span><span class='comma'>,</span> <span class='id reflection'>reflection</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id ref'>ref</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id ref'>ref</span> <span class='op'>&amp;&amp;</span> <span class='id ref'>ref</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:conditions</span><span class='rbracket'>]</span>
      <span class='ivar'>@join</span> <span class='op'>&lt;&lt;</span> <span class='id interpolate_sql'>interpolate_sql</span><span class='lparen'>(</span><span class='id sanitize_sql'>sanitize_sql</span><span class='lparen'>(</span><span class='id ref'>ref</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:conditions</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id aliased_table_name'>aliased_table_name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@join</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find_parent_in-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>find_parent_in</strong>(other_join_dependency) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2099
2100
2101
2102
2103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2099</span>

<span class='kw'>def</span> <span class='id find_parent_in'>find_parent_in</span><span class='lparen'>(</span><span class='id other_join_dependency'>other_join_dependency</span><span class='rparen'>)</span>
  <span class='id other_join_dependency'>other_join_dependency</span><span class='period'>.</span><span class='id joins'>joins</span><span class='period'>.</span><span class='id detect'>detect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id join'>join</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id parent'>parent</span> <span class='op'>==</span> <span class='id join'>join</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="join_relation-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>join_relation</strong>(joining_relation, join = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2208
2209
2210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2208</span>

<span class='kw'>def</span> <span class='id join_relation'>join_relation</span><span class='lparen'>(</span><span class='id joining_relation'>joining_relation</span><span class='comma'>,</span> <span class='id join'>join</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id joining_relation'>joining_relation</span><span class='period'>.</span><span class='id joins'>joins</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id with_join_class'>with_join_class</span><span class='lparen'>(</span><span class='const'>Arel</span><span class='op'>::</span><span class='const'>OuterJoin</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="relation-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>relation</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2196
2197
2198
2199
2200
2201
2202
2203
2204
2205
2206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2196</span>

<span class='kw'>def</span> <span class='id relation'>relation</span>
  <span class='id aliased'>aliased</span> <span class='op'>=</span> <span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='ivar'>@aliased_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id macro'>macro</span> <span class='op'>==</span> <span class='symbol'>:has_and_belongs_to_many</span>
    <span class='lbracket'>[</span><span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:join_table</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id aliased_join_table_name'>aliased_join_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id aliased'>aliased</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id reflection'>reflection</span><span class='period'>.</span><span class='id options'>options</span><span class='lbracket'>[</span><span class='symbol'>:through</span><span class='rbracket'>]</span>
    <span class='lbracket'>[</span><span class='const'>Arel</span><span class='op'>::</span><span class='const'>Table</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id through_reflection'>through_reflection</span><span class='period'>.</span><span class='id klass'>klass</span><span class='period'>.</span><span class='id table_name'>table_name</span><span class='comma'>,</span> <span class='symbol'>:as</span> <span class='op'>=&gt;</span> <span class='id aliased_join_table_name'>aliased_join_table_name</span><span class='comma'>,</span> <span class='symbol'>:engine</span> <span class='op'>=&gt;</span> <span class='id arel_engine'>arel_engine</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id aliased'>aliased</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id aliased'>aliased</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="with_join_class-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>with_join_class</strong>(join_class) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2105
2106
2107
2108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'activerecord/lib/active_record/associations.rb', line 2105</span>

<span class='kw'>def</span> <span class='id with_join_class'>with_join_class</span><span class='lparen'>(</span><span class='id join_class'>join_class</span><span class='rparen'>)</span>
  <span class='ivar'>@join_class</span> <span class='op'>=</span> <span class='id join_class'>join_class</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:37 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>