<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActiveRecord::AssociationPreload::ClassMethods</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../ActiveRecord.html" title="ActiveRecord (module)">ActiveRecord</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../AssociationPreload.html" title="ActiveRecord::AssociationPreload (module)">AssociationPreload</a></span></span>
     &raquo; 
    <span class="title">ClassMethods</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActiveRecord::AssociationPreload::ClassMethods
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">activerecord/lib/active_record/association_preload.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Implements the details of eager loading of Active Record associations.
Application developers should not use this module directly.
</p>
<p>
<tt>ActiveRecord::Base</tt> is extended with this module. The source code
in <tt>ActiveRecord::Base</tt> references methods defined in this module.
</p>
<p>
Note that &#8216;eager loading&#8217; and &#8216;preloading&#8217; are
actually the same thing. However, there are two different eager loading
strategies.
</p>
<p>
The first one is by using table joins. This was only strategy available
prior to Rails 2.1. Suppose that you have an Author model with columns
&#8216;name&#8217; and &#8216;age&#8217;, and a Book model with columns
&#8216;name&#8217; and &#8216;sales&#8217;. Using this strategy, Active
Record would try to retrieve all data for an author and all of its books
via a single query:
</p>
<pre class="code">
  SELECT * FROM authors
  LEFT OUTER JOIN books ON authors.id = books.id
  WHERE authors.name = 'Ken Akamatsu'
</pre>
<p>
However, this could result in many rows that contain redundant data. After
having received the first row, we already have enough data to instantiate
the Author object. In all subsequent rows, only the data for the joined
&#8216;books&#8217; table is useful; the joined &#8216;authors&#8217; data
is just redundant, and processing this redundant data takes memory and CPU
time. The problem quickly becomes worse and worse as the level of eager
loading increases (i.e. if Active Record is to eager load the
associations&#8217; associations as well).
</p>
<p>
The second strategy is to use multiple database queries, one for each level
of association. Since Rails 2.1, this is the default strategy. In
situations where a table join is necessary (e.g. when the
<tt>:conditions</tt> option references an association&#8217;s column), it
will fallback to the table join strategy.
</p>
<p>
See also ActiveRecord::Associations::ClassMethods, which explains eager
loading in a more high-level (application developer-friendly) manner.
</p>


  </div>
</div>
<div class="tags">
  
</div>




</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:06 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>