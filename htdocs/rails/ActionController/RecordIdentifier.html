<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionController::RecordIdentifier</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../ActionController.html" title="ActionController (module)">ActionController</a></span></span>
     &raquo; 
    <span class="title">RecordIdentifier</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionController::RecordIdentifier
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="" title="ActionController::RecordIdentifier (module)">RecordIdentifier</a></span></dd>
      
    
  
    
  
  
    <dt class="r2">Included in:</dt>
    <dd class="r2"><span class='object_link'><a href="" title="ActionController::RecordIdentifier (module)">RecordIdentifier</a></span>, <span class='object_link'><a href="../ActionView/Helpers/RecordTagHelper.html" title="ActionView::Helpers::RecordTagHelper (module)">ActionView::Helpers::RecordTagHelper</a></span>, <span class='object_link'><a href="../ActionView/TestCase/Behavior.html" title="ActionView::TestCase::Behavior (module)">ActionView::TestCase::Behavior</a></span></dd>
    
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">actionpack/lib/action_controller/record_identifier.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
The record identifier encapsulates a number of naming conventions for
dealing with records, like Active Records or Active Resources or pretty
much any other model type that has an id. These patterns are then used to
try elevate the view actions to a higher logical level. Example:
</p>
<pre class="code">
  # routes
  resources :posts

  # view
  &lt;%= div_for(post) do %&gt;    &lt;div id=&quot;post_45&quot; class=&quot;post&quot;&gt;
    &lt;%= post.body %&gt;           What a wonderful world!
  &lt;% end %&gt;                  &lt;/div&gt;

  # controller
  def destroy
    post = Post.find(params[:id])
    post.destroy

    respond_to do |format|
      format.html { redirect_to(post) } # Calls polymorphic_url(post) which in turn calls post_url(post)
      format.js do
        # Calls: new Effect.fade('post_45');
        render(:update) { |page| page[post].visual_effect(:fade) }
      end
    end
  end
</pre>
<p>
As the example above shows, you can stop caring to a large extent what the
actual id of the post is. You just know that one is being assigned and that
the subsequent calls in redirect_to and the RJS expect that same naming
convention and allows you to write less code if you follow it.
</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="JOIN-constant" class="">JOIN =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
        <dt id="NEW-constant" class="">NEW =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>new</span><span class='tstring_end'>'</span></span><span class='period'>.</span><span class='id freeze'>freeze</span></pre></dd>
      
    </dl>
  



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dom_class-instance_method" title="#dom_class (instance method)">- (Object) <strong>dom_class</strong>(record_or_class, prefix = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The DOM class convention is to use the singular form of an object or class.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dom_id-instance_method" title="#dom_id (instance method)">- (Object) <strong>dom_id</strong>(record, prefix = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The DOM id convention is to use the singular form of an object or class
with the id following an underscore.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="dom_class-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>dom_class</strong>(record_or_class, prefix = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The DOM class convention is to use the singular form of an object or class.
Examples:
</p>
<pre class="code">
  <span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='id post'>post</span><span class='rparen'>)</span>   <span class='comment'># =&gt; &quot;post&quot;
</span>  <span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='const'>Person</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;person&quot;
</span></pre>
<p>
If you need to address multiple instances of the same class in the same
view, you can prefix the dom_class:
</p>
<pre class="code">
  <span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='id post'>post</span><span class='comma'>,</span> <span class='symbol'>:edit</span><span class='rparen'>)</span>   <span class='comment'># =&gt; &quot;edit_post&quot;
</span>  <span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='const'>Person</span><span class='comma'>,</span> <span class='symbol'>:edit</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;edit_person&quot;</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/record_identifier.rb', line 48</span>

<span class='kw'>def</span> <span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='id record_or_class'>record_or_class</span><span class='comma'>,</span> <span class='id prefix'>prefix</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id singular'>singular</span> <span class='op'>=</span> <span class='const'>ActiveModel</span><span class='op'>::</span><span class='const'>Naming</span><span class='period'>.</span><span class='id singular'>singular</span><span class='lparen'>(</span><span class='id record_or_class'>record_or_class</span><span class='rparen'>)</span>
  <span class='id prefix'>prefix</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id prefix'>prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='const'>JOIN</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id singular'>singular</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id singular'>singular</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dom_id-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>dom_id</strong>(record, prefix = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The DOM id convention is to use the singular form of an object or class
with the id following an underscore. If no id is found, prefix with
&#8220;new_&#8221; instead. Examples:
</p>
<pre class="code">
  <span class='id dom_id'>dom_id</span><span class='lparen'>(</span><span class='const'>Post</span><span class='period'>.</span><span class='id find'>find</span><span class='lparen'>(</span><span class='int'>45</span><span class='rparen'>)</span><span class='rparen'>)</span>       <span class='comment'># =&gt; &quot;post_45&quot;
</span>  <span class='id dom_id'>dom_id</span><span class='lparen'>(</span><span class='const'>Post</span><span class='period'>.</span><span class='id new'>new</span><span class='rparen'>)</span>            <span class='comment'># =&gt; &quot;new_post&quot;
</span></pre>
<p>
If you need to address multiple instances of the same class in the same
view, you can prefix the dom_id:
</p>
<pre class="code">
  <span class='id dom_id'>dom_id</span><span class='lparen'>(</span><span class='const'>Post</span><span class='period'>.</span><span class='id find'>find</span><span class='lparen'>(</span><span class='int'>45</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:edit</span><span class='rparen'>)</span> <span class='comment'># =&gt; &quot;edit_post_45&quot;</span></pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/record_identifier.rb', line 62</span>

<span class='kw'>def</span> <span class='id dom_id'>dom_id</span><span class='lparen'>(</span><span class='id record'>record</span><span class='comma'>,</span> <span class='id prefix'>prefix</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id record_id'>record_id</span> <span class='op'>=</span> <span class='id record_key_for_dom_id'>record_key_for_dom_id</span><span class='lparen'>(</span><span class='id record'>record</span><span class='rparen'>)</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='id record'>record</span><span class='comma'>,</span> <span class='id prefix'>prefix</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='const'>JOIN</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id record_id'>record_id</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id dom_class'>dom_class</span><span class='lparen'>(</span><span class='id record'>record</span><span class='comma'>,</span> <span class='id prefix'>prefix</span> <span class='op'>||</span> <span class='const'>NEW</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:04:08 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>