<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ActionController::TestCase::Behavior</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (B)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../ActionController.html" title="ActionController (module)">ActionController</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../TestCase.html" title="ActionController::TestCase (class)">TestCase</a></span></span>
     &raquo; 
    <span class="title">Behavior</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ActionController::TestCase::Behavior
  
  
  
</h1>

<dl class="box">
  
  
    
      <dt class="r1">Extended by:</dt>
      <dd class="r1"><span class='object_link'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></span></dd>
      
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../../ActionDispatch/TestProcess.html" title="ActionDispatch::TestProcess (module)">ActionDispatch::TestProcess</a></span></dd>
      
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../TestCase.html" title="ActionController::TestCase (class)">ActionController::TestCase</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">actionpack/lib/action_controller/test_case.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Behavior/ClassMethods.html" title="ActionController::TestCase::Behavior::ClassMethods (module)">ClassMethods</a></span>
    
   
    
  
</p>


  
  
  
  
  
  
  
  
  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#request-instance_method" title="#request (instance method)">- (Object) <strong>request</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute request.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#response-instance_method" title="#response (instance method)">- (Object) <strong>response</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute response.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">- (Object) <strong>delete</strong>(action, parameters = nil, session = nil, flash = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Executes a request simulating DELETE HTTP method and set/volley the
response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-instance_method" title="#get (instance method)">- (Object) <strong>get</strong>(action, parameters = nil, session = nil, flash = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Executes a request simulating GET HTTP method and set/volley the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#head-instance_method" title="#head (instance method)">- (Object) <strong>head</strong>(action, parameters = nil, session = nil, flash = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Executes a request simulating HEAD HTTP method and set/volley the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post-instance_method" title="#post (instance method)">- (Object) <strong>post</strong>(action, parameters = nil, session = nil, flash = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Executes a request simulating POST HTTP method and set/volley the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process-instance_method" title="#process (instance method)">- (Object) <strong>process</strong>(action, parameters = nil, session = nil, flash = nil, http_method = 'GET') </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put-instance_method" title="#put (instance method)">- (Object) <strong>put</strong>(action, parameters = nil, session = nil, flash = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Executes a request simulating PUT HTTP method and set/volley the response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rescue_action_in_public%21-instance_method" title="#rescue_action_in_public! (instance method)">- (Object) <strong>rescue_action_in_public!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Cause the action to be rescued according to the regular rules for
rescue_action when the visitor is not local.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_controller_request_and_response-instance_method" title="#setup_controller_request_and_response (instance method)">- (Object) <strong>setup_controller_request_and_response</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xml_http_request-instance_method" title="#xml_http_request (instance method)">- (Object) <strong>xml_http_request</strong>(request_method, action, parameters = nil, session = nil, flash = nil) </a>
    

    
      (also: #xhr)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../ActiveSupport/Concern.html" title="ActiveSupport::Concern (module)">ActiveSupport::Concern</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ActiveSupport/Concern.html#append_features-instance_method" title="ActiveSupport::Concern#append_features (method)">append_features</a></span>, <span class='object_link'><a href="../../ActiveSupport/Concern.html#extended-class_method" title="ActiveSupport::Concern.extended (method)">extended</a></span>, <span class='object_link'><a href="../../ActiveSupport/Concern.html#included-instance_method" title="ActiveSupport::Concern#included (method)">included</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../ActionDispatch/TestProcess.html" title="ActionDispatch::TestProcess (module)">ActionDispatch::TestProcess</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../ActionDispatch/TestProcess.html#assigns-instance_method" title="ActionDispatch::TestProcess#assigns (method)">#assigns</a></span>, <span class='object_link'><a href="../../ActionDispatch/TestProcess.html#cookies-instance_method" title="ActionDispatch::TestProcess#cookies (method)">#cookies</a></span>, <span class='object_link'><a href="../../ActionDispatch/TestProcess.html#fixture_file_upload-instance_method" title="ActionDispatch::TestProcess#fixture_file_upload (method)">#fixture_file_upload</a></span>, <span class='object_link'><a href="../../ActionDispatch/TestProcess.html#flash-instance_method" title="ActionDispatch::TestProcess#flash (method)">#flash</a></span>, <span class='object_link'><a href="../../ActionDispatch/TestProcess.html#redirect_to_url-instance_method" title="ActionDispatch::TestProcess#redirect_to_url (method)">#redirect_to_url</a></span>, <span class='object_link'><a href="../../ActionDispatch/TestProcess.html#session-instance_method" title="ActionDispatch::TestProcess#session (method)">#session</a></span></p>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="request-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="request-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>request</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute request
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 306</span>

<span class='kw'>def</span> <span class='id request'>request</span>
  <span class='ivar'>@request</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="response-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="response-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>response</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute response
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 306</span>

<span class='kw'>def</span> <span class='id response'>response</span>
  <span class='ivar'>@response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="delete-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete</strong>(action, parameters = nil, session = nil, flash = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Executes a request simulating DELETE HTTP method and set/volley the
response
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


357
358
359</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 357</span>

<span class='kw'>def</span> <span class='id delete'>delete</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id process'>process</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='comma'>,</span> <span class='id session'>session</span><span class='comma'>,</span> <span class='id flash'>flash</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get</strong>(action, parameters = nil, session = nil, flash = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Executes a request simulating GET HTTP method and set/volley the response
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


342
343
344</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 342</span>

<span class='kw'>def</span> <span class='id get'>get</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id process'>process</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='comma'>,</span> <span class='id session'>session</span><span class='comma'>,</span> <span class='id flash'>flash</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="head-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>head</strong>(action, parameters = nil, session = nil, flash = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Executes a request simulating HEAD HTTP method and set/volley the response
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 362</span>

<span class='kw'>def</span> <span class='id head'>head</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id process'>process</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='comma'>,</span> <span class='id session'>session</span><span class='comma'>,</span> <span class='id flash'>flash</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="post-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>post</strong>(action, parameters = nil, session = nil, flash = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Executes a request simulating POST HTTP method and set/volley the response
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


347
348
349</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 347</span>

<span class='kw'>def</span> <span class='id post'>post</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id process'>process</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='comma'>,</span> <span class='id session'>session</span><span class='comma'>,</span> <span class='id flash'>flash</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="process-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>process</strong>(action, parameters = nil, session = nil, flash = nil, http_method = 'GET') 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 376</span>

<span class='kw'>def</span> <span class='id process'>process</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id http_method'>http_method</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>GET</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='comment'># Sanity check for required instance variables so we can give an
</span>  <span class='comment'># understandable error message.
</span>  <span class='qwords_beg'>%w(</span><span class='tstring_content'>@routes</span><span class='words_sep'> </span><span class='tstring_content'>@controller</span><span class='words_sep'> </span><span class='tstring_content'>@request</span><span class='words_sep'> </span><span class='tstring_content'>@response</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id iv_name'>iv_name</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id instance_variable_names'>instance_variable_names</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id iv_name'>iv_name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id instance_variable_names'>instance_variable_names</span><span class='period'>.</span><span class='id include?'>include?</span><span class='lparen'>(</span><span class='id iv_name'>iv_name</span><span class='period'>.</span><span class='id to_sym'>to_sym</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='id iv_name'>iv_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id nil?'>nil?</span>
      <span class='id raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id iv_name'>iv_name</span><span class='rbrace'>}</span><span class='tstring_content'> is nil: make sure you set it in your test's setup method.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@request</span><span class='period'>.</span><span class='id recycle!'>recycle!</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id recycle!'>recycle!</span>
  <span class='ivar'>@controller</span><span class='period'>.</span><span class='id response_body'>response_body</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@controller</span><span class='period'>.</span><span class='id formats'>formats</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@controller</span><span class='period'>.</span><span class='id params'>params</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@html_document</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>REQUEST_METHOD</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id http_method'>http_method</span>

  <span class='id parameters'>parameters</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id assign_parameters'>assign_parameters</span><span class='lparen'>(</span><span class='ivar'>@routes</span><span class='comma'>,</span> <span class='ivar'>@controller</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id name'>name</span><span class='period'>.</span><span class='id underscore'>underscore</span><span class='period'>.</span><span class='id sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>_controller$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id action'>action</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='rparen'>)</span>

  <span class='ivar'>@request</span><span class='period'>.</span><span class='id session'>session</span> <span class='op'>=</span> <span class='const'>ActionController</span><span class='op'>::</span><span class='const'>TestSession</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='id session'>session</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id session'>session</span><span class='period'>.</span><span class='id nil?'>nil?</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id session'>session</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flash</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@request</span><span class='period'>.</span><span class='id flash'>flash</span><span class='period'>.</span><span class='id update'>update</span><span class='lparen'>(</span><span class='id flash'>flash</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id session'>session</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flash</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id sweep'>sweep</span>

  <span class='ivar'>@controller</span><span class='period'>.</span><span class='id request'>request</span> <span class='op'>=</span> <span class='ivar'>@request</span>
  <span class='ivar'>@controller</span><span class='period'>.</span><span class='id params'>params</span><span class='period'>.</span><span class='id merge!'>merge!</span><span class='lparen'>(</span><span class='id parameters'>parameters</span><span class='rparen'>)</span>
  <span class='id build_request_uri'>build_request_uri</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='rparen'>)</span>
  <span class='const'>Base</span><span class='period'>.</span><span class='id class_eval'>class_eval</span> <span class='lbrace'>{</span> <span class='id include'>include</span> <span class='const'>Testing</span> <span class='rbrace'>}</span>
  <span class='ivar'>@controller</span><span class='period'>.</span><span class='id process_with_new_base_test'>process_with_new_base_test</span><span class='lparen'>(</span><span class='ivar'>@request</span><span class='comma'>,</span> <span class='ivar'>@response</span><span class='rparen'>)</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id session'>session</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>flash</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@request</span><span class='period'>.</span><span class='id session'>session</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>flash</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id blank?'>blank?</span>
  <span class='ivar'>@response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="put-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>put</strong>(action, parameters = nil, session = nil, flash = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Executes a request simulating PUT HTTP method and set/volley the response
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


352
353
354</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 352</span>

<span class='kw'>def</span> <span class='id put'>put</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id process'>process</span><span class='lparen'>(</span><span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='comma'>,</span> <span class='id session'>session</span><span class='comma'>,</span> <span class='id flash'>flash</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rescue_action_in_public!-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>rescue_action_in_public!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Cause the action to be rescued according to the regular rules for
rescue_action when the visitor is not local
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


427
428
429</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 427</span>

<span class='kw'>def</span> <span class='id rescue_action_in_public!'>rescue_action_in_public!</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id remote_addr'>remote_addr</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>208.77.188.166</span><span class='tstring_end'>'</span></span> <span class='comment'># example.com
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setup_controller_request_and_response-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>setup_controller_request_and_response</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


410
411
412
413
414
415
416
417
418
419
420
421
422
423
424</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 410</span>

<span class='kw'>def</span> <span class='id setup_controller_request_and_response'>setup_controller_request_and_response</span>
  <span class='ivar'>@request</span> <span class='op'>=</span> <span class='const'>TestRequest</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='const'>TestResponse</span><span class='period'>.</span><span class='id new'>new</span>

  <span class='kw'>if</span> <span class='id klass'>klass</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id controller_class'>controller_class</span>
    <span class='ivar'>@controller</span> <span class='op'>||=</span> <span class='id klass'>klass</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='ivar'>@request</span><span class='period'>.</span><span class='id env'>env</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>PATH_INFO</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='ivar'>@controller</span>
    <span class='ivar'>@controller</span><span class='period'>.</span><span class='id request'>request</span> <span class='op'>=</span> <span class='ivar'>@request</span>
    <span class='ivar'>@controller</span><span class='period'>.</span><span class='id params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xml_http_request-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>xml_http_request</strong>(request_method, action, parameters = nil, session = nil, flash = nil) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='xhr-instance_method'>xhr</span></span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


366
367
368
369
370
371
372
373</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'actionpack/lib/action_controller/test_case.rb', line 366</span>

<span class='kw'>def</span> <span class='id xml_http_request'>xml_http_request</span><span class='lparen'>(</span><span class='id request_method'>request_method</span><span class='comma'>,</span> <span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id session'>session</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id flash'>flash</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>HTTP_X_REQUESTED_WITH</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>XMLHttpRequest</span><span class='tstring_end'>'</span></span>
  <span class='ivar'>@request</span><span class='period'>.</span><span class='id env'>env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>HTTP_ACCEPT</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>||=</span>  <span class='lbracket'>[</span><span class='const'>Mime</span><span class='op'>::</span><span class='const'>JS</span><span class='comma'>,</span> <span class='const'>Mime</span><span class='op'>::</span><span class='const'>HTML</span><span class='comma'>,</span> <span class='const'>Mime</span><span class='op'>::</span><span class='const'>XML</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>text/xml</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>Mime</span><span class='op'>::</span><span class='const'>ALL</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>, </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id __send__'>__send__</span><span class='lparen'>(</span><span class='id request_method'>request_method</span><span class='comma'>,</span> <span class='id action'>action</span><span class='comma'>,</span> <span class='id parameters'>parameters</span><span class='comma'>,</span> <span class='id session'>session</span><span class='comma'>,</span> <span class='id flash'>flash</span><span class='rparen'>)</span><span class='period'>.</span><span class='id tap'>tap</span> <span class='kw'>do</span>
    <span class='ivar'>@request</span><span class='period'>.</span><span class='id env'>env</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>HTTP_X_REQUESTED_WITH</span><span class='tstring_end'>'</span></span>
    <span class='ivar'>@request</span><span class='period'>.</span><span class='id env'>env</span><span class='period'>.</span><span class='id delete'>delete</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>HTTP_ACCEPT</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Nov  4 20:03:35 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>