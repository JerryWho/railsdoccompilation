  <div id="C00000049">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />UrlHelperTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/template/url_helper_test_rb.html');">actionpack/test/template/url_helper_test.rb</a>

Parent:&nbsp;
ActionView::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000418&name=protect_against_forgery?" >protect_against_forgery?</a></li>
  <li><a href="index.html?a=M000368&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000379&name=test_button_to_enabled_disabled" >test_button_to_enabled_disabled</a></li>
  <li><a href="index.html?a=M000382&name=test_button_to_returns_an_html_safe_string" >test_button_to_returns_an_html_safe_string</a></li>
  <li><a href="index.html?a=M000376&name=test_button_to_with_escaped_query" >test_button_to_with_escaped_query</a></li>
  <li><a href="index.html?a=M000378&name=test_button_to_with_javascript_confirm" >test_button_to_with_javascript_confirm</a></li>
  <li><a href="index.html?a=M000380&name=test_button_to_with_method_delete" >test_button_to_with_method_delete</a></li>
  <li><a href="index.html?a=M000381&name=test_button_to_with_method_get" >test_button_to_with_method_get</a></li>
  <li><a href="index.html?a=M000375&name=test_button_to_with_query" >test_button_to_with_query</a></li>
  <li><a href="index.html?a=M000377&name=test_button_to_with_query_and_no_name" >test_button_to_with_query_and_no_name</a></li>
  <li><a href="index.html?a=M000374&name=test_button_to_with_straight_url" >test_button_to_with_straight_url</a></li>
  <li><a href="index.html?a=M000408&name=test_current_page_ignoring_params" >test_current_page_ignoring_params</a></li>
  <li><a href="index.html?a=M000409&name=test_current_page_with_params_that_match" >test_current_page_with_params_that_match</a></li>
  <li><a href="index.html?a=M000407&name=test_current_page_with_simple_url" >test_current_page_with_simple_url</a></li>
  <li><a href="index.html?a=M000404&name=test_link_tag_using_block_in_erb" >test_link_tag_using_block_in_erb</a></li>
  <li><a href="index.html?a=M000399&name=test_link_tag_using_delete_javascript" >test_link_tag_using_delete_javascript</a></li>
  <li><a href="index.html?a=M000400&name=test_link_tag_using_delete_javascript_and_href" >test_link_tag_using_delete_javascript_and_href</a></li>
  <li><a href="index.html?a=M000402&name=test_link_tag_using_delete_javascript_and_href_and_confirm" >test_link_tag_using_delete_javascript_and_href_and_confirm</a></li>
  <li><a href="index.html?a=M000398&name=test_link_tag_using_post_javascript" >test_link_tag_using_post_javascript</a></li>
  <li><a href="index.html?a=M000401&name=test_link_tag_using_post_javascript_and_confirm" >test_link_tag_using_post_javascript_and_confirm</a></li>
  <li><a href="index.html?a=M000403&name=test_link_tag_using_post_javascript_and_popup" >test_link_tag_using_post_javascript_and_popup</a></li>
  <li><a href="index.html?a=M000390&name=test_link_tag_with_back" >test_link_tag_with_back</a></li>
  <li><a href="index.html?a=M000388&name=test_link_tag_with_back" >test_link_tag_with_back</a></li>
  <li><a href="index.html?a=M000391&name=test_link_tag_with_back_and_no_referer" >test_link_tag_with_back_and_no_referer</a></li>
  <li><a href="index.html?a=M000389&name=test_link_tag_with_back_and_no_referer" >test_link_tag_with_back_and_no_referer</a></li>
  <li><a href="index.html?a=M000394&name=test_link_tag_with_custom_onclick" >test_link_tag_with_custom_onclick</a></li>
  <li><a href="index.html?a=M000385&name=test_link_tag_with_host_option" >test_link_tag_with_host_option</a></li>
  <li><a href="index.html?a=M000392&name=test_link_tag_with_img" >test_link_tag_with_img</a></li>
  <li><a href="index.html?a=M000395&name=test_link_tag_with_javascript_confirm" >test_link_tag_with_javascript_confirm</a></li>
  <li><a href="index.html?a=M000396&name=test_link_tag_with_popup" >test_link_tag_with_popup</a></li>
  <li><a href="index.html?a=M000397&name=test_link_tag_with_popup_and_javascript_confirm" >test_link_tag_with_popup_and_javascript_confirm</a></li>
  <li><a href="index.html?a=M000386&name=test_link_tag_with_query" >test_link_tag_with_query</a></li>
  <li><a href="index.html?a=M000387&name=test_link_tag_with_query_and_no_name" >test_link_tag_with_query_and_no_name</a></li>
  <li><a href="index.html?a=M000383&name=test_link_tag_with_straight_url" >test_link_tag_with_straight_url</a></li>
  <li><a href="index.html?a=M000384&name=test_link_tag_without_host_option" >test_link_tag_without_host_option</a></li>
  <li><a href="index.html?a=M000406&name=test_link_to_if" >test_link_to_if</a></li>
  <li><a href="index.html?a=M000405&name=test_link_to_unless" >test_link_to_unless</a></li>
  <li><a href="index.html?a=M000410&name=test_link_unless_current" >test_link_unless_current</a></li>
  <li><a href="index.html?a=M000393&name=test_link_with_nil_html_options" >test_link_with_nil_html_options</a></li>
  <li><a href="index.html?a=M000411&name=test_mail_to" >test_mail_to</a></li>
  <li><a href="index.html?a=M000416&name=test_mail_to_with_hex" >test_mail_to_with_hex</a></li>
  <li><a href="index.html?a=M000415&name=test_mail_to_with_img" >test_mail_to_with_img</a></li>
  <li><a href="index.html?a=M000412&name=test_mail_to_with_javascript" >test_mail_to_with_javascript</a></li>
  <li><a href="index.html?a=M000413&name=test_mail_to_with_javascript_unicode" >test_mail_to_with_javascript_unicode</a></li>
  <li><a href="index.html?a=M000417&name=test_mail_to_with_replace_options" >test_mail_to_with_replace_options</a></li>
  <li><a href="index.html?a=M000414&name=test_mail_with_options" >test_mail_with_options</a></li>
  <li><a href="index.html?a=M000371&name=test_url_for_escapes_url_once" >test_url_for_escapes_url_once</a></li>
  <li><a href="index.html?a=M000370&name=test_url_for_escapes_urls" >test_url_for_escapes_urls</a></li>
  <li><a href="index.html?a=M000372&name=test_url_for_with_back" >test_url_for_with_back</a></li>
  <li><a href="index.html?a=M000373&name=test_url_for_with_back_and_no_referer" >test_url_for_with_back_and_no_referer</a></li>
  <li><a href="index.html?a=M000369&name=url_for" >url_for</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000418" class="method">
  <div id="M000418_title" class="title">
    <b>protect_against_forgery?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000418_source')" id="l_M000418_source">show source</a> ]</p>
  <div id="M000418_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 368</span>
368:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">protect_against_forgery?</span>
369:     <span class="ruby-keyword kw">false</span>
370:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000368" class="method">
  <div id="M000368_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000368_source')" id="l_M000368_source">show source</a> ]</p>
  <div id="M000368_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 9</span>
 9:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
10:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
11:       <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:url</span>, <span class="ruby-identifier">:request</span>
12:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
13:         <span class="ruby-identifier">url</span>
14:       <span class="ruby-keyword kw">end</span>
15:     <span class="ruby-keyword kw">end</span>
16:     <span class="ruby-ivar">@controller</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">new</span>
17:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com&quot;</span>
18:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000379" class="method">
  <div id="M000379_title" class="title">
    <b>test_button_to_enabled_disabled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000379_source')" id="l_M000379_source">show source</a> ]</p>
  <div id="M000379_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 66</span>
66:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_enabled_disabled</span>
67:     <span class="ruby-identifier">assert_dom_equal</span>(
68:       <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>,
69:       <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:disabled</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
70:     )
71:     <span class="ruby-identifier">assert_dom_equal</span>(
72:       <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input disabled=\&quot;disabled\&quot; type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>,
73:       <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:disabled</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
74:     )
75:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000382" class="method">
  <div id="M000382_title" class="title">
    <b>test_button_to_returns_an_html_safe_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000382_source')" id="l_M000382_source">show source</a> ]</p>
  <div id="M000382_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 91</span>
91:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_returns_an_html_safe_string</span>
92:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>).<span class="ruby-identifier">html_safe?</span>
93:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000376" class="method">
  <div id="M000376_title" class="title">
    <b>test_button_to_with_escaped_query</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000376_source')" id="l_M000376_source">show source</a> ]</p>
  <div id="M000376_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_escaped_query</span>
52:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com/q1=v1&amp;amp;q2=v2\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>, <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/q1=v1&amp;amp;q2=v2&quot;</span>)
53:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000378" class="method">
  <div id="M000378_title" class="title">
    <b>test_button_to_with_javascript_confirm</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000378_source')" id="l_M000378_source">show source</a> ]</p>
  <div id="M000378_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 59</span>
59:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_javascript_confirm</span>
60:     <span class="ruby-identifier">assert_dom_equal</span>(
61:       <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input onclick=\&quot;return confirm('Are you sure?');\&quot; type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>,
62:       <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Are you sure?&quot;</span>)
63:     )
64:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000380" class="method">
  <div id="M000380_title" class="title">
    <b>test_button_to_with_method_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000380_source')" id="l_M000380_source">show source</a> ]</p>
  <div id="M000380_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 77</span>
77:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_method_delete</span>
78:     <span class="ruby-identifier">assert_dom_equal</span>(
79:       <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;hidden\&quot; name=\&quot;_method\&quot; value=\&quot;delete\&quot; /&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>,
80:       <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
81:     )
82:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000381" class="method">
  <div id="M000381_title" class="title">
    <b>test_button_to_with_method_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000381_source')" id="l_M000381_source">show source</a> ]</p>
  <div id="M000381_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_method_get</span>
85:     <span class="ruby-identifier">assert_dom_equal</span>(
86:       <span class="ruby-value str">&quot;&lt;form method=\&quot;get\&quot; action=\&quot;http://www.example.com\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>,
87:       <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
88:     )
89:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000375" class="method">
  <div id="M000375_title" class="title">
    <b>test_button_to_with_query</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000375_source')" id="l_M000375_source">show source</a> ]</p>
  <div id="M000375_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_query</span>
48:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com/q1=v1&amp;amp;q2=v2\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>, <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/q1=v1&amp;q2=v2&quot;</span>)
49:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000377" class="method">
  <div id="M000377_title" class="title">
    <b>test_button_to_with_query_and_no_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000377_source')" id="l_M000377_source">show source</a> ]</p>
  <div id="M000377_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 55</span>
55:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_query_and_no_name</span>
56:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com?q1=v1&amp;amp;q2=v2\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;http://www.example.com?q1=v1&amp;amp;q2=v2\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>, <span class="ruby-identifier">button_to</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;http://www.example.com?q1=v1&amp;q2=v2&quot;</span>)
57:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000374" class="method">
  <div id="M000374_title" class="title">
    <b>test_button_to_with_straight_url</b>()
  </div>
  <div class="description">
  <p>
todo: missing test cases
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000374_source')" id="l_M000374_source">show source</a> ]</p>
  <div id="M000374_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_button_to_with_straight_url</span>
44:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;http://www.example.com\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Hello\&quot; /&gt;&lt;/div&gt;&lt;/form&gt;&quot;</span>, <span class="ruby-identifier">button_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>)
45:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000408" class="method">
  <div id="M000408_title" class="title">
    <b>test_current_page_ignoring_params</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000408_source')" id="l_M000408_source">show source</a> ]</p>
  <div id="M000408_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_page_ignoring_params</span>
275:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>)
276:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>
277:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">current_page?</span>({ <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span> })
278:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
279:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000409" class="method">
  <div id="M000409_title" class="title">
    <b>test_current_page_with_params_that_match</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000409_source')" id="l_M000409_source">show source</a> ]</p>
  <div id="M000409_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 281</span>
281:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_page_with_params_that_match</span>
282:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>)
283:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>
284:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">current_page?</span>({ <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;desc&quot;</span>, <span class="ruby-identifier">:page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;1&quot;</span> })
285:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;amp;page=1&quot;</span>)
286:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000407" class="method">
  <div id="M000407_title" class="title">
    <b>test_current_page_with_simple_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000407_source')" id="l_M000407_source">show source</a> ]</p>
  <div id="M000407_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 267</span>
267:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_page_with_simple_url</span>
268:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
269:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>
270:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">current_page?</span>({ <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span> })
271:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
272:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000404" class="method">
  <div id="M000404_title" class="title">
    <b>test_link_tag_using_block_in_erb</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000404_source')" id="l_M000404_source">show source</a> ]</p>
  <div id="M000404_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 238</span>
238:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_block_in_erb</span>
239:     <span class="ruby-identifier">__in_erb_template</span> = <span class="ruby-value str">''</span>
240: 
241:     <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;http://example.com&quot;</span>) { <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;Example site&quot;</span>) }
242: 
243:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&lt;a href=&quot;http://example.com&quot;&gt;Example site&lt;/a&gt;'</span>, <span class="ruby-identifier">output_buffer</span>
244:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000399" class="method">
  <div id="M000399_title" class="title">
    <b>test_link_tag_using_delete_javascript</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000399_source')" id="l_M000399_source">show source</a> ]</p>
  <div id="M000399_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 205</span>
205:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_delete_javascript</span>
206:     <span class="ruby-identifier">assert_dom_equal</span>(
207:       <span class="ruby-value str">&quot;&lt;a href='http://www.example.com' onclick=\&quot;var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);f.submit();return false;\&quot;&gt;Destroy&lt;/a&gt;&quot;</span>,
208:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Destroy&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
209:     )
210:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000400" class="method">
  <div id="M000400_title" class="title">
    <b>test_link_tag_using_delete_javascript_and_href</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000400_source')" id="l_M000400_source">show source</a> ]</p>
  <div id="M000400_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 212</span>
212:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_delete_javascript_and_href</span>
213:     <span class="ruby-identifier">assert_dom_equal</span>(
214:       <span class="ruby-value str">&quot;&lt;a href='\#' onclick=\&quot;var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = 'http://www.example.com';var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);f.submit();return false;\&quot;&gt;Destroy&lt;/a&gt;&quot;</span>,
215:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Destroy&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>, <span class="ruby-identifier">:href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'#'</span>)
216:     )
217:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000402" class="method">
  <div id="M000402_title" class="title">
    <b>test_link_tag_using_delete_javascript_and_href_and_confirm</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000402_source')" id="l_M000402_source">show source</a> ]</p>
  <div id="M000402_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 226</span>
226:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_delete_javascript_and_href_and_confirm</span>
227:     <span class="ruby-identifier">assert_dom_equal</span>(
228:       <span class="ruby-value str">&quot;&lt;a href='\#' onclick=\&quot;if (confirm('Are you serious?')) { var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = 'http://www.example.com';var m = document.createElement('input'); m.setAttribute('type', 'hidden'); m.setAttribute('name', '_method'); m.setAttribute('value', 'delete'); f.appendChild(m);f.submit(); };return false;\&quot;&gt;Destroy&lt;/a&gt;&quot;</span>,
229:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Destroy&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>, <span class="ruby-identifier">:href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'#'</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Are you serious?&quot;</span>),
230:       <span class="ruby-value str">&quot;When specifying url, form should be generated with it, but not this.href&quot;</span>
231:     )
232:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000398" class="method">
  <div id="M000398_title" class="title">
    <b>test_link_tag_using_post_javascript</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000398_source')" id="l_M000398_source">show source</a> ]</p>
  <div id="M000398_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 198</span>
198:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_post_javascript</span>
199:     <span class="ruby-identifier">assert_dom_equal</span>(
200:       <span class="ruby-value str">&quot;&lt;a href='http://www.example.com' onclick=\&quot;var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;f.submit();return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
201:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
202:     )
203:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000401" class="method">
  <div id="M000401_title" class="title">
    <b>test_link_tag_using_post_javascript_and_confirm</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000401_source')" id="l_M000401_source">show source</a> ]</p>
  <div id="M000401_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 219</span>
219:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_post_javascript_and_confirm</span>
220:     <span class="ruby-identifier">assert_dom_equal</span>(
221:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;if (confirm('Are you serious?')) { var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;f.submit(); };return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
222:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Are you serious?&quot;</span>)
223:     )
224:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000403" class="method">
  <div id="M000403_title" class="title">
    <b>test_link_tag_using_post_javascript_and_popup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000403_source')" id="l_M000403_source">show source</a> ]</p>
  <div id="M000403_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 234</span>
234:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_using_post_javascript_and_popup</span>
235:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">ActionViewError</span>) { <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:popup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Are you serious?&quot;</span>) }
236:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000390" class="method">
  <div id="M000390_title" class="title">
    <b>test_link_tag_with_back</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000390_source')" id="l_M000390_source">show source</a> ]</p>
  <div id="M000390_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 135</span>
135:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_back</span>
136:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, {<span class="ruby-value str">'HTTP_REFERER'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://www.example.com/referer'</span>})
137:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/referer\&quot;&gt;go back&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">'go back'</span>, <span class="ruby-identifier">:back</span>)
138:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000388" class="method">
  <div id="M000388_title" class="title">
    <b>test_link_tag_with_back</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000388_source')" id="l_M000388_source">show source</a> ]</p>
  <div id="M000388_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 125</span>
125:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_back</span>
126:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, {<span class="ruby-value str">'HTTP_REFERER'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://www.example.com/referer'</span>})
127:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/referer\&quot;&gt;go back&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">'go back'</span>, <span class="ruby-identifier">:back</span>)
128:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000391" class="method">
  <div id="M000391_title" class="title">
    <b>test_link_tag_with_back_and_no_referer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000391_source')" id="l_M000391_source">show source</a> ]</p>
  <div id="M000391_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_back_and_no_referer</span>
141:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, {})
142:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;javascript:history.back()\&quot;&gt;go back&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">'go back'</span>, <span class="ruby-identifier">:back</span>)
143:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000389" class="method">
  <div id="M000389_title" class="title">
    <b>test_link_tag_with_back_and_no_referer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000389_source')" id="l_M000389_source">show source</a> ]</p>
  <div id="M000389_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 130</span>
130:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_back_and_no_referer</span>
131:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, {})
132:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;javascript:history.back()\&quot;&gt;go back&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">'go back'</span>, <span class="ruby-identifier">:back</span>)
133:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000394" class="method">
  <div id="M000394_title" class="title">
    <b>test_link_tag_with_custom_onclick</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000394_source')" id="l_M000394_source">show source</a> ]</p>
  <div id="M000394_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_custom_onclick</span>
154:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;alert('yay!')\&quot;&gt;Hello&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:onclick</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;alert('yay!')&quot;</span>)
155:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000385" class="method">
  <div id="M000385_title" class="title">
    <b>test_link_tag_with_host_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000385_source')" id="l_M000385_source">show source</a> ]</p>
  <div id="M000385_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 108</span>
108:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_host_option</span>
109:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:url</span> }
110:     <span class="ruby-identifier">url</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'weblog'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'www.example.com'</span>}
111:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>
112:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
113:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">UrlRewriter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>, <span class="ruby-identifier">url</span>)
114:     <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-value str">%q{&lt;a href=&quot;http://www.example.com/weblog/show&quot;&gt;Test Link&lt;/a&gt;}</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">'Test Link'</span>, <span class="ruby-identifier">url</span>))
115:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000392" class="method">
  <div id="M000392_title" class="title">
    <b>test_link_tag_with_img</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000392_source')" id="l_M000392_source">show source</a> ]</p>
  <div id="M000392_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 145</span>
145:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_img</span>
146:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot;&gt;&lt;img src='/favicon.jpg' /&gt;&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;&lt;img src='/favicon.jpg' /&gt;&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>)
147:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000395" class="method">
  <div id="M000395_title" class="title">
    <b>test_link_tag_with_javascript_confirm</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000395_source')" id="l_M000395_source">show source</a> ]</p>
  <div id="M000395_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 157</span>
157:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_javascript_confirm</span>
158:     <span class="ruby-identifier">assert_dom_equal</span>(
159:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;return confirm('Are you sure?');\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
160:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Are you sure?&quot;</span>)
161:     )
162:     <span class="ruby-identifier">assert_dom_equal</span>(
163:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;return confirm('You can\\'t possibly be sure, can you?');\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
164:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;You can't possibly be sure, can you?&quot;</span>)
165:     )
166:     <span class="ruby-identifier">assert_dom_equal</span>(
167:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;return confirm('You can\\'t possibly be sure,\\n can you?');\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
168:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;You can't possibly be sure,\n can you?&quot;</span>)
169:     )
170:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000396" class="method">
  <div id="M000396_title" class="title">
    <b>test_link_tag_with_popup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000396_source')" id="l_M000396_source">show source</a> ]</p>
  <div id="M000396_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 172</span>
172:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_popup</span>
173:     <span class="ruby-identifier">assert_dom_equal</span>(
174:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;window.open(this.href);return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
175:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:popup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
176:     )
177:     <span class="ruby-identifier">assert_dom_equal</span>(
178:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;window.open(this.href);return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
179:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:popup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'true'</span>)
180:     )
181:     <span class="ruby-identifier">assert_dom_equal</span>(
182:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;window.open(this.href,'window_name','width=300,height=300');return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
183:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, <span class="ruby-identifier">:popup</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">'window_name'</span>, <span class="ruby-value str">'width=300,height=300'</span>])
184:     )
185:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000397" class="method">
  <div id="M000397_title" class="title">
    <b>test_link_tag_with_popup_and_javascript_confirm</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000397_source')" id="l_M000397_source">show source</a> ]</p>
  <div id="M000397_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 187</span>
187:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_popup_and_javascript_confirm</span>
188:     <span class="ruby-identifier">assert_dom_equal</span>(
189:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;if (confirm('Fo\\' sho\\'?')) { window.open(this.href); };return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
190:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, { <span class="ruby-identifier">:popup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Fo' sho'?&quot;</span> })
191:     )
192:     <span class="ruby-identifier">assert_dom_equal</span>(
193:       <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot; onclick=\&quot;if (confirm('Are you serious?')) { window.open(this.href,'window_name','width=300,height=300'); };return false;\&quot;&gt;Hello&lt;/a&gt;&quot;</span>,
194:       <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>, { <span class="ruby-identifier">:popup</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">'window_name'</span>, <span class="ruby-value str">'width=300,height=300'</span>], <span class="ruby-identifier">:confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Are you serious?&quot;</span> })
195:     )
196:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000386" class="method">
  <div id="M000386_title" class="title">
    <b>test_link_tag_with_query</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000386_source')" id="l_M000386_source">show source</a> ]</p>
  <div id="M000386_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_query</span>
118:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com?q1=v1&amp;amp;q2=v2\&quot;&gt;Hello&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com?q1=v1&amp;amp;q2=v2&quot;</span>)
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000387" class="method">
  <div id="M000387_title" class="title">
    <b>test_link_tag_with_query_and_no_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000387_source')" id="l_M000387_source">show source</a> ]</p>
  <div id="M000387_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_query_and_no_name</span>
122:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com?q1=v1&amp;amp;q2=v2\&quot;&gt;http://www.example.com?q1=v1&amp;amp;q2=v2&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;http://www.example.com?q1=v1&amp;amp;q2=v2&quot;</span>)
123:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000383" class="method">
  <div id="M000383_title" class="title">
    <b>test_link_tag_with_straight_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000383_source')" id="l_M000383_source">show source</a> ]</p>
  <div id="M000383_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 95</span>
95:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_with_straight_url</span>
96:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot;&gt;Hello&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com&quot;</span>)
97:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000384" class="method">
  <div id="M000384_title" class="title">
    <b>test_link_tag_without_host_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000384_source')" id="l_M000384_source">show source</a> ]</p>
  <div id="M000384_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 99</span>
 99:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_tag_without_host_option</span>
100:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:url</span> }
101:     <span class="ruby-identifier">url</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'weblog'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
102:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">new</span>
103:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
104:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">UrlRewriter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>, <span class="ruby-identifier">url</span>)
105:     <span class="ruby-identifier">assert_dom_equal</span>(<span class="ruby-value str">%q{&lt;a href=&quot;/weblog/show&quot;&gt;Test Link&lt;/a&gt;}</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">'Test Link'</span>, <span class="ruby-identifier">url</span>))
106:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000406" class="method">
  <div id="M000406_title" class="title">
    <b>test_link_to_if</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000406_source')" id="l_M000406_source">show source</a> ]</p>
  <div id="M000406_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 261</span>
261:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_to_if</span>
262:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_if</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>)
263:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot;&gt;Listing&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to_if</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;Listing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>)
264:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_if</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
265:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000405" class="method">
  <div id="M000405_title" class="title">
    <b>test_link_to_unless</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000405_source')" id="l_M000405_source">show source</a> ]</p>
  <div id="M000405_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 246</span>
246:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_to_unless</span>
247:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>)
248:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot;&gt;Listing&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;Listing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>)
249:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;strong&gt;Showing&lt;/strong&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span><span class="ruby-operator">|</span>
251:       <span class="ruby-node">&quot;&lt;strong&gt;#{name}&lt;/strong&gt;&quot;</span>
252:     }
253:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;strong&gt;Showing&lt;/strong&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
254:       <span class="ruby-node">&quot;&lt;strong&gt;#{name}&lt;/strong&gt;&quot;</span>
255:     }
256:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) {
257:       <span class="ruby-value str">&quot;test&quot;</span>
258:     }
259:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000410" class="method">
  <div id="M000410_title" class="title">
    <b>test_link_unless_current</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000410_source')" id="l_M000410_source">show source</a> ]</p>
  <div id="M000410_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 288</span>
288:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_unless_current</span>
289:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
290:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>
291:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span> })
292:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
293: 
294:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&quot;</span>)
295:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>
296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span> })
297:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
298: 
299:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>)
300:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>
301:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'desc'</span>, <span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'1'</span> })
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;amp;page=1&quot;</span>)
303:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>)
304: 
305:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&quot;</span>)
306:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=asc&quot;</span>
307:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/weblog/show?order=asc\&quot;&gt;Showing&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span> })
308:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/weblog/show?order=asc\&quot;&gt;Showing&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=asc&quot;</span>)
309: 
310:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=1&quot;</span>)
311:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=2&quot;</span>
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/weblog/show?order=desc&amp;amp;page=2\&quot;&gt;Showing&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span> })
313:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/weblog/show?order=desc&amp;amp;page=2\&quot;&gt;Showing&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Showing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/show?order=desc&amp;page=2&quot;</span>)
314: 
315: 
316:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>)
317:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com/weblog/list&quot;</span>
318:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/weblog/list\&quot;&gt;Listing&lt;/a&gt;&quot;</span>,
319:       <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Listing&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;weblog&quot;</span>)
320:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com/weblog/list\&quot;&gt;Listing&lt;/a&gt;&quot;</span>,
321:       <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-value str">&quot;Listing&quot;</span>, <span class="ruby-value str">&quot;http://www.example.com/weblog/list&quot;</span>)
322:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000393" class="method">
  <div id="M000393_title" class="title">
    <b>test_link_with_nil_html_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000393_source')" id="l_M000393_source">show source</a> ]</p>
  <div id="M000393_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 149</span>
149:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_link_with_nil_html_options</span>
150:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;http://www.example.com\&quot;&gt;Hello&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-value str">&quot;Hello&quot;</span>, {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'myaction'</span>}, <span class="ruby-keyword kw">nil</span>)
151:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000411" class="method">
  <div id="M000411_title" class="title">
    <b>test_mail_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000411_source')" id="l_M000411_source">show source</a> ]</p>
  <div id="M000411_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 324</span>
324:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_to</span>
325:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;mailto:david@loudthinking.com\&quot;&gt;david@loudthinking.com&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>)
326:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;mailto:david@loudthinking.com\&quot;&gt;David Heinemeier Hansson&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>, <span class="ruby-value str">&quot;David Heinemeier Hansson&quot;</span>)
327:     <span class="ruby-identifier">assert_dom_equal</span>(
328:       <span class="ruby-value str">&quot;&lt;a class=\&quot;admin\&quot; href=\&quot;mailto:david@loudthinking.com\&quot;&gt;David Heinemeier Hansson&lt;/a&gt;&quot;</span>,
329:       <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>, <span class="ruby-value str">&quot;David Heinemeier Hansson&quot;</span>, <span class="ruby-value str">&quot;class&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admin&quot;</span>)
330:     )
331:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>, <span class="ruby-value str">&quot;David Heinemeier Hansson&quot;</span>, <span class="ruby-value str">&quot;class&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admin&quot;</span>),
332:                  <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>, <span class="ruby-value str">&quot;David Heinemeier Hansson&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admin&quot;</span>)
333:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000416" class="method">
  <div id="M000416_title" class="title">
    <b>test_mail_to_with_hex</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000416_source')" id="l_M000416_source">show source</a> ]</p>
  <div id="M000416_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 354</span>
354:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_to_with_hex</span>
355:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d\&quot;&gt;My email&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-value str">&quot;My email&quot;</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hex&quot;</span>)
356:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d\&quot;&gt;&amp;#109;&amp;#101;&amp;#64;&amp;#100;&amp;#111;&amp;#109;&amp;#97;&amp;#105;&amp;#110;&amp;#46;&amp;#99;&amp;#111;&amp;#109;&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hex&quot;</span>)
357:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000415" class="method">
  <div id="M000415_title" class="title">
    <b>test_mail_to_with_img</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000415_source')" id="l_M000415_source">show source</a> ]</p>
  <div id="M000415_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 350</span>
350:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_to_with_img</span>
351:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">%(&lt;a href=&quot;mailto:feedback@example.com&quot;&gt;&lt;img src=&quot;/feedback.png&quot; /&gt;&lt;/a&gt;)</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">'feedback@example.com'</span>, <span class="ruby-value str">'&lt;img src=&quot;/feedback.png&quot; /&gt;'</span>.<span class="ruby-identifier">html_safe</span>)
352:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000412" class="method">
  <div id="M000412_title" class="title">
    <b>test_mail_to_with_javascript</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000412_source')" id="l_M000412_source">show source</a> ]</p>
  <div id="M000412_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 335</span>
335:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_to_with_javascript</span>
336:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(decodeURIComponent('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%6d%65%40%64%6f%6d%61%69%6e%2e%63%6f%6d%22%3e%4d%79%20%65%6d%61%69%6c%3c%2f%61%3e%27%29%3b'))&lt;/script&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-value str">&quot;My email&quot;</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;javascript&quot;</span>)
337:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000413" class="method">
  <div id="M000413_title" class="title">
    <b>test_mail_to_with_javascript_unicode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000413_source')" id="l_M000413_source">show source</a> ]</p>
  <div id="M000413_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 339</span>
339:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_to_with_javascript_unicode</span>
340:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(decodeURIComponent('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%75%6e%69%63%6f%64%65%40%65%78%61%6d%70%6c%65%2e%63%6f%6d%22%3e%c3%ba%6e%69%63%6f%64%65%3c%2f%61%3e%27%29%3b'))&lt;/script&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;unicode@example.com&quot;</span>, <span class="ruby-value str">&quot;únicode&quot;</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;javascript&quot;</span>)
341:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000417" class="method">
  <div id="M000417_title" class="title">
    <b>test_mail_to_with_replace_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000417_source')" id="l_M000417_source">show source</a> ]</p>
  <div id="M000417_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 359</span>
359:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_to_with_replace_options</span>
360:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;mailto:wolfgang@stufenlos.net\&quot;&gt;wolfgang(at)stufenlos(dot)net&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;wolfgang@stufenlos.net&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">:replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(at)&quot;</span>, <span class="ruby-identifier">:replace_dot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(dot)&quot;</span>)
361:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d\&quot;&gt;&amp;#109;&amp;#101;&amp;#40;&amp;#97;&amp;#116;&amp;#41;&amp;#100;&amp;#111;&amp;#109;&amp;#97;&amp;#105;&amp;#110;&amp;#46;&amp;#99;&amp;#111;&amp;#109;&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hex&quot;</span>, <span class="ruby-identifier">:replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(at)&quot;</span>)
362:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d\&quot;&gt;My email&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-value str">&quot;My email&quot;</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hex&quot;</span>, <span class="ruby-identifier">:replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(at)&quot;</span>)
363:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;a href=\&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d\&quot;&gt;&amp;#109;&amp;#101;&amp;#40;&amp;#97;&amp;#116;&amp;#41;&amp;#100;&amp;#111;&amp;#109;&amp;#97;&amp;#105;&amp;#110;&amp;#40;&amp;#100;&amp;#111;&amp;#116;&amp;#41;&amp;#99;&amp;#111;&amp;#109;&lt;/a&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hex&quot;</span>, <span class="ruby-identifier">:replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(at)&quot;</span>, <span class="ruby-identifier">:replace_dot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(dot)&quot;</span>)
364:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(decodeURIComponent('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%6d%65%40%64%6f%6d%61%69%6e%2e%63%6f%6d%22%3e%4d%79%20%65%6d%61%69%6c%3c%2f%61%3e%27%29%3b'))&lt;/script&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-value str">&quot;My email&quot;</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;javascript&quot;</span>, <span class="ruby-identifier">:replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(at)&quot;</span>, <span class="ruby-identifier">:replace_dot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(dot)&quot;</span>)
365:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(decodeURIComponent('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%6d%65%40%64%6f%6d%61%69%6e%2e%63%6f%6d%22%3e%6d%65%28%61%74%29%64%6f%6d%61%69%6e%28%64%6f%74%29%63%6f%6d%3c%2f%61%3e%27%29%3b'))&lt;/script&gt;&quot;</span>, <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@domain.com&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;javascript&quot;</span>, <span class="ruby-identifier">:replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(at)&quot;</span>, <span class="ruby-identifier">:replace_dot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(dot)&quot;</span>)
366:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000414" class="method">
  <div id="M000414_title" class="title">
    <b>test_mail_with_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000414_source')" id="l_M000414_source">show source</a> ]</p>
  <div id="M000414_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 343</span>
343:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mail_with_options</span>
344:     <span class="ruby-identifier">assert_dom_equal</span>(
345:       <span class="ruby-value str">%(&lt;a href=&quot;mailto:me@example.com?cc=ccaddress%40example.com&amp;amp;bcc=bccaddress%40example.com&amp;amp;body=This%20is%20the%20body%20of%20the%20message.&amp;amp;subject=This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;)</span>,
346:       <span class="ruby-identifier">mail_to</span>(<span class="ruby-value str">&quot;me@example.com&quot;</span>, <span class="ruby-value str">&quot;My email&quot;</span>, <span class="ruby-identifier">:cc</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;ccaddress@example.com&quot;</span>, <span class="ruby-identifier">:bcc</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bccaddress@example.com&quot;</span>, <span class="ruby-identifier">:subject</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;This is an example email&quot;</span>, <span class="ruby-identifier">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;This is the body of the message.&quot;</span>)
347:     )
348:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000371" class="method">
  <div id="M000371_title" class="title">
    <b>test_url_for_escapes_url_once</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000371_source')" id="l_M000371_source">show source</a> ]</p>
  <div id="M000371_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_escapes_url_once</span>
28:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com?a=b&amp;amp;c=d&quot;</span>
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://www.example.com?a=b&amp;amp;c=d&quot;</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-value str">&quot;http://www.example.com?a=b&amp;amp;c=d&quot;</span>)
30:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000370" class="method">
  <div id="M000370_title" class="title">
    <b>test_url_for_escapes_urls</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000370_source')" id="l_M000370_source">show source</a> ]</p>
  <div id="M000370_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_escapes_urls</span>
21:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://www.example.com?a=b&amp;c=d&quot;</span>
22:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://www.example.com?a=b&amp;amp;c=d&quot;</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'d'</span>)
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://www.example.com?a=b&amp;amp;c=d&quot;</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'d'</span>, <span class="ruby-identifier">:escape</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
24:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://www.example.com?a=b&amp;c=d&quot;</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'d'</span>, <span class="ruby-identifier">:escape</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
25:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000372" class="method">
  <div id="M000372_title" class="title">
    <b>test_url_for_with_back</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000372_source')" id="l_M000372_source">show source</a> ]</p>
  <div id="M000372_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 32</span>
32:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_with_back</span>
33:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, {<span class="ruby-value str">'HTTP_REFERER'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'http://www.example.com/referer'</span>})
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://www.example.com/referer'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">:back</span>)
35:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000373" class="method">
  <div id="M000373_title" class="title">
    <b>test_url_for_with_back_and_no_referer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000373_source')" id="l_M000373_source">show source</a> ]</p>
  <div id="M000373_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 37</span>
37:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_with_back_and_no_referer</span>
38:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span> = <span class="ruby-constant">RequestMock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;http://www.example.com/weblog/show&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, {})
39:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'javascript:history.back()'</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">:back</span>)
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000369" class="method">
  <div id="M000369_title" class="title">
    <b>url_for</b>(options)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000369_source')" id="l_M000369_source">show source</a> ]</p>
  <div id="M000369_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/url_helper_test.rb, line 12</span>
12:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
13:         <span class="ruby-identifier">url</span>
14:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>