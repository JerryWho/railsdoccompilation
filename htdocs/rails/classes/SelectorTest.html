  <div id="C00001107">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />SelectorTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/selector_test_rb.html');">actionpack/test/controller/selector_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007507&name=parse" >parse</a></li>
  <li><a href="index.html?a=M007508&name=select" >select</a></li>
  <li><a href="index.html?a=M007480&name=test_attribute" >test_attribute</a></li>
  <li><a href="index.html?a=M007482&name=test_attribute_equality" >test_attribute_equality</a></li>
  <li><a href="index.html?a=M007503&name=test_attribute_negation" >test_attribute_negation</a></li>
  <li><a href="index.html?a=M007481&name=test_attribute_quoted" >test_attribute_quoted</a></li>
  <li><a href="index.html?a=M007485&name=test_children_selector" >test_children_selector</a></li>
  <li><a href="index.html?a=M007479&name=test_class_name" >test_class_name</a></li>
  <li><a href="index.html?a=M007502&name=test_class_name_negation" >test_class_name_negation</a></li>
  <li><a href="index.html?a=M007499&name=test_content" >test_content</a></li>
  <li><a href="index.html?a=M007477&name=test_element" >test_element</a></li>
  <li><a href="index.html?a=M007500&name=test_element_negation" >test_element_negation</a></li>
  <li><a href="index.html?a=M007498&name=test_empty" >test_empty</a></li>
  <li><a href="index.html?a=M007497&name=test_first_and_last" >test_first_and_last</a></li>
  <li><a href="index.html?a=M007496&name=test_first_and_last" >test_first_and_last</a></li>
  <li><a href="index.html?a=M007501&name=test_id_negation" >test_id_negation</a></li>
  <li><a href="index.html?a=M007478&name=test_identifier" >test_identifier</a></li>
  <li><a href="index.html?a=M007505&name=test_negation_details" >test_negation_details</a></li>
  <li><a href="index.html?a=M007491&name=test_nth_child_a_is_negative" >test_nth_child_a_is_negative</a></li>
  <li><a href="index.html?a=M007489&name=test_nth_child_a_is_one" >test_nth_child_a_is_one</a></li>
  <li><a href="index.html?a=M007488&name=test_nth_child_a_is_zero" >test_nth_child_a_is_zero</a></li>
  <li><a href="index.html?a=M007492&name=test_nth_child_b_is_negative" >test_nth_child_b_is_negative</a></li>
  <li><a href="index.html?a=M007490&name=test_nth_child_b_is_zero" >test_nth_child_b_is_zero</a></li>
  <li><a href="index.html?a=M007487&name=test_nth_child_odd_even" >test_nth_child_odd_even</a></li>
  <li><a href="index.html?a=M007493&name=test_nth_child_substitution_values" >test_nth_child_substitution_values</a></li>
  <li><a href="index.html?a=M007494&name=test_nth_last_child" >test_nth_last_child</a></li>
  <li><a href="index.html?a=M007495&name=test_nth_of_type" >test_nth_of_type</a></li>
  <li><a href="index.html?a=M007504&name=test_pseudo_class_negation" >test_pseudo_class_negation</a></li>
  <li><a href="index.html?a=M007486&name=test_root_selector" >test_root_selector</a></li>
  <li><a href="index.html?a=M007506&name=test_select_from_element" >test_select_from_element</a></li>
  <li><a href="index.html?a=M007483&name=test_selector_group" >test_selector_group</a></li>
  <li><a href="index.html?a=M007484&name=test_sibling_selector" >test_sibling_selector</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M007480" class="method">
  <div id="M007480_title" class="title">
    <b>test_attribute</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007480_source')" id="l_M007480_source">show source</a> ]</p>
  <div id="M007480_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 77</span>
 77:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute</span>
 78:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;/div&gt;&lt;p id=&quot;2&quot; title=&quot;&quot; bar=&quot;foo&quot;&gt;&lt;/p&gt;&lt;div id=&quot;3&quot; title=&quot;foo&quot;&gt;&lt;/div&gt;}</span>)
 79:     <span class="ruby-comment cmt"># Match element with attribute.</span>
 80:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div[title]&quot;</span>)
 81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
 82:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
 83:     <span class="ruby-comment cmt"># Match any element with attribute.</span>
 84:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*[title]&quot;</span>)
 85:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
 86:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
 87:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
 88:     <span class="ruby-comment cmt"># Match element with attribute value.</span>
 89:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*[title=foo]&quot;</span>)
 90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
 91:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
 92:     <span class="ruby-comment cmt"># Match element with attribute and attribute value.</span>
 93:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[bar=foo][title]&quot;</span>)
 94:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
 95:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
 96:     <span class="ruby-comment cmt"># Not case sensitive.</span>
 97:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[BAR=foo][TiTle]&quot;</span>)
 98:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
 99:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
100:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007482" class="method">
  <div id="M007482_title" class="title">
    <b>test_attribute_equality</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007482_source')" id="l_M007482_source">show source</a> ]</p>
  <div id="M007482_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 124</span>
124:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_equality</span>
125:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot; title=&quot;foo bar&quot;&gt;&lt;/div&gt;&lt;div id=&quot;2&quot; title=&quot;barbaz&quot;&gt;&lt;/div&gt;}</span>)
126:     <span class="ruby-comment cmt"># Match (fail) complete value.</span>
127:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title=bar]&quot;</span>)
128:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
129:     <span class="ruby-comment cmt"># Match space-separate word.</span>
130:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title~=foo]&quot;</span>)
131:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
132:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
133:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title~=bar]&quot;</span>)
134:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
135:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
136:     <span class="ruby-comment cmt"># Match beginning of value.</span>
137:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title^=ba]&quot;</span>)
138:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
139:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
140:     <span class="ruby-comment cmt"># Match end of value.</span>
141:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title$=ar]&quot;</span>)
142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
143:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
144:     <span class="ruby-comment cmt"># Match text in value.</span>
145:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title*=bar]&quot;</span>)
146:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
147:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
148:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
149:     <span class="ruby-comment cmt"># Match first space separated word.</span>
150:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title|=foo]&quot;</span>)
151:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
152:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
153:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title|=bar]&quot;</span>)
154:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
155:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007503" class="method">
  <div id="M007503_title" class="title">
    <b>test_attribute_negation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007503_source')" id="l_M007503_source">show source</a> ]</p>
  <div id="M007503_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 572</span>
572:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_negation</span>
573:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;p title=&quot;foo&quot;&gt;&lt;/p&gt;&lt;p title=&quot;bar&quot;&gt;&lt;/p&gt;}</span>)
574:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p&quot;</span>)
575:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
576:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not([title=foo])&quot;</span>)
577:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
578:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;title&quot;</span>]
579:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not([title=bar])&quot;</span>)
580:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
581:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;title&quot;</span>]
582:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007481" class="method">
  <div id="M007481_title" class="title">
    <b>test_attribute_quoted</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007481_source')" id="l_M007481_source">show source</a> ]</p>
  <div id="M007481_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 103</span>
103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_attribute_quoted</span>
104:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot; title=&quot;foo&quot;&gt;&lt;/div&gt;&lt;div id=&quot;2&quot; title=&quot;bar&quot;&gt;&lt;/div&gt;&lt;div id=&quot;3&quot; title=&quot;  bar  &quot;&gt;&lt;/div&gt;}</span>)
105:     <span class="ruby-comment cmt"># Match without quotes.</span>
106:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title = bar]&quot;</span>)
107:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
109:     <span class="ruby-comment cmt"># Match with single quotes.</span>
110:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title = 'bar' ]&quot;</span>)
111:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
113:     <span class="ruby-comment cmt"># Match with double quotes.</span>
114:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title = \&quot;bar\&quot; ]&quot;</span>)
115:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
116:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
117:     <span class="ruby-comment cmt"># Match with spaces.</span>
118:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;[title = \&quot;  bar  \&quot; ]&quot;</span>)
119:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
120:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
121:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007485" class="method">
  <div id="M007485_title" class="title">
    <b>test_children_selector</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007485_source')" id="l_M007485_source">show source</a> ]</p>
  <div id="M007485_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_children_selector</span>
216:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div&gt;&lt;p id=&quot;1&quot;&gt;&lt;span id=&quot;2&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p id=&quot;3&quot;&gt;&lt;span id=&quot;4&quot; class=&quot;foo&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;}</span>)
217:     <span class="ruby-comment cmt"># Test child selector.</span>
218:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div&gt;p&quot;</span>)
219:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
220:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
221:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
222:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div&gt;span&quot;</span>)
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
224:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div&gt;p#3&quot;</span>)
225:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
226:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
227:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div&gt;p&gt;span&quot;</span>)
228:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
229:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
231:     <span class="ruby-comment cmt"># Test descendant selector.</span>
232:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div p&quot;</span>)
233:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
234:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
235:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
236:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div span&quot;</span>)
237:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
238:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
239:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
240:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div *#3&quot;</span>)
241:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
242:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
243:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div *#4&quot;</span>)
244:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
245:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
246:     <span class="ruby-comment cmt"># This is here because it failed before when whitespaces</span>
247:     <span class="ruby-comment cmt"># were not properly stripped.</span>
248:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div .foo&quot;</span>)
249:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
251:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007479" class="method">
  <div id="M007479_title" class="title">
    <b>test_class_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007479_source')" id="l_M007479_source">show source</a> ]</p>
  <div id="M007479_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_class_name</span>
55:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot; class=&quot; foo &quot;&gt;&lt;/div&gt;&lt;p id=&quot;2&quot; class=&quot; foo bar &quot;&gt;&lt;/p&gt;&lt;div id=&quot;3&quot; class=&quot;bar&quot;&gt;&lt;/div&gt;}</span>)
56:     <span class="ruby-comment cmt"># Match element with specified class.</span>
57:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div.foo&quot;</span>)
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
59:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
60:     <span class="ruby-comment cmt"># Match any element with specified class.</span>
61:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*.foo&quot;</span>)
62:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
63:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
64:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
65:     <span class="ruby-comment cmt"># Match elements with other class.</span>
66:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*.bar&quot;</span>)
67:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
68:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
69:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
70:     <span class="ruby-comment cmt"># Match only element with both class names.</span>
71:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*.bar.foo&quot;</span>)
72:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
73:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
74:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007502" class="method">
  <div id="M007502_title" class="title">
    <b>test_class_name_negation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007502_source')" id="l_M007502_source">show source</a> ]</p>
  <div id="M007502_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 559</span>
559:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_class_name_negation</span>
560:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;p class=&quot;foo&quot;&gt;&lt;/p&gt;&lt;p class=&quot;bar&quot;&gt;&lt;/p&gt;}</span>)
561:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p&quot;</span>)
562:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
563:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not(.foo)&quot;</span>)
564:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
565:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;class&quot;</span>]
566:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not(.bar)&quot;</span>)
567:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
568:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;class&quot;</span>]
569:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007499" class="method">
  <div id="M007499_title" class="title">
    <b>test_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007499_source')" id="l_M007499_source">show source</a> ]</p>
  <div id="M007499_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 506</span>
506:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_content</span>
507:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div&gt; &lt;/div&gt;}</span>)
508:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content()&quot;</span>)
509:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
510:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div&gt;something &lt;/div&gt;}</span>)
511:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content()&quot;</span>)
512:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
513:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content(something)&quot;</span>)
514:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
515:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content( 'something' )&quot;</span>)
516:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
517:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content( \&quot;something\&quot; )&quot;</span>)
518:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
519:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content(?)&quot;</span>, <span class="ruby-value str">&quot;something&quot;</span>)
520:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
521:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:content(?)&quot;</span>, <span class="ruby-regexp re">/something/</span>)
522:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
523:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007477" class="method">
  <div id="M007477_title" class="title">
    <b>test_element</b>()
  </div>
  <div class="description">
  <p>
Basic selector: element, id, class, attributes.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007477_source')" id="l_M007477_source">show source</a> ]</p>
  <div id="M007477_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_element</span>
15:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;div id=&quot;2&quot;&gt;&lt;/div&gt;}</span>)
16:     <span class="ruby-comment cmt"># Match element by name.</span>
17:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div&quot;</span>)
18:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
19:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
20:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
21:     <span class="ruby-comment cmt"># Not case sensitive.</span>
22:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;DIV&quot;</span>)
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
24:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
25:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
26:     <span class="ruby-comment cmt"># Universal match (all elements).</span>
27:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*&quot;</span>)
28:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
31:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
32:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007500" class="method">
  <div id="M007500_title" class="title">
    <b>test_element_negation</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> negation.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007500_source')" id="l_M007500_source">show source</a> ]</p>
  <div id="M007500_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 531</span>
531:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_element_negation</span>
532:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;p&gt;&lt;/p&gt;&lt;div&gt;&lt;/div&gt;}</span>)
533:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*&quot;</span>)
534:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
535:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*:not(p)&quot;</span>)
536:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
537:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
538:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*:not(div)&quot;</span>)
539:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
540:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
541:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*:not(span)&quot;</span>)
542:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
543:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007498" class="method">
  <div id="M007498_title" class="title">
    <b>test_empty</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007498_source')" id="l_M007498_source">show source</a> ]</p>
  <div id="M007498_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 494</span>
494:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty</span>
495:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
496:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;table:empty&quot;</span>)
497:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
498:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:empty&quot;</span>)
499:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
500:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div&gt; &lt;/div&gt;}</span>)
501:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:empty&quot;</span>)
502:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
503:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007497" class="method">
  <div id="M007497_title" class="title">
    <b>test_first_and_last</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007497_source')" id="l_M007497_source">show source</a> ]</p>
  <div id="M007497_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 473</span>
473:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_first_and_last</span>
474:     <span class="ruby-comment cmt"># Only child.</span>
475:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
476:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;table:only-child&quot;</span>)
477:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
478:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:only-child&quot;</span>)
479:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
480:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;tr&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
481:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr&gt;&lt;/tr&gt;&lt;tr&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
482:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:only-child&quot;</span>)
483:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
484:     <span class="ruby-comment cmt"># Only of type.</span>
485:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;thead&gt;&lt;/thead&gt;&lt;tr&gt;&lt;/tr&gt;&lt;tr&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
486:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;thead:only-of-type&quot;</span>)
487:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
488:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;thead&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
489:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;td:only-of-type&quot;</span>)
490:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
491:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007496" class="method">
  <div id="M007496_title" class="title">
    <b>test_first_and_last</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007496_source')" id="l_M007496_source">show source</a> ]</p>
  <div id="M007496_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 440</span>
440:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_first_and_last</span>
441:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;thead&gt;&lt;/thead&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
442:     <span class="ruby-comment cmt"># First child.</span>
443:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:first-child&quot;</span>)
444:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
445:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:first-child&quot;</span>)
446:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
447:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;thead&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
448:     <span class="ruby-comment cmt"># First of type.</span>
449:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:first-of-type&quot;</span>)
450:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
451:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
452:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;thead:first-of-type&quot;</span>)
453:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
454:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;thead&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
455:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:first-of-type&quot;</span>)
456:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
457:     <span class="ruby-comment cmt"># Last child.</span>
458:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:last-child&quot;</span>)
459:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
460:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
461:     <span class="ruby-comment cmt"># Last of type.</span>
462:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:last-of-type&quot;</span>)
463:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
464:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
465:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;thead:last-of-type&quot;</span>)
466:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
467:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;thead&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
468:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div:last-of-type&quot;</span>)
469:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
470:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007501" class="method">
  <div id="M007501_title" class="title">
    <b>test_id_negation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007501_source')" id="l_M007501_source">show source</a> ]</p>
  <div id="M007501_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 546</span>
546:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_negation</span>
547:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;p id=&quot;1&quot;&gt;&lt;/p&gt;&lt;p id=&quot;2&quot;&gt;&lt;/p&gt;}</span>)
548:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p&quot;</span>)
549:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
550:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not(#1)&quot;</span>)
551:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
552:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
553:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not(#2)&quot;</span>)
554:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
555:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
556:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007478" class="method">
  <div id="M007478_title" class="title">
    <b>test_identifier</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007478_source')" id="l_M007478_source">show source</a> ]</p>
  <div id="M007478_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_identifier</span>
36:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;div id=&quot;2&quot;&gt;&lt;/div&gt;}</span>)
37:     <span class="ruby-comment cmt"># Match element by ID.</span>
38:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div#1&quot;</span>)
39:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
40:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
41:     <span class="ruby-comment cmt"># Match element by ID, substitute value.</span>
42:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div#?&quot;</span>, <span class="ruby-value">2</span>)
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
45:     <span class="ruby-comment cmt"># Element name does not match ID.</span>
46:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p#?&quot;</span>, <span class="ruby-value">2</span>)
47:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
48:     <span class="ruby-comment cmt"># Use regular expression.</span>
49:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;#?&quot;</span>, <span class="ruby-regexp re">/\d/</span>)
50:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
51:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007505" class="method">
  <div id="M007505_title" class="title">
    <b>test_negation_details</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007505_source')" id="l_M007505_source">show source</a> ]</p>
  <div id="M007505_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 598</span>
598:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_negation_details</span>
599:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;p id=&quot;1&quot;&gt;&lt;/p&gt;&lt;p id=&quot;2&quot;&gt;&lt;/p&gt;&lt;p id=&quot;3&quot;&gt;&lt;/p&gt;}</span>)
600:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not(&quot;</span>) }
601:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:not(:not())&quot;</span>) }
602:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p:not(#1):not(#3)&quot;</span>)
603:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
604:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
605:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007491" class="method">
  <div id="M007491_title" class="title">
    <b>test_nth_child_a_is_negative</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007491_source')" id="l_M007491_source">show source</a> ]</p>
  <div id="M007491_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 346</span>
346:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_a_is_negative</span>
347:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
348:     <span class="ruby-comment cmt"># Since a is -1, picks the first three elements.</span>
349:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(-n+3)&quot;</span>)
350:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
351:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
352:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
353:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
354:     <span class="ruby-comment cmt"># Since a is -2, picks the first in every second of first four elements.</span>
355:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(-2n+3)&quot;</span>)
356:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
357:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
358:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
359:     <span class="ruby-comment cmt"># Since a is -2, picks the first in every second of first three elements.</span>
360:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(-2n+2)&quot;</span>)
361:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
362:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
363:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007489" class="method">
  <div id="M007489_title" class="title">
    <b>test_nth_child_a_is_one</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007489_source')" id="l_M007489_source">show source</a> ]</p>
  <div id="M007489_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 314</span>
314:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_a_is_one</span>
315:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
316:     <span class="ruby-comment cmt"># a is group of one, pick every element in group.</span>
317:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(1n+0)&quot;</span>)
318:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
319:     <span class="ruby-comment cmt"># Same but a can be omitted when one.</span>
320:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(n+0)&quot;</span>)
321:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
322:     <span class="ruby-comment cmt"># Same but b can be omitted when zero.</span>
323:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(n)&quot;</span>)
324:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
325:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007488" class="method">
  <div id="M007488_title" class="title">
    <b>test_nth_child_a_is_zero</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007488_source')" id="l_M007488_source">show source</a> ]</p>
  <div id="M007488_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 291</span>
291:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_a_is_zero</span>
292:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
293:     <span class="ruby-comment cmt"># Test the third child.</span>
294:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(0n+3)&quot;</span>)
295:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
297:     <span class="ruby-comment cmt"># Same but an can be omitted when zero.</span>
298:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(3)&quot;</span>)
299:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
300:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
301:     <span class="ruby-comment cmt"># Second element (but not every second element).</span>
302:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(0n+2)&quot;</span>)
303:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
304:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
305:     <span class="ruby-comment cmt"># Before first and past last returns nothing.:</span>
306:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(-1)&quot;</span>) }
307:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(0)&quot;</span>)
308:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
309:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(5)&quot;</span>)
310:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
311:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007492" class="method">
  <div id="M007492_title" class="title">
    <b>test_nth_child_b_is_negative</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007492_source')" id="l_M007492_source">show source</a> ]</p>
  <div id="M007492_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 366</span>
366:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_b_is_negative</span>
367:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
368:     <span class="ruby-comment cmt"># Select last of four.</span>
369:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(4n-1)&quot;</span>)
370:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
371:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
372:     <span class="ruby-comment cmt"># Select first of four.</span>
373:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(4n-4)&quot;</span>)
374:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
375:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
376:     <span class="ruby-comment cmt"># Select last of every second.</span>
377:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(2n-1)&quot;</span>)
378:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
379:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
380:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
381:     <span class="ruby-comment cmt"># Select nothing since an+b always &lt; 0</span>
382:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(-1n-1)&quot;</span>)
383:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
384:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007490" class="method">
  <div id="M007490_title" class="title">
    <b>test_nth_child_b_is_zero</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007490_source')" id="l_M007490_source">show source</a> ]</p>
  <div id="M007490_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 328</span>
328:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_b_is_zero</span>
329:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
330:     <span class="ruby-comment cmt"># If b is zero, pick the n-th element (here each one).</span>
331:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(n+0)&quot;</span>)
332:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
333:     <span class="ruby-comment cmt"># If b is zero, pick the n-th element (here every second).</span>
334:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(2n+0)&quot;</span>)
335:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
336:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
337:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
338:     <span class="ruby-comment cmt"># If a and b are both zero, no element selected.</span>
339:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(0n+0)&quot;</span>)
340:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
341:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(0)&quot;</span>)
342:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
343:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007487" class="method">
  <div id="M007487_title" class="title">
    <b>test_nth_child_odd_even</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007487_source')" id="l_M007487_source">show source</a> ]</p>
  <div id="M007487_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 276</span>
276:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_odd_even</span>
277:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
278:     <span class="ruby-comment cmt"># Test odd nth children.</span>
279:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(odd)&quot;</span>)
280:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
281:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
282:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
283:     <span class="ruby-comment cmt"># Test even nth children.</span>
284:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(even)&quot;</span>)
285:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
286:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
287:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
288:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007493" class="method">
  <div id="M007493_title" class="title">
    <b>test_nth_child_substitution_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007493_source')" id="l_M007493_source">show source</a> ]</p>
  <div id="M007493_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 387</span>
387:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_child_substitution_values</span>
388:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
389:     <span class="ruby-comment cmt"># Test with ?n?.</span>
390:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(?n?)&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>)
391:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
392:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
393:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
394:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(?n?)&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value">2</span>)
395:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
396:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
397:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
398:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(?n?)&quot;</span>, <span class="ruby-value">4</span>, <span class="ruby-value">2</span>)
399:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
400:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
401:     <span class="ruby-comment cmt"># Test with ? (b only).</span>
402:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(?)&quot;</span>, <span class="ruby-value">3</span>)
403:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
404:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
405:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-child(?)&quot;</span>, <span class="ruby-value">5</span>)
406:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
407:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007494" class="method">
  <div id="M007494_title" class="title">
    <b>test_nth_last_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007494_source')" id="l_M007494_source">show source</a> ]</p>
  <div id="M007494_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 410</span>
410:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_last_child</span>
411:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
412:     <span class="ruby-comment cmt"># Last two elements.</span>
413:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-last-child(-n+2)&quot;</span>)
414:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
415:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
416:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
417:     <span class="ruby-comment cmt"># All old elements counting from last one.</span>
418:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-last-child(odd)&quot;</span>)
419:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
420:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
421:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
422:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007495" class="method">
  <div id="M007495_title" class="title">
    <b>test_nth_of_type</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007495_source')" id="l_M007495_source">show source</a> ]</p>
  <div id="M007495_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 425</span>
425:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nth_of_type</span>
426:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;table&gt;&lt;thead&gt;&lt;/thead&gt;&lt;tr id=&quot;1&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;2&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;3&quot;&gt;&lt;/tr&gt;&lt;tr id=&quot;4&quot;&gt;&lt;/tr&gt;&lt;/table&gt;}</span>)
427:     <span class="ruby-comment cmt"># First two elements.</span>
428:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-of-type(-n+2)&quot;</span>)
429:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
430:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
431:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
432:     <span class="ruby-comment cmt"># All old elements counting from last one.</span>
433:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;tr:nth-last-of-type(odd)&quot;</span>)
434:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
435:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
436:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;4&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
437:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007504" class="method">
  <div id="M007504_title" class="title">
    <b>test_pseudo_class_negation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007504_source')" id="l_M007504_source">show source</a> ]</p>
  <div id="M007504_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 585</span>
585:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pseudo_class_negation</span>
586:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div&gt;&lt;p id=&quot;1&quot;&gt;&lt;/p&gt;&lt;p id=&quot;2&quot;&gt;&lt;/p&gt;&lt;/div&gt;}</span>)
587:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p&quot;</span>)
588:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
589:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p:not(:first-child)&quot;</span>)
590:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
591:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
592:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p:not(:nth-child(2))&quot;</span>)
593:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
594:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
595:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007486" class="method">
  <div id="M007486_title" class="title">
    <b>test_root_selector</b>()
  </div>
  <div class="description">
  <p>
Pseudo selectors: root, nth-child, empty, content, etc
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007486_source')" id="l_M007486_source">show source</a> ]</p>
  <div id="M007486_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 259</span>
259:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_root_selector</span>
260:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;div id=&quot;2&quot;&gt;&lt;/div&gt;&lt;/div&gt;}</span>)
261:     <span class="ruby-comment cmt"># Can only find element if it's root.</span>
262:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;:root&quot;</span>)
263:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
264:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
265:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;#1:root&quot;</span>)
266:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
267:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
268:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;#2:root&quot;</span>)
269:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
270:     <span class="ruby-comment cmt"># Opposite for nth-child.</span>
271:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;#1:nth-child(1)&quot;</span>)
272:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
273:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007506" class="method">
  <div id="M007506_title" class="title">
    <b>test_select_from_element</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007506_source')" id="l_M007506_source">show source</a> ]</p>
  <div id="M007506_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 608</span>
608:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_select_from_element</span>
609:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;div&gt;&lt;p id=&quot;1&quot;&gt;&lt;/p&gt;&lt;p id=&quot;2&quot;&gt;&lt;/p&gt;&lt;/div&gt;}</span>)
610:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;div&quot;</span>)
611:     <span class="ruby-ivar">@matches</span> = <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;p&quot;</span>)
612:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
613:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
614:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
615:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007483" class="method">
  <div id="M007483_title" class="title">
    <b>test_selector_group</b>()
  </div>
  <div class="description">
  <p>
Selector composition: groups, sibling, children
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007483_source')" id="l_M007483_source">show source</a> ]</p>
  <div id="M007483_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_selector_group</span>
164:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;h1 id=&quot;1&quot;&gt;&lt;/h1&gt;&lt;h2 id=&quot;2&quot;&gt;&lt;/h2&gt;&lt;h3 id=&quot;3&quot;&gt;&lt;/h3&gt;}</span>)
165:     <span class="ruby-comment cmt"># Simple group selector.</span>
166:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1,h3&quot;</span>)
167:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
168:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
169:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
170:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1 , h3&quot;</span>)
171:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
172:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
173:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
174:     <span class="ruby-comment cmt"># Complex group selector.</span>
175:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;h1 id=&quot;1&quot;&gt;&lt;a href=&quot;foo&quot;&gt;&lt;/a&gt;&lt;/h1&gt;&lt;h2 id=&quot;2&quot;&gt;&lt;a href=&quot;bar&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;2&quot;&gt;&lt;a href=&quot;baz&quot;&gt;&lt;/a&gt;&lt;/h3&gt;}</span>)
176:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1 a, h3 a&quot;</span>)
177:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
178:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;href&quot;</span>]
179:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;baz&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;href&quot;</span>]
180:     <span class="ruby-comment cmt"># And now for the three selector challenge.</span>
181:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;h1 id=&quot;1&quot;&gt;&lt;a href=&quot;foo&quot;&gt;&lt;/a&gt;&lt;/h1&gt;&lt;h2 id=&quot;2&quot;&gt;&lt;a href=&quot;bar&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;2&quot;&gt;&lt;a href=&quot;baz&quot;&gt;&lt;/a&gt;&lt;/h3&gt;}</span>)
182:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1 a, h2 a, h3 a&quot;</span>)
183:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
184:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;href&quot;</span>]
185:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;href&quot;</span>]
186:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;baz&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;href&quot;</span>]
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007484" class="method">
  <div id="M007484_title" class="title">
    <b>test_sibling_selector</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007484_source')" id="l_M007484_source">show source</a> ]</p>
  <div id="M007484_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 190</span>
190:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_sibling_selector</span>
191:     <span class="ruby-identifier">parse</span>(<span class="ruby-value str">%Q{&lt;h1 id=&quot;1&quot;&gt;&lt;/h1&gt;&lt;h2 id=&quot;2&quot;&gt;&lt;/h2&gt;&lt;h3 id=&quot;3&quot;&gt;&lt;/h3&gt;}</span>)
192:     <span class="ruby-comment cmt"># Test next sibling.</span>
193:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1+*&quot;</span>)
194:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
195:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
196:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1+h2&quot;</span>)
197:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
198:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
199:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1+h3&quot;</span>)
200:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
201:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;*+h3&quot;</span>)
202:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
203:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
204:     <span class="ruby-comment cmt"># Test any sibling.</span>
205:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h1~*&quot;</span>)
206:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
207:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
208:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
209:     <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;h2~*&quot;</span>)
210:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@matches</span>.<span class="ruby-identifier">size</span>
211:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-ivar">@matches</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;id&quot;</span>]
212:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M007507" class="method">
  <div id="M007507_title" class="title">
    <b>parse</b>(html)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007507_source')" id="l_M007507_source">show source</a> ]</p>
  <div id="M007507_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 620</span>
620:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">html</span>)
621:     <span class="ruby-ivar">@html</span> = <span class="ruby-constant">HTML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">html</span>).<span class="ruby-identifier">root</span>
622:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007508" class="method">
  <div id="M007508_title" class="title">
    <b>select</b>(*selector)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007508_source')" id="l_M007508_source">show source</a> ]</p>
  <div id="M007508_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/selector_test.rb, line 624</span>
624:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">selector</span>)
625:     <span class="ruby-ivar">@matches</span> = <span class="ruby-constant">HTML</span>.<span class="ruby-identifier">selector</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">selector</span>).<span class="ruby-identifier">select</span>(<span class="ruby-ivar">@html</span>)
626:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>