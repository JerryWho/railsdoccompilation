  <div id="C00000633">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />NumberHelperI18nTests<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/template/number_helper_i18n_test_rb.html');">actionpack/test/template/number_helper_i18n_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M004344&name=setup" >setup</a></li>
  <li><a href="index.html?a=M004345&name=test_number_to_currency_translates_currency_formats" >test_number_to_currency_translates_currency_formats</a></li>
  <li><a href="index.html?a=M004349&name=test_number_to_human_size_translates_human_formats" >test_number_to_human_size_translates_human_formats</a></li>
  <li><a href="index.html?a=M004348&name=test_number_to_percentage_translates_number_formats" >test_number_to_percentage_translates_number_formats</a></li>
  <li><a href="index.html?a=M004347&name=test_number_with_delimiter_translates_number_formats" >test_number_with_delimiter_translates_number_formats</a></li>
  <li><a href="index.html?a=M004346&name=test_number_with_precision_translates_number_formats" >test_number_with_precision_translates_number_formats</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/ActionView/Helpers/NumberHelper.html');">ActionView::Helpers::NumberHelper</a></li>
</ul>




  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>request</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Instance methods</div>
<div id="M004344" class="method">
  <div id="M004344_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004344_source')" id="l_M004344_source">show source</a> ]</p>
  <div id="M004344_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/number_helper_i18n_test.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:     <span class="ruby-ivar">@number_defaults</span> = { <span class="ruby-identifier">:precision</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:delimiter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">','</span>, <span class="ruby-identifier">:separator</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'.'</span> }
10:     <span class="ruby-ivar">@currency_defaults</span> = { <span class="ruby-identifier">:unit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'$'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'%u%n'</span>, <span class="ruby-identifier">:precision</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
11:     <span class="ruby-ivar">@human_defaults</span> = { <span class="ruby-identifier">:precision</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }
12:     <span class="ruby-ivar">@human_storage_units_format_default</span> = <span class="ruby-value str">&quot;%n %u&quot;</span>
13:     <span class="ruby-ivar">@human_storage_units_units_byte_other</span> = <span class="ruby-value str">&quot;Bytes&quot;</span>
14:     <span class="ruby-ivar">@human_storage_units_units_kb_other</span> = <span class="ruby-value str">&quot;KB&quot;</span>
15:     <span class="ruby-ivar">@percentage_defaults</span> = { <span class="ruby-identifier">:delimiter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span> }
16:     <span class="ruby-ivar">@precision_defaults</span> = { <span class="ruby-identifier">:delimiter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span> }
17: 
18:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">backend</span>.<span class="ruby-identifier">store_translations</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:number</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@number_defaults</span>,
19:       <span class="ruby-identifier">:currency</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@currency_defaults</span> }, <span class="ruby-identifier">:human</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@human_defaults</span> }
20:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004345" class="method">
  <div id="M004345_title" class="title">
    <b>test_number_to_currency_translates_currency_formats</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004345_source')" id="l_M004345_source">show source</a> ]</p>
  <div id="M004345_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/number_helper_i18n_test.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_number_to_currency_translates_currency_formats</span>
23:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.format'</span><span class="ruby-value str">'number.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@number_defaults</span>)
24:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.currency.format'</span><span class="ruby-value str">'number.currency.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
25:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@currency_defaults</span>)
26:     <span class="ruby-identifier">number_to_currency</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>)
27:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004349" class="method">
  <div id="M004349_title" class="title">
    <b>test_number_to_human_size_translates_human_formats</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004349_source')" id="l_M004349_source">show source</a> ]</p>
  <div id="M004349_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/number_helper_i18n_test.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_number_to_human_size_translates_human_formats</span>
49:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.format'</span><span class="ruby-value str">'number.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@number_defaults</span>)
50:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.human.format'</span><span class="ruby-value str">'number.human.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
51:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@human_defaults</span>)
52:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.human.storage_units.format'</span><span class="ruby-value str">'number.human.storage_units.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
53:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@human_storage_units_format_default</span>)
54:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.human.storage_units.units.kb'</span><span class="ruby-value str">'number.human.storage_units.units.kb'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>,
55:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@human_storage_units_units_kb_other</span>)
56:     <span class="ruby-comment cmt"># 2KB</span>
57:     <span class="ruby-identifier">number_to_human_size</span>(<span class="ruby-value">2048</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>)
58: 
59:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.format'</span><span class="ruby-value str">'number.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@number_defaults</span>)
60:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.human.format'</span><span class="ruby-value str">'number.human.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
61:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@human_defaults</span>)
62:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.human.storage_units.format'</span><span class="ruby-value str">'number.human.storage_units.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
63:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@human_storage_units_format_default</span>)
64:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.human.storage_units.units.byte'</span><span class="ruby-value str">'number.human.storage_units.units.byte'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">42</span>,
65:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@human_storage_units_units_byte_other</span>)
66:     <span class="ruby-comment cmt"># 42 Bytes</span>
67:     <span class="ruby-identifier">number_to_human_size</span>(<span class="ruby-value">42</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>)
68:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004348" class="method">
  <div id="M004348_title" class="title">
    <b>test_number_to_percentage_translates_number_formats</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004348_source')" id="l_M004348_source">show source</a> ]</p>
  <div id="M004348_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/number_helper_i18n_test.rb, line 41</span>
41:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_number_to_percentage_translates_number_formats</span>
42:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.format'</span><span class="ruby-value str">'number.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@number_defaults</span>)
43:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.percentage.format'</span><span class="ruby-value str">'number.percentage.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
44:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@percentage_defaults</span>)
45:     <span class="ruby-identifier">number_to_percentage</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>)
46:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004347" class="method">
  <div id="M004347_title" class="title">
    <b>test_number_with_delimiter_translates_number_formats</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004347_source')" id="l_M004347_source">show source</a> ]</p>
  <div id="M004347_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/number_helper_i18n_test.rb, line 36</span>
36:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_number_with_delimiter_translates_number_formats</span>
37:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.format'</span><span class="ruby-value str">'number.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@number_defaults</span>)
38:     <span class="ruby-identifier">number_with_delimiter</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>)
39:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004346" class="method">
  <div id="M004346_title" class="title">
    <b>test_number_with_precision_translates_number_formats</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004346_source')" id="l_M004346_source">show source</a> ]</p>
  <div id="M004346_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/number_helper_i18n_test.rb, line 29</span>
29:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_number_with_precision_translates_number_formats</span>
30:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.format'</span><span class="ruby-value str">'number.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>, <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@number_defaults</span>)
31:     <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:translate</span>).<span class="ruby-identifier">with</span>(<span class="ruby-value str">'number.precision.format'</span><span class="ruby-value str">'number.precision.format'</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>,
32:                                   <span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-ivar">@precision_defaults</span>)
33:     <span class="ruby-identifier">number_with_precision</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'en'</span>)
34:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>