  <div id="C00001422">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Base<br/>
  In:
<a href="#" onclick="jsHref('files/activeresource/lib/active_resource/base_rb.html');">activeresource/lib/active_resource/base.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
<a
href="index.html?a=C00001422&name=ActiveResource::Base">ActiveResource::Base</a>
is the main class for mapping RESTful resources as models in a <a
href="index.html?a=C00001508&name=Rails">Rails</a> application.
</p>
<p>
For an outline of what Active Resource is capable of, see <a
href="files/vendor/rails/activeresource/README.html"
target="_blank">link:files/vendor/rails/activeresource/README.html</a>.
</p>
<h2>Automated mapping</h2>
<p>
Active Resource objects represent your RESTful resources as manipulatable
Ruby objects. To map resources to Ruby objects, Active Resource only needs
a class name that corresponds to the resource name (e.g., the class <a
href="index.html?a=C00000512&name=Person">Person</a> maps to the resources
people, very similarly to Active <a
href="index.html?a=C00001103&name=Record">Record</a>) and a <tt>site</tt>
value, which holds the URI of the resources.
</p>
<pre>
  class Person &lt; ActiveResource::Base
    self.site = &quot;http://api.people.com:3000/&quot;
  end
</pre>
<p>
Now the <a href="index.html?a=C00000512&name=Person">Person</a> class is
mapped to RESTful resources located at <tt><a
href="http://api.people.com:3000/people"
target="_blank">http://api.people.com:3000/people</a>/</tt>, and you can
now use Active Resource&#8217;s lifecycles methods to manipulate resources.
In the case where you already have an existing model with the same name as
the desired RESTful resource you can set the <tt>element_name</tt> value.
</p>
<pre>
  class PersonResource &lt; ActiveResource::Base
    self.site = &quot;http://api.people.com:3000/&quot;
    self.element_name = &quot;person&quot;
  end
</pre>
<h2>Lifecycle methods</h2>
<p>
Active Resource exposes methods for creating, finding, updating, and
deleting resources from REST web services.
</p>
<pre>
  ryan = Person.new(:first =&gt; 'Ryan', :last =&gt; 'Daigle')
  ryan.save                # =&gt; true
  ryan.id                  # =&gt; 2
  Person.exists?(ryan.id)  # =&gt; true
  ryan.exists?             # =&gt; true

  ryan = Person.find(1)
  # Resource holding our newly created Person object

  ryan.first = 'Rizzle'
  ryan.save                # =&gt; true

  ryan.destroy             # =&gt; true
</pre>
<p>
As you can see, these are very similar to Active <a
href="index.html?a=C00001103&name=Record">Record</a>&#8217;s lifecycle
methods for database records. You can read more about each of these methods
in their respective documentation.
</p>
<h3>Custom REST methods</h3>
<p>
Since simple CRUD/lifecycle methods can&#8217;t accomplish every task,
Active Resource also supports defining your own custom REST methods. To
invoke them, Active Resource provides the <tt>get</tt>, <tt>post</tt>,
<tt>put</tt> and <tt>\delete</tt> methods where you can specify a custom
REST method name to invoke.
</p>
<pre>
  # POST to the custom 'register' REST method, i.e. POST /people/new/register.xml.
  Person.new(:name =&gt; 'Ryan').post(:register)
  # =&gt; { :id =&gt; 1, :name =&gt; 'Ryan', :position =&gt; 'Clerk' }

  # PUT an update by invoking the 'promote' REST method, i.e. PUT /people/1/promote.xml?position=Manager.
  Person.find(1).put(:promote, :position =&gt; 'Manager')
  # =&gt; { :id =&gt; 1, :name =&gt; 'Ryan', :position =&gt; 'Manager' }

  # GET all the positions available, i.e. GET /people/positions.xml.
  Person.get(:positions)
  # =&gt; [{:name =&gt; 'Manager'}, {:name =&gt; 'Clerk'}]

  # DELETE to 'fire' a person, i.e. DELETE /people/1/fire.xml.
  Person.find(1).delete(:fire)
</pre>
<p>
For more information on using custom REST methods, see the <a
href="index.html?a=C00001401&name=ActiveResource::CustomMethods">ActiveResource::CustomMethods</a>
documentation.
</p>
<h2><a href="index.html?a=C00001405&name=Validations">Validations</a></h2>
<p>
You can validate resources client side by overriding validation methods in
the base class.
</p>
<pre>
  class Person &lt; ActiveResource::Base
     self.site = &quot;http://api.people.com:3000/&quot;
     protected
       def validate
         errors.add(&quot;last&quot;, &quot;has invalid characters&quot;) unless last =~ /[a-zA-Z]*/
       end
  end
</pre>
<p>
See the <a
href="index.html?a=C00001405&name=ActiveResource::Validations">ActiveResource::Validations</a>
documentation for more information.
</p>
<h2>Authentication</h2>
<p>
Many REST APIs will require authentication, usually in the form of basic
HTTP authentication. Authentication can be specified by:
</p>
<h3>HTTP Basic Authentication</h3>
<ul>
<li>putting the credentials in the URL for the <tt>site</tt> variable.

<pre>
 class Person &lt; ActiveResource::Base
   self.site = &quot;http://ryan:password@api.people.com:3000/&quot;
 end
</pre>
</li>
<li>defining <tt>user</tt> and/or <tt>password</tt> variables

<pre>
 class Person &lt; ActiveResource::Base
   self.site = &quot;http://api.people.com:3000/&quot;
   self.user = &quot;ryan&quot;
   self.password = &quot;password&quot;
 end
</pre>
</li>
</ul>
<p>
For obvious security reasons, it is probably best if such services are
available over HTTPS.
</p>
<p>
Note: Some values cannot be provided in the URL passed to site. e.g. email
addresses as usernames. In those situations you should use the separate
user and password option.
</p>
<h3>Certificate Authentication</h3>
<ul>
<li>End point uses an X509 certificate for authentication. <tt>See <a
href="index.html?a=M008411&name=ssl_options=">ssl_options=</a></tt> for all
options.

<pre>
 class Person &lt; ActiveResource::Base
   self.site = &quot;https://secure.api.people.com/&quot;
   self.ssl_options = {:cert         =&gt; OpenSSL::X509::Certificate.new(File.open(pem_file))
                       :key          =&gt; OpenSSL::PKey::RSA.new(File.open(pem_file)),
                       :ca_path      =&gt; &quot;/path/to/OpenSSL/formatted/CA_Certs&quot;,
                       :verify_mode  =&gt; OpenSSL::SSL::VERIFY_PEER}
 end
</pre>
</li>
</ul>
<h2><a href="index.html?a=C00001409&name=Errors">Errors</a> &amp; Validation</h2>
<p>
Error handling and validation is handled in much the same manner as
you&#8217;re used to seeing in Active <a
href="index.html?a=C00001103&name=Record">Record</a>. Both the response
code in the HTTP response and the body of the response are used to indicate
that an error occurred.
</p>
<h3>Resource errors</h3>
<p>
When a GET is requested for a resource that does not exist, the HTTP
<tt>404</tt> (Resource Not Found) response code will be returned from the
server which will raise an <a
href="index.html?a=C00001428&name=ActiveResource::ResourceNotFound">ActiveResource::ResourceNotFound</a>
exception.
</p>
<pre>
  # GET http://api.people.com:3000/people/999.xml
  ryan = Person.find(999) # 404, raises ActiveResource::ResourceNotFound
</pre>
<p>
<tt>404</tt> is just one of the HTTP error response codes that Active
Resource will handle with its own exception. The following HTTP response
codes will also result in these exceptions:
</p>
<ul>
<li>200..399 - Valid response, no exception (other than 301, 302)

</li>
<li>301, 302 - ActiveResource::Redirection

</li>
<li>400 - <a
href="index.html?a=C00001430&name=ActiveResource::BadRequest">ActiveResource::BadRequest</a>

</li>
<li>401 - <a
href="index.html?a=C00001417&name=ActiveResource::UnauthorizedAccess">ActiveResource::UnauthorizedAccess</a>

</li>
<li>403 - <a
href="index.html?a=C00001423&name=ActiveResource::ForbiddenAccess">ActiveResource::ForbiddenAccess</a>

</li>
<li>404 - <a
href="index.html?a=C00001428&name=ActiveResource::ResourceNotFound">ActiveResource::ResourceNotFound</a>

</li>
<li>405 - ActiveResource::MethodNotAllowed

</li>
<li>409 - <a
href="index.html?a=C00001416&name=ActiveResource::ResourceConflict">ActiveResource::ResourceConflict</a>

</li>
<li>410 - <a
href="index.html?a=C00001415&name=ActiveResource::ResourceGone">ActiveResource::ResourceGone</a>

</li>
<li>422 - ActiveResource::ResourceInvalid (rescued by save as validation
errors)

</li>
<li>401..499 - <a
href="index.html?a=C00001412&name=ActiveResource::ClientError">ActiveResource::ClientError</a>

</li>
<li>500..599 - <a
href="index.html?a=C00001419&name=ActiveResource::ServerError">ActiveResource::ServerError</a>

</li>
<li>Other - ActiveResource::ConnectionError

</li>
</ul>
<p>
These custom exceptions allow you to deal with resource errors more
naturally and with more precision rather than returning a general HTTP
error. For example:
</p>
<pre>
  begin
    ryan = Person.find(my_id)
  rescue ActiveResource::ResourceNotFound
    redirect_to :action =&gt; 'not_found'
  rescue ActiveResource::ResourceConflict, ActiveResource::ResourceInvalid
    redirect_to :action =&gt; 'new'
  end
</pre>
<h3>Validation errors</h3>
<p>
Active Resource supports validations on resources and will return errors if
any these validations fail (e.g., &quot;First name can not be blank&quot;
and so on). These types of errors are denoted in the response by a response
code of <tt>422</tt> and an XML or JSON representation of the validation
errors. The save operation will then fail (with a <tt>false</tt> return
value) and the validation errors can be accessed on the resource in
question.
</p>
<pre>
  ryan = Person.find(1)
  ryan.first # =&gt; ''
  ryan.save  # =&gt; false

  # When
  # PUT http://api.people.com:3000/people/1.xml
  # or
  # PUT http://api.people.com:3000/people/1.json
  # is requested with invalid values, the response is:
  #
  # Response (422):
  # &lt;errors type=&quot;array&quot;&gt;&lt;error&gt;First cannot be empty&lt;/error&gt;&lt;/errors&gt;
  # or
  # {&quot;errors&quot;:[&quot;First cannot be empty&quot;]}
  #

  ryan.errors.invalid?(:first)  # =&gt; true
  ryan.errors.full_messages     # =&gt; ['First cannot be empty']
</pre>
<p>
Learn more about Active Resource&#8217;s validation features in the <a
href="index.html?a=C00001405&name=ActiveResource::Validations">ActiveResource::Validations</a>
documentation.
</p>
<h3>Timeouts</h3>
<p>
Active Resource relies on HTTP to access RESTful APIs and as such is
inherently susceptible to slow or unresponsive servers. In such cases, your
Active Resource method calls could \timeout. You can control the amount of
time before Active Resource times out with the <tt>timeout</tt> variable.
</p>
<pre>
  class Person &lt; ActiveResource::Base
    self.site = &quot;http://api.people.com:3000/&quot;
    self.timeout = 5
  end
</pre>
<p>
This sets the <tt>timeout</tt> to 5 seconds. You can adjust the
<tt>timeout</tt> to a value suitable for the RESTful API you are accessing.
It is recommended to set this to a reasonably low value to allow your
Active Resource clients (especially if you are using Active Resource in a
<a href="index.html?a=C00001508&name=Rails">Rails</a> application) to
fail-fast (see <a href="http://en.wikipedia.org/wiki/Fail-fast"
target="_blank">http://en.wikipedia.org/wiki/Fail-fast</a>) rather than
cause cascading failures that could incapacitate your server.
</p>
<p>
When a \timeout occurs, an <a
href="index.html?a=C00001424&name=ActiveResource::TimeoutError">ActiveResource::TimeoutError</a>
is raised. You should rescue from <a
href="index.html?a=C00001424&name=ActiveResource::TimeoutError">ActiveResource::TimeoutError</a>
in your Active Resource method calls.
</p>
<p>
Internally, Active Resource relies on Ruby&#8217;s Net::HTTP library to
make HTTP requests. Setting <tt>timeout</tt> sets the <tt>read_timeout</tt>
of the internal Net::HTTP instance to the same value. The default
<tt>read_timeout</tt> is 60 seconds on most Ruby implementations.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M008431&name===" >==</a></li>
  <li><a href="index.html?a=M008439&name=as_json" >as_json</a></li>
  <li><a href="index.html?a=M008425&name=clone" >clone</a></li>
  <li><a href="index.html?a=M008419&name=collection_path" >collection_path</a></li>
  <li><a href="index.html?a=M008450&name=collection_path" >collection_path</a></li>
  <li><a href="index.html?a=M008413&name=connection" >connection</a></li>
  <li><a href="index.html?a=M008444&name=connection" >connection</a></li>
  <li><a href="index.html?a=M008420&name=create" >create</a></li>
  <li><a href="index.html?a=M008446&name=create" >create</a></li>
  <li><a href="index.html?a=M008422&name=delete" >delete</a></li>
  <li><a href="index.html?a=M008436&name=destroy" >destroy</a></li>
  <li><a href="index.html?a=M008434&name=dup" >dup</a></li>
  <li><a href="index.html?a=M008418&name=element_path" >element_path</a></li>
  <li><a href="index.html?a=M008449&name=element_path" >element_path</a></li>
  <li><a href="index.html?a=M008440&name=encode" >encode</a></li>
  <li><a href="index.html?a=M008432&name=eql?" >eql?</a></li>
  <li><a href="index.html?a=M008437&name=exists?" >exists?</a></li>
  <li><a href="index.html?a=M008423&name=exists?" >exists?</a></li>
  <li><a href="index.html?a=M008421&name=find" >find</a></li>
  <li><a href="index.html?a=M008408&name=format" >format</a></li>
  <li><a href="index.html?a=M008407&name=format=" >format=</a></li>
  <li><a href="index.html?a=M008433&name=hash" >hash</a></li>
  <li><a href="index.html?a=M008414&name=headers" >headers</a></li>
  <li><a href="index.html?a=M008428&name=id" >id</a></li>
  <li><a href="index.html?a=M008429&name=id=" >id=</a></li>
  <li><a href="index.html?a=M008448&name=id_from_response" >id_from_response</a></li>
  <li><a href="index.html?a=M008442&name=load" >load</a></li>
  <li><a href="index.html?a=M008447&name=load_attributes_from_response" >load_attributes_from_response</a></li>
  <li><a href="index.html?a=M008424&name=new" >new</a></li>
  <li><a href="index.html?a=M008426&name=new?" >new?</a></li>
  <li><a href="index.html?a=M008427&name=new_record?" >new_record?</a></li>
  <li><a href="index.html?a=M008405&name=password" >password</a></li>
  <li><a href="index.html?a=M008406&name=password=" >password=</a></li>
  <li><a href="index.html?a=M008415&name=prefix" >prefix</a></li>
  <li><a href="index.html?a=M008417&name=prefix=" >prefix=</a></li>
  <li><a href="index.html?a=M008416&name=prefix_source" >prefix_source</a></li>
  <li><a href="index.html?a=M008401&name=proxy" >proxy</a></li>
  <li><a href="index.html?a=M008402&name=proxy=" >proxy=</a></li>
  <li><a href="index.html?a=M008441&name=reload" >reload</a></li>
  <li><a href="index.html?a=M008443&name=respond_to?" >respond_to?</a></li>
  <li><a href="index.html?a=M008435&name=save" >save</a></li>
  <li><a href="index.html?a=M008399&name=site" >site</a></li>
  <li><a href="index.html?a=M008400&name=site=" >site=</a></li>
  <li><a href="index.html?a=M008412&name=ssl_options" >ssl_options</a></li>
  <li><a href="index.html?a=M008411&name=ssl_options=" >ssl_options=</a></li>
  <li><a href="index.html?a=M008410&name=timeout" >timeout</a></li>
  <li><a href="index.html?a=M008409&name=timeout=" >timeout=</a></li>
  <li><a href="index.html?a=M008430&name=to_param" >to_param</a></li>
  <li><a href="index.html?a=M008438&name=to_xml" >to_xml</a></li>
  <li><a href="index.html?a=M008445&name=update" >update</a></li>
  <li><a href="index.html?a=M008403&name=user" >user</a></li>
  <li><a href="index.html?a=M008404&name=user=" >user=</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M008419" class="method">
  <div id="M008419_title" class="title">
    <b>collection_path</b>(prefix_options = {}, query_options = nil)
  </div>
  <div class="description">
  <p>
Gets the collection path for the REST resources. If the
<tt>query_options</tt> parameter is omitted, <a
href="index.html?a=C00001508&name=Rails">Rails</a> will split from the
<tt>prefix_options</tt>.
</p>
<h4>Options</h4>
<ul>
<li><tt>prefix_options</tt> - A hash to add a prefix to the request for nested
URL&#8217;s (e.g., <tt>:account_id =&gt; 19</tt> would yield a URL like
<tt>/accounts/19/purchases.xml</tt>).

</li>
<li><tt>query_options</tt> - A hash to add items to the query string for the
request.

</li>
</ul>
<h4>Examples</h4>
<pre>
  Post.collection_path
  # =&gt; /posts.xml

  Comment.collection_path(:post_id =&gt; 5)
  # =&gt; /posts/5/comments.xml

  Comment.collection_path(:post_id =&gt; 5, :active =&gt; 1)
  # =&gt; /posts/5/comments.xml?active=1

  Comment.collection_path({:post_id =&gt; 5}, {:active =&gt; 1})
  # =&gt; /posts/5/comments.xml?active=1
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008419_source')" id="l_M008419_source">show source</a> ]</p>
  <div id="M008419_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 497</span>
497:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">prefix_options</span> = {}, <span class="ruby-identifier">query_options</span> = <span class="ruby-keyword kw">nil</span>)
498:         <span class="ruby-identifier">prefix_options</span>, <span class="ruby-identifier">query_options</span> = <span class="ruby-identifier">split_options</span>(<span class="ruby-identifier">prefix_options</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">query_options</span>.<span class="ruby-identifier">nil?</span>
499:         <span class="ruby-node">&quot;#{prefix(prefix_options)}#{collection_name}.#{format.extension}#{query_string(query_options)}&quot;</span>
500:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008413" class="method">
  <div id="M008413_title" class="title">
    <b>connection</b>(refresh = false)
  </div>
  <div class="description">
  <p>
An instance of <a
href="index.html?a=C00001429&name=ActiveResource::Connection">ActiveResource::Connection</a>
that is the base \connection to the remote service. The <tt>refresh</tt>
parameter toggles whether or not the \connection is refreshed at every
request or not (defaults to <tt>false</tt>).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008413_source')" id="l_M008413_source">show source</a> ]</p>
  <div id="M008413_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 382</span>
382:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connection</span>(<span class="ruby-identifier">refresh</span> = <span class="ruby-keyword kw">false</span>)
383:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@connection</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Object</span>
384:           <span class="ruby-ivar">@connection</span> = <span class="ruby-constant">Connection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">site</span>, <span class="ruby-identifier">format</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">refresh</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">nil?</span>
385:           <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-identifier">proxy</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy</span>
386:           <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">user</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user</span>
387:           <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">password</span> = <span class="ruby-identifier">password</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">password</span>
388:           <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-identifier">timeout</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">timeout</span>
389:           <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">ssl_options</span> = <span class="ruby-identifier">ssl_options</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ssl_options</span>
390:           <span class="ruby-ivar">@connection</span>
391:         <span class="ruby-keyword kw">else</span>
392:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">connection</span>
393:         <span class="ruby-keyword kw">end</span>
394:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008420" class="method">
  <div id="M008420_title" class="title">
    <b>create</b>(attributes = {})
  </div>
  <div class="description">
  <p>
Creates a new resource instance and makes a request to the remote service
that it be saved, making it equivalent to the following simultaneous calls:
</p>
<pre>
  ryan = Person.new(:first =&gt; 'ryan')
  ryan.save
</pre>
<p>
Returns the newly created resource. If a failure has occurred an exception
will be raised (see <tt>save</tt>). If the resource is invalid and has not
been saved then <tt>valid?</tt> will return <tt>false</tt>, while
<tt>new?</tt> will still return <tt>true</tt>.
</p>
<h4>Examples</h4>
<pre>
  Person.create(:name =&gt; 'Jeremy', :email =&gt; 'myname@nospam.com', :enabled =&gt; true)
  my_person = Person.find(:first)
  my_person.email # =&gt; myname@nospam.com

  dhh = Person.create(:name =&gt; 'David', :email =&gt; 'dhh@nospam.com', :enabled =&gt; true)
  dhh.valid? # =&gt; true
  dhh.new?   # =&gt; false

  # We'll assume that there's a validation that requires the name attribute
  that_guy = Person.create(:name =&gt; '', :email =&gt; 'thatguy@nospam.com', :enabled =&gt; true)
  that_guy.valid? # =&gt; false
  that_guy.new?   # =&gt; true
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008420_source')" id="l_M008420_source">show source</a> ]</p>
  <div id="M008420_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 528</span>
528:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">attributes</span> = {})
529:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>).<span class="ruby-identifier">tap</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">resource</span><span class="ruby-operator">|</span> <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">save</span> }
530:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008422" class="method">
  <div id="M008422_title" class="title">
    <b>delete</b>(id, options = {})
  </div>
  <div class="description">
  <p>
Deletes the resources with the ID in the <tt>id</tt> parameter.
</p>
<h4>Options</h4>
<p>
All options specify \prefix and query parameters.
</p>
<h4>Examples</h4>
<pre>
  Event.delete(2) # sends DELETE /events/2

  Event.create(:name =&gt; 'Free Concert', :location =&gt; 'Community Center')
  my_event = Event.find(:first) # let's assume this is event with ID 7
  Event.delete(my_event.id) # sends DELETE /events/7

  # Let's assume a request to events/5/cancel.xml
  Event.delete(params[:id]) # sends DELETE /events/5
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008422_source')" id="l_M008422_source">show source</a> ]</p>
  <div id="M008422_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 605</span>
605:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span> = {})
606:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">element_path</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>))
607:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008418" class="method">
  <div id="M008418_title" class="title">
    <b>element_path</b>(id, prefix_options = {}, query_options = nil)
  </div>
  <div class="description">
  <p>
Gets the element path for the given ID in <tt>id</tt>. If the
<tt>query_options</tt> parameter is omitted, <a
href="index.html?a=C00001508&name=Rails">Rails</a> will split from the
\prefix options.
</p>
<h4>Options</h4>
<p>
<tt>prefix_options</tt> - A \hash to add a \prefix to the request for
nested URLs (e.g., <tt>:account_id =&gt; 19</tt>
</p>
<pre>
                   would yield a URL like &lt;tt&gt;/accounts/19/purchases.xml&lt;/tt&gt;).
</pre>
<p>
<tt>query_options</tt> - A \hash to add items to the query string for the
request.
</p>
<h4>Examples</h4>
<pre>
  Post.element_path(1)
  # =&gt; /posts/1.xml

  Comment.element_path(1, :post_id =&gt; 5)
  # =&gt; /posts/5/comments/1.xml

  Comment.element_path(1, :post_id =&gt; 5, :active =&gt; 1)
  # =&gt; /posts/5/comments/1.xml?active=1

  Comment.element_path(1, {:post_id =&gt; 5}, {:active =&gt; 1})
  # =&gt; /posts/5/comments/1.xml?active=1
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008418_source')" id="l_M008418_source">show source</a> ]</p>
  <div id="M008418_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 471</span>
471:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">element_path</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">prefix_options</span> = {}, <span class="ruby-identifier">query_options</span> = <span class="ruby-keyword kw">nil</span>)
472:         <span class="ruby-identifier">prefix_options</span>, <span class="ruby-identifier">query_options</span> = <span class="ruby-identifier">split_options</span>(<span class="ruby-identifier">prefix_options</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">query_options</span>.<span class="ruby-identifier">nil?</span>
473:         <span class="ruby-node">&quot;#{prefix(prefix_options)}#{collection_name}/#{id}.#{format.extension}#{query_string(query_options)}&quot;</span>
474:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008423" class="method">
  <div id="M008423_title" class="title">
    <b>exists?</b>(id, options = {})
  </div>
  <div class="description">
  <p>
Asserts the existence of a resource, returning <tt>true</tt> if the
resource is found.
</p>
<h4>Examples</h4>
<pre>
  Note.create(:title =&gt; 'Hello, world.', :body =&gt; 'Nothing more for now...')
  Note.exists?(1) # =&gt; true

  Note.exists(1349) # =&gt; false
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008423_source')" id="l_M008423_source">show source</a> ]</p>
  <div id="M008423_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 616</span>
616:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span> = {})
617:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">id</span>
618:           <span class="ruby-identifier">prefix_options</span>, <span class="ruby-identifier">query_options</span> = <span class="ruby-identifier">split_options</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:params</span>])
619:           <span class="ruby-identifier">path</span> = <span class="ruby-identifier">element_path</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">prefix_options</span>, <span class="ruby-identifier">query_options</span>)
620:           <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">headers</span>)
621:           <span class="ruby-identifier">response</span>.<span class="ruby-identifier">code</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">200</span>
622:         <span class="ruby-keyword kw">end</span>
623:         <span class="ruby-comment cmt"># id &amp;&amp; !find_single(id, options).nil?</span>
624:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>, <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceGone</span>
625:         <span class="ruby-keyword kw">false</span>
626:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008421" class="method">
  <div id="M008421_title" class="title">
    <b>find</b>(*arguments)
  </div>
  <div class="description">
  <p>
Core method for finding resources. Used similarly to Active <a
href="index.html?a=C00001103&name=Record">Record</a>&#8217;s <tt>find</tt>
method.
</p>
<h4>Arguments</h4>
<p>
The first argument is considered to be the scope of the query. That is, how
many resources are returned from the request. It can be one of the
following.
</p>
<ul>
<li><tt>:one</tt> - Returns a single resource.

</li>
<li><tt>:first</tt> - Returns the first resource found.

</li>
<li><tt>:last</tt> - Returns the last resource found.

</li>
<li><tt>:all</tt> - Returns every resource that matches the request.

</li>
</ul>
<h4>Options</h4>
<ul>
<li><tt>:from</tt> - Sets the path or custom method that resources will be
fetched from.

</li>
<li><tt>:params</tt> - Sets query and \prefix (nested URL) parameters.

</li>
</ul>
<h4>Examples</h4>
<pre>
  Person.find(1)
  # =&gt; GET /people/1.xml

  Person.find(:all)
  # =&gt; GET /people.xml

  Person.find(:all, :params =&gt; { :title =&gt; &quot;CEO&quot; })
  # =&gt; GET /people.xml?title=CEO

  Person.find(:first, :from =&gt; :managers)
  # =&gt; GET /people/managers.xml

  Person.find(:last, :from =&gt; :managers)
  # =&gt; GET /people/managers.xml

  Person.find(:all, :from =&gt; &quot;/companies/1/people.xml&quot;)
  # =&gt; GET /companies/1/people.xml

  Person.find(:one, :from =&gt; :leader)
  # =&gt; GET /people/leader.xml

  Person.find(:all, :from =&gt; :developers, :params =&gt; { :language =&gt; 'ruby' })
  # =&gt; GET /people/developers.xml?language=ruby

  Person.find(:one, :from =&gt; &quot;/companies/1/manager.xml&quot;)
  # =&gt; GET /companies/1/manager.xml

  StreetAddress.find(1, :params =&gt; { :person_id =&gt; 1 })
  # =&gt; GET /people/1/street_addresses/1.xml
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008421_source')" id="l_M008421_source">show source</a> ]</p>
  <div id="M008421_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 578</span>
578:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>)
579:         <span class="ruby-identifier">scope</span>   = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>)
580:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>) <span class="ruby-operator">||</span> {}
581: 
582:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">scope</span>
583:           <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:all</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">find_every</span>(<span class="ruby-identifier">options</span>)
584:           <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:first</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">find_every</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">first</span>
585:           <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:last</span>  <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">find_every</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">last</span>
586:           <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:one</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">find_one</span>(<span class="ruby-identifier">options</span>)
587:           <span class="ruby-keyword kw">else</span>             <span class="ruby-identifier">find_single</span>(<span class="ruby-identifier">scope</span>, <span class="ruby-identifier">options</span>)
588:         <span class="ruby-keyword kw">end</span>
589:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008408" class="method">
  <div id="M008408_title" class="title">
    <b>format</b>()
  </div>
  <div class="description">
  <p>
Returns the current format, default is <a
href="index.html?a=C00001408&name=ActiveResource::Formats::XmlFormat">ActiveResource::Formats::XmlFormat</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008408_source')" id="l_M008408_source">show source</a> ]</p>
  <div id="M008408_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 335</span>
335:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format</span>
336:         <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-identifier">:format</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Formats</span>[<span class="ruby-identifier">:xml</span>]
337:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008407" class="method">
  <div id="M008407_title" class="title">
    <b>format=</b>(mime_type_reference_or_format)
  </div>
  <div class="description">
  <p>
Sets the format that attributes are sent and received in from a mime type
reference:
</p>
<pre>
  Person.format = :json
  Person.find(1) # =&gt; GET /people/1.json

  Person.format = ActiveResource::Formats::XmlFormat
  Person.find(1) # =&gt; GET /people/1.xml
</pre>
<p>
<a href="index.html?a=C00000192&name=Default">Default</a> format is
<tt>:xml</tt>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008407_source')" id="l_M008407_source">show source</a> ]</p>
  <div id="M008407_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 326</span>
326:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format=</span>(<span class="ruby-identifier">mime_type_reference_or_format</span>)
327:         <span class="ruby-identifier">format</span> = <span class="ruby-identifier">mime_type_reference_or_format</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>) <span class="ruby-operator">?</span>
328:           <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Formats</span>[<span class="ruby-identifier">mime_type_reference_or_format</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">mime_type_reference_or_format</span>
329: 
330:         <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-identifier">:format</span>, <span class="ruby-identifier">format</span>)
331:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">format</span> = <span class="ruby-identifier">format</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">site</span>
332:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008414" class="method">
  <div id="M008414_title" class="title">
    <b>headers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008414_source')" id="l_M008414_source">show source</a> ]</p>
  <div id="M008414_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 396</span>
396:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headers</span>
397:         <span class="ruby-ivar">@headers</span> <span class="ruby-operator">||=</span> {}
398:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008424" class="method">
  <div id="M008424_title" class="title">
    <b>new</b>(attributes = {})
  </div>
  <div class="description">
  <p>
Constructor method for \new resources; the optional <tt>attributes</tt>
parameter takes a \hash of attributes for the \new resource.
</p>
<h4>Examples</h4>
<pre>
  my_course = Course.new
  my_course.name = &quot;Western Civilization&quot;
  my_course.lecturer = &quot;Don Trotter&quot;
  my_course.save

  my_other_course = Course.new(:name =&gt; &quot;Philosophy: Reason and Being&quot;, :lecturer =&gt; &quot;Ralph Cling&quot;)
  my_other_course.save
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008424_source')" id="l_M008424_source">show source</a> ]</p>
  <div id="M008424_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 721</span>
721:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">attributes</span> = {})
722:       <span class="ruby-ivar">@attributes</span>     = {}
723:       <span class="ruby-ivar">@prefix_options</span> = {}
724:       <span class="ruby-identifier">load</span>(<span class="ruby-identifier">attributes</span>)
725:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008405" class="method">
  <div id="M008405_title" class="title">
    <b>password</b>()
  </div>
  <div class="description">
  <p>
Gets the \password for REST HTTP authentication.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008405_source')" id="l_M008405_source">show source</a> ]</p>
  <div id="M008405_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 302</span>
302:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password</span>
303:         <span class="ruby-comment cmt"># Not using superclass_delegating_reader. See +site+ for explanation</span>
304:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@password</span>)
305:           <span class="ruby-ivar">@password</span>
306:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">password</span>
307:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">password</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">freeze</span>
308:         <span class="ruby-keyword kw">end</span>
309:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008406" class="method">
  <div id="M008406_title" class="title">
    <b>password=</b>(password)
  </div>
  <div class="description">
  <p>
Sets the \password for REST HTTP authentication.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008406_source')" id="l_M008406_source">show source</a> ]</p>
  <div id="M008406_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 312</span>
312:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password=</span>(<span class="ruby-identifier">password</span>)
313:         <span class="ruby-ivar">@connection</span> = <span class="ruby-keyword kw">nil</span>
314:         <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span>
315:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008415" class="method">
  <div id="M008415_title" class="title">
    <b>prefix</b>(options={})
  </div>
  <div class="description">
  <p>
Gets the \prefix for a resource&#8217;s nested URL (e.g.,
<tt>prefix/collectionname/1.xml</tt>) This method is regenerated at runtime
based on what the \prefix is set to.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008415_source')" id="l_M008415_source">show source</a> ]</p>
  <div id="M008415_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 409</span>
409:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefix</span>(<span class="ruby-identifier">options</span>={})
410:         <span class="ruby-identifier">default</span> = <span class="ruby-identifier">site</span>.<span class="ruby-identifier">path</span>
411:         <span class="ruby-identifier">default</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'/'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">default</span>[<span class="ruby-value">-1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'/'</span>
412:         <span class="ruby-comment cmt"># generate the actual method based on the current site path</span>
413:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">default</span>
414:         <span class="ruby-identifier">prefix</span>(<span class="ruby-identifier">options</span>)
415:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008417" class="method">
  <div id="M008417_title" class="title">
    <b>prefix=</b>(value = '/')
  </div>
  <div class="description">
  <p>
Sets the \prefix for a resource&#8217;s nested URL (e.g.,
<tt>prefix/collectionname/1.xml</tt>). <a
href="index.html?a=C00000192&name=Default">Default</a> value is
<tt>site.path</tt>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008417_source')" id="l_M008417_source">show source</a> ]</p>
  <div id="M008417_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 426</span>
426:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefix=</span>(<span class="ruby-identifier">value</span> = <span class="ruby-value str">'/'</span>)
427:         <span class="ruby-comment cmt"># Replace :placeholders with '#{embedded options[:lookups]}'</span>
428:         <span class="ruby-identifier">prefix_call</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/:\w+/</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;\#{options[#{key}]}&quot;</span> }
429: 
430:         <span class="ruby-comment cmt"># Clear prefix parameters in case they have been cached</span>
431:         <span class="ruby-ivar">@prefix_parameters</span> = <span class="ruby-keyword kw">nil</span>
432: 
433:         <span class="ruby-comment cmt"># Redefine the new methods.</span>
434:         <span class="ruby-identifier">code</span> = <span class="ruby-value str">&quot;def prefix_source() \&quot;\#{value}\&quot; end\ndef prefix(options={}) \&quot;\#{prefix_call}\&quot; end\n&quot;</span>
435:         <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-identifier">instance_eval</span> <span class="ruby-identifier">code</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span> }
436:       <span class="ruby-keyword kw">rescue</span>
437:         <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Couldn't set prefix: #{$!}\n  #{code}&quot;</span>
438:         <span class="ruby-identifier">raise</span>
439:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008416" class="method">
  <div id="M008416_title" class="title">
    <b>prefix_source</b>()
  </div>
  <div class="description">
  <p>
An attribute reader for the source string for the resource path \prefix.
This method is regenerated at runtime based on what the \prefix is set to.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008416_source')" id="l_M008416_source">show source</a> ]</p>
  <div id="M008416_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 419</span>
419:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefix_source</span>
420:         <span class="ruby-identifier">prefix</span> <span class="ruby-comment cmt"># generate #prefix and #prefix_source methods first</span>
421:         <span class="ruby-identifier">prefix_source</span>
422:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008401" class="method">
  <div id="M008401_title" class="title">
    <b>proxy</b>()
  </div>
  <div class="description">
  <p>
Gets the \proxy variable if a proxy is required
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008401_source')" id="l_M008401_source">show source</a> ]</p>
  <div id="M008401_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 270</span>
270:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy</span>
271:         <span class="ruby-comment cmt"># Not using superclass_delegating_reader. See +site+ for explanation</span>
272:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@proxy</span>)
273:           <span class="ruby-ivar">@proxy</span>
274:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">proxy</span>
275:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">freeze</span>
276:         <span class="ruby-keyword kw">end</span>
277:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008402" class="method">
  <div id="M008402_title" class="title">
    <b>proxy=</b>(proxy)
  </div>
  <div class="description">
  <p>
Sets the URI of the http proxy to the value in the <tt>proxy</tt> argument.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008402_source')" id="l_M008402_source">show source</a> ]</p>
  <div id="M008402_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 280</span>
280:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy=</span>(<span class="ruby-identifier">proxy</span>)
281:         <span class="ruby-ivar">@connection</span> = <span class="ruby-keyword kw">nil</span>
282:         <span class="ruby-ivar">@proxy</span> = <span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">create_proxy_uri_from</span>(<span class="ruby-identifier">proxy</span>)
283:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008399" class="method">
  <div id="M008399_title" class="title">
    <b>site</b>()
  </div>
  <div class="description">
  <p>
Gets the URI of the REST resources to map for this class. The site variable
is required for Active Resource&#8217;s mapping to work.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008399_source')" id="l_M008399_source">show source</a> ]</p>
  <div id="M008399_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 233</span>
233:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">site</span>
234:         <span class="ruby-comment cmt"># Not using superclass_delegating_reader because don't want subclasses to modify superclass instance</span>
235:         <span class="ruby-comment cmt">#</span>
236:         <span class="ruby-comment cmt"># With superclass_delegating_reader</span>
237:         <span class="ruby-comment cmt">#</span>
238:         <span class="ruby-comment cmt">#   Parent.site = 'http://anonymous@test.com'</span>
239:         <span class="ruby-comment cmt">#   Subclass.site # =&gt; 'http://anonymous@test.com'</span>
240:         <span class="ruby-comment cmt">#   Subclass.site.user = 'david'</span>
241:         <span class="ruby-comment cmt">#   Parent.site # =&gt; 'http://david@test.com'</span>
242:         <span class="ruby-comment cmt">#</span>
243:         <span class="ruby-comment cmt"># Without superclass_delegating_reader (expected behaviour)</span>
244:         <span class="ruby-comment cmt">#</span>
245:         <span class="ruby-comment cmt">#   Parent.site = 'http://anonymous@test.com'</span>
246:         <span class="ruby-comment cmt">#   Subclass.site # =&gt; 'http://anonymous@test.com'</span>
247:         <span class="ruby-comment cmt">#   Subclass.site.user = 'david' # =&gt; TypeError: can't modify frozen object</span>
248:         <span class="ruby-comment cmt">#</span>
249:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@site</span>)
250:           <span class="ruby-ivar">@site</span>
251:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">site</span>
252:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">freeze</span>
253:         <span class="ruby-keyword kw">end</span>
254:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008400" class="method">
  <div id="M008400_title" class="title">
    <b>site=</b>(site)
  </div>
  <div class="description">
  <p>
Sets the URI of the REST resources to map for this class to the value in
the <tt>site</tt> argument. The site variable is required for Active
Resource&#8217;s mapping to work.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008400_source')" id="l_M008400_source">show source</a> ]</p>
  <div id="M008400_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 258</span>
258:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">site=</span>(<span class="ruby-identifier">site</span>)
259:         <span class="ruby-ivar">@connection</span> = <span class="ruby-keyword kw">nil</span>
260:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">site</span>.<span class="ruby-identifier">nil?</span>
261:           <span class="ruby-ivar">@site</span> = <span class="ruby-keyword kw">nil</span>
262:         <span class="ruby-keyword kw">else</span>
263:           <span class="ruby-ivar">@site</span> = <span class="ruby-identifier">create_site_uri_from</span>(<span class="ruby-identifier">site</span>)
264:           <span class="ruby-ivar">@user</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-ivar">@site</span>.<span class="ruby-identifier">user</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@site</span>.<span class="ruby-identifier">user</span>
265:           <span class="ruby-ivar">@password</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-ivar">@site</span>.<span class="ruby-identifier">password</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@site</span>.<span class="ruby-identifier">password</span>
266:         <span class="ruby-keyword kw">end</span>
267:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008412" class="method">
  <div id="M008412_title" class="title">
    <b>ssl_options</b>()
  </div>
  <div class="description">
  <p>
Returns the SSL options hash.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008412_source')" id="l_M008412_source">show source</a> ]</p>
  <div id="M008412_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 371</span>
371:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ssl_options</span>
372:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@ssl_options</span>)
373:           <span class="ruby-ivar">@ssl_options</span>
374:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">ssl_options</span>
375:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">ssl_options</span>
376:         <span class="ruby-keyword kw">end</span>
377:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008411" class="method">
  <div id="M008411_title" class="title">
    <b>ssl_options=</b>(opts={})
  </div>
  <div class="description">
  <p>
Options that will get applied to an SSL connection.
</p>
<ul>
<li><tt>:key</tt> - An OpenSSL::PKey::RSA or OpenSSL::PKey::DSA object.

</li>
<li><tt>:cert</tt> - An OpenSSL::X509::Certificate object as client certificate

</li>
<li><tt>:ca_file</tt> - Path to a CA certification file in PEM format. The file
can contrain several CA certificates.

</li>
<li><tt>:ca_path</tt> - Path of a CA certification directory containing
certifications in PEM format.

</li>
<li><tt>:verify_mode</tt> - Flags for server the certification verification at
begining of SSL/TLS session. (OpenSSL::SSL::VERIFY_NONE or
OpenSSL::SSL::VERIFY_PEER is acceptable)

</li>
<li><tt>:verify_callback</tt> - The verify callback for the server
certification verification.

</li>
<li><tt>:verify_depth</tt> - The maximum depth for the certificate chain
verification.

</li>
<li><tt>:cert_store</tt> - OpenSSL::X509::Store to verify peer certificate.

</li>
<li><tt>:ssl_timeout</tt> -The SSL timeout in seconds.

</li>
</ul>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008411_source')" id="l_M008411_source">show source</a> ]</p>
  <div id="M008411_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 365</span>
365:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ssl_options=</span>(<span class="ruby-identifier">opts</span>={})
366:         <span class="ruby-ivar">@connection</span>   = <span class="ruby-keyword kw">nil</span>
367:         <span class="ruby-ivar">@ssl_options</span>  = <span class="ruby-identifier">opts</span>
368:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008410" class="method">
  <div id="M008410_title" class="title">
    <b>timeout</b>()
  </div>
  <div class="description">
  <p>
Gets the number of seconds after which requests to the REST API should time
out.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008410_source')" id="l_M008410_source">show source</a> ]</p>
  <div id="M008410_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 346</span>
346:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">timeout</span>
347:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@timeout</span>)
348:           <span class="ruby-ivar">@timeout</span>
349:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">timeout</span>
350:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">timeout</span>
351:         <span class="ruby-keyword kw">end</span>
352:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008409" class="method">
  <div id="M008409_title" class="title">
    <b>timeout=</b>(timeout)
  </div>
  <div class="description">
  <p>
Sets the number of seconds after which requests to the REST API should time
out.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008409_source')" id="l_M008409_source">show source</a> ]</p>
  <div id="M008409_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 340</span>
340:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">timeout=</span>(<span class="ruby-identifier">timeout</span>)
341:         <span class="ruby-ivar">@connection</span> = <span class="ruby-keyword kw">nil</span>
342:         <span class="ruby-ivar">@timeout</span> = <span class="ruby-identifier">timeout</span>
343:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008403" class="method">
  <div id="M008403_title" class="title">
    <b>user</b>()
  </div>
  <div class="description">
  <p>
Gets the \user for REST HTTP authentication.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008403_source')" id="l_M008403_source">show source</a> ]</p>
  <div id="M008403_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 286</span>
286:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user</span>
287:         <span class="ruby-comment cmt"># Not using superclass_delegating_reader. See +site+ for explanation</span>
288:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@user</span>)
289:           <span class="ruby-ivar">@user</span>
290:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">superclass</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">user</span>
291:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">user</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">freeze</span>
292:         <span class="ruby-keyword kw">end</span>
293:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008404" class="method">
  <div id="M008404_title" class="title">
    <b>user=</b>(user)
  </div>
  <div class="description">
  <p>
Sets the \user for REST HTTP authentication.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008404_source')" id="l_M008404_source">show source</a> ]</p>
  <div id="M008404_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 296</span>
296:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user=</span>(<span class="ruby-identifier">user</span>)
297:         <span class="ruby-ivar">@connection</span> = <span class="ruby-keyword kw">nil</span>
298:         <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">user</span>
299:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M008431" class="method">
  <div id="M008431_title" class="title">
    <b>==</b>(other)
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001790&name=Test">Test</a> for equality. Resource
are equal if and only if <tt>other</tt> is the same object or is an
instance of the same class, is not <tt>new?</tt>, and has the same
<tt>id</tt>.
</p>
<h4>Examples</h4>
<pre>
  ryan = Person.create(:name =&gt; 'Ryan')
  jamie = Person.create(:name =&gt; 'Jamie')

  ryan == jamie
  # =&gt; false (Different name attribute and id)

  ryan_again = Person.new(:name =&gt; 'Ryan')
  ryan == ryan_again
  # =&gt; false (ryan_again is new?)

  ryans_clone = Person.create(:name =&gt; 'Ryan')
  ryan == ryans_clone
  # =&gt; false (Different id attributes)

  ryans_twin = Person.find(ryan.id)
  ryan == ryans_twin
  # =&gt; true
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008431_source')" id="l_M008431_source">show source</a> ]</p>
  <div id="M008431_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 817</span>
817:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
818:       <span class="ruby-identifier">other</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">other</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">prefix_options</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">prefix_options</span>)
819:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008439" class="method">
  <div id="M008439_title" class="title">
    <b>as_json</b>(options = nil)
  </div>
  <div class="description">
  <p>
Coerces to a hash for JSON encoding.
</p>
<h4>Options</h4>
<p>
The <tt>options</tt> are passed to the <tt>to_json</tt> method on each
attribute, so the same options as the <tt>to_json</tt> methods in Active
Support.
</p>
<ul>
<li><tt>:only</tt> - Only include the specified attribute or list of attributes
in the serialized output. Attribute names must be specified as strings.

</li>
<li><tt>:except</tt> - Do not include the specified attribute or list of
attributes in the serialized output. Attribute names must be specified as
strings.

</li>
</ul>
<h4>Examples</h4>
<pre>
  person = Person.new(:first_name =&gt; &quot;Jim&quot;, :last_name =&gt; &quot;Smith&quot;)
  person.to_json
  # =&gt; {&quot;first_name&quot;: &quot;Jim&quot;, &quot;last_name&quot;: &quot;Smith&quot;}

  person.to_json(:only =&gt; [&quot;first_name&quot;])
  # =&gt; {&quot;first_name&quot;: &quot;Jim&quot;}

  person.to_json(:except =&gt; [&quot;first_name&quot;])
  # =&gt; {&quot;last_name&quot;: &quot;Smith&quot;}
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008439_source')" id="l_M008439_source">show source</a> ]</p>
  <div id="M008439_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 964</span>
964:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">as_json</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
965:       <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">as_json</span>(<span class="ruby-identifier">options</span>)
966:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008425" class="method">
  <div id="M008425_title" class="title">
    <b>clone</b>()
  </div>
  <div class="description">
  <p>
Returns a \clone of the resource that hasn&#8217;t been assigned an
<tt>id</tt> yet and is treated as a \new resource.
</p>
<pre>
  ryan = Person.find(1)
  not_ryan = ryan.clone
  not_ryan.new?  # =&gt; true
</pre>
<p>
Any active resource member attributes will NOT be cloned, though all other
attributes are. This is to prevent the conflict between any
<tt>prefix_options</tt> that refer to the original parent resource and the
newly cloned parent resource that does not exist.
</p>
<pre>
  ryan = Person.find(1)
  ryan.address = StreetAddress.find(1, :person_id =&gt; ryan.id)
  ryan.hash = {:not =&gt; &quot;an ARes instance&quot;}

  not_ryan = ryan.clone
  not_ryan.new?            # =&gt; true
  not_ryan.address         # =&gt; NoMethodError
  not_ryan.hash            # =&gt; {:not =&gt; &quot;an ARes instance&quot;}
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008425_source')" id="l_M008425_source">show source</a> ]</p>
  <div id="M008425_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 747</span>
747:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
748:       <span class="ruby-comment cmt"># Clone all attributes except the pk and any nested ARes</span>
749:       <span class="ruby-identifier">cloned</span> = <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)}.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrs</span>, (<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)<span class="ruby-operator">|</span>
750:         <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">clone</span>
751:         <span class="ruby-identifier">attrs</span>
752:       <span class="ruby-keyword kw">end</span>
753:       <span class="ruby-comment cmt"># Form the new resource - bypass initialize of resource with 'new' as that will call 'load' which</span>
754:       <span class="ruby-comment cmt"># attempts to convert hashes into member objects and arrays into collections of objects.  We want</span>
755:       <span class="ruby-comment cmt"># the raw objects to be cloned so we bypass load by directly setting the attributes hash.</span>
756:       <span class="ruby-identifier">resource</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>({})
757:       <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">prefix_options</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">prefix_options</span>
758:       <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">:instance_variable_set</span>, <span class="ruby-value str">'@attributes'</span>, <span class="ruby-identifier">cloned</span>
759:       <span class="ruby-identifier">resource</span>
760:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008436" class="method">
  <div id="M008436_title" class="title">
    <b>destroy</b>()
  </div>
  <div class="description">
  <p>
Deletes the resource from the remote service.
</p>
<h4>Examples</h4>
<pre>
  my_id = 3
  my_person = Person.find(my_id)
  my_person.destroy
  Person.find(my_id) # 404 (Resource Not Found)

  new_person = Person.create(:name =&gt; 'James')
  new_id = new_person.id # =&gt; 7
  new_person.destroy
  Person.find(new_id) # 404 (Resource Not Found)
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008436_source')" id="l_M008436_source">show source</a> ]</p>
  <div id="M008436_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 880</span>
880:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destroy</span>
881:       <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">element_path</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">headers</span>)
882:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008434" class="method">
  <div id="M008434_title" class="title">
    <b>dup</b>()
  </div>
  <div class="description">
  <p>
Duplicate the current resource without saving it.
</p>
<h4>Examples</h4>
<pre>
  my_invoice = Invoice.create(:customer =&gt; 'That Company')
  next_invoice = my_invoice.dup
  next_invoice.new? # =&gt; true

  next_invoice.save
  next_invoice == my_invoice # =&gt; false (different id attributes)

  my_invoice.customer   # =&gt; That Company
  next_invoice.customer # =&gt; That Company
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008434_source')" id="l_M008434_source">show source</a> ]</p>
  <div id="M008434_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 844</span>
844:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dup</span>
845:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">resource</span><span class="ruby-operator">|</span>
846:         <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">attributes</span>     = <span class="ruby-ivar">@attributes</span>
847:         <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">prefix_options</span> = <span class="ruby-ivar">@prefix_options</span>
848:       <span class="ruby-keyword kw">end</span>
849:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008440" class="method">
  <div id="M008440_title" class="title">
    <b>encode</b>(options={})
  </div>
  <div class="description">
  <p>
Returns the serialized string representation of the resource in the
configured serialization format specified in <a
href="index.html?a=M008408&name=ActiveResource::Base.format">ActiveResource::Base.format</a>.
The options applicable depend on the configured encoding format.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008440_source')" id="l_M008440_source">show source</a> ]</p>
  <div id="M008440_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 971</span>
971:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encode</span>(<span class="ruby-identifier">options</span>={})
972:       <span class="ruby-keyword kw">case</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">format</span>
973:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Formats</span>[<span class="ruby-identifier">:xml</span>]
974:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">attributes</span>, {<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">element_name</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
975:         <span class="ruby-keyword kw">else</span>
976:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">attributes</span>, <span class="ruby-identifier">options</span>)
977:       <span class="ruby-keyword kw">end</span>
978:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008432" class="method">
  <div id="M008432_title" class="title">
    <b>eql?</b>(other)
  </div>
  <div class="description">
  <p>
Tests for equality (delegates to ==).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008432_source')" id="l_M008432_source">show source</a> ]</p>
  <div id="M008432_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 822</span>
822:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">other</span>)
823:       <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
824:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008437" class="method">
  <div id="M008437_title" class="title">
    <b>exists?</b>()
  </div>
  <div class="description">
  <p>
Evaluates to <tt>true</tt> if this resource is not <tt>new?</tt> and is
found on the remote service. Using this method, you can check for resources
that may have been deleted between the object&#8217;s instantiation and
actions on it.
</p>
<h4>Examples</h4>
<pre>
  Person.create(:name =&gt; 'Theodore Roosevelt')
  that_guy = Person.find(:first)
  that_guy.exists? # =&gt; true

  that_lady = Person.new(:name =&gt; 'Paul Bean')
  that_lady.exists? # =&gt; false

  guys_id = that_guy.id
  Person.delete(guys_id)
  that_guy.exists? # =&gt; false
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008437_source')" id="l_M008437_source">show source</a> ]</p>
  <div id="M008437_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 900</span>
900:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>
901:       <span class="ruby-operator">!</span><span class="ruby-identifier">new?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">to_param</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">prefix_options</span>)
902:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008433" class="method">
  <div id="M008433_title" class="title">
    <b>hash</b>()
  </div>
  <div class="description">
  <p>
Delegates to id in order to allow two resources of the same type and \id to
work with something like:
</p>
<pre>
  [Person.find(1), Person.find(2)] &amp; [Person.find(1), Person.find(4)] # =&gt; [Person.find(1)]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008433_source')" id="l_M008433_source">show source</a> ]</p>
  <div id="M008433_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 828</span>
828:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
829:       <span class="ruby-identifier">id</span>.<span class="ruby-identifier">hash</span>
830:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008428" class="method">
  <div id="M008428_title" class="title">
    <b>id</b>()
  </div>
  <div class="description">
  <p>
Gets the <tt>\id</tt> attribute of the resource.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008428_source')" id="l_M008428_source">show source</a> ]</p>
  <div id="M008428_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 781</span>
781:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id</span>
782:       <span class="ruby-identifier">attributes</span>[<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>]
783:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008429" class="method">
  <div id="M008429_title" class="title">
    <b>id=</b>(id)
  </div>
  <div class="description">
  <p>
Sets the <tt>\id</tt> attribute of the resource.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008429_source')" id="l_M008429_source">show source</a> ]</p>
  <div id="M008429_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 786</span>
786:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id=</span>(<span class="ruby-identifier">id</span>)
787:       <span class="ruby-identifier">attributes</span>[<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>] = <span class="ruby-identifier">id</span>
788:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008442" class="method">
  <div id="M008442_title" class="title">
    <b>load</b>(attributes)
  </div>
  <div class="description">
  <p>
A method to manually load attributes from a \hash. Recursively loads
collections of resources. This method is called in <tt>initialize</tt> and
<tt>create</tt> when a \hash of attributes is provided.
</p>
<h4>Examples</h4>
<pre>
  my_attrs = {:name =&gt; 'J&amp;J Textiles', :industry =&gt; 'Cloth and textiles'}
  my_attrs = {:name =&gt; 'Marty', :colors =&gt; [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]}

  the_supplier = Supplier.find(:first)
  the_supplier.name # =&gt; 'J&amp;M Textiles'
  the_supplier.load(my_attrs)
  the_supplier.name('J&amp;J Textiles')

  # These two calls are the same as Supplier.new(my_attrs)
  my_supplier = Supplier.new
  my_supplier.load(my_attrs)

  # These three calls are the same as Supplier.create(my_attrs)
  your_supplier = Supplier.new
  your_supplier.load(my_attrs)
  your_supplier.save
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008442_source')" id="l_M008442_source">show source</a> ]</p>
  <div id="M008442_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1016</span>
1016:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load</span>(<span class="ruby-identifier">attributes</span>)
1017:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;expected an attributes Hash, got #{attributes.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
1018:       <span class="ruby-ivar">@prefix_options</span>, <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">split_options</span>(<span class="ruby-identifier">attributes</span>)
1019:       <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
1020:         <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>] =
1021:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">value</span>
1022:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
1023:               <span class="ruby-identifier">resource</span> = <span class="ruby-identifier">find_or_create_resource_for_collection</span>(<span class="ruby-identifier">key</span>)
1024:               <span class="ruby-identifier">value</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrs</span><span class="ruby-operator">|</span>
1025:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Numeric</span>)
1026:                   <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">duplicable?</span> <span class="ruby-value">? </span><span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">dup</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">attrs</span>
1027:                 <span class="ruby-keyword kw">else</span>
1028:                   <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attrs</span>)
1029:                 <span class="ruby-keyword kw">end</span>
1030:               <span class="ruby-keyword kw">end</span>
1031:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
1032:               <span class="ruby-identifier">resource</span> = <span class="ruby-identifier">find_or_create_resource_for</span>(<span class="ruby-identifier">key</span>)
1033:               <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>)
1034:             <span class="ruby-keyword kw">else</span>
1035:               <span class="ruby-identifier">value</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">value</span>
1036:           <span class="ruby-keyword kw">end</span>
1037:       <span class="ruby-keyword kw">end</span>
1038:       <span class="ruby-keyword kw">self</span>
1039:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008426" class="method">
  <div id="M008426_title" class="title">
    <b>new?</b>()
  </div>
  <div class="description">
  <p>
A method to determine if the resource a \new object (i.e., it has not been
POSTed to the remote service yet).
</p>
<h4>Examples</h4>
<pre>
  not_new = Computer.create(:brand =&gt; 'Apple', :make =&gt; 'MacBook', :vendor =&gt; 'MacMall')
  not_new.new? # =&gt; false

  is_new = Computer.new(:brand =&gt; 'IBM', :make =&gt; 'Thinkpad', :vendor =&gt; 'IBM')
  is_new.new? # =&gt; true

  is_new.save
  is_new.new? # =&gt; false
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008427&name=new_record?">new_record?</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008426_source')" id="l_M008426_source">show source</a> ]</p>
  <div id="M008426_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 775</span>
775:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new?</span>
776:       <span class="ruby-identifier">id</span>.<span class="ruby-identifier">nil?</span>
777:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008427" class="method">
  <div id="M008427_title" class="title">
    <b>new_record?</b>()
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008426&name=new?">new?</a>
</p>
  </div>
</div>
<div id="M008441" class="method">
  <div id="M008441_title" class="title">
    <b>reload</b>()
  </div>
  <div class="description">
  <p>
A method to \reload the attributes of this object from the remote web
service.
</p>
<h4>Examples</h4>
<pre>
  my_branch = Branch.find(:first)
  my_branch.name # =&gt; &quot;Wislon Raod&quot;

  # Another client fixes the typo...

  my_branch.name # =&gt; &quot;Wislon Raod&quot;
  my_branch.reload
  my_branch.name # =&gt; &quot;Wilson Road&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008441_source')" id="l_M008441_source">show source</a> ]</p>
  <div id="M008441_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 991</span>
991:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>
992:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">to_param</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@prefix_options</span>).<span class="ruby-identifier">attributes</span>)
993:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008443" class="method">
  <div id="M008443_title" class="title">
    <b>respond_to?</b>(method, include_priv = false)
  </div>
  <div class="description">
  <p>
A method to determine if an object responds to a message (e.g., a method
call). In Active Resource, a <a
href="index.html?a=C00000512&name=Person">Person</a> object with a
<tt>name</tt> attribute can answer <tt>true</tt> to
<tt>my_person.respond_to?(:name)</tt>,
<tt>my_person.respond_to?(:name=)</tt>, and
<tt>my_person.respond_to?(:name?)</tt>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008443_source')" id="l_M008443_source">show source</a> ]</p>
  <div id="M008443_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1047</span>
1047:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_priv</span> = <span class="ruby-keyword kw">false</span>)
1048:       <span class="ruby-identifier">method_name</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>
1049:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span>
1050:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">super</span>
1051:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">method_name</span>)
1052:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
1053:       <span class="ruby-keyword kw">elsif</span> [<span class="ruby-value str">'?'</span>,<span class="ruby-value str">'='</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method_name</span>.<span class="ruby-identifier">last</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">method_name</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">-1</span>))
1054:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
1055:       <span class="ruby-keyword kw">end</span>
1056:       <span class="ruby-comment cmt"># super must be called at the end of the method, because the inherited respond_to?</span>
1057:       <span class="ruby-comment cmt"># would return true for generated readers, even if the attribute wasn't present</span>
1058:       <span class="ruby-keyword kw">super</span>
1059:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008435" class="method">
  <div id="M008435_title" class="title">
    <b>save</b>()
  </div>
  <div class="description">
  <p>
A method to \save (<tt>POST</tt>) or \update (<tt>PUT</tt>) a resource. It
delegates to <tt>create</tt> if a \new object, <tt>update</tt> if it is
existing. If the response to the \save includes a body, it will be assumed
that this body is XML for the final object as it looked after the \save
(which would include attributes like <tt>created_at</tt> that weren&#8217;t
part of the original submit).
</p>
<h4>Examples</h4>
<pre>
  my_company = Company.new(:name =&gt; 'RoleModel Software', :owner =&gt; 'Ken Auer', :size =&gt; 2)
  my_company.new? # =&gt; true
  my_company.save # sends POST /companies/ (create)

  my_company.new? # =&gt; false
  my_company.size = 10
  my_company.save # sends PUT /companies/1 (update)
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008435_source')" id="l_M008435_source">show source</a> ]</p>
  <div id="M008435_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 864</span>
864:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save</span>
865:       <span class="ruby-identifier">new?</span> <span class="ruby-value">? </span><span class="ruby-identifier">create</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">update</span>
866:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008430" class="method">
  <div id="M008430_title" class="title">
    <b>to_param</b>()
  </div>
  <div class="description">
  <p>
Allows Active Resource objects to be used as parameters in Action Pack URL
generation.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008430_source')" id="l_M008430_source">show source</a> ]</p>
  <div id="M008430_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 791</span>
791:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
792:       <span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_s</span>
793:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008438" class="method">
  <div id="M008438_title" class="title">
    <b>to_xml</b>(options={})
  </div>
  <div class="description">
  <p>
Converts the resource to an XML string representation.
</p>
<h4>Options</h4>
<p>
The <tt>options</tt> parameter is handed off to the <tt><a
href="index.html?a=M008438&name=to_xml">to_xml</a></tt> method on each
attribute, so it has the same options as the <tt><a
href="index.html?a=M008438&name=to_xml">to_xml</a></tt> methods in Active
Support.
</p>
<ul>
<li><tt>:indent</tt> - Set the indent level for the XML output (default is
+2+).

</li>
<li><tt>:dasherize</tt> - Boolean option to determine whether or not element
names should replace underscores with dashes. <a
href="index.html?a=C00000192&name=Default">Default</a> is <tt>true</tt>.
The default can be set to <tt>false</tt> by setting the module attribute
<tt>ActiveSupport.dasherize_xml = false</tt> in an initializer. Because
save uses this method, and there are no options on save, then you will have
to set the default if you don&#8217;t want underscores in element names to
become dashes when the resource is saved. This is important when
integrating with non-<a href="index.html?a=C00001508&name=Rails">Rails</a>
applications.

</li>
<li><tt>:camelize</tt> - Boolean option to determine whether or not element
names should be converted to camel case, e.g some_name to SomeName. <a
href="index.html?a=C00000192&name=Default">Default</a> is <tt>false</tt>.
Like <tt>:dasherize</tt> you can change the default by setting the module
attribute <tt>ActiveSupport.camelise_xml = true</tt> in an initializer.

</li>
<li><tt>:skip_instruct</tt> - Toggle skipping the +instruct!+ call on the XML
builder that generates the XML declaration (default is <tt>false</tt>).

</li>
</ul>
<h4>Examples</h4>
<pre>
  my_group = SubsidiaryGroup.find(:first)
  my_group.to_xml
  # =&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  #    &lt;subsidiary_group&gt; [...] &lt;/subsidiary_group&gt;

  my_group.to_xml(:dasherize =&gt; true)
  # =&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  #    &lt;subsidiary-group&gt; [...] &lt;/subsidiary-group&gt;

  my_group.to_xml(:skip_instruct =&gt; true)
  # =&gt; &lt;subsidiary_group&gt; [...] &lt;/subsidiary_group&gt;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008438_source')" id="l_M008438_source">show source</a> ]</p>
  <div id="M008438_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 936</span>
936:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">options</span>={})
937:       <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">to_xml</span>({<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">element_name</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
938:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M008450" class="method">
  <div id="M008450_title" class="title">
    <b>collection_path</b>(options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008450_source')" id="l_M008450_source">show source</a> ]</p>
  <div id="M008450_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1097</span>
1097:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
1098:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">options</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">prefix_options</span>)
1099:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008444" class="method">
  <div id="M008444_title" class="title">
    <b>connection</b>(refresh = false)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008444_source')" id="l_M008444_source">show source</a> ]</p>
  <div id="M008444_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1063</span>
1063:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connection</span>(<span class="ruby-identifier">refresh</span> = <span class="ruby-keyword kw">false</span>)
1064:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connection</span>(<span class="ruby-identifier">refresh</span>)
1065:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008446" class="method">
  <div id="M008446_title" class="title">
    <b>create</b>()
  </div>
  <div class="description">
  <p>
Create (i.e., \save to the remote service) the \new resource.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008446_source')" id="l_M008446_source">show source</a> ]</p>
  <div id="M008446_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1075</span>
1075:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>
1076:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">collection_path</span>, <span class="ruby-identifier">encode</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">headers</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
1077:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">id</span> = <span class="ruby-identifier">id_from_response</span>(<span class="ruby-identifier">response</span>)
1078:           <span class="ruby-identifier">load_attributes_from_response</span>(<span class="ruby-identifier">response</span>)
1079:         <span class="ruby-keyword kw">end</span>
1080:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008449" class="method">
  <div id="M008449_title" class="title">
    <b>element_path</b>(options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008449_source')" id="l_M008449_source">show source</a> ]</p>
  <div id="M008449_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1093</span>
1093:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">element_path</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
1094:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-identifier">to_param</span>, <span class="ruby-identifier">options</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">prefix_options</span>)
1095:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008448" class="method">
  <div id="M008448_title" class="title">
    <b>id_from_response</b>(response)
  </div>
  <div class="description">
  <p>
Takes a response from a typical create post and pulls the ID out
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008448_source')" id="l_M008448_source">show source</a> ]</p>
  <div id="M008448_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1089</span>
1089:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id_from_response</span>(<span class="ruby-identifier">response</span>)
1090:         <span class="ruby-identifier">response</span>[<span class="ruby-value str">'Location'</span>][<span class="ruby-regexp re">/\/([^\/]*?)(\.\w+)?$/</span>, <span class="ruby-value">1</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">response</span>[<span class="ruby-value str">'Location'</span>]
1091:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008447" class="method">
  <div id="M008447_title" class="title">
    <b>load_attributes_from_response</b>(response)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008447_source')" id="l_M008447_source">show source</a> ]</p>
  <div id="M008447_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1082</span>
1082:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_attributes_from_response</span>(<span class="ruby-identifier">response</span>)
1083:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">response</span>[<span class="ruby-value str">'Content-Length'</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;0&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
1084:           <span class="ruby-identifier">load</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">format</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>))
1085:         <span class="ruby-keyword kw">end</span>
1086:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008445" class="method">
  <div id="M008445_title" class="title">
    <b>update</b>()
  </div>
  <div class="description">
  <p>
Update the resource on the remote service.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008445_source')" id="l_M008445_source">show source</a> ]</p>
  <div id="M008445_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/lib/active_resource/base.rb, line 1068</span>
1068:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>
1069:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">put</span>(<span class="ruby-identifier">element_path</span>(<span class="ruby-identifier">prefix_options</span>), <span class="ruby-identifier">encode</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">headers</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
1070:           <span class="ruby-identifier">load_attributes_from_response</span>(<span class="ruby-identifier">response</span>)
1071:         <span class="ruby-keyword kw">end</span>
1072:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>