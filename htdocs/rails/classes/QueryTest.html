  <div id="C00000352">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />QueryTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/hash_ext_test_rb.html');">activesupport/test/core_ext/hash_ext_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M002409&name=test_array_values" >test_array_values</a></li>
  <li><a href="index.html?a=M002410&name=test_array_values_are_not_sorted" >test_array_values_are_not_sorted</a></li>
  <li><a href="index.html?a=M002405&name=test_cgi_escaping" >test_cgi_escaping</a></li>
  <li><a href="index.html?a=M002411&name=test_expansion_count_is_limited" >test_expansion_count_is_limited</a></li>
  <li><a href="index.html?a=M002408&name=test_multiple_nested" >test_multiple_nested</a></li>
  <li><a href="index.html?a=M002407&name=test_nested_conversion" >test_nested_conversion</a></li>
  <li><a href="index.html?a=M002406&name=test_nil_parameter_value" >test_nil_parameter_value</a></li>
  <li><a href="index.html?a=M002404&name=test_simple_conversion" >test_simple_conversion</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M002409" class="method">
  <div id="M002409_title" class="title">
    <b>test_array_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002409_source')" id="l_M002409_source">show source</a> ]</p>
  <div id="M002409_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 989</span>
989:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_values</span>
990:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'person%5Bid%5D%5B%5D=10&amp;person%5Bid%5D%5B%5D=20'</span>,
991:       <span class="ruby-identifier">:person</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">10</span>, <span class="ruby-value">20</span>]}
992:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002410" class="method">
  <div id="M002410_title" class="title">
    <b>test_array_values_are_not_sorted</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002410_source')" id="l_M002410_source">show source</a> ]</p>
  <div id="M002410_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 994</span>
994:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_values_are_not_sorted</span>
995:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'person%5Bid%5D%5B%5D=20&amp;person%5Bid%5D%5B%5D=10'</span>,
996:       <span class="ruby-identifier">:person</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">20</span>, <span class="ruby-value">10</span>]}
997:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002405" class="method">
  <div id="M002405_title" class="title">
    <b>test_cgi_escaping</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002405_source')" id="l_M002405_source">show source</a> ]</p>
  <div id="M002405_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 969</span>
969:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cgi_escaping</span>
970:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'a%3Ab=c+d'</span>, <span class="ruby-value str">'a:b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'c d'</span>
971:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002411" class="method">
  <div id="M002411_title" class="title">
    <b>test_expansion_count_is_limited</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002411_source')" id="l_M002411_source">show source</a> ]</p>
  <div id="M002411_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 999</span>
 999:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_expansion_count_is_limited</span>
1000:     <span class="ruby-identifier">expected</span> = {
1001:       <span class="ruby-value str">'ActiveSupport::XmlMini_REXML'</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'RuntimeError'</span>,
1002:       <span class="ruby-value str">'ActiveSupport::XmlMini_Nokogiri'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Nokogiri::XML::SyntaxError'</span>,
1003:       <span class="ruby-value str">'ActiveSupport::XmlMini_NokogiriSAX'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'RuntimeError'</span>,
1004:       <span class="ruby-value str">'ActiveSupport::XmlMini_LibXML'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'LibXML::XML::Error'</span>,
1005:       <span class="ruby-value str">'ActiveSupport::XmlMini_LibXMLSAX'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'LibXML::XML::Error'</span>,
1006:     }[<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">XmlMini</span>.<span class="ruby-identifier">backend</span>.<span class="ruby-identifier">name</span>].<span class="ruby-identifier">constantize</span>
1007: 
1008:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-identifier">expected</span> <span class="ruby-keyword kw">do</span>
1009:       <span class="ruby-identifier">attack_xml</span> = <span class="ruby-value str">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;!DOCTYPE member [\n&lt;!ENTITY a \&quot;&amp;b;&amp;b;&amp;b;&amp;b;&amp;b;&amp;b;&amp;b;&amp;b;&amp;b;&amp;b;\&quot;&gt;\n&lt;!ENTITY b \&quot;&amp;c;&amp;c;&amp;c;&amp;c;&amp;c;&amp;c;&amp;c;&amp;c;&amp;c;&amp;c;\&quot;&gt;\n&lt;!ENTITY c \&quot;&amp;d;&amp;d;&amp;d;&amp;d;&amp;d;&amp;d;&amp;d;&amp;d;&amp;d;&amp;d;\&quot;&gt;\n&lt;!ENTITY d \&quot;&amp;e;&amp;e;&amp;e;&amp;e;&amp;e;&amp;e;&amp;e;&amp;e;&amp;e;&amp;e;\&quot;&gt;\n&lt;!ENTITY e \&quot;&amp;f;&amp;f;&amp;f;&amp;f;&amp;f;&amp;f;&amp;f;&amp;f;&amp;f;&amp;f;\&quot;&gt;\n&lt;!ENTITY f \&quot;&amp;g;&amp;g;&amp;g;&amp;g;&amp;g;&amp;g;&amp;g;&amp;g;&amp;g;&amp;g;\&quot;&gt;\n&lt;!ENTITY g \&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\&quot;&gt;\n]&gt;\n&lt;member&gt;\n&amp;a;\n&lt;/member&gt;\n&quot;</span>
1010:       <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">attack_xml</span>)
1011:     <span class="ruby-keyword kw">end</span>
1012:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002408" class="method">
  <div id="M002408_title" class="title">
    <b>test_multiple_nested</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002408_source')" id="l_M002408_source">show source</a> ]</p>
  <div id="M002408_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 984</span>
984:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_nested</span>
985:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'account%5Bperson%5D%5Bid%5D=20&amp;person%5Bid%5D=10'</span>,
986:       <span class="ruby-identifier">:person</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>}, <span class="ruby-identifier">:account</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:person</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">20</span>}}
987:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002407" class="method">
  <div id="M002407_title" class="title">
    <b>test_nested_conversion</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002407_source')" id="l_M002407_source">show source</a> ]</p>
  <div id="M002407_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 979</span>
979:   <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_nested_conversion</span><span class="ruby-identifier">test_nested_conversion</span>
980:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'person%5Blogin%5D=seckar&amp;person%5Bname%5D=Nicholas'</span>,
981:       <span class="ruby-identifier">:person</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Nicholas'</span>, <span class="ruby-identifier">:login</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'seckar'</span>}
982:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002406" class="method">
  <div id="M002406_title" class="title">
    <b>test_nil_parameter_value</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002406_source')" id="l_M002406_source">show source</a> ]</p>
  <div id="M002406_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 973</span>
973:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nil_parameter_value</span>
974:     <span class="ruby-identifier">empty</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
975:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty</span>.<span class="ruby-identifier">to_param</span>; <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">end</span>
976:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'a='</span>, <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">empty</span>
977:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002404" class="method">
  <div id="M002404_title" class="title">
    <b>test_simple_conversion</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002404_source')" id="l_M002404_source">show source</a> ]</p>
  <div id="M002404_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 965</span>
965:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_simple_conversion</span>
966:     <span class="ruby-identifier">assert_query_equal</span> <span class="ruby-value str">'a=10'</span>, <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>
967:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>