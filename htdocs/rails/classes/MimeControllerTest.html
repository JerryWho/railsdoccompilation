  <div id="C00000586">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />MimeControllerTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/mime_responds_test_rb.html');">actionpack/test/controller/mime_responds_test.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003741&name=render" >render</a></li>
  <li><a href="index.html?a=M003710&name=setup" >setup</a></li>
  <li><a href="index.html?a=M003711&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M003713&name=test_all" >test_all</a></li>
  <li><a href="index.html?a=M003735&name=test_custom_constant" >test_custom_constant</a></li>
  <li><a href="index.html?a=M003736&name=test_custom_constant_handling_without_block" >test_custom_constant_handling_without_block</a></li>
  <li><a href="index.html?a=M003723&name=test_custom_types" >test_custom_types</a></li>
  <li><a href="index.html?a=M003739&name=test_extension_synonyms" >test_extension_synonyms</a></li>
  <li><a href="index.html?a=M003725&name=test_firefox_simulation" >test_firefox_simulation</a></li>
  <li><a href="index.html?a=M003737&name=test_forced_format" >test_forced_format</a></li>
  <li><a href="index.html?a=M003742&name=test_format_with_custom_response_type" >test_format_with_custom_response_type</a></li>
  <li><a href="index.html?a=M003743&name=test_format_with_custom_response_type_and_request_headers" >test_format_with_custom_response_type_and_request_headers</a></li>
  <li><a href="index.html?a=M003744&name=test_format_with_custom_response_type_and_request_headers_with_only_one_layout_present" >test_format_with_custom_response_type_and_request_headers_with_only_one_layout_present</a></li>
  <li><a href="index.html?a=M003726&name=test_handle_any" >test_handle_any</a></li>
  <li><a href="index.html?a=M003727&name=test_handle_any_any" >test_handle_any_any</a></li>
  <li><a href="index.html?a=M003729&name=test_handle_any_any_explicit_html" >test_handle_any_any_explicit_html</a></li>
  <li><a href="index.html?a=M003730&name=test_handle_any_any_javascript" >test_handle_any_any_javascript</a></li>
  <li><a href="index.html?a=M003728&name=test_handle_any_any_parameter_format" >test_handle_any_any_parameter_format</a></li>
  <li><a href="index.html?a=M003731&name=test_handle_any_any_xml" >test_handle_any_any_xml</a></li>
  <li><a href="index.html?a=M003712&name=test_html" >test_html</a></li>
  <li><a href="index.html?a=M003733&name=test_html_type_with_layout" >test_html_type_with_layout</a></li>
  <li><a href="index.html?a=M003738&name=test_internally_forced_format" >test_internally_forced_format</a></li>
  <li><a href="index.html?a=M003717&name=test_js_or_anything" >test_js_or_anything</a></li>
  <li><a href="index.html?a=M003715&name=test_js_or_html" >test_js_or_html</a></li>
  <li><a href="index.html?a=M003716&name=test_json_or_yaml" >test_json_or_yaml</a></li>
  <li><a href="index.html?a=M003740&name=test_render_action_for_html" >test_render_action_for_html</a></li>
  <li><a href="index.html?a=M003732&name=test_rjs_type_skips_layout" >test_rjs_type_skips_layout</a></li>
  <li><a href="index.html?a=M003722&name=test_synonyms" >test_synonyms</a></li>
  <li><a href="index.html?a=M003718&name=test_using_defaults" >test_using_defaults</a></li>
  <li><a href="index.html?a=M003719&name=test_using_defaults_with_type_list" >test_using_defaults_with_type_list</a></li>
  <li><a href="index.html?a=M003720&name=test_with_atom_content_type" >test_with_atom_content_type</a></li>
  <li><a href="index.html?a=M003721&name=test_with_rss_content_type" >test_with_rss_content_type</a></li>
  <li><a href="index.html?a=M003734&name=test_xhr" >test_xhr</a></li>
  <li><a href="index.html?a=M003724&name=test_xhtml_alias" >test_xhtml_alias</a></li>
  <li><a href="index.html?a=M003714&name=test_xml" >test_xml</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M003741" class="method">
  <div id="M003741_title" class="title">
    <b>render</b>(*args)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003741_source')" id="l_M003741_source">show source</a> ]</p>
  <div id="M003741_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 436</span>
436:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
437:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
438:           <span class="ruby-ivar">@action</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:action</span>]
439:         <span class="ruby-keyword kw">end</span>
440:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span> = <span class="ruby-node">&quot;#{@action} - #{@template.template_format}&quot;</span>
441:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003710" class="method">
  <div id="M003710_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003710_source')" id="l_M003710_source">show source</a> ]</p>
  <div id="M003710_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 168</span>
168:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
169:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">use_accept_header</span> = <span class="ruby-keyword kw">true</span>
170:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">host</span> = <span class="ruby-value str">&quot;www.example.com&quot;</span>
171:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003711" class="method">
  <div id="M003711_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003711_source')" id="l_M003711_source">show source</a> ]</p>
  <div id="M003711_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
174:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">use_accept_header</span> = <span class="ruby-keyword kw">false</span>
175:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003713" class="method">
  <div id="M003713_title" class="title">
    <b>test_all</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003713_source')" id="l_M003713_source">show source</a> ]</p>
  <div id="M003713_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 189</span>
189:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_all</span>
190:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;*/*&quot;</span>
191:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:js_or_html</span>
192:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span> <span class="ruby-comment cmt"># js is not part of all</span>
193: 
194:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_or_xml</span>
195:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
196: 
197:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:just_xml</span>
198:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'XML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003735" class="method">
  <div id="M003735_title" class="title">
    <b>test_custom_constant</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003735_source')" id="l_M003735_source">show source</a> ]</p>
  <div id="M003735_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 395</span>
395:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_constant</span>
396:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:custom_constant_handling</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;mobile&quot;</span>
397:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/x-mobile&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
398:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mobile&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
399:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003736" class="method">
  <div id="M003736_title" class="title">
    <b>test_custom_constant_handling_without_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003736_source')" id="l_M003736_source">show source</a> ]</p>
  <div id="M003736_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 401</span>
401:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_constant_handling_without_block</span>
402:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:custom_constant_handling_without_block</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;mobile&quot;</span>
403:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/x-mobile&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
404:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mobile&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
405:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003723" class="method">
  <div id="M003723_title" class="title">
    <b>test_custom_types</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003723_source')" id="l_M003723_source">show source</a> ]</p>
  <div id="M003723_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 308</span>
308:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_types</span>
309:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/crazy-xml&quot;</span>
310:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:custom_type_handling</span>
311:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;application/crazy-xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Crazy XML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
313: 
314:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/html&quot;</span>
315:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:custom_type_handling</span>
316:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
317:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
318:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003739" class="method">
  <div id="M003739_title" class="title">
    <b>test_extension_synonyms</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003739_source')" id="l_M003739_source">show source</a> ]</p>
  <div id="M003739_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 429</span>
429:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_extension_synonyms</span>
430:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;xhtml&quot;</span>
431:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;HTML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
432:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003725" class="method">
  <div id="M003725_title" class="title">
    <b>test_firefox_simulation</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003725_source')" id="l_M003725_source">show source</a> ]</p>
  <div id="M003725_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 326</span>
326:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_firefox_simulation</span>
327:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5&quot;</span>
328:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_or_xml</span>
329:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
330:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003737" class="method">
  <div id="M003737_title" class="title">
    <b>test_forced_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003737_source')" id="l_M003737_source">show source</a> ]</p>
  <div id="M003737_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 407</span>
407:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_forced_format</span>
408:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>
409:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;HTML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
410: 
411:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;html&quot;</span>
412:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;HTML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
413: 
414:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;xml&quot;</span>
415:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;XML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
416: 
417:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;rss&quot;</span>
418:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;RSS&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
419:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003742" class="method">
  <div id="M003742_title" class="title">
    <b>test_format_with_custom_response_type</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003742_source')" id="l_M003742_source">show source</a> ]</p>
  <div id="M003742_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 451</span>
451:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_with_custom_response_type</span>
452:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:iphone_with_html_response_type</span>
453:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&lt;html&gt;&lt;div id=&quot;html&quot;&gt;Hello future from Firefox!&lt;/div&gt;&lt;/html&gt;'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
454: 
455:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:iphone_with_html_response_type</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;iphone&quot;</span>
456:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
457:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&lt;html&gt;&lt;div id=&quot;iphone&quot;&gt;Hello iPhone future from iPhone!&lt;/div&gt;&lt;/html&gt;'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
458:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003743" class="method">
  <div id="M003743_title" class="title">
    <b>test_format_with_custom_response_type_and_request_headers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003743_source')" id="l_M003743_source">show source</a> ]</p>
  <div id="M003743_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 460</span>
460:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_with_custom_response_type_and_request_headers</span>
461:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/iphone&quot;</span>
462:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:iphone_with_html_response_type</span>
463:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&lt;html&gt;&lt;div id=&quot;iphone&quot;&gt;Hello iPhone future from iPhone!&lt;/div&gt;&lt;/html&gt;'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
464:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
465:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003744" class="method">
  <div id="M003744_title" class="title">
    <b>test_format_with_custom_response_type_and_request_headers_with_only_one_layout_present</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003744_source')" id="l_M003744_source">show source</a> ]</p>
  <div id="M003744_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 467</span>
467:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_with_custom_response_type_and_request_headers_with_only_one_layout_present</span>
468:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:iphone_with_html_response_type_without_layout</span>
469:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&lt;html&gt;&lt;div id=&quot;html_missing&quot;&gt;Hello future from Firefox!&lt;/div&gt;&lt;/html&gt;'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
470: 
471:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/iphone&quot;</span>
472:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingTemplate</span>) { <span class="ruby-identifier">get</span> <span class="ruby-identifier">:iphone_with_html_response_type_without_layout</span> }
473:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003726" class="method">
  <div id="M003726_title" class="title">
    <b>test_handle_any</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003726_source')" id="l_M003726_source">show source</a> ]</p>
  <div id="M003726_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 332</span>
332:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_handle_any</span>
333:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;*/*&quot;</span>
334:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any</span>
335:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
336: 
337:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript&quot;</span>
338:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any</span>
339:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Either JS or XML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
340: 
341:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/xml&quot;</span>
342:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any</span>
343:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Either JS or XML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
344:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003727" class="method">
  <div id="M003727_title" class="title">
    <b>test_handle_any_any</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003727_source')" id="l_M003727_source">show source</a> ]</p>
  <div id="M003727_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 346</span>
346:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_handle_any_any</span>
347:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;*/*&quot;</span>
348:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any_any</span>
349:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
350:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003729" class="method">
  <div id="M003729_title" class="title">
    <b>test_handle_any_any_explicit_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003729_source')" id="l_M003729_source">show source</a> ]</p>
  <div id="M003729_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 357</span>
357:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_handle_any_any_explicit_html</span>
358:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/html&quot;</span>
359:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any_any</span>
360:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
361:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003730" class="method">
  <div id="M003730_title" class="title">
    <b>test_handle_any_any_javascript</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003730_source')" id="l_M003730_source">show source</a> ]</p>
  <div id="M003730_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 363</span>
363:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_handle_any_any_javascript</span>
364:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript&quot;</span>
365:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any_any</span>
366:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Whatever you ask for, I got it'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
367:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003728" class="method">
  <div id="M003728_title" class="title">
    <b>test_handle_any_any_parameter_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003728_source')" id="l_M003728_source">show source</a> ]</p>
  <div id="M003728_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 352</span>
352:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_handle_any_any_parameter_format</span>
353:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any_any</span>, {<span class="ruby-identifier">:format=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'html'</span>}
354:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
355:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003731" class="method">
  <div id="M003731_title" class="title">
    <b>test_handle_any_any_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003731_source')" id="l_M003731_source">show source</a> ]</p>
  <div id="M003731_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 369</span>
369:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_handle_any_any_xml</span>
370:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/xml&quot;</span>
371:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:handle_any_any</span>
372:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Whatever you ask for, I got it'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
373:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003712" class="method">
  <div id="M003712_title" class="title">
    <b>test_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003712_source')" id="l_M003712_source">show source</a> ]</p>
  <div id="M003712_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_html</span>
178:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/html&quot;</span>
179:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:js_or_html</span>
180:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
181: 
182:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_or_xml</span>
183:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
184: 
185:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:just_xml</span>
186:     <span class="ruby-identifier">assert_response</span> <span class="ruby-value">406</span>
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003733" class="method">
  <div id="M003733_title" class="title">
    <b>test_html_type_with_layout</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003733_source')" id="l_M003733_source">show source</a> ]</p>
  <div id="M003733_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 381</span>
381:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_html_type_with_layout</span>
382:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/html&quot;</span>
383:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:all_types_with_layout</span>
384:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&lt;html&gt;&lt;div id=&quot;html&quot;&gt;HTML for all_types_with_layout&lt;/div&gt;&lt;/html&gt;'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
385:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003738" class="method">
  <div id="M003738_title" class="title">
    <b>test_internally_forced_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003738_source')" id="l_M003738_source">show source</a> ]</p>
  <div id="M003738_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 421</span>
421:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_internally_forced_format</span>
422:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:forced_xml</span>
423:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;XML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
424: 
425:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:forced_xml</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;html&quot;</span>
426:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;XML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
427:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003717" class="method">
  <div id="M003717_title" class="title">
    <b>test_js_or_anything</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003717_source')" id="l_M003717_source">show source</a> ]</p>
  <div id="M003717_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 240</span>
240:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_js_or_anything</span>
241:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript, */*&quot;</span>
242:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:js_or_html</span>
243:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'JS'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
244: 
245:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_or_xml</span>
246:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
247: 
248:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:just_xml</span>
249:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'XML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
250:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003715" class="method">
  <div id="M003715_title" class="title">
    <b>test_js_or_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003715_source')" id="l_M003715_source">show source</a> ]</p>
  <div id="M003715_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 207</span>
207:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_js_or_html</span>
208:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript, text/html&quot;</span>
209:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:js_or_html</span>
210:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'JS'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
211: 
212:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_or_xml</span>
213:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
214: 
215:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:just_xml</span>
216:     <span class="ruby-identifier">assert_response</span> <span class="ruby-value">406</span>
217:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003716" class="method">
  <div id="M003716_title" class="title">
    <b>test_json_or_yaml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003716_source')" id="l_M003716_source">show source</a> ]</p>
  <div id="M003716_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 219</span>
219:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_json_or_yaml</span>
220:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:json_or_yaml</span>
221:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'JSON'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
222: 
223:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:json_or_yaml</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'json'</span>
224:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'JSON'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
225: 
226:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:json_or_yaml</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'yaml'</span>
227:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'YAML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
228: 
229:     { <span class="ruby-value str">'YAML'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(text/yaml)</span>,
230:       <span class="ruby-value str">'JSON'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(application/json text/x-json)</span>
231:     }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span>, <span class="ruby-identifier">content_types</span><span class="ruby-operator">|</span>
232:       <span class="ruby-identifier">content_types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">content_type</span><span class="ruby-operator">|</span>
233:         <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-identifier">content_type</span>
234:         <span class="ruby-identifier">get</span> <span class="ruby-identifier">:json_or_yaml</span>
235:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">body</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
236:       <span class="ruby-keyword kw">end</span>
237:     <span class="ruby-keyword kw">end</span>
238:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003740" class="method">
  <div id="M003740_title" class="title">
    <b>test_render_action_for_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003740_source')" id="l_M003740_source">show source</a> ]</p>
  <div id="M003740_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 434</span>
434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_render_action_for_html</span>
435:     <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword kw">do</span>
436:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
437:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
438:           <span class="ruby-ivar">@action</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:action</span>]
439:         <span class="ruby-keyword kw">end</span>
440:         <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span> = <span class="ruby-node">&quot;#{@action} - #{@template.template_format}&quot;</span>
441:       <span class="ruby-keyword kw">end</span>
442:     <span class="ruby-keyword kw">end</span>
443: 
444:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults</span>
445:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;using_defaults - html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
446: 
447:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;xml&quot;</span>
448:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;using_defaults - xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
449:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003732" class="method">
  <div id="M003732_title" class="title">
    <b>test_rjs_type_skips_layout</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003732_source')" id="l_M003732_source">show source</a> ]</p>
  <div id="M003732_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 375</span>
375:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rjs_type_skips_layout</span>
376:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript&quot;</span>
377:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:all_types_with_layout</span>
378:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'RJS for all_types_with_layout'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
379:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003722" class="method">
  <div id="M003722_title" class="title">
    <b>test_synonyms</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003722_source')" id="l_M003722_source">show source</a> ]</p>
  <div id="M003722_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 298</span>
298:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_synonyms</span>
299:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/javascript&quot;</span>
300:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:js_or_html</span>
301:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'JS'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
302: 
303:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/x-xml&quot;</span>
304:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>
305:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;XML&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
306:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003718" class="method">
  <div id="M003718_title" class="title">
    <b>test_using_defaults</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003718_source')" id="l_M003718_source">show source</a> ]</p>
  <div id="M003718_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 252</span>
252:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_using_defaults</span>
253:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;*/*&quot;</span>
254:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults</span>
255:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
256:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
257: 
258:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript&quot;</span>
259:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults</span>
260:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/javascript&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
261:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'$(&quot;body&quot;).visualEffect(&quot;highlight&quot;);'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
262: 
263:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/xml&quot;</span>
264:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults</span>
265:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
266:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;Hello world!&lt;/p&gt;\n&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
267:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003719" class="method">
  <div id="M003719_title" class="title">
    <b>test_using_defaults_with_type_list</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003719_source')" id="l_M003719_source">show source</a> ]</p>
  <div id="M003719_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 269</span>
269:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_using_defaults_with_type_list</span>
270:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;*/*&quot;</span>
271:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults_with_type_list</span>
272:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/html&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
273:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
274: 
275:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/javascript&quot;</span>
276:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults_with_type_list</span>
277:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/javascript&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
278:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'$(&quot;body&quot;).visualEffect(&quot;highlight&quot;);'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
279: 
280:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/xml&quot;</span>
281:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:using_defaults_with_type_list</span>
282:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;application/xml&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">content_type</span>
283:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;Hello world!&lt;/p&gt;\n&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
284:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003720" class="method">
  <div id="M003720_title" class="title">
    <b>test_with_atom_content_type</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003720_source')" id="l_M003720_source">show source</a> ]</p>
  <div id="M003720_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 286</span>
286:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_atom_content_type</span>
287:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;CONTENT_TYPE&quot;</span>] = <span class="ruby-value str">&quot;application/atom+xml&quot;</span>
288:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:made_for_content_type</span>
289:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;ATOM&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
290:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003721" class="method">
  <div id="M003721_title" class="title">
    <b>test_with_rss_content_type</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003721_source')" id="l_M003721_source">show source</a> ]</p>
  <div id="M003721_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 292</span>
292:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_rss_content_type</span>
293:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;CONTENT_TYPE&quot;</span>] = <span class="ruby-value str">&quot;application/rss+xml&quot;</span>
294:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:made_for_content_type</span>
295:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;RSS&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
296:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003734" class="method">
  <div id="M003734_title" class="title">
    <b>test_xhr</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003734_source')" id="l_M003734_source">show source</a> ]</p>
  <div id="M003734_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 387</span>
387:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xhr</span>
388:     <span class="ruby-identifier">xhr</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:js_or_html</span>
389:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'JS'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
390: 
391:     <span class="ruby-identifier">xhr</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:using_defaults</span>
392:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'$(&quot;body&quot;).visualEffect(&quot;highlight&quot;);'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
393:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003724" class="method">
  <div id="M003724_title" class="title">
    <b>test_xhtml_alias</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003724_source')" id="l_M003724_source">show source</a> ]</p>
  <div id="M003724_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 320</span>
320:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xhtml_alias</span>
321:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/xhtml+xml,application/xml&quot;</span>
322:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_or_xml</span>
323:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'HTML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
324:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003714" class="method">
  <div id="M003714_title" class="title">
    <b>test_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003714_source')" id="l_M003714_source">show source</a> ]</p>
  <div id="M003714_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/mime_responds_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml</span>
202:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;application/xml&quot;</span>
203:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html_xml_or_rss</span>
204:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'XML'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
205:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>