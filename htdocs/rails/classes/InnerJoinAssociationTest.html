  <div id="C00000730">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />InnerJoinAssociationTest<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/test/cases/associations/inner_join_association_test_rb.html');">activerecord/test/cases/associations/inner_join_association_test.rb</a>

Parent:&nbsp;
ActiveRecord::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M004708&name=test_calculate_honors_implicit_inner_joins" >test_calculate_honors_implicit_inner_joins</a></li>
  <li><a href="index.html?a=M004709&name=test_calculate_honors_implicit_inner_joins_and_distinct_and_conditions" >test_calculate_honors_implicit_inner_joins_and_distinct_and_conditions</a></li>
  <li><a href="index.html?a=M004699&name=test_construct_finder_sql_applies_aliases_tables_on_association_conditions" >test_construct_finder_sql_applies_aliases_tables_on_association_conditions</a></li>
  <li><a href="index.html?a=M004698&name=test_construct_finder_sql_applies_association_conditions" >test_construct_finder_sql_applies_association_conditions</a></li>
  <li><a href="index.html?a=M004696&name=test_construct_finder_sql_cascades_inner_joins" >test_construct_finder_sql_cascades_inner_joins</a></li>
  <li><a href="index.html?a=M004695&name=test_construct_finder_sql_creates_inner_joins" >test_construct_finder_sql_creates_inner_joins</a></li>
  <li><a href="index.html?a=M004702&name=test_construct_finder_sql_ignores_empty_joins_array" >test_construct_finder_sql_ignores_empty_joins_array</a></li>
  <li><a href="index.html?a=M004701&name=test_construct_finder_sql_ignores_empty_joins_hash" >test_construct_finder_sql_ignores_empty_joins_hash</a></li>
  <li><a href="index.html?a=M004697&name=test_construct_finder_sql_inner_joins_through_associations" >test_construct_finder_sql_inner_joins_through_associations</a></li>
  <li><a href="index.html?a=M004700&name=test_construct_finder_sql_unpacks_nested_joins" >test_construct_finder_sql_unpacks_nested_joins</a></li>
  <li><a href="index.html?a=M004707&name=test_count_honors_implicit_inner_joins" >test_count_honors_implicit_inner_joins</a></li>
  <li><a href="index.html?a=M004706&name=test_find_with_implicit_inner_joins_does_not_set_associations" >test_find_with_implicit_inner_joins_does_not_set_associations</a></li>
  <li><a href="index.html?a=M004705&name=test_find_with_implicit_inner_joins_honors_readonly_false" >test_find_with_implicit_inner_joins_honors_readonly_false</a></li>
  <li><a href="index.html?a=M004704&name=test_find_with_implicit_inner_joins_honors_readonly_with_select" >test_find_with_implicit_inner_joins_honors_readonly_with_select</a></li>
  <li><a href="index.html?a=M004703&name=test_find_with_implicit_inner_joins_honors_readonly_without_select" >test_find_with_implicit_inner_joins_honors_readonly_without_select</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M004708" class="method">
  <div id="M004708_title" class="title">
    <b>test_calculate_honors_implicit_inner_joins</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004708_source')" id="l_M004708_source">show source</a> ]</p>
  <div id="M004708_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_calculate_honors_implicit_inner_joins</span>
84:     <span class="ruby-identifier">real_count</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>).<span class="ruby-identifier">sum</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">count</span> }
85:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">real_count</span>, <span class="ruby-constant">Author</span>.<span class="ruby-identifier">calculate</span>(<span class="ruby-identifier">:count</span>, <span class="ruby-value str">'authors.id'</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>), <span class="ruby-value str">&quot;plain inner join count should match the number of referenced posts records&quot;</span>
86:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004709" class="method">
  <div id="M004709_title" class="title">
    <b>test_calculate_honors_implicit_inner_joins_and_distinct_and_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004709_source')" id="l_M004709_source">show source</a> ]</p>
  <div id="M004709_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_calculate_honors_implicit_inner_joins_and_distinct_and_conditions</span>
89:     <span class="ruby-identifier">real_count</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>).<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">title</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^Welcome/</span>} }.<span class="ruby-identifier">length</span>
90:     <span class="ruby-identifier">authors_with_welcoming_post_titles</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">calculate</span>(<span class="ruby-identifier">:count</span>, <span class="ruby-value str">'authors.id'</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>, <span class="ruby-identifier">:distinct</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;posts.title like 'Welcome%'&quot;</span>)
91:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">real_count</span>, <span class="ruby-identifier">authors_with_welcoming_post_titles</span>, <span class="ruby-value str">&quot;inner join and conditions should have only returned authors posting titles starting with 'Welcome'&quot;</span>
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004699" class="method">
  <div id="M004699_title" class="title">
    <b>test_construct_finder_sql_applies_aliases_tables_on_association_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004699_source')" id="l_M004699_source">show source</a> ]</p>
  <div id="M004699_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 32</span>
32:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_applies_aliases_tables_on_association_conditions</span>
33:     <span class="ruby-identifier">result</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">:thinking_posts</span>, <span class="ruby-identifier">:welcome_posts</span>])
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:david</span>), <span class="ruby-identifier">result</span>.<span class="ruby-identifier">first</span>
35:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004698" class="method">
  <div id="M004698_title" class="title">
    <b>test_construct_finder_sql_applies_association_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004698_source')" id="l_M004698_source">show source</a> ]</p>
  <div id="M004698_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_applies_association_conditions</span>
28:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:categories_like_general</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;TERMINATING_MARKER&quot;</span>)
29:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?categories.? ON.*AND.*.?General.?.*TERMINATING_MARKER/</span>, <span class="ruby-identifier">sql</span>
30:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004696" class="method">
  <div id="M004696_title" class="title">
    <b>test_construct_finder_sql_cascades_inner_joins</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004696_source')" id="l_M004696_source">show source</a> ]</p>
  <div id="M004696_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 16</span>
16:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_cascades_inner_joins</span>
17:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:posts</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:comments</span>})
18:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?posts.? ON .?posts.?.author_id = authors.id/</span>, <span class="ruby-identifier">sql</span>
19:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?comments.? ON .?comments.?.post_id = posts.id/</span>, <span class="ruby-identifier">sql</span>
20:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004695" class="method">
  <div id="M004695_title" class="title">
    <b>test_construct_finder_sql_creates_inner_joins</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004695_source')" id="l_M004695_source">show source</a> ]</p>
  <div id="M004695_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_creates_inner_joins</span>
12:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>)
13:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?posts.? ON .?posts.?.author_id = authors.id/</span>, <span class="ruby-identifier">sql</span>
14:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004702" class="method">
  <div id="M004702_title" class="title">
    <b>test_construct_finder_sql_ignores_empty_joins_array</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004702_source')" id="l_M004702_source">show source</a> ]</p>
  <div id="M004702_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 49</span>
49:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_ignores_empty_joins_array</span>
50:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> [])
51:     <span class="ruby-identifier">assert_no_match</span> <span class="ruby-regexp re">/JOIN/i</span>, <span class="ruby-identifier">sql</span>
52:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004701" class="method">
  <div id="M004701_title" class="title">
    <b>test_construct_finder_sql_ignores_empty_joins_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004701_source')" id="l_M004701_source">show source</a> ]</p>
  <div id="M004701_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_ignores_empty_joins_hash</span>
45:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> {})
46:     <span class="ruby-identifier">assert_no_match</span> <span class="ruby-regexp re">/JOIN/i</span>, <span class="ruby-identifier">sql</span>
47:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004697" class="method">
  <div id="M004697_title" class="title">
    <b>test_construct_finder_sql_inner_joins_through_associations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004697_source')" id="l_M004697_source">show source</a> ]</p>
  <div id="M004697_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_inner_joins_through_associations</span>
23:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:categorized_posts</span>)
24:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?categorizations.?.*INNER JOIN .?posts.?/</span>, <span class="ruby-identifier">sql</span>
25:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004700" class="method">
  <div id="M004700_title" class="title">
    <b>test_construct_finder_sql_unpacks_nested_joins</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004700_source')" id="l_M004700_source">show source</a> ]</p>
  <div id="M004700_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 37</span>
37:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_construct_finder_sql_unpacks_nested_joins</span>
38:     <span class="ruby-identifier">sql</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:construct_finder_sql</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:posts</span> =<span class="ruby-operator">&gt;</span> [[<span class="ruby-identifier">:comments</span>]]})
39:     <span class="ruby-identifier">assert_no_match</span> <span class="ruby-regexp re">/inner join.*inner join.*inner join/i</span>, <span class="ruby-identifier">sql</span>, <span class="ruby-value str">&quot;only two join clauses should be present&quot;</span>
40:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?posts.? ON .?posts.?.author_id = authors.id/</span>, <span class="ruby-identifier">sql</span>
41:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/INNER JOIN .?comments.? ON .?comments.?.post_id = .?posts.?.id/</span>, <span class="ruby-identifier">sql</span>
42:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004707" class="method">
  <div id="M004707_title" class="title">
    <b>test_count_honors_implicit_inner_joins</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004707_source')" id="l_M004707_source">show source</a> ]</p>
  <div id="M004707_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 78</span>
78:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_count_honors_implicit_inner_joins</span>
79:     <span class="ruby-identifier">real_count</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>).<span class="ruby-identifier">sum</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">count</span> }
80:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">real_count</span>, <span class="ruby-constant">Author</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>), <span class="ruby-value str">&quot;plain inner join count should match the number of referenced posts records&quot;</span>
81:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004706" class="method">
  <div id="M004706_title" class="title">
    <b>test_find_with_implicit_inner_joins_does_not_set_associations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004706_source')" id="l_M004706_source">show source</a> ]</p>
  <div id="M004706_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_with_implicit_inner_joins_does_not_set_associations</span>
73:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'authors.*'</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>)
74:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>.<span class="ruby-identifier">empty?</span>, <span class="ruby-value str">&quot;expected authors to be non-empty&quot;</span>
75:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:instance_variable_names</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;@posts&quot;</span>)}, <span class="ruby-value str">&quot;expected no authors to have the @posts association loaded&quot;</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004705" class="method">
  <div id="M004705_title" class="title">
    <b>test_find_with_implicit_inner_joins_honors_readonly_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004705_source')" id="l_M004705_source">show source</a> ]</p>
  <div id="M004705_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 66</span>
66:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_with_implicit_inner_joins_honors_readonly_false</span>
67:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>, <span class="ruby-identifier">:readonly</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
68:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>.<span class="ruby-identifier">empty?</span>, <span class="ruby-value str">&quot;expected authors to be non-empty&quot;</span>
69:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">a</span>.<span class="ruby-identifier">readonly?</span> }, <span class="ruby-value str">&quot;expected no authors to be readonly&quot;</span>
70:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004704" class="method">
  <div id="M004704_title" class="title">
    <b>test_find_with_implicit_inner_joins_honors_readonly_with_select</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004704_source')" id="l_M004704_source">show source</a> ]</p>
  <div id="M004704_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 60</span>
60:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_with_implicit_inner_joins_honors_readonly_with_select</span>
61:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'authors.*'</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>)
62:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>.<span class="ruby-identifier">empty?</span>, <span class="ruby-value str">&quot;expected authors to be non-empty&quot;</span>
63:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">a</span>.<span class="ruby-identifier">readonly?</span> }, <span class="ruby-value str">&quot;expected no authors to be readonly&quot;</span>
64:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004703" class="method">
  <div id="M004703_title" class="title">
    <b>test_find_with_implicit_inner_joins_honors_readonly_without_select</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004703_source')" id="l_M004703_source">show source</a> ]</p>
  <div id="M004703_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inner_join_association_test.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_with_implicit_inner_joins_honors_readonly_without_select</span>
55:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:joins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:posts</span>)
56:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authors</span>.<span class="ruby-identifier">empty?</span>, <span class="ruby-value str">&quot;expected authors to be non-empty&quot;</span>
57:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">readonly?</span> }, <span class="ruby-value str">&quot;expected all authors to be readonly&quot;</span>
58:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>