  <div id="C00000547">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />MetalTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/integration_test_rb.html');">actionpack/test/controller/integration_test.rb</a>
<a href="#" onclick="jsHref('files/railties/test/metal_test_rb.html');">railties/test/metal_test.rb</a>

Parent:&nbsp;
ActionController::IntegrationTest
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003281&name=setup" >setup</a></li>
  <li><a href="index.html?a=M003283&name=test_failed_get" >test_failed_get</a></li>
  <li><a href="index.html?a=M003291&name=test_metal_finding_should_work_with_multiple_metal_paths_in_185_and_below" >test_metal_finding_should_work_with_multiple_metal_paths_in_185_and_below</a></li>
  <li><a href="index.html?a=M003289&name=test_metal_finding_should_work_with_subfolders" >test_metal_finding_should_work_with_subfolders</a></li>
  <li><a href="index.html?a=M003290&name=test_metal_finding_with_requested_metals_should_work_with_subfolders" >test_metal_finding_with_requested_metals_should_work_with_subfolders</a></li>
  <li><a href="index.html?a=M003287&name=test_metals_load_order_should_be_overriden_by_requested_metals" >test_metals_load_order_should_be_overriden_by_requested_metals</a></li>
  <li><a href="index.html?a=M003288&name=test_metals_not_listed_should_not_load" >test_metals_not_listed_should_not_load</a></li>
  <li><a href="index.html?a=M003285&name=test_metals_should_respect_class_name_conventions" >test_metals_should_respect_class_name_conventions</a></li>
  <li><a href="index.html?a=M003286&name=test_metals_should_return_alphabetical_list_of_found_metal_apps" >test_metals_should_return_alphabetical_list_of_found_metal_apps</a></li>
  <li><a href="index.html?a=M003284&name=test_metals_should_return_list_of_found_metal_apps" >test_metals_should_return_list_of_found_metal_apps</a></li>
  <li><a href="index.html?a=M003282&name=test_successful_get" >test_successful_get</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/MetalTest/Poller.html');" class="link">MetalTest::Poller</a>"<br />




<div class="sectiontitle">Public Instance methods</div>
<div id="M003281" class="method">
  <div id="M003281_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003281_source')" id="l_M003281_source">show source</a> ]</p>
  <div id="M003281_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 445</span>
445:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
446:     <span class="ruby-ivar">@integration_session</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Integration</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Poller</span>)
447:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003283" class="method">
  <div id="M003283_title" class="title">
    <b>test_failed_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003283_source')" id="l_M003283_source">show source</a> ]</p>
  <div id="M003283_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 457</span>
457:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_failed_get</span>
458:     <span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/failure&quot;</span>
459:     <span class="ruby-identifier">assert_response</span> <span class="ruby-value">404</span>
460:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:not_found</span>
461:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>
462:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003291" class="method">
  <div id="M003291_title" class="title">
    <b>test_metal_finding_should_work_with_multiple_metal_paths_in_185_and_below</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003291_source')" id="l_M003291_source">show source</a> ]</p>
  <div id="M003291_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 50</span>
50:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metal_finding_should_work_with_multiple_metal_paths_in_185_and_below</span>
51:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;singlemetal&quot;</span>) <span class="ruby-keyword kw">do</span>
52:       <span class="ruby-identifier">engine_metal_path</span> = <span class="ruby-node">&quot;#{File.dirname(__FILE__)}/fixtures/plugins/engines/engine/app/metal&quot;</span> 
53:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">metal_paths</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">engine_metal_path</span>
54:       <span class="ruby-identifier">$LOAD_PATH</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">engine_metal_path</span>
55:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;FooMetal&quot;</span>, <span class="ruby-value str">&quot;EngineMetal&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
56:     <span class="ruby-keyword kw">end</span>
57:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003289" class="method">
  <div id="M003289_title" class="title">
    <b>test_metal_finding_should_work_with_subfolders</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003289_source')" id="l_M003289_source">show source</a> ]</p>
  <div id="M003289_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 37</span>
37:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metal_finding_should_work_with_subfolders</span>
38:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;subfolders&quot;</span>) <span class="ruby-keyword kw">do</span>
39:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;Folder::MetalA&quot;</span>, <span class="ruby-value str">&quot;Folder::MetalB&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
40:     <span class="ruby-keyword kw">end</span>
41:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003290" class="method">
  <div id="M003290_title" class="title">
    <b>test_metal_finding_with_requested_metals_should_work_with_subfolders</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003290_source')" id="l_M003290_source">show source</a> ]</p>
  <div id="M003290_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metal_finding_with_requested_metals_should_work_with_subfolders</span>
44:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;subfolders&quot;</span>) <span class="ruby-keyword kw">do</span>
45:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">requested_metals</span> = [<span class="ruby-value str">&quot;Folder::MetalB&quot;</span>]
46:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;Folder::MetalB&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
47:     <span class="ruby-keyword kw">end</span>
48:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003287" class="method">
  <div id="M003287_title" class="title">
    <b>test_metals_load_order_should_be_overriden_by_requested_metals</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003287_source')" id="l_M003287_source">show source</a> ]</p>
  <div id="M003287_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 23</span>
23:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metals_load_order_should_be_overriden_by_requested_metals</span>
24:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;multiplemetals&quot;</span>) <span class="ruby-keyword kw">do</span>
25:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">requested_metals</span> = [<span class="ruby-value str">&quot;MetalB&quot;</span>, <span class="ruby-value str">&quot;MetalA&quot;</span>]
26:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;MetalB&quot;</span>, <span class="ruby-value str">&quot;MetalA&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
27:     <span class="ruby-keyword kw">end</span>
28:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003288" class="method">
  <div id="M003288_title" class="title">
    <b>test_metals_not_listed_should_not_load</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003288_source')" id="l_M003288_source">show source</a> ]</p>
  <div id="M003288_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metals_not_listed_should_not_load</span>
31:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;multiplemetals&quot;</span>) <span class="ruby-keyword kw">do</span>
32:       <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Metal</span>.<span class="ruby-identifier">requested_metals</span> = [<span class="ruby-value str">&quot;MetalB&quot;</span>]
33:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;MetalB&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
34:     <span class="ruby-keyword kw">end</span>
35:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003285" class="method">
  <div id="M003285_title" class="title">
    <b>test_metals_should_respect_class_name_conventions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003285_source')" id="l_M003285_source">show source</a> ]</p>
  <div id="M003285_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metals_should_respect_class_name_conventions</span>
12:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;pluralmetal&quot;</span>) <span class="ruby-keyword kw">do</span>
13:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;LegacyRoutes&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
14:     <span class="ruby-keyword kw">end</span>
15:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003286" class="method">
  <div id="M003286_title" class="title">
    <b>test_metals_should_return_alphabetical_list_of_found_metal_apps</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003286_source')" id="l_M003286_source">show source</a> ]</p>
  <div id="M003286_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 17</span>
17:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metals_should_return_alphabetical_list_of_found_metal_apps</span>
18:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;multiplemetals&quot;</span>) <span class="ruby-keyword kw">do</span>
19:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;MetalA&quot;</span>, <span class="ruby-value str">&quot;MetalB&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
20:     <span class="ruby-keyword kw">end</span>
21:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003284" class="method">
  <div id="M003284_title" class="title">
    <b>test_metals_should_return_list_of_found_metal_apps</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003284_source')" id="l_M003284_source">show source</a> ]</p>
  <div id="M003284_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File railties/test/metal_test.rb, line 5</span>
5:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_metals_should_return_list_of_found_metal_apps</span>
6:     <span class="ruby-identifier">use_appdir</span>(<span class="ruby-value str">&quot;singlemetal&quot;</span>) <span class="ruby-keyword kw">do</span>
7:       <span class="ruby-identifier">assert_equal</span>([<span class="ruby-value str">&quot;FooMetal&quot;</span>], <span class="ruby-identifier">found_metals_as_string_array</span>)
8:     <span class="ruby-keyword kw">end</span>
9:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003282" class="method">
  <div id="M003282_title" class="title">
    <b>test_successful_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003282_source')" id="l_M003282_source">show source</a> ]</p>
  <div id="M003282_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_successful_get</span>
450:     <span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/success&quot;</span>
451:     <span class="ruby-identifier">assert_response</span> <span class="ruby-value">200</span>
452:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:success</span>
453:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:ok</span>
454:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>
455:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>