  <div id="C00001913">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />Cache<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/lib/active_support/vendor/i18n-0_3_7/i18n/backend/cache_rb.html');">activesupport/lib/active_support/vendor/i18n-0.3.7/i18n/backend/cache.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M010716&name=cache_key" >cache_key</a></li>
  <li><a href="index.html?a=M010715&name=fetch" >fetch</a></li>
  <li><a href="index.html?a=M010714&name=translate" >translate</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M010714" class="method">
  <div id="M010714_title" class="title">
    <b>translate</b>(*args)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010714_source')" id="l_M010714_source">show source</a> ]</p>
  <div id="M010714_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/vendor/i18n-0.3.7/i18n/backend/cache.rb, line 49</span>
49:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">translate</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
50:         <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">perform_caching?</span> <span class="ruby-value">? </span><span class="ruby-identifier">fetch</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) { <span class="ruby-keyword kw">super</span> } <span class="ruby-operator">:</span> <span class="ruby-keyword kw">super</span>
51:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M010716" class="method">
  <div id="M010716_title" class="title">
    <b>cache_key</b>(*args)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010716_source')" id="l_M010716_source">show source</a> ]</p>
  <div id="M010716_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/vendor/i18n-0.3.7/i18n/backend/cache.rb, line 65</span>
65:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_key</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
66:           <span class="ruby-comment cmt"># This assumes that only simple, native Ruby values are passed to I18n.translate.</span>
67:           <span class="ruby-comment cmt"># Also, in Ruby &lt; 1.8.7 {}.hash != {}.hash</span>
68:           <span class="ruby-comment cmt"># (see http://paulbarry.com/articles/2009/09/14/why-rails-3-will-require-ruby-1-8-7)</span>
69:           <span class="ruby-comment cmt"># If args.inspect does not work for you for some reason, patches are very welcome :)</span>
70:           <span class="ruby-identifier">hash</span> = <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">&quot;1.8.7&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">hash</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">inspect</span>
71:           <span class="ruby-identifier">keys</span> = [<span class="ruby-value str">'i18n'</span>, <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">cache_namespace</span>, <span class="ruby-identifier">hash</span>]
72:           <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'-'</span>)
73:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010715" class="method">
  <div id="M010715_title" class="title">
    <b>fetch</b>(*args, &amp;block)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010715_source')" id="l_M010715_source">show source</a> ]</p>
  <div id="M010715_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/vendor/i18n-0.3.7/i18n/backend/cache.rb, line 55</span>
55:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
56:           <span class="ruby-identifier">result</span> = <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">cache_store</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">cache_key</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
57:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">result</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Exception</span>)
58:           <span class="ruby-identifier">result</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">frozen?</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">result</span>
59:           <span class="ruby-identifier">result</span>
60:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">MissingTranslationData</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
61:           <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">cache_store</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">cache_key</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>), <span class="ruby-identifier">exception</span>)
62:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
63:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>