  <div id="C00000718">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/test_test_rb.html');">actionpack/test/controller/test_test.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M005147&name=setup" >setup</a></li>
  <li><a href="index.html?a=M005148&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M005190&name=test_array_path_parameter_handled_properly" >test_array_path_parameter_handled_properly</a></li>
  <li><a href="index.html?a=M005184&name=test_assert_generates" >test_assert_generates</a></li>
  <li><a href="index.html?a=M005191&name=test_assert_realistic_path_parameters" >test_assert_realistic_path_parameters</a></li>
  <li><a href="index.html?a=M005185&name=test_assert_routing" >test_assert_routing</a></li>
  <li><a href="index.html?a=M005187&name=test_assert_routing_in_module" >test_assert_routing_in_module</a></li>
  <li><a href="index.html?a=M005186&name=test_assert_routing_with_method" >test_assert_routing_with_method</a></li>
  <li><a href="index.html?a=M005172&name=test_assert_tag_after" >test_assert_tag_after</a></li>
  <li><a href="index.html?a=M005169&name=test_assert_tag_ancestor" >test_assert_tag_ancestor</a></li>
  <li><a href="index.html?a=M005182&name=test_assert_tag_attribute_matching" >test_assert_tag_attribute_matching</a></li>
  <li><a href="index.html?a=M005166&name=test_assert_tag_attributes" >test_assert_tag_attributes</a></li>
  <li><a href="index.html?a=M005173&name=test_assert_tag_before" >test_assert_tag_before</a></li>
  <li><a href="index.html?a=M005168&name=test_assert_tag_child" >test_assert_tag_child</a></li>
  <li><a href="index.html?a=M005174&name=test_assert_tag_children_count" >test_assert_tag_children_count</a></li>
  <li><a href="index.html?a=M005176&name=test_assert_tag_children_greater_than" >test_assert_tag_children_greater_than</a></li>
  <li><a href="index.html?a=M005175&name=test_assert_tag_children_less_than" >test_assert_tag_children_less_than</a></li>
  <li><a href="index.html?a=M005177&name=test_assert_tag_children_only" >test_assert_tag_children_only</a></li>
  <li><a href="index.html?a=M005180&name=test_assert_tag_children_without_content" >test_assert_tag_children_without_content</a></li>
  <li><a href="index.html?a=M005178&name=test_assert_tag_content" >test_assert_tag_content</a></li>
  <li><a href="index.html?a=M005183&name=test_assert_tag_content_matching" >test_assert_tag_content_matching</a></li>
  <li><a href="index.html?a=M005170&name=test_assert_tag_descendant" >test_assert_tag_descendant</a></li>
  <li><a href="index.html?a=M005179&name=test_assert_tag_multiple" >test_assert_tag_multiple</a></li>
  <li><a href="index.html?a=M005167&name=test_assert_tag_parent" >test_assert_tag_parent</a></li>
  <li><a href="index.html?a=M005171&name=test_assert_tag_sibling" >test_assert_tag_sibling</a></li>
  <li><a href="index.html?a=M005165&name=test_assert_tag_tag" >test_assert_tag_tag</a></li>
  <li><a href="index.html?a=M005203&name=test_binary_content_works_with_send_file" >test_binary_content_works_with_send_file</a></li>
  <li><a href="index.html?a=M005150&name=test_body_stream" >test_body_stream</a></li>
  <li><a href="index.html?a=M005200&name=test_fixture_file_upload" >test_fixture_file_upload</a></li>
  <li><a href="index.html?a=M005199&name=test_fixture_file_upload_with_binary" >test_fixture_file_upload_with_binary</a></li>
  <li><a href="index.html?a=M005195&name=test_header_properly_reset_after_get_request" >test_header_properly_reset_after_get_request</a></li>
  <li><a href="index.html?a=M005194&name=test_header_properly_reset_after_remote_http_request" >test_header_properly_reset_after_remote_http_request</a></li>
  <li><a href="index.html?a=M005189&name=test_id_converted_to_string" >test_id_converted_to_string</a></li>
  <li><a href="index.html?a=M005164&name=test_multiple_calls" >test_multiple_calls</a></li>
  <li><a href="index.html?a=M005188&name=test_params_passing" >test_params_passing</a></li>
  <li><a href="index.html?a=M005196&name=test_params_reset_after_post_request" >test_params_reset_after_post_request</a></li>
  <li><a href="index.html?a=M005152&name=test_process_with_flash" >test_process_with_flash</a></li>
  <li><a href="index.html?a=M005153&name=test_process_with_flash_now" >test_process_with_flash_now</a></li>
  <li><a href="index.html?a=M005162&name=test_process_with_query_string" >test_process_with_query_string</a></li>
  <li><a href="index.html?a=M005163&name=test_process_with_query_string_with_explicit_uri" >test_process_with_query_string_with_explicit_uri</a></li>
  <li><a href="index.html?a=M005159&name=test_process_with_request_uri_with_no_params" >test_process_with_request_uri_with_no_params</a></li>
  <li><a href="index.html?a=M005160&name=test_process_with_request_uri_with_params" >test_process_with_request_uri_with_params</a></li>
  <li><a href="index.html?a=M005161&name=test_process_with_request_uri_with_params_with_explicit_uri" >test_process_with_request_uri_with_params_with_explicit_uri</a></li>
  <li><a href="index.html?a=M005154&name=test_process_with_session" >test_process_with_session</a></li>
  <li><a href="index.html?a=M005155&name=test_process_with_session_arg" >test_process_with_session_arg</a></li>
  <li><a href="index.html?a=M005151&name=test_process_without_flash" >test_process_without_flash</a></li>
  <li><a href="index.html?a=M005149&name=test_raw_post_handling" >test_raw_post_handling</a></li>
  <li><a href="index.html?a=M005202&name=test_redirect_url_only_cares_about_location_header" >test_redirect_url_only_cares_about_location_header</a></li>
  <li><a href="index.html?a=M005193&name=test_remote_addr" >test_remote_addr</a></li>
  <li><a href="index.html?a=M005156&name=test_session_is_cleared_from_controller_after_reset_session" >test_session_is_cleared_from_controller_after_reset_session</a></li>
  <li><a href="index.html?a=M005158&name=test_session_is_cleared_from_request_after_reset_session" >test_session_is_cleared_from_request_after_reset_session</a></li>
  <li><a href="index.html?a=M005157&name=test_session_is_cleared_from_response_after_reset_session" >test_session_is_cleared_from_response_after_reset_session</a></li>
  <li><a href="index.html?a=M005181&name=test_should_not_impose_childless_html_tags_in_xml" >test_should_not_impose_childless_html_tags_in_xml</a></li>
  <li><a href="index.html?a=M005197&name=test_test_uploaded_file" >test_test_uploaded_file</a></li>
  <li><a href="index.html?a=M005201&name=test_test_uploaded_file_exception_when_file_doesnt_exist" >test_test_uploaded_file_exception_when_file_doesnt_exist</a></li>
  <li><a href="index.html?a=M005198&name=test_test_uploaded_file_with_binary" >test_test_uploaded_file_with_binary</a></li>
  <li><a href="index.html?a=M005192&name=test_with_routing_places_routes_back" >test_with_routing_places_routes_back</a></li>
  <li><a href="index.html?a=M005204&name=with_foo_routing" >with_foo_routing</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/TestTest/TestController.html');" class="link">TestTest::TestController</a>"<br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">FILES_DIR</td>
    <td>=</td>
    <td class="attr-value">File.dirname(__FILE__) + '/../fixtures/multipart'</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">READ_BINARY</td>
    <td>=</td>
    <td class="attr-value">'rb'</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">READ_PLAIN</td>
    <td>=</td>
    <td class="attr-value">'r'</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">READ_BINARY</td>
    <td>=</td>
    <td class="attr-value">'rb:binary'</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">READ_PLAIN</td>
    <td>=</td>
    <td class="attr-value">'r:binary'</td>
  </tr>
  </table>


<div class="sectiontitle">Public Instance methods</div>
<div id="M005147" class="method">
  <div id="M005147_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005147_source')" id="l_M005147_source">show source</a> ]</p>
  <div id="M005147_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
124:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">TestController</span>.<span class="ruby-identifier">new</span>
125:     <span class="ruby-ivar">@request</span>    = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
126:     <span class="ruby-ivar">@response</span>   = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>.<span class="ruby-identifier">new</span>
127:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">use_controllers!</span> <span class="ruby-node">%w(content admin/user test_test/test)</span>
128:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">load_routes!</span>
129:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005148" class="method">
  <div id="M005148_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005148_source')" id="l_M005148_source">show source</a> ]</p>
  <div id="M005148_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 131</span>
131:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
132:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">reload</span>
133:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005190" class="method">
  <div id="M005190_title" class="title">
    <b>test_array_path_parameter_handled_properly</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005190_source')" id="l_M005190_source">show source</a> ]</p>
  <div id="M005190_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 464</span>
464:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_path_parameter_handled_properly</span>
465:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
466:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
467:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'file/*path'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test_test/test'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test_params'</span>
468:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
469:       <span class="ruby-keyword kw">end</span>
470: 
471:       <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_params</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">'hello'</span>, <span class="ruby-value str">'world'</span>]
472:       <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">'hello'</span>, <span class="ruby-value str">'world'</span>], <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-value str">'path'</span>]
473:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'hello/world'</span>, <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-value str">'path'</span>].<span class="ruby-identifier">to_s</span>
474:     <span class="ruby-keyword kw">end</span>
475:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005184" class="method">
  <div id="M005184_title" class="title">
    <b>test_assert_generates</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005184_source')" id="l_M005184_source">show source</a> ]</p>
  <div id="M005184_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 426</span>
426:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_generates</span>
427:     <span class="ruby-identifier">assert_generates</span> <span class="ruby-value str">'controller/action/5'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'controller'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5'</span>
428:     <span class="ruby-identifier">assert_generates</span> <span class="ruby-value str">'controller/action/7'</span>, {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;controller&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;action&quot;</span>}
429:     <span class="ruby-identifier">assert_generates</span> <span class="ruby-value str">'controller/action/5'</span>, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;controller&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;action&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bob&quot;</span>}, {}, {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bob&quot;</span>}
430:     <span class="ruby-identifier">assert_generates</span> <span class="ruby-value str">'controller/action/7'</span>, {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bob&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;controller&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;action&quot;</span>}, {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bob&quot;</span>}
431:     <span class="ruby-identifier">assert_generates</span> <span class="ruby-value str">'controller/action/7'</span>, {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;controller&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;action&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bob&quot;</span>}, {}
432:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005191" class="method">
  <div id="M005191_title" class="title">
    <b>test_assert_realistic_path_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005191_source')" id="l_M005191_source">show source</a> ]</p>
  <div id="M005191_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 477</span>
477:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_realistic_path_parameters</span>
478:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_params</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">20</span>, <span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
479: 
480:     <span class="ruby-comment cmt"># All elements of path_parameters should use string keys</span>
481:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">path_parameters</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
482:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">key</span>
483:     <span class="ruby-keyword kw">end</span>
484:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005185" class="method">
  <div id="M005185_title" class="title">
    <b>test_assert_routing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005185_source')" id="l_M005185_source">show source</a> ]</p>
  <div id="M005185_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 434</span>
434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_routing</span>
435:     <span class="ruby-identifier">assert_routing</span> <span class="ruby-value str">'content'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'content'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
436:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005187" class="method">
  <div id="M005187_title" class="title">
    <b>test_assert_routing_in_module</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005187_source')" id="l_M005187_source">show source</a> ]</p>
  <div id="M005187_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 445</span>
445:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_routing_in_module</span>
446:     <span class="ruby-identifier">assert_routing</span> <span class="ruby-value str">'admin/user'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/user'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
447:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005186" class="method">
  <div id="M005186_title" class="title">
    <b>test_assert_routing_with_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005186_source')" id="l_M005186_source">show source</a> ]</p>
  <div id="M005186_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 438</span>
438:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_routing_with_method</span>
439:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
440:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span>(<span class="ruby-identifier">:content</span>) }
441:       <span class="ruby-identifier">assert_routing</span>({ <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'content'</span> }, { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'content'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'create'</span> })
442:     <span class="ruby-keyword kw">end</span>
443:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005172" class="method">
  <div id="M005172_title" class="title">
    <b>test_assert_tag_after</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005172_source')" id="l_M005172_source">show source</a> ]</p>
  <div id="M005172_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 296</span>
296:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_after</span>
297:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
298: 
299:     <span class="ruby-comment cmt"># there is a tag following a sibling 'div' tag</span>
300:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;div&quot;</span> }
301:     <span class="ruby-comment cmt"># there is no tag following a sibling tag with id 'bar'</span>
302:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span> } }
303:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005169" class="method">
  <div id="M005169_title" class="title">
    <b>test_assert_tag_ancestor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005169_source')" id="l_M005169_source">show source</a> ]</p>
  <div id="M005169_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 269</span>
269:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_ancestor</span>
270:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
271: 
272:     <span class="ruby-comment cmt"># there is a 'li' tag with an ancestor having an id of 'foo'</span>
273:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:ancestor</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span> } }, <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;li&quot;</span>
274:     <span class="ruby-comment cmt"># there is no tag of any kind with an ancestor having an href matching 'foo'</span>
275:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:ancestor</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/foo/</span> } }
276:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005182" class="method">
  <div id="M005182_title" class="title">
    <b>test_assert_tag_attribute_matching</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005182_source')" id="l_M005182_source">show source</a> ]</p>
  <div id="M005182_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 409</span>
409:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_attribute_matching</span>
410:     <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span> = <span class="ruby-value str">'&lt;input type=&quot;text&quot; name=&quot;my_name&quot;&gt;'</span>
411:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'input'</span>,
412:                  <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/my/</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text'</span> }
413:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'input'</span>,
414:                  <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'my'</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text'</span> }
415:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'input'</span>,
416:                  <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/^my$/</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text'</span> }
417:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005166" class="method">
  <div id="M005166_title" class="title">
    <b>test_assert_tag_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005166_source')" id="l_M005166_source">show source</a> ]</p>
  <div id="M005166_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 242</span>
242:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_attributes</span>
243:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
244: 
245:     <span class="ruby-comment cmt"># there is a tag with an 'id' of 'bar'</span>
246:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span> }
247:     <span class="ruby-comment cmt"># there is no tag with a 'name' of 'baz'</span>
248:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;baz&quot;</span> }
249:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005173" class="method">
  <div id="M005173_title" class="title">
    <b>test_assert_tag_before</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005173_source')" id="l_M005173_source">show source</a> ]</p>
  <div id="M005173_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 305</span>
305:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_before</span>
306:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
307: 
308:     <span class="ruby-comment cmt"># there is a tag preceding a tag with id 'bar'</span>
309:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:before</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span> } }
310:     <span class="ruby-comment cmt"># there is no tag preceding a 'form' tag</span>
311:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:before</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;form&quot;</span> }
312:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005168" class="method">
  <div id="M005168_title" class="title">
    <b>test_assert_tag_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005168_source')" id="l_M005168_source">show source</a> ]</p>
  <div id="M005168_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 260</span>
260:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_child</span>
261:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
262: 
263:     <span class="ruby-comment cmt"># there is a tag with a child 'input' tag</span>
264:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:child</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;input&quot;</span> }
265:     <span class="ruby-comment cmt"># there is no tag with a child 'strong' tag</span>
266:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:child</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;strong&quot;</span> }
267:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005174" class="method">
  <div id="M005174_title" class="title">
    <b>test_assert_tag_children_count</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005174_source')" id="l_M005174_source">show source</a> ]</p>
  <div id="M005174_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 314</span>
314:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_children_count</span>
315:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
316: 
317:     <span class="ruby-comment cmt"># there is a tag with 2 children</span>
318:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
319:     <span class="ruby-comment cmt"># in particular, there is a &lt;ul&gt; tag with two children (a nameless pair of &lt;li&gt;s)</span>
320:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'ul'</span>, <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
321:     <span class="ruby-comment cmt"># there is no tag with 4 children</span>
322:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span> }
323:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005176" class="method">
  <div id="M005176_title" class="title">
    <b>test_assert_tag_children_greater_than</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005176_source')" id="l_M005176_source">show source</a> ]</p>
  <div id="M005176_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 334</span>
334:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_children_greater_than</span>
335:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
336: 
337:     <span class="ruby-comment cmt"># there is a 'body' tag with more than 1 children</span>
338:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:greater_than</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }, <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;body&quot;</span>
339:     <span class="ruby-comment cmt"># there is no tag with more than 10 children</span>
340:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:greater_than</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
341:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005175" class="method">
  <div id="M005175_title" class="title">
    <b>test_assert_tag_children_less_than</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005175_source')" id="l_M005175_source">show source</a> ]</p>
  <div id="M005175_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 325</span>
325:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_children_less_than</span>
326:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
327: 
328:     <span class="ruby-comment cmt"># there is a tag with less than 5 children</span>
329:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:less_than</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span> }
330:     <span class="ruby-comment cmt"># there is no 'ul' tag with less than 2 children</span>
331:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:less_than</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }, <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;ul&quot;</span>
332:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005177" class="method">
  <div id="M005177_title" class="title">
    <b>test_assert_tag_children_only</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005177_source')" id="l_M005177_source">show source</a> ]</p>
  <div id="M005177_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 343</span>
343:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_children_only</span>
344:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
345: 
346:     <span class="ruby-comment cmt"># there is a tag containing only one child with an id of 'foo'</span>
347:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
348:                               <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span> } } }
349:     <span class="ruby-comment cmt"># there is no tag containing only one 'li' child</span>
350:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;li&quot;</span> } }
351:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005180" class="method">
  <div id="M005180_title" class="title">
    <b>test_assert_tag_children_without_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005180_source')" id="l_M005180_source">show source</a> ]</p>
  <div id="M005180_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 379</span>
379:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_children_without_content</span>
380:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
381: 
382:     <span class="ruby-comment cmt"># there is a form tag with an 'input' child which is a self closing tag</span>
383:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;form&quot;</span>,
384:       <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
385:         <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;input&quot;</span> } }
386: 
387:     <span class="ruby-comment cmt"># the body tag has an 'a' child which in turn has an 'img' child</span>
388:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;body&quot;</span>,
389:       <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
390:         <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;a&quot;</span>,
391:           <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
392:             <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;img&quot;</span> } } } }
393:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005178" class="method">
  <div id="M005178_title" class="title">
    <b>test_assert_tag_content</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005178_source')" id="l_M005178_source">show source</a> ]</p>
  <div id="M005178_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 353</span>
353:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_content</span>
354:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
355: 
356:     <span class="ruby-comment cmt"># the output contains the string &quot;Name&quot;</span>
357:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/Name/</span>
358:     <span class="ruby-comment cmt"># the output does not contain the string &quot;test&quot;</span>
359:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/test/</span>
360:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005183" class="method">
  <div id="M005183_title" class="title">
    <b>test_assert_tag_content_matching</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005183_source')" id="l_M005183_source">show source</a> ]</p>
  <div id="M005183_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 419</span>
419:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_content_matching</span>
420:     <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span> = <span class="ruby-value str">&quot;&lt;p&gt;hello world&lt;/p&gt;&quot;</span>
421:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello world&quot;</span>
422:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/hello/</span>
423:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>
424:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005170" class="method">
  <div id="M005170_title" class="title">
    <b>test_assert_tag_descendant</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005170_source')" id="l_M005170_source">show source</a> ]</p>
  <div id="M005170_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 278</span>
278:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_descendant</span>
279:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
280: 
281:     <span class="ruby-comment cmt"># there is a tag with a descendant 'li' tag</span>
282:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:descendant</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;li&quot;</span> }
283:     <span class="ruby-comment cmt"># there is no tag with a descendant 'html' tag</span>
284:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:descendant</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;html&quot;</span> }
285:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005179" class="method">
  <div id="M005179_title" class="title">
    <b>test_assert_tag_multiple</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005179_source')" id="l_M005179_source">show source</a> ]</p>
  <div id="M005179_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 362</span>
362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_multiple</span>
363:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
364: 
365:     <span class="ruby-comment cmt"># there is a 'div', id='bar', with an immediate child whose 'action'</span>
366:     <span class="ruby-comment cmt"># attribute matches the regexp /somewhere/.</span>
367:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span> },
368:                <span class="ruby-identifier">:child</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/somewhere/</span> } }
369: 
370:     <span class="ruby-comment cmt"># there is no 'div', id='foo', with a 'ul' child with more than</span>
371:     <span class="ruby-comment cmt"># 2 &quot;li&quot; children.</span>
372:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span> },
373:                   <span class="ruby-identifier">:child</span> =<span class="ruby-operator">&gt;</span> {
374:                     <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;ul&quot;</span>,
375:                     <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:greater_than</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>,
376:                                    <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;li&quot;</span> } } }
377:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005167" class="method">
  <div id="M005167_title" class="title">
    <b>test_assert_tag_parent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005167_source')" id="l_M005167_source">show source</a> ]</p>
  <div id="M005167_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_parent</span>
252:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
253: 
254:     <span class="ruby-comment cmt"># there is a tag with a parent 'form' tag</span>
255:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:parent</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;form&quot;</span> }
256:     <span class="ruby-comment cmt"># there is no tag with a parent of 'input'</span>
257:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:parent</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;input&quot;</span> }
258:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005171" class="method">
  <div id="M005171_title" class="title">
    <b>test_assert_tag_sibling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005171_source')" id="l_M005171_source">show source</a> ]</p>
  <div id="M005171_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 287</span>
287:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_sibling</span>
288:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
289: 
290:     <span class="ruby-comment cmt"># there is a tag with a sibling of class 'item'</span>
291:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:sibling</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:attributes</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;item&quot;</span> } }
292:     <span class="ruby-comment cmt"># there is no tag with a sibling 'ul' tag</span>
293:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:sibling</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;ul&quot;</span> }
294:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005165" class="method">
  <div id="M005165_title" class="title">
    <b>test_assert_tag_tag</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005165_source')" id="l_M005165_source">show source</a> ]</p>
  <div id="M005165_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 233</span>
233:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_tag</span>
234:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_html_output</span>
235: 
236:     <span class="ruby-comment cmt"># there is a 'form' tag</span>
237:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'form'</span>
238:     <span class="ruby-comment cmt"># there is not an 'hr' tag</span>
239:     <span class="ruby-identifier">assert_no_tag</span> <span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'hr'</span>
240:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005203" class="method">
  <div id="M005203_title" class="title">
    <b>test_binary_content_works_with_send_file</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005203_source')" id="l_M005203_source">show source</a> ]</p>
  <div id="M005203_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 621</span>
621:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_binary_content_works_with_send_file</span>
622:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_send_file</span>
623:     <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">binary_content</span> }
624:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005150" class="method">
  <div id="M005150_title" class="title">
    <b>test_body_stream</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005150_source')" id="l_M005150_source">show source</a> ]</p>
  <div id="M005150_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 142</span>
142:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_body_stream</span>
143:     <span class="ruby-identifier">params</span> = { <span class="ruby-identifier">:page</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'page name'</span> }, <span class="ruby-value str">'some key'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">123</span> }
144: 
145:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:render_body</span>, <span class="ruby-identifier">params</span>.<span class="ruby-identifier">dup</span>
146: 
147:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">to_query</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
148:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005200" class="method">
  <div id="M005200_title" class="title">
    <b>test_fixture_file_upload</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005200_source')" id="l_M005200_source">show source</a> ]</p>
  <div id="M005200_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 598</span>
598:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fixture_file_upload</span>
599:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:test_file_upload</span>, <span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">fixture_file_upload</span>(<span class="ruby-constant">FILES_DIR</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;/mona_lisa.jpg&quot;</span>, <span class="ruby-value str">&quot;image/jpg&quot;</span>)
600:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'159528'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
601:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005199" class="method">
  <div id="M005199_title" class="title">
    <b>test_fixture_file_upload_with_binary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005199_source')" id="l_M005199_source">show source</a> ]</p>
  <div id="M005199_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 586</span>
586:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fixture_file_upload_with_binary</span>
587:     <span class="ruby-identifier">filename</span> = <span class="ruby-value str">'mona_lisa.jpg'</span>
588:     <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;#{FILES_DIR}/#{filename}&quot;</span>
589:     <span class="ruby-identifier">content_type</span> = <span class="ruby-value str">'image/jpg'</span>
590: 
591:     <span class="ruby-identifier">binary_file_upload</span> = <span class="ruby-identifier">fixture_file_upload</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span>, <span class="ruby-identifier">:binary</span>)
592:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-constant">READ_BINARY</span>).<span class="ruby-identifier">read</span>, <span class="ruby-identifier">binary_file_upload</span>.<span class="ruby-identifier">read</span>
593: 
594:     <span class="ruby-identifier">plain_file_upload</span> = <span class="ruby-identifier">fixture_file_upload</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span>)
595:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-constant">READ_PLAIN</span>).<span class="ruby-identifier">read</span>, <span class="ruby-identifier">plain_file_upload</span>.<span class="ruby-identifier">read</span>
596:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005195" class="method">
  <div id="M005195_title" class="title">
    <b>test_header_properly_reset_after_get_request</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005195_source')" id="l_M005195_source">show source</a> ]</p>
  <div id="M005195_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 514</span>
514:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_header_properly_reset_after_get_request</span>
515:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_params</span>
516:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">recycle!</span>
517:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">&quot;@request_method&quot;</span>)
518:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005194" class="method">
  <div id="M005194_title" class="title">
    <b>test_header_properly_reset_after_remote_http_request</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005194_source')" id="l_M005194_source">show source</a> ]</p>
  <div id="M005194_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 509</span>
509:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_header_properly_reset_after_remote_http_request</span>
510:     <span class="ruby-identifier">xhr</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:test_params</span>
511:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">'HTTP_X_REQUESTED_WITH'</span>]
512:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005189" class="method">
  <div id="M005189_title" class="title">
    <b>test_id_converted_to_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005189_source')" id="l_M005189_source">show source</a> ]</p>
  <div id="M005189_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 459</span>
459:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_converted_to_string</span>
460:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_params</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">20</span>, <span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
461:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-value str">'id'</span>]
462:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005164" class="method">
  <div id="M005164_title" class="title">
    <b>test_multiple_calls</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005164_source')" id="l_M005164_source">show source</a> ]</p>
  <div id="M005164_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 226</span>
226:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_calls</span>
227:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_only_one_param</span>, <span class="ruby-identifier">:left</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
228:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;OK&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
229:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_only_one_param</span>, <span class="ruby-identifier">:right</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;OK&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
231:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005188" class="method">
  <div id="M005188_title" class="title">
    <b>test_params_passing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005188_source')" id="l_M005188_source">show source</a> ]</p>
  <div id="M005188_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_params_passing</span>
450:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_params</span>, <span class="ruby-identifier">:page</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Page name&quot;</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'4'</span>, <span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2004'</span>, <span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'6'</span>}
451:     <span class="ruby-identifier">parsed_params</span> = <span class="ruby-identifier">eval</span>(<span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>)
452:     <span class="ruby-identifier">assert_equal</span>(
453:       {<span class="ruby-value str">'controller'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test_test/test'</span>, <span class="ruby-value str">'action'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test_params'</span>,
454:        <span class="ruby-value str">'page'</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">'name'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Page name&quot;</span>, <span class="ruby-value str">'month'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'4'</span>, <span class="ruby-value str">'year'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2004'</span>, <span class="ruby-value str">'day'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'6'</span>}},
455:       <span class="ruby-identifier">parsed_params</span>
456:     )
457:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005196" class="method">
  <div id="M005196_title" class="title">
    <b>test_params_reset_after_post_request</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005196_source')" id="l_M005196_source">show source</a> ]</p>
  <div id="M005196_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 520</span>
520:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_params_reset_after_post_request</span>
521:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:no_op</span>, <span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>
522:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:foo</span>]
523:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">recycle!</span>
524:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:no_op</span>
525:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:foo</span>].<span class="ruby-identifier">blank?</span>
526:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005152" class="method">
  <div id="M005152_title" class="title">
    <b>test_process_with_flash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005152_source')" id="l_M005152_source">show source</a> ]</p>
  <div id="M005152_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 155</span>
155:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_flash</span>
156:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_flash</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, { <span class="ruby-value str">&quot;test&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;value&quot;</span> }
157:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&gt;value&lt;'</span>, <span class="ruby-identifier">flash</span>[<span class="ruby-value str">'test'</span>]
158:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005153" class="method">
  <div id="M005153_title" class="title">
    <b>test_process_with_flash_now</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005153_source')" id="l_M005153_source">show source</a> ]</p>
  <div id="M005153_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 160</span>
160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_flash_now</span>
161:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_flash_now</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, { <span class="ruby-value str">&quot;test_now&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;value_now&quot;</span> }
162:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&gt;value_now&lt;'</span>, <span class="ruby-identifier">flash</span>[<span class="ruby-value str">'test_now'</span>]
163:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005162" class="method">
  <div id="M005162_title" class="title">
    <b>test_process_with_query_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005162_source')" id="l_M005162_source">show source</a> ]</p>
  <div id="M005162_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_query_string</span>
216:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_query_string</span>, <span class="ruby-identifier">:q</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test'</span>
217:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;q=test&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
218:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005163" class="method">
  <div id="M005163_title" class="title">
    <b>test_process_with_query_string_with_explicit_uri</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005163_source')" id="l_M005163_source">show source</a> ]</p>
  <div id="M005163_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 220</span>
220:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_query_string_with_explicit_uri</span>
221:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">set_REQUEST_URI</span> <span class="ruby-value str">&quot;/explicit/uri?q=test?extra=question&quot;</span>
222:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_query_string</span>
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;q=test?extra=question&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
224:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005159" class="method">
  <div id="M005159_title" class="title">
    <b>test_process_with_request_uri_with_no_params</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005159_source')" id="l_M005159_source">show source</a> ]</p>
  <div id="M005159_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 199</span>
199:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_request_uri_with_no_params</span>
200:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_uri</span>
201:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/test_test/test/test_uri&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
202:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005160" class="method">
  <div id="M005160_title" class="title">
    <b>test_process_with_request_uri_with_params</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005160_source')" id="l_M005160_source">show source</a> ]</p>
  <div id="M005160_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 204</span>
204:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_request_uri_with_params</span>
205:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_uri</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>
206:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/test_test/test/test_uri/7&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
207:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005161" class="method">
  <div id="M005161_title" class="title">
    <b>test_process_with_request_uri_with_params_with_explicit_uri</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005161_source')" id="l_M005161_source">show source</a> ]</p>
  <div id="M005161_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 209</span>
209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_request_uri_with_params_with_explicit_uri</span>
210:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">set_REQUEST_URI</span> <span class="ruby-value str">&quot;/explicit/uri&quot;</span>
211:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_uri</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>
212:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/explicit/uri&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
213:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005154" class="method">
  <div id="M005154_title" class="title">
    <b>test_process_with_session</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005154_source')" id="l_M005154_source">show source</a> ]</p>
  <div id="M005154_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 165</span>
165:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_session</span>
166:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_session</span>
167:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'A wonder'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-value str">'string'</span>], <span class="ruby-value str">&quot;A value stored in the session should be available by string key&quot;</span>
168:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'A wonder'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:string</span>], <span class="ruby-value str">&quot;Test session hash should allow indifferent access&quot;</span>
169:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'it works'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-value str">'symbol'</span>], <span class="ruby-value str">&quot;Test session hash should allow indifferent access&quot;</span>
170:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'it works'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:symbol</span>], <span class="ruby-value str">&quot;Test session hash should allow indifferent access&quot;</span>
171:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005155" class="method">
  <div id="M005155_title" class="title">
    <b>test_process_with_session_arg</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005155_source')" id="l_M005155_source">show source</a> ]</p>
  <div id="M005155_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_with_session_arg</span>
174:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:no_op</span>, <span class="ruby-keyword kw">nil</span>, { <span class="ruby-value str">'string'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'value1'</span>, <span class="ruby-identifier">:symbol</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'value2'</span> }
175:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'value1'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-value str">'string'</span>]
176:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'value1'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:string</span>]
177:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'value2'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-value str">'symbol'</span>]
178:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'value2'</span>, <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:symbol</span>]
179:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005151" class="method">
  <div id="M005151_title" class="title">
    <b>test_process_without_flash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005151_source')" id="l_M005151_source">show source</a> ]</p>
  <div id="M005151_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 150</span>
150:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_process_without_flash</span>
151:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_flash</span>
152:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'&gt;&lt;'</span>, <span class="ruby-identifier">flash</span>[<span class="ruby-value str">'test'</span>]
153:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005149" class="method">
  <div id="M005149_title" class="title">
    <b>test_raw_post_handling</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005149_source')" id="l_M005149_source">show source</a> ]</p>
  <div id="M005149_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 135</span>
135:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_raw_post_handling</span>
136:     <span class="ruby-identifier">params</span> = {<span class="ruby-identifier">:page</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'page name'</span>}, <span class="ruby-value str">'some key'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">123</span>}
137:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:render_raw_post</span>, <span class="ruby-identifier">params</span>.<span class="ruby-identifier">dup</span>
138: 
139:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">to_query</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
140:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005202" class="method">
  <div id="M005202_title" class="title">
    <b>test_redirect_url_only_cares_about_location_header</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005202_source')" id="l_M005202_source">show source</a> ]</p>
  <div id="M005202_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 607</span>
607:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_url_only_cares_about_location_header</span>
608:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:create</span>
609:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:created</span>
610: 
611:     <span class="ruby-comment cmt"># Redirect url doesn't care that it wasn't a :redirect response.</span>
612:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'created resource'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
613:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>, <span class="ruby-identifier">redirect_to_url</span>
614: 
615:     <span class="ruby-comment cmt"># Must be a :redirect response.</span>
616:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
617:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'created resource'</span>
618:     <span class="ruby-keyword kw">end</span>
619:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005193" class="method">
  <div id="M005193_title" class="title">
    <b>test_remote_addr</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005193_source')" id="l_M005193_source">show source</a> ]</p>
  <div id="M005193_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 500</span>
500:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_remote_addr</span>
501:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_remote_addr</span>
502:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;0.0.0.0&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
503: 
504:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">remote_addr</span> = <span class="ruby-value str">&quot;192.0.0.1&quot;</span>
505:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:test_remote_addr</span>
506:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;192.0.0.1&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
507:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005156" class="method">
  <div id="M005156_title" class="title">
    <b>test_session_is_cleared_from_controller_after_reset_session</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005156_source')" id="l_M005156_source">show source</a> ]</p>
  <div id="M005156_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 181</span>
181:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_session_is_cleared_from_controller_after_reset_session</span>
182:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_session</span>
183:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:reset_the_session</span>
184:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">session</span>.<span class="ruby-identifier">to_hash</span>
185:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005158" class="method">
  <div id="M005158_title" class="title">
    <b>test_session_is_cleared_from_request_after_reset_session</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005158_source')" id="l_M005158_source">show source</a> ]</p>
  <div id="M005158_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_session_is_cleared_from_request_after_reset_session</span>
194:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_session</span>
195:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:reset_the_session</span>
196:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">session</span>.<span class="ruby-identifier">to_hash</span>
197:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005157" class="method">
  <div id="M005157_title" class="title">
    <b>test_session_is_cleared_from_response_after_reset_session</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005157_source')" id="l_M005157_source">show source</a> ]</p>
  <div id="M005157_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 187</span>
187:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_session_is_cleared_from_response_after_reset_session</span>
188:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:set_session</span>
189:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:reset_the_session</span>
190:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">session</span>.<span class="ruby-identifier">to_hash</span>
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005181" class="method">
  <div id="M005181_title" class="title">
    <b>test_should_not_impose_childless_html_tags_in_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005181_source')" id="l_M005181_source">show source</a> ]</p>
  <div id="M005181_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 395</span>
395:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_impose_childless_html_tags_in_xml</span>
396:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:test_xml_output</span>
397: 
398:     <span class="ruby-keyword kw">begin</span>
399:       <span class="ruby-identifier">$stderr</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
400:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">'area'</span> <span class="ruby-comment cmt">#This will cause a warning if content is processed as HTML</span>
401:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">rewind</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">err</span> = <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">read</span>
402:     <span class="ruby-keyword kw">ensure</span>
403:       <span class="ruby-identifier">$stderr</span> = <span class="ruby-constant">STDERR</span>
404:     <span class="ruby-keyword kw">end</span>
405: 
406:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">err</span>.<span class="ruby-identifier">empty?</span>
407:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005197" class="method">
  <div id="M005197_title" class="title">
    <b>test_test_uploaded_file</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005197_source')" id="l_M005197_source">show source</a> ]</p>
  <div id="M005197_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 555</span>
555:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_test_uploaded_file</span>
556:     <span class="ruby-identifier">filename</span> = <span class="ruby-value str">'mona_lisa.jpg'</span>
557:     <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;#{FILES_DIR}/#{filename}&quot;</span>
558:     <span class="ruby-identifier">content_type</span> = <span class="ruby-value str">'image/png'</span>
559:     <span class="ruby-identifier">expected</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>)
560:     <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:force_encoding</span>)
561: 
562:     <span class="ruby-identifier">file</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestUploadedFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span>)
563:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">original_filename</span>
564:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">content_type</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">content_type</span>
565:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">local_path</span>
566:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">read</span>
567: 
568:     <span class="ruby-identifier">new_content_type</span> = <span class="ruby-value str">&quot;new content_type&quot;</span>
569:     <span class="ruby-identifier">file</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">new_content_type</span>
570:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">new_content_type</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">content_type</span>
571: 
572:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005201" class="method">
  <div id="M005201_title" class="title">
    <b>test_test_uploaded_file_exception_when_file_doesnt_exist</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005201_source')" id="l_M005201_source">show source</a> ]</p>
  <div id="M005201_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 603</span>
603:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_test_uploaded_file_exception_when_file_doesnt_exist</span>
604:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestUploadedFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'non_existent_file'</span>) }
605:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005198" class="method">
  <div id="M005198_title" class="title">
    <b>test_test_uploaded_file_with_binary</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005198_source')" id="l_M005198_source">show source</a> ]</p>
  <div id="M005198_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 574</span>
574:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_test_uploaded_file_with_binary</span>
575:     <span class="ruby-identifier">filename</span> = <span class="ruby-value str">'mona_lisa.jpg'</span>
576:     <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;#{FILES_DIR}/#{filename}&quot;</span>
577:     <span class="ruby-identifier">content_type</span> = <span class="ruby-value str">'image/png'</span>
578: 
579:     <span class="ruby-identifier">binary_uploaded_file</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestUploadedFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span>, <span class="ruby-identifier">:binary</span>)
580:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-constant">READ_BINARY</span>).<span class="ruby-identifier">read</span>, <span class="ruby-identifier">binary_uploaded_file</span>.<span class="ruby-identifier">read</span>
581: 
582:     <span class="ruby-identifier">plain_uploaded_file</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestUploadedFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content_type</span>)
583:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-constant">READ_PLAIN</span>).<span class="ruby-identifier">read</span>, <span class="ruby-identifier">plain_uploaded_file</span>.<span class="ruby-identifier">read</span>
584:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M005192" class="method">
  <div id="M005192_title" class="title">
    <b>test_with_routing_places_routes_back</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005192_source')" id="l_M005192_source">show source</a> ]</p>
  <div id="M005192_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 486</span>
486:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_routing_places_routes_back</span>
487:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>
488:     <span class="ruby-identifier">routes_id</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">object_id</span>
489: 
490:     <span class="ruby-keyword kw">begin</span>
491:       <span class="ruby-identifier">with_routing</span> { <span class="ruby-identifier">raise</span> <span class="ruby-value str">'fail'</span> }
492:       <span class="ruby-identifier">fail</span> <span class="ruby-value str">'Should not be here.'</span>
493:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">RuntimeError</span>
494:     <span class="ruby-keyword kw">end</span>
495: 
496:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>
497:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">routes_id</span>, <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">object_id</span>
498:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M005204" class="method">
  <div id="M005204_title" class="title">
    <b>with_foo_routing</b>() {|set| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M005204_source')" id="l_M005204_source">show source</a> ]</p>
  <div id="M005204_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/test_test.rb, line 627</span>
627:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_foo_routing</span>
628:       <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
629:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
630:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">generate_url</span> <span class="ruby-value str">'foo'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test'</span>
631:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>      <span class="ruby-value str">':controller/:action/:id'</span>
632:         <span class="ruby-keyword kw">end</span>
633:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">set</span>
634:       <span class="ruby-keyword kw">end</span>
635:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>