  <div id="C00000023">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />ResourcesTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/resources_test_rb.html');">actionpack/test/controller/resources_test.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000234&name=assert_named_route" >assert_named_route</a></li>
  <li><a href="index.html?a=M000239&name=assert_not_recognizes" >assert_not_recognizes</a></li>
  <li><a href="index.html?a=M000236&name=assert_resource_allowed_routes" >assert_resource_allowed_routes</a></li>
  <li><a href="index.html?a=M000235&name=assert_resource_methods" >assert_resource_methods</a></li>
  <li><a href="index.html?a=M000231&name=assert_restful_named_routes_for" >assert_restful_named_routes_for</a></li>
  <li><a href="index.html?a=M000230&name=assert_restful_routes_for" >assert_restful_routes_for</a></li>
  <li><a href="index.html?a=M000228&name=assert_simply_restful_for" >assert_simply_restful_for</a></li>
  <li><a href="index.html?a=M000233&name=assert_singleton_named_routes_for" >assert_singleton_named_routes_for</a></li>
  <li><a href="index.html?a=M000237&name=assert_singleton_resource_allowed_routes" >assert_singleton_resource_allowed_routes</a></li>
  <li><a href="index.html?a=M000229&name=assert_singleton_restful_for" >assert_singleton_restful_for</a></li>
  <li><a href="index.html?a=M000232&name=assert_singleton_routes_for" >assert_singleton_routes_for</a></li>
  <li><a href="index.html?a=M000238&name=assert_whether_allowed" >assert_whether_allowed</a></li>
  <li><a href="index.html?a=M000240&name=distinct_routes?" >distinct_routes?</a></li>
  <li><a href="index.html?a=M000141&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000142&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M000168&name=test_array_as_collection_or_member_method_value" >test_array_as_collection_or_member_method_value</a></li>
  <li><a href="index.html?a=M000147&name=test_default_restful_routes" >test_default_restful_routes</a></li>
  <li><a href="index.html?a=M000225&name=test_default_singleton_restful_route_uses_get" >test_default_singleton_restful_route_uses_get</a></li>
  <li><a href="index.html?a=M000155&name=test_irregular_id_requirements_should_get_passed_to_member_actions" >test_irregular_id_requirements_should_get_passed_to_member_actions</a></li>
  <li><a href="index.html?a=M000152&name=test_irregular_id_with_no_requirements_should_raise_error" >test_irregular_id_with_no_requirements_should_raise_error</a></li>
  <li><a href="index.html?a=M000153&name=test_irregular_id_with_requirements_should_pass" >test_irregular_id_with_requirements_should_pass</a></li>
  <li><a href="index.html?a=M000166&name=test_member_when_changed_default_restful_actions_and_path_names_not_specified" >test_member_when_changed_default_restful_actions_and_path_names_not_specified</a></li>
  <li><a href="index.html?a=M000165&name=test_member_when_override_paths_for_default_restful_actions_with" >test_member_when_override_paths_for_default_restful_actions_with</a></li>
  <li><a href="index.html?a=M000150&name=test_multiple_default_restful_routes" >test_multiple_default_restful_routes</a></li>
  <li><a href="index.html?a=M000157&name=test_multiple_with_path_prefix" >test_multiple_with_path_prefix</a></li>
  <li><a href="index.html?a=M000205&name=test_multiple_with_path_segment_and_controller" >test_multiple_with_path_segment_and_controller</a></li>
  <li><a href="index.html?a=M000223&name=test_nested_resource_does_not_inherit_except_option" >test_nested_resource_does_not_inherit_except_option</a></li>
  <li><a href="index.html?a=M000224&name=test_nested_resource_does_not_inherit_except_option_by_default" >test_nested_resource_does_not_inherit_except_option_by_default</a></li>
  <li><a href="index.html?a=M000221&name=test_nested_resource_does_not_inherit_only_option" >test_nested_resource_does_not_inherit_only_option</a></li>
  <li><a href="index.html?a=M000222&name=test_nested_resource_does_not_inherit_only_option_by_default" >test_nested_resource_does_not_inherit_only_option_by_default</a></li>
  <li><a href="index.html?a=M000220&name=test_nested_resource_has_only_show_and_member_action" >test_nested_resource_has_only_show_and_member_action</a></li>
  <li><a href="index.html?a=M000203&name=test_nested_resources_in_nested_namespace" >test_nested_resources_in_nested_namespace</a></li>
  <li><a href="index.html?a=M000202&name=test_nested_resources_using_namespace" >test_nested_resources_using_namespace</a></li>
  <li><a href="index.html?a=M000173&name=test_nested_restful_routes" >test_nested_restful_routes</a></li>
  <li><a href="index.html?a=M000174&name=test_nested_restful_routes_with_overwritten_defaults" >test_nested_restful_routes_with_overwritten_defaults</a></li>
  <li><a href="index.html?a=M000195&name=test_new_style_named_routes_for_resource" >test_new_style_named_routes_for_resource</a></li>
  <li><a href="index.html?a=M000196&name=test_new_style_named_routes_for_singleton_resource" >test_new_style_named_routes_for_singleton_resource</a></li>
  <li><a href="index.html?a=M000172&name=test_override_new_method" >test_override_new_method</a></li>
  <li><a href="index.html?a=M000149&name=test_override_paths_for_default_restful_actions" >test_override_paths_for_default_restful_actions</a></li>
  <li><a href="index.html?a=M000148&name=test_override_paths_for_member_and_collection_methods" >test_override_paths_for_member_and_collection_methods</a></li>
  <li><a href="index.html?a=M000194&name=test_resource_action_separator" >test_resource_action_separator</a></li>
  <li><a href="index.html?a=M000209&name=test_resource_does_not_have_destroy_action" >test_resource_does_not_have_destroy_action</a></li>
  <li><a href="index.html?a=M000198&name=test_resource_has_many_in_namespace" >test_resource_has_many_in_namespace</a></li>
  <li><a href="index.html?a=M000181&name=test_resource_has_many_should_become_nested_resources" >test_resource_has_many_should_become_nested_resources</a></li>
  <li><a href="index.html?a=M000199&name=test_resource_has_one_in_namespace" >test_resource_has_one_in_namespace</a></li>
  <li><a href="index.html?a=M000184&name=test_resource_has_one_should_become_nested_resources" >test_resource_has_one_should_become_nested_resources</a></li>
  <li><a href="index.html?a=M000217&name=test_resource_has_only_collection_action" >test_resource_has_only_collection_action</a></li>
  <li><a href="index.html?a=M000211&name=test_resource_has_only_create_action_and_named_route" >test_resource_has_only_create_action_and_named_route</a></li>
  <li><a href="index.html?a=M000213&name=test_resource_has_only_destroy_action_and_named_route" >test_resource_has_only_destroy_action_and_named_route</a></li>
  <li><a href="index.html?a=M000218&name=test_resource_has_only_member_action" >test_resource_has_only_member_action</a></li>
  <li><a href="index.html?a=M000207&name=test_resource_has_only_show_action" >test_resource_has_only_show_action</a></li>
  <li><a href="index.html?a=M000212&name=test_resource_has_only_update_action_and_named_route" >test_resource_has_only_update_action_and_named_route</a></li>
  <li><a href="index.html?a=M000182&name=test_resources_has_many_hash_should_become_nested_resources" >test_resources_has_many_hash_should_become_nested_resources</a></li>
  <li><a href="index.html?a=M000197&name=test_resources_in_namespace" >test_resources_in_namespace</a></li>
  <li><a href="index.html?a=M000200&name=test_resources_in_nested_namespace" >test_resources_in_nested_namespace</a></li>
  <li><a href="index.html?a=M000201&name=test_resources_using_namespace" >test_resources_using_namespace</a></li>
  <li><a href="index.html?a=M000177&name=test_restful_routes_dont_generate_duplicates" >test_restful_routes_dont_generate_duplicates</a></li>
  <li><a href="index.html?a=M000175&name=test_shallow_nested_restful_routes" >test_shallow_nested_restful_routes</a></li>
  <li><a href="index.html?a=M000176&name=test_shallow_nested_restful_routes_with_namespaces" >test_shallow_nested_restful_routes_with_namespaces</a></li>
  <li><a href="index.html?a=M000183&name=test_shallow_resource_has_many_should_become_shallow_nested_resources" >test_shallow_resource_has_many_should_become_shallow_nested_resources</a></li>
  <li><a href="index.html?a=M000185&name=test_shallow_resource_has_one_should_become_shallow_nested_resources" >test_shallow_resource_has_one_should_become_shallow_nested_resources</a></li>
  <li><a href="index.html?a=M000146&name=test_should_all_singleton_paths_be_the_same" >test_should_all_singleton_paths_be_the_same</a></li>
  <li><a href="index.html?a=M000143&name=test_should_arrange_actions" >test_should_arrange_actions</a></li>
  <li><a href="index.html?a=M000179&name=test_should_create_multiple_singleton_resource_routes" >test_should_create_multiple_singleton_resource_routes</a></li>
  <li><a href="index.html?a=M000180&name=test_should_create_nested_singleton_resource_routes" >test_should_create_nested_singleton_resource_routes</a></li>
  <li><a href="index.html?a=M000178&name=test_should_create_singleton_resource_routes" >test_should_create_singleton_resource_routes</a></li>
  <li><a href="index.html?a=M000188&name=test_should_nest_resources_in_singleton_resource" >test_should_nest_resources_in_singleton_resource</a></li>
  <li><a href="index.html?a=M000189&name=test_should_nest_resources_in_singleton_resource_with_path_prefix" >test_should_nest_resources_in_singleton_resource_with_path_prefix</a></li>
  <li><a href="index.html?a=M000190&name=test_should_nest_singleton_resource_in_resources" >test_should_nest_singleton_resource_in_resources</a></li>
  <li><a href="index.html?a=M000191&name=test_should_not_allow_delete_or_put_on_collection_path" >test_should_not_allow_delete_or_put_on_collection_path</a></li>
  <li><a href="index.html?a=M000192&name=test_should_not_allow_invalid_head_method_for_member_routes" >test_should_not_allow_invalid_head_method_for_member_routes</a></li>
  <li><a href="index.html?a=M000193&name=test_should_not_allow_invalid_http_methods_for_member_routes" >test_should_not_allow_invalid_http_methods_for_member_routes</a></li>
  <li><a href="index.html?a=M000145&name=test_should_resource_controller_name_equal_controller_option" >test_should_resource_controller_name_equal_controller_option</a></li>
  <li><a href="index.html?a=M000144&name=test_should_resource_controller_name_equal_resource_name_by_default" >test_should_resource_controller_name_equal_resource_name_by_default</a></li>
  <li><a href="index.html?a=M000210&name=test_singleton_resource_does_not_have_destroy_action" >test_singleton_resource_does_not_have_destroy_action</a></li>
  <li><a href="index.html?a=M000214&name=test_singleton_resource_has_only_create_action_and_named_route" >test_singleton_resource_has_only_create_action_and_named_route</a></li>
  <li><a href="index.html?a=M000216&name=test_singleton_resource_has_only_destroy_action_and_named_route" >test_singleton_resource_has_only_destroy_action_and_named_route</a></li>
  <li><a href="index.html?a=M000219&name=test_singleton_resource_has_only_member_action" >test_singleton_resource_has_only_member_action</a></li>
  <li><a href="index.html?a=M000208&name=test_singleton_resource_has_only_show_action" >test_singleton_resource_has_only_show_action</a></li>
  <li><a href="index.html?a=M000215&name=test_singleton_resource_has_only_update_action_and_named_route" >test_singleton_resource_has_only_update_action_and_named_route</a></li>
  <li><a href="index.html?a=M000186&name=test_singleton_resource_with_member_action" >test_singleton_resource_with_member_action</a></li>
  <li><a href="index.html?a=M000187&name=test_singleton_resource_with_two_member_actions_with_same_method" >test_singleton_resource_with_two_member_actions_with_same_method</a></li>
  <li><a href="index.html?a=M000162&name=test_with_collection_action_and_name_prefix_and_formatted" >test_with_collection_action_and_name_prefix_and_formatted</a></li>
  <li><a href="index.html?a=M000159&name=test_with_collection_actions" >test_with_collection_actions</a></li>
  <li><a href="index.html?a=M000160&name=test_with_collection_actions_and_name_prefix" >test_with_collection_actions_and_name_prefix</a></li>
  <li><a href="index.html?a=M000161&name=test_with_collection_actions_and_name_prefix_and_member_action_with_same_name" >test_with_collection_actions_and_name_prefix_and_member_action_with_same_name</a></li>
  <li><a href="index.html?a=M000151&name=test_with_custom_conditions" >test_with_custom_conditions</a></li>
  <li><a href="index.html?a=M000171&name=test_with_formatted_new_action_with_name_prefix" >test_with_formatted_new_action_with_name_prefix</a></li>
  <li><a href="index.html?a=M000163&name=test_with_member_action" >test_with_member_action</a></li>
  <li><a href="index.html?a=M000164&name=test_with_member_action_and_requirement" >test_with_member_action_and_requirement</a></li>
  <li><a href="index.html?a=M000158&name=test_with_name_prefix" >test_with_name_prefix</a></li>
  <li><a href="index.html?a=M000169&name=test_with_new_action" >test_with_new_action</a></li>
  <li><a href="index.html?a=M000170&name=test_with_new_action_with_name_prefix" >test_with_new_action_with_name_prefix</a></li>
  <li><a href="index.html?a=M000156&name=test_with_path_prefix" >test_with_path_prefix</a></li>
  <li><a href="index.html?a=M000154&name=test_with_path_prefix_requirements" >test_with_path_prefix_requirements</a></li>
  <li><a href="index.html?a=M000204&name=test_with_path_segment" >test_with_path_segment</a></li>
  <li><a href="index.html?a=M000206&name=test_with_path_segment_path_prefix_requirements" >test_with_path_segment_path_prefix_requirements</a></li>
  <li><a href="index.html?a=M000167&name=test_with_two_member_actions_with_same_method" >test_with_two_member_actions_with_same_method</a></li>
  <li><a href="index.html?a=M000226&name=with_restful_routing" >with_restful_routing</a></li>
  <li><a href="index.html?a=M000227&name=with_singleton_resources" >with_singleton_resources</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000141" class="method">
  <div id="M000141_title" class="title">
    <b>setup</b>()
  </div>
  <div class="description">
  <p>
The assertions in these tests are incompatible with the hash method
optimisation. This could indicate user level problems
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000141_source')" id="l_M000141_source">show source</a> ]</p>
  <div id="M000141_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
36:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">optimise_named_routes</span> = <span class="ruby-keyword kw">false</span>
37:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000142" class="method">
  <div id="M000142_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show source</a> ]</p>
  <div id="M000142_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 39</span>
39:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
40:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">optimise_named_routes</span> = <span class="ruby-keyword kw">true</span>
41:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000168" class="method">
  <div id="M000168_title" class="title">
    <b>test_array_as_collection_or_member_method_value</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000168_source')" id="l_M000168_source">show source</a> ]</p>
  <div id="M000168_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 347</span>
347:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_as_collection_or_member_method_value</span>
348:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:search</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:post</span>] }, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:toggle</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:post</span>] } <span class="ruby-keyword kw">do</span>
349:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
350:         [<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
351:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'search'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/messages/search&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
352:         <span class="ruby-keyword kw">end</span>
353:         [<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
354:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'toggle'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/messages/1/toggle'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
355:         <span class="ruby-keyword kw">end</span>
356:       <span class="ruby-keyword kw">end</span>
357:     <span class="ruby-keyword kw">end</span>
358:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000147" class="method">
  <div id="M000147_title" class="title">
    <b>test_default_restful_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000147_source')" id="l_M000147_source">show source</a> ]</p>
  <div id="M000147_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 73</span>
73:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_restful_routes</span>
74:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span>
75:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>
76:     <span class="ruby-keyword kw">end</span>
77:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000225" class="method">
  <div id="M000225_title" class="title">
    <b>test_default_singleton_restful_route_uses_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000225_source')" id="l_M000225_source">show source</a> ]</p>
  <div id="M000225_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1127</span>
1127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_singleton_restful_route_uses_get</span>
1128:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1129:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1130:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:product</span>
1131:       <span class="ruby-keyword kw">end</span>
1132: 
1133:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>.<span class="ruby-identifier">routes</span>[<span class="ruby-identifier">:product</span>].<span class="ruby-identifier">conditions</span>[<span class="ruby-identifier">:method</span>]
1134:     <span class="ruby-keyword kw">end</span>
1135:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000155" class="method">
  <div id="M000155_title" class="title">
    <b>test_irregular_id_requirements_should_get_passed_to_member_actions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000155_source')" id="l_M000155_source">show source</a> ]</p>
  <div id="M000155_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 167</span>
167:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_irregular_id_requirements_should_get_passed_to_member_actions</span>
168:     <span class="ruby-identifier">expected_options</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'custom'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1.1.1'</span>}
169: 
170:     <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:custom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>}, <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[0-9]\.[0-9]\.[0-9]/</span>}) <span class="ruby-keyword kw">do</span>
171:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1.1.1/custom'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
172:     <span class="ruby-keyword kw">end</span>
173:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000152" class="method">
  <div id="M000152_title" class="title">
    <b>test_irregular_id_with_no_requirements_should_raise_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000152_source')" id="l_M000152_source">show source</a> ]</p>
  <div id="M000152_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 142</span>
142:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_irregular_id_with_no_requirements_should_raise_error</span>
143:     <span class="ruby-identifier">expected_options</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1.1.1'</span>}
144: 
145:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span>
146:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>) <span class="ruby-keyword kw">do</span>
147:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1.1.1'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
148:       <span class="ruby-keyword kw">end</span>
149:     <span class="ruby-keyword kw">end</span>
150:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000153" class="method">
  <div id="M000153_title" class="title">
    <b>test_irregular_id_with_requirements_should_pass</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000153_source')" id="l_M000153_source">show source</a> ]</p>
  <div id="M000153_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 152</span>
152:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_irregular_id_with_requirements_should_pass</span>
153:     <span class="ruby-identifier">expected_options</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1.1.1'</span>}
154: 
155:     <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[0-9]\.[0-9]\.[0-9]/</span>}) <span class="ruby-keyword kw">do</span>
156:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1.1.1'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
157:     <span class="ruby-keyword kw">end</span>
158:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000166" class="method">
  <div id="M000166_title" class="title">
    <b>test_member_when_changed_default_restful_actions_and_path_names_not_specified</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000166_source')" id="l_M000166_source">show source</a> ]</p>
  <div id="M000166_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 307</span>
307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_member_when_changed_default_restful_actions_and_path_names_not_specified</span>
308:     <span class="ruby-identifier">default_path_names</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">resources_path_names</span>
309:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">resources_path_names</span> = {<span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nuevo'</span>, <span class="ruby-identifier">:edit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'editar'</span>}
310: 
311:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span>
312:       <span class="ruby-identifier">new_options</span> = { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span> }
313:       <span class="ruby-identifier">new_path</span> = <span class="ruby-value str">&quot;/messages/nuevo&quot;</span>
314:       <span class="ruby-identifier">edit_options</span> = { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span> }
315:       <span class="ruby-identifier">edit_path</span> = <span class="ruby-value str">&quot;/messages/1/editar&quot;</span>
316: 
317:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
318:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">new_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
319:       <span class="ruby-keyword kw">end</span>
320: 
321:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
322:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">edit_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">edit_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
323:       <span class="ruby-keyword kw">end</span>
324:     <span class="ruby-keyword kw">end</span>
325:   <span class="ruby-keyword kw">ensure</span>
326:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">resources_path_names</span> = <span class="ruby-identifier">default_path_names</span>
327:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000165" class="method">
  <div id="M000165_title" class="title">
    <b>test_member_when_override_paths_for_default_restful_actions_with</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000165_source')" id="l_M000165_source">show source</a> ]</p>
  <div id="M000165_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_member_when_override_paths_for_default_restful_actions_with</span>
291:     [<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
292:       <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> }, <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nuevo'</span>} <span class="ruby-keyword kw">do</span>
293:         <span class="ruby-identifier">mark_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'mark'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;messages&quot;</span>}
294:         <span class="ruby-identifier">mark_path</span>    = <span class="ruby-value str">&quot;/messages/1/mark&quot;</span>
295: 
296:         <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nuevo'</span>} <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
297:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">mark_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
298:         <span class="ruby-keyword kw">end</span>
299: 
300:         <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nuevo'</span>} <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
301:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-identifier">:mark_message_path</span>, <span class="ruby-identifier">mark_options</span>
302:         <span class="ruby-keyword kw">end</span>
303:       <span class="ruby-keyword kw">end</span>
304:     <span class="ruby-keyword kw">end</span>
305:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000150" class="method">
  <div id="M000150_title" class="title">
    <b>test_multiple_default_restful_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000150_source')" id="l_M000150_source">show source</a> ]</p>
  <div id="M000150_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 129</span>
129:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_default_restful_routes</span>
130:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:comments</span> <span class="ruby-keyword kw">do</span>
131:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>
132:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>
133:     <span class="ruby-keyword kw">end</span>
134:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000157" class="method">
  <div id="M000157_title" class="title">
    <b>test_multiple_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000157_source')" id="l_M000157_source">show source</a> ]</p>
  <div id="M000157_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 181</span>
181:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_with_path_prefix</span>
182:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/thread/:thread_id'</span> <span class="ruby-keyword kw">do</span>
183:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread/5/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5'</span> }
184:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread/5/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5'</span> }
185:     <span class="ruby-keyword kw">end</span>
186:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000205" class="method">
  <div id="M000205_title" class="title">
    <b>test_multiple_with_path_segment_and_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000205_source')" id="l_M000205_source">show source</a> ]</p>
  <div id="M000205_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 872</span>
872:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_with_path_segment_and_controller</span>
873:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
874:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
875:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">products</span><span class="ruby-operator">|</span>
876:           <span class="ruby-identifier">products</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:product_reviews</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reviews'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>
877:         <span class="ruby-keyword kw">end</span>
878:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:tutors</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tutors</span><span class="ruby-operator">|</span>
879:           <span class="ruby-identifier">tutors</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:tutor_reviews</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reviews'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'comments'</span>
880:         <span class="ruby-keyword kw">end</span>
881:       <span class="ruby-keyword kw">end</span>
882: 
883:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:product_reviews</span>, <span class="ruby-identifier">:controller=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reviews'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'product_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
884:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:tutor_reviews</span>,<span class="ruby-identifier">:controller=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'comments'</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reviews'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'tutor_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'tutors/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:tutor_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
885:     <span class="ruby-keyword kw">end</span>
886:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000223" class="method">
  <div id="M000223_title" class="title">
    <b>test_nested_resource_does_not_inherit_except_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000223_source')" id="l_M000223_source">show source</a> ]</p>
  <div id="M000223_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1101</span>
1101:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resource_does_not_inherit_except_option</span>
1102:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1103:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1104:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">product</span><span class="ruby-operator">|</span>
1105:           <span class="ruby-identifier">product</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:destroy</span>
1106:         <span class="ruby-keyword kw">end</span>
1107:       <span class="ruby-keyword kw">end</span>
1108: 
1109:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> },                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, <span class="ruby-identifier">:destroy</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-value str">'products/1/images'</span>)
1110:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, <span class="ruby-identifier">:destroy</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-value str">'products/1/images'</span>)
1111:     <span class="ruby-keyword kw">end</span>
1112:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000224" class="method">
  <div id="M000224_title" class="title">
    <b>test_nested_resource_does_not_inherit_except_option_by_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000224_source')" id="l_M000224_source">show source</a> ]</p>
  <div id="M000224_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1114</span>
1114:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resource_does_not_inherit_except_option_by_default</span>
1115:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1116:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1117:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">product</span><span class="ruby-operator">|</span>
1118:           <span class="ruby-identifier">product</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>
1119:         <span class="ruby-keyword kw">end</span>
1120:       <span class="ruby-keyword kw">end</span>
1121: 
1122:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> },                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>], [], <span class="ruby-value str">'products/1/images'</span>)
1123:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>], [], <span class="ruby-value str">'products/1/images'</span>)
1124:     <span class="ruby-keyword kw">end</span>
1125:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000221" class="method">
  <div id="M000221_title" class="title">
    <b>test_nested_resource_does_not_inherit_only_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000221_source')" id="l_M000221_source">show source</a> ]</p>
  <div id="M000221_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1075</span>
1075:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resource_does_not_inherit_only_option</span>
1076:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1077:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1078:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">product</span><span class="ruby-operator">|</span>
1079:           <span class="ruby-identifier">product</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:destroy</span>
1080:         <span class="ruby-keyword kw">end</span>
1081:       <span class="ruby-keyword kw">end</span>
1082: 
1083:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> },                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-identifier">:destroy</span>, <span class="ruby-value str">'products/1/images'</span>)
1084:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-identifier">:destroy</span>, <span class="ruby-value str">'products/1/images'</span>)
1085:     <span class="ruby-keyword kw">end</span>
1086:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000222" class="method">
  <div id="M000222_title" class="title">
    <b>test_nested_resource_does_not_inherit_only_option_by_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000222_source')" id="l_M000222_source">show source</a> ]</p>
  <div id="M000222_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1088</span>
1088:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resource_does_not_inherit_only_option_by_default</span>
1089:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1090:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1091:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">product</span><span class="ruby-operator">|</span>
1092:           <span class="ruby-identifier">product</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>
1093:         <span class="ruby-keyword kw">end</span>
1094:       <span class="ruby-keyword kw">end</span>
1095: 
1096:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> },                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destory</span>], [], <span class="ruby-value str">'products/1/images'</span>)
1097:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>], [], <span class="ruby-value str">'products/1/images'</span>)
1098:     <span class="ruby-keyword kw">end</span>
1099:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000220" class="method">
  <div id="M000220_title" class="title">
    <b>test_nested_resource_has_only_show_and_member_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000220_source')" id="l_M000220_source">show source</a> ]</p>
  <div id="M000220_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1059</span>
1059:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resource_has_only_show_and_member_action</span>
1060:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1061:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1062:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:show</span>] <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">product</span><span class="ruby-operator">|</span>
1063:           <span class="ruby-identifier">product</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thumbnail</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>
1064:         <span class="ruby-keyword kw">end</span>
1065:       <span class="ruby-keyword kw">end</span>
1066: 
1067:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> },                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, <span class="ruby-identifier">:show</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>], <span class="ruby-value str">'products/1/images'</span>)
1068:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'images'</span>, { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }, <span class="ruby-identifier">:show</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>], <span class="ruby-value str">'products/1/images'</span>)
1069: 
1070:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'images'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thumbnail'</span>, <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> },                    <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/1/images/2/thumbnail'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1071:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'images'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thumbnail'</span>, <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jpg'</span> },  <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/1/images/2/thumbnail.jpg'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1072:     <span class="ruby-keyword kw">end</span>
1073:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000203" class="method">
  <div id="M000203_title" class="title">
    <b>test_nested_resources_in_nested_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000203_source')" id="l_M000203_source">show source</a> ]</p>
  <div id="M000203_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 842</span>
842:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resources_in_nested_namespace</span>
843:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
844:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
845:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">backoffice</span><span class="ruby-operator">|</span>
846:           <span class="ruby-identifier">backoffice</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:admin</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
847:             <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">products</span><span class="ruby-operator">|</span>
848:               <span class="ruby-identifier">products</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>
849:             <span class="ruby-keyword kw">end</span>
850:           <span class="ruby-keyword kw">end</span>
851:         <span class="ruby-keyword kw">end</span>
852:       <span class="ruby-keyword kw">end</span>
853: 
854:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:images</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/admin/images&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_admin_product_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/products/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
855:     <span class="ruby-keyword kw">end</span>
856:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000202" class="method">
  <div id="M000202_title" class="title">
    <b>test_nested_resources_using_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000202_source')" id="l_M000202_source">show source</a> ]</p>
  <div id="M000202_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 828</span>
828:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_resources_using_namespace</span>
829:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
830:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
831:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">backoffice</span><span class="ruby-operator">|</span>
832:           <span class="ruby-identifier">backoffice</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">products</span><span class="ruby-operator">|</span>
833:             <span class="ruby-identifier">products</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>
834:           <span class="ruby-keyword kw">end</span>
835:         <span class="ruby-keyword kw">end</span>
836:       <span class="ruby-keyword kw">end</span>
837: 
838:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:images</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/images&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_product_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/products/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
839:     <span class="ruby-keyword kw">end</span>
840:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000173" class="method">
  <div id="M000173_title" class="title">
    <b>test_nested_restful_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000173_source')" id="l_M000173_source">show source</a> ]</p>
  <div id="M000173_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 420</span>
420:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_restful_routes</span>
421:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
422:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
423:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:threads</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
424:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
425:             <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:comments</span>
426:           <span class="ruby-keyword kw">end</span>
427:         <span class="ruby-keyword kw">end</span>
428:       <span class="ruby-keyword kw">end</span>
429: 
430:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:threads</span>
431:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>,
432:         <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>,
433:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>,
434:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
435:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>,
436:         <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_message_'</span>,
437:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/messages/2/'</span>,
438:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }
439:     <span class="ruby-keyword kw">end</span>
440:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000174" class="method">
  <div id="M000174_title" class="title">
    <b>test_nested_restful_routes_with_overwritten_defaults</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000174_source')" id="l_M000174_source">show source</a> ]</p>
  <div id="M000174_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 442</span>
442:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_restful_routes_with_overwritten_defaults</span>
443:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
444:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
445:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:threads</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
446:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
447:             <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>
448:           <span class="ruby-keyword kw">end</span>
449:         <span class="ruby-keyword kw">end</span>
450:       <span class="ruby-keyword kw">end</span>
451: 
452:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:threads</span>
453:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>,
454:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>,
455:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
456:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>,
457:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/messages/2/'</span>,
458:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }
459:     <span class="ruby-keyword kw">end</span>
460:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000195" class="method">
  <div id="M000195_title" class="title">
    <b>test_new_style_named_routes_for_resource</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000195_source')" id="l_M000195_source">show source</a> ]</p>
  <div id="M000195_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 742</span>
742:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_style_named_routes_for_resource</span>
743:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
744:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
745:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:search</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>}, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:any</span>}, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>
746:       <span class="ruby-keyword kw">end</span>
747:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
748:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/threads/1/messages/search&quot;</span>, <span class="ruby-value str">&quot;search_thread_messages_path&quot;</span>, {}
749:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/threads/1/messages/new&quot;</span>, <span class="ruby-value str">&quot;new_thread_message_path&quot;</span>, {}
750:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/threads/1/messages/new/preview&quot;</span>, <span class="ruby-value str">&quot;preview_new_thread_message_path&quot;</span>, {}
751:     <span class="ruby-keyword kw">end</span>
752:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000196" class="method">
  <div id="M000196_title" class="title">
    <b>test_new_style_named_routes_for_singleton_resource</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000196_source')" id="l_M000196_source">show source</a> ]</p>
  <div id="M000196_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 754</span>
754:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_style_named_routes_for_singleton_resource</span>
755:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
756:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
757:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:login</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>}, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:any</span>}, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/admin'</span>
758:       <span class="ruby-keyword kw">end</span>
759:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/'</span>
760:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/admin/account/login&quot;</span>, <span class="ruby-value str">&quot;login_admin_account_path&quot;</span>, {}
761:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/admin/account/new&quot;</span>, <span class="ruby-value str">&quot;new_admin_account_path&quot;</span>, {}
762:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/admin/account/new/preview&quot;</span>, <span class="ruby-value str">&quot;preview_new_admin_account_path&quot;</span>, {}
763:     <span class="ruby-keyword kw">end</span>
764:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000172" class="method">
  <div id="M000172_title" class="title">
    <b>test_override_new_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000172_source')" id="l_M000172_source">show source</a> ]</p>
  <div id="M000172_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 402</span>
402:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_override_new_method</span>
403:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span>
404:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
405:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;new&quot;</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/messages/new&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
406:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span>) <span class="ruby-keyword kw">do</span>
407:           <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">&quot;/messages/new&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
408:         <span class="ruby-keyword kw">end</span>
409:       <span class="ruby-keyword kw">end</span>
410:     <span class="ruby-keyword kw">end</span>
411: 
412:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:any</span> } <span class="ruby-keyword kw">do</span>
413:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
414:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;new&quot;</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/messages/new&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
415:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;new&quot;</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/messages/new&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
416:       <span class="ruby-keyword kw">end</span>
417:     <span class="ruby-keyword kw">end</span>
418:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000149" class="method">
  <div id="M000149_title" class="title">
    <b>test_override_paths_for_default_restful_actions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000149_source')" id="l_M000149_source">show source</a> ]</p>
  <div id="M000149_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_override_paths_for_default_restful_actions</span>
124:     <span class="ruby-identifier">resource</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Resources</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:messages</span>,
125:       <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nuevo'</span>, <span class="ruby-identifier">:edit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'editar'</span>})
126:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">new_path</span>, <span class="ruby-node">&quot;#{resource.path}/nuevo&quot;</span>
127:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000148" class="method">
  <div id="M000148_title" class="title">
    <b>test_override_paths_for_member_and_collection_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000148_source')" id="l_M000148_source">show source</a> ]</p>
  <div id="M000148_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 79</span>
 79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_override_paths_for_member_and_collection_methods</span>
 80:     <span class="ruby-identifier">collection_methods</span> = { <span class="ruby-value str">'rss'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-value str">'reorder'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-value str">'csv'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> }
 81:     <span class="ruby-identifier">member_methods</span>    = { <span class="ruby-value str">'rss'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:atom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:upload</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">:fix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> }
 82:     <span class="ruby-identifier">path_names</span> = {<span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nuevo'</span>, <span class="ruby-value str">'rss'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'canal'</span>, <span class="ruby-identifier">:fix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'corrigir'</span> }
 83: 
 84:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>,
 85:         <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_methods</span>,
 86:         <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_methods</span>,
 87:         <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_names</span> <span class="ruby-keyword kw">do</span>
 88: 
 89:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>,
 90:           <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_methods</span>,
 91:           <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_methods</span>,
 92:           <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_names</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
 93:         <span class="ruby-identifier">member_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
 94:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>),
 95:             <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/messages/1/#{path_names[action] || action}&quot;</span>,
 96:             <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
 97:         <span class="ruby-keyword kw">end</span>
 98: 
 99:         <span class="ruby-identifier">collection_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
100:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>),
101:             <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/messages/#{path_names[action] || action}&quot;</span>,
102:             <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
103:         <span class="ruby-keyword kw">end</span>
104:       <span class="ruby-keyword kw">end</span>
105: 
106:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>,
107:           <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_methods</span>,
108:           <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_methods</span>,
109:           <span class="ruby-identifier">:path_names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_names</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
110: 
111:         <span class="ruby-identifier">collection_methods</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
112:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/messages/#{path_names[action] || action}&quot;</span>, <span class="ruby-node">&quot;#{action}_messages_path&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
113:         <span class="ruby-keyword kw">end</span>
114: 
115:         <span class="ruby-identifier">member_methods</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
116:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/messages/1/#{path_names[action] || action}&quot;</span>, <span class="ruby-node">&quot;#{action}_message_path&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;1&quot;</span>
117:         <span class="ruby-keyword kw">end</span>
118: 
119:       <span class="ruby-keyword kw">end</span>
120:     <span class="ruby-keyword kw">end</span>
121:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000194" class="method">
  <div id="M000194_title" class="title">
    <b>test_resource_action_separator</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000194_source')" id="l_M000194_source">show source</a> ]</p>
  <div id="M000194_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 722</span>
722:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_action_separator</span>
723:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
724:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
725:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:search</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>}, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:any</span>}, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>
726:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:login</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>}, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:any</span>}, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/admin'</span>
727:       <span class="ruby-keyword kw">end</span>
728: 
729:       <span class="ruby-identifier">action_separator</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">resource_action_separator</span>
730: 
731:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
732:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages#{action_separator}search&quot;</span>, <span class="ruby-value str">&quot;search_thread_messages_path&quot;</span>, {}
733:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/threads/1/messages/new&quot;</span>, <span class="ruby-value str">&quot;new_thread_message_path&quot;</span>, {}
734:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/new#{action_separator}preview&quot;</span>, <span class="ruby-value str">&quot;preview_new_thread_message_path&quot;</span>, {}
735:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/'</span>
736:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/admin/account#{action_separator}login&quot;</span>, <span class="ruby-value str">&quot;login_admin_account_path&quot;</span>, {}
737:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-value str">&quot;/admin/account/new&quot;</span>, <span class="ruby-value str">&quot;new_admin_account_path&quot;</span>, {}
738:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/admin/account/new#{action_separator}preview&quot;</span>, <span class="ruby-value str">&quot;preview_new_admin_account_path&quot;</span>, {}
739:     <span class="ruby-keyword kw">end</span>
740:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000209" class="method">
  <div id="M000209_title" class="title">
    <b>test_resource_does_not_have_destroy_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000209_source')" id="l_M000209_source">show source</a> ]</p>
  <div id="M000209_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 917</span>
917:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_does_not_have_destroy_action</span>
918:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
919:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
920:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:destroy</span>
921:       <span class="ruby-keyword kw">end</span>
922: 
923:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-identifier">:destroy</span>)
924:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-identifier">:destroy</span>)
925:     <span class="ruby-keyword kw">end</span>
926:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000198" class="method">
  <div id="M000198_title" class="title">
    <b>test_resource_has_many_in_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000198_source')" id="l_M000198_source">show source</a> ]</p>
  <div id="M000198_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 778</span>
778:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_many_in_namespace</span>
779:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
780:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
781:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">backoffice</span><span class="ruby-operator">|</span>
782:           <span class="ruby-identifier">backoffice</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:has_many</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:tags</span>
783:         <span class="ruby-keyword kw">end</span>
784:       <span class="ruby-keyword kw">end</span>
785: 
786:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:products</span>,  <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/products&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_'</span>,          <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/'</span>
787:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:tags</span>,      <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/tags&quot;</span>,     <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice_product_&quot;</span>,  <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/products/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
788:     <span class="ruby-keyword kw">end</span>
789:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000181" class="method">
  <div id="M000181_title" class="title">
    <b>test_resource_has_many_should_become_nested_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000181_source')" id="l_M000181_source">show source</a> ]</p>
  <div id="M000181_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 553</span>
553:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_many_should_become_nested_resources</span>
554:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
555:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
556:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:has_many</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:authors</span> ]
557:       <span class="ruby-keyword kw">end</span>
558: 
559:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>
560:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;message_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
561:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:authors</span>,  <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;message_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
562:     <span class="ruby-keyword kw">end</span>
563:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000199" class="method">
  <div id="M000199_title" class="title">
    <b>test_resource_has_one_in_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000199_source')" id="l_M000199_source">show source</a> ]</p>
  <div id="M000199_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 791</span>
791:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_one_in_namespace</span>
792:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
793:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
794:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">backoffice</span><span class="ruby-operator">|</span>
795:           <span class="ruby-identifier">backoffice</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:has_one</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:manufacturer</span>
796:         <span class="ruby-keyword kw">end</span>
797:       <span class="ruby-keyword kw">end</span>
798: 
799:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/products&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/'</span>
800:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:manufacturer</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/manufacturers&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_product_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/products/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
801:     <span class="ruby-keyword kw">end</span>
802:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000184" class="method">
  <div id="M000184_title" class="title">
    <b>test_resource_has_one_should_become_nested_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000184_source')" id="l_M000184_source">show source</a> ]</p>
  <div id="M000184_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 591</span>
591:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_one_should_become_nested_resources</span>
592:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
593:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
594:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:has_one</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:logo</span>
595:       <span class="ruby-keyword kw">end</span>
596: 
597:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>
598:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:logo</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'message_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
599:     <span class="ruby-keyword kw">end</span>
600:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000217" class="method">
  <div id="M000217_title" class="title">
    <b>test_resource_has_only_collection_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000217_source')" id="l_M000217_source">show source</a> ]</p>
  <div id="M000217_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1017</span>
1017:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_only_collection_action</span>
1018:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1019:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1020:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:sale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1021:       <span class="ruby-keyword kw">end</span>
1022: 
1023:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, [], [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
1024:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, [], [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
1025: 
1026:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'sale'</span> },                   <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/sale'</span>,     <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1027:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'sale'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> }, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/sale.xml'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1028:     <span class="ruby-keyword kw">end</span>
1029:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000211" class="method">
  <div id="M000211_title" class="title">
    <b>test_resource_has_only_create_action_and_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000211_source')" id="l_M000211_source">show source</a> ]</p>
  <div id="M000211_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 939</span>
939:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_only_create_action_and_named_route</span>
940:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
941:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
942:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:create</span>
943:       <span class="ruby-keyword kw">end</span>
944: 
945:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:create</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
946:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:create</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
947: 
948:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:products</span>]
949:     <span class="ruby-keyword kw">end</span>
950:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000213" class="method">
  <div id="M000213_title" class="title">
    <b>test_resource_has_only_destroy_action_and_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000213_source')" id="l_M000213_source">show source</a> ]</p>
  <div id="M000213_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 965</span>
965:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_only_destroy_action_and_named_route</span>
966:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
967:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
968:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:destroy</span>
969:       <span class="ruby-keyword kw">end</span>
970: 
971:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:destroy</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>])
972:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:destroy</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>])
973: 
974:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:product</span>]
975:     <span class="ruby-keyword kw">end</span>
976:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000218" class="method">
  <div id="M000218_title" class="title">
    <b>test_resource_has_only_member_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000218_source')" id="l_M000218_source">show source</a> ]</p>
  <div id="M000218_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1031</span>
1031:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_only_member_action</span>
1032:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1033:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1034:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1035:       <span class="ruby-keyword kw">end</span>
1036: 
1037:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, [], [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
1038:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, [], [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
1039: 
1040:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'preview'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> },                    <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/1/preview'</span>,      <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1041:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'preview'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'products/1/preview.xml'</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1042:     <span class="ruby-keyword kw">end</span>
1043:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000207" class="method">
  <div id="M000207_title" class="title">
    <b>test_resource_has_only_show_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000207_source')" id="l_M000207_source">show source</a> ]</p>
  <div id="M000207_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 895</span>
895:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_only_show_action</span>
896:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
897:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
898:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>
899:       <span class="ruby-keyword kw">end</span>
900: 
901:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:show</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
902:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:show</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
903:     <span class="ruby-keyword kw">end</span>
904:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000212" class="method">
  <div id="M000212_title" class="title">
    <b>test_resource_has_only_update_action_and_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000212_source')" id="l_M000212_source">show source</a> ]</p>
  <div id="M000212_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 952</span>
952:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resource_has_only_update_action_and_named_route</span>
953:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
954:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
955:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:update</span>
956:       <span class="ruby-keyword kw">end</span>
957: 
958:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, {},                    { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:update</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:destroy</span>])
959:       <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-value str">'products'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }, <span class="ruby-identifier">:update</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:destroy</span>])
960: 
961:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:product</span>]
962:     <span class="ruby-keyword kw">end</span>
963:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000182" class="method">
  <div id="M000182_title" class="title">
    <b>test_resources_has_many_hash_should_become_nested_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000182_source')" id="l_M000182_source">show source</a> ]</p>
  <div id="M000182_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 565</span>
565:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resources_has_many_hash_should_become_nested_resources</span>
566:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
567:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
568:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:threads</span>, <span class="ruby-identifier">:has_many</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:messages</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">:comments</span>, { <span class="ruby-identifier">:authors</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:threads</span> } ] }
569:       <span class="ruby-keyword kw">end</span>
570: 
571:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:threads</span>
572:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
573:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_message_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/messages/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
574:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:authors</span>,  <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_message_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/messages/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
575:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:threads</span>,  <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_message_author_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/messages/1/authors/1/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:author_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
576:     <span class="ruby-keyword kw">end</span>
577:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000197" class="method">
  <div id="M000197_title" class="title">
    <b>test_resources_in_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000197_source')" id="l_M000197_source">show source</a> ]</p>
  <div id="M000197_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 766</span>
766:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resources_in_namespace</span>
767:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
768:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
769:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">backoffice</span><span class="ruby-operator">|</span>
770:           <span class="ruby-identifier">backoffice</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>
771:         <span class="ruby-keyword kw">end</span>
772:       <span class="ruby-keyword kw">end</span>
773: 
774:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/products&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/'</span>
775:     <span class="ruby-keyword kw">end</span>
776:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000200" class="method">
  <div id="M000200_title" class="title">
    <b>test_resources_in_nested_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000200_source')" id="l_M000200_source">show source</a> ]</p>
  <div id="M000200_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 804</span>
804:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resources_in_nested_namespace</span>
805:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
806:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
807:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">backoffice</span><span class="ruby-operator">|</span>
808:           <span class="ruby-identifier">backoffice</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:admin</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
809:             <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>
810:           <span class="ruby-keyword kw">end</span>
811:         <span class="ruby-keyword kw">end</span>
812:       <span class="ruby-keyword kw">end</span>
813: 
814:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/admin/products&quot;</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_admin_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/'</span>
815:     <span class="ruby-keyword kw">end</span>
816:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000201" class="method">
  <div id="M000201_title" class="title">
    <b>test_resources_using_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000201_source')" id="l_M000201_source">show source</a> ]</p>
  <div id="M000201_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 818</span>
818:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_resources_using_namespace</span>
819:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
820:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
821:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/&quot;</span>
822:       <span class="ruby-keyword kw">end</span>
823: 
824:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;backoffice/products&quot;</span>
825:     <span class="ruby-keyword kw">end</span>
826:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000177" class="method">
  <div id="M000177_title" class="title">
    <b>test_restful_routes_dont_generate_duplicates</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000177_source')" id="l_M000177_source">show source</a> ]</p>
  <div id="M000177_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 515</span>
515:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_restful_routes_dont_generate_duplicates</span>
516:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span>
517:       <span class="ruby-identifier">routes</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">routes</span>
518:       <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">route</span><span class="ruby-operator">|</span>
519:         <span class="ruby-identifier">routes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
520:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">route</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">r</span> <span class="ruby-comment cmt"># skip the comparison instance</span>
521:           <span class="ruby-identifier">assert</span> <span class="ruby-identifier">distinct_routes?</span>(<span class="ruby-identifier">route</span>, <span class="ruby-identifier">r</span>), <span class="ruby-node">&quot;Duplicate Route: #{route}&quot;</span>
522:         <span class="ruby-keyword kw">end</span>
523:       <span class="ruby-keyword kw">end</span>
524:     <span class="ruby-keyword kw">end</span>
525:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000175" class="method">
  <div id="M000175_title" class="title">
    <b>test_shallow_nested_restful_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000175_source')" id="l_M000175_source">show source</a> ]</p>
  <div id="M000175_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 462</span>
462:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shallow_nested_restful_routes</span>
463:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
464:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
465:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:threads</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
466:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
467:             <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:comments</span>
468:           <span class="ruby-keyword kw">end</span>
469:         <span class="ruby-keyword kw">end</span>
470:       <span class="ruby-keyword kw">end</span>
471: 
472:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:threads</span>,
473:         <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
474:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>,
475:         <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>,
476:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>,
477:         <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
478:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
479:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>,
480:         <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'message_'</span>,
481:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/2/'</span>,
482:         <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
483:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'2'</span> }
484:     <span class="ruby-keyword kw">end</span>
485:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000176" class="method">
  <div id="M000176_title" class="title">
    <b>test_shallow_nested_restful_routes_with_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000176_source')" id="l_M000176_source">show source</a> ]</p>
  <div id="M000176_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 487</span>
487:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shallow_nested_restful_routes_with_namespaces</span>
488:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
489:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
490:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:backoffice</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
491:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:admin</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
492:             <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:products</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
493:               <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:images</span>
494:             <span class="ruby-keyword kw">end</span>
495:           <span class="ruby-keyword kw">end</span>
496:         <span class="ruby-keyword kw">end</span>
497:       <span class="ruby-keyword kw">end</span>
498: 
499:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:products</span>,
500:         <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/products'</span>,
501:         <span class="ruby-identifier">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/'</span>,
502:         <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_admin_'</span>,
503:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/'</span>,
504:         <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
505:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:images</span>,
506:         <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/images'</span>,
507:         <span class="ruby-identifier">:namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/'</span>,
508:         <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice_admin_product_'</span>,
509:         <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backoffice/admin/products/1/'</span>,
510:         <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
511:         <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:product_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
512:     <span class="ruby-keyword kw">end</span>
513:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000183" class="method">
  <div id="M000183_title" class="title">
    <b>test_shallow_resource_has_many_should_become_shallow_nested_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000183_source')" id="l_M000183_source">show source</a> ]</p>
  <div id="M000183_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 579</span>
579:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shallow_resource_has_many_should_become_shallow_nested_resources</span>
580:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
581:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
582:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:has_many</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:authors</span> ], <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
583:       <span class="ruby-keyword kw">end</span>
584: 
585:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
586:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;message_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1/'</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
587:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:authors</span>,  <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;message_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1/'</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
588:     <span class="ruby-keyword kw">end</span>
589:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000185" class="method">
  <div id="M000185_title" class="title">
    <b>test_shallow_resource_has_one_should_become_shallow_nested_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000185_source')" id="l_M000185_source">show source</a> ]</p>
  <div id="M000185_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 602</span>
602:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_shallow_resource_has_one_should_become_shallow_nested_resources</span>
603:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
604:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
605:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:has_one</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:logo</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
606:       <span class="ruby-keyword kw">end</span>
607: 
608:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
609:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:logo</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'message_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1/'</span>, <span class="ruby-identifier">:shallow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> }
610:     <span class="ruby-keyword kw">end</span>
611:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000146" class="method">
  <div id="M000146_title" class="title">
    <b>test_should_all_singleton_paths_be_the_same</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000146_source')" id="l_M000146_source">show source</a> ]</p>
  <div id="M000146_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 66</span>
66:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_all_singleton_paths_be_the_same</span>
67:     [ <span class="ruby-identifier">:path</span>, <span class="ruby-identifier">:nesting_path_prefix</span>, <span class="ruby-identifier">:member_path</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
68:       <span class="ruby-identifier">resource</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Resources</span><span class="ruby-operator">::</span><span class="ruby-constant">SingletonResource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin'</span>)
69:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'admin/messages'</span>, <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>)
70:     <span class="ruby-keyword kw">end</span>
71:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000143" class="method">
  <div id="M000143_title" class="title">
    <b>test_should_arrange_actions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show source</a> ]</p>
  <div id="M000143_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_arrange_actions</span>
44:     <span class="ruby-identifier">resource</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Resources</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:messages</span>,
45:       <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:rss</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:reorder</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">:csv</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> },
46:       <span class="ruby-identifier">:member</span>     =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:rss</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:atom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:upload</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-identifier">:fix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> },
47:       <span class="ruby-identifier">:new</span>        =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:draft</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> })
48: 
49:     <span class="ruby-identifier">assert_resource_methods</span> [<span class="ruby-identifier">:rss</span>],                   <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">:collection</span>, <span class="ruby-identifier">:get</span>
50:     <span class="ruby-identifier">assert_resource_methods</span> [<span class="ruby-identifier">:csv</span>, <span class="ruby-identifier">:reorder</span>],         <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">:collection</span>, <span class="ruby-identifier">:post</span>
51:     <span class="ruby-identifier">assert_resource_methods</span> [<span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:rss</span>, <span class="ruby-identifier">:atom</span>],     <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">:member</span>,     <span class="ruby-identifier">:get</span>
52:     <span class="ruby-identifier">assert_resource_methods</span> [<span class="ruby-identifier">:upload</span>, <span class="ruby-identifier">:fix</span>],          <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">:member</span>,     <span class="ruby-identifier">:post</span>
53:     <span class="ruby-identifier">assert_resource_methods</span> [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:preview</span>, <span class="ruby-identifier">:draft</span>], <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">:new</span>,        <span class="ruby-identifier">:get</span>
54:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000179" class="method">
  <div id="M000179_title" class="title">
    <b>test_should_create_multiple_singleton_resource_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000179_source')" id="l_M000179_source">show source</a> ]</p>
  <div id="M000179_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 533</span>
533:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_create_multiple_singleton_resource_routes</span>
534:     <span class="ruby-identifier">with_singleton_resources</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:logo</span> <span class="ruby-keyword kw">do</span>
535:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>
536:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:logo</span>
537:     <span class="ruby-keyword kw">end</span>
538:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000180" class="method">
  <div id="M000180_title" class="title">
    <b>test_should_create_nested_singleton_resource_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000180_source')" id="l_M000180_source">show source</a> ]</p>
  <div id="M000180_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 540</span>
540:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_create_nested_singleton_resource_routes</span>
541:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
542:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
543:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:admin</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
544:           <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>
545:         <span class="ruby-keyword kw">end</span>
546:       <span class="ruby-keyword kw">end</span>
547: 
548:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:admin</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin'</span>
549:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admin_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/'</span>
550:     <span class="ruby-keyword kw">end</span>
551:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000178" class="method">
  <div id="M000178_title" class="title">
    <b>test_should_create_singleton_resource_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000178_source')" id="l_M000178_source">show source</a> ]</p>
  <div id="M000178_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 527</span>
527:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_create_singleton_resource_routes</span>
528:     <span class="ruby-identifier">with_singleton_resources</span> <span class="ruby-identifier">:account</span> <span class="ruby-keyword kw">do</span>
529:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>
530:     <span class="ruby-keyword kw">end</span>
531:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000188" class="method">
  <div id="M000188_title" class="title">
    <b>test_should_nest_resources_in_singleton_resource</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000188_source')" id="l_M000188_source">show source</a> ]</p>
  <div id="M000188_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 647</span>
647:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_nest_resources_in_singleton_resource</span>
648:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
649:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
650:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">account</span><span class="ruby-operator">|</span>
651:           <span class="ruby-identifier">account</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>
652:         <span class="ruby-keyword kw">end</span>
653:       <span class="ruby-keyword kw">end</span>
654: 
655:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>
656:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;account_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'account/'</span>
657:     <span class="ruby-keyword kw">end</span>
658:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000189" class="method">
  <div id="M000189_title" class="title">
    <b>test_should_nest_resources_in_singleton_resource_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000189_source')" id="l_M000189_source">show source</a> ]</p>
  <div id="M000189_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 660</span>
660:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_nest_resources_in_singleton_resource_with_path_prefix</span>
661:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
662:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
663:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span>(<span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">':site_id'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">account</span><span class="ruby-operator">|</span>
664:           <span class="ruby-identifier">account</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>
665:         <span class="ruby-keyword kw">end</span>
666:       <span class="ruby-keyword kw">end</span>
667: 
668:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'7/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:site_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'7'</span> }
669:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;account_&quot;</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'7/account/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:site_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'7'</span> }
670:     <span class="ruby-keyword kw">end</span>
671:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000190" class="method">
  <div id="M000190_title" class="title">
    <b>test_should_nest_singleton_resource_in_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000190_source')" id="l_M000190_source">show source</a> ]</p>
  <div id="M000190_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 673</span>
673:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_nest_singleton_resource_in_resources</span>
674:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
675:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
676:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:threads</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">thread</span><span class="ruby-operator">|</span>
677:           <span class="ruby-identifier">thread</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:admin</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin'</span>
678:         <span class="ruby-keyword kw">end</span>
679:       <span class="ruby-keyword kw">end</span>
680: 
681:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:threads</span>
682:       <span class="ruby-identifier">assert_singleton_restful_for</span> <span class="ruby-identifier">:admin</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/5/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5'</span> }
683:     <span class="ruby-keyword kw">end</span>
684:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000191" class="method">
  <div id="M000191_title" class="title">
    <b>test_should_not_allow_delete_or_put_on_collection_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000191_source')" id="l_M000191_source">show source</a> ]</p>
  <div id="M000191_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 686</span>
686:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_allow_delete_or_put_on_collection_path</span>
687:     <span class="ruby-identifier">controller_name</span> = <span class="ruby-identifier">:messages</span>
688:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">controller_name</span> <span class="ruby-keyword kw">do</span>
689:       <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span> }
690:       <span class="ruby-identifier">collection_path</span> = <span class="ruby-node">&quot;/#{controller_name}&quot;</span>
691: 
692:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span>) <span class="ruby-keyword kw">do</span>
693:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'update'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>)
694:       <span class="ruby-keyword kw">end</span>
695: 
696:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span>) <span class="ruby-keyword kw">do</span>
697:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'destroy'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
698:       <span class="ruby-keyword kw">end</span>
699:     <span class="ruby-keyword kw">end</span>
700:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000192" class="method">
  <div id="M000192_title" class="title">
    <b>test_should_not_allow_invalid_head_method_for_member_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000192_source')" id="l_M000192_source">show source</a> ]</p>
  <div id="M000192_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 702</span>
702:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_allow_invalid_head_method_for_member_routes</span>
703:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
704:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
705:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) <span class="ruby-keyword kw">do</span>
706:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:something</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:head</span>}
707:         <span class="ruby-keyword kw">end</span>
708:       <span class="ruby-keyword kw">end</span>
709:     <span class="ruby-keyword kw">end</span>
710:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000193" class="method">
  <div id="M000193_title" class="title">
    <b>test_should_not_allow_invalid_http_methods_for_member_routes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000193_source')" id="l_M000193_source">show source</a> ]</p>
  <div id="M000193_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 712</span>
712:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_not_allow_invalid_http_methods_for_member_routes</span>
713:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
714:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
715:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) <span class="ruby-keyword kw">do</span>
716:           <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:something</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:invalid</span>}
717:         <span class="ruby-keyword kw">end</span>
718:       <span class="ruby-keyword kw">end</span>
719:     <span class="ruby-keyword kw">end</span>
720:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000145" class="method">
  <div id="M000145_title" class="title">
    <b>test_should_resource_controller_name_equal_controller_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000145_source')" id="l_M000145_source">show source</a> ]</p>
  <div id="M000145_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 61</span>
61:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_resource_controller_name_equal_controller_option</span>
62:     <span class="ruby-identifier">resource</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Resources</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>)
63:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">controller</span>
64:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000144" class="method">
  <div id="M000144_title" class="title">
    <b>test_should_resource_controller_name_equal_resource_name_by_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show source</a> ]</p>
  <div id="M000144_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_resource_controller_name_equal_resource_name_by_default</span>
57:     <span class="ruby-identifier">resource</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Resources</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:messages</span>, {})
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">controller</span>
59:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000210" class="method">
  <div id="M000210_title" class="title">
    <b>test_singleton_resource_does_not_have_destroy_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000210_source')" id="l_M000210_source">show source</a> ]</p>
  <div id="M000210_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 928</span>
928:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_does_not_have_destroy_action</span>
929:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
930:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
931:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:destroy</span>
932:       <span class="ruby-keyword kw">end</span>
933: 
934:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, {},                    [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-identifier">:destroy</span>)
935:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>], <span class="ruby-identifier">:destroy</span>)
936:     <span class="ruby-keyword kw">end</span>
937:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000214" class="method">
  <div id="M000214_title" class="title">
    <b>test_singleton_resource_has_only_create_action_and_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000214_source')" id="l_M000214_source">show source</a> ]</p>
  <div id="M000214_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 978</span>
978:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_has_only_create_action_and_named_route</span>
979:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
980:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
981:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:create</span>
982:       <span class="ruby-keyword kw">end</span>
983: 
984:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, {},                    <span class="ruby-identifier">:create</span>, [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
985:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  <span class="ruby-identifier">:create</span>, [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
986: 
987:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:account</span>]
988:     <span class="ruby-keyword kw">end</span>
989:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000216" class="method">
  <div id="M000216_title" class="title">
    <b>test_singleton_resource_has_only_destroy_action_and_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000216_source')" id="l_M000216_source">show source</a> ]</p>
  <div id="M000216_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1004</span>
1004:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_has_only_destroy_action_and_named_route</span>
1005:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1006:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1007:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:destroy</span>
1008:       <span class="ruby-keyword kw">end</span>
1009: 
1010:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, {},                    <span class="ruby-identifier">:destroy</span>, [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>])
1011:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  <span class="ruby-identifier">:destroy</span>, [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>])
1012: 
1013:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:account</span>]
1014:     <span class="ruby-keyword kw">end</span>
1015:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000219" class="method">
  <div id="M000219_title" class="title">
    <b>test_singleton_resource_has_only_member_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000219_source')" id="l_M000219_source">show source</a> ]</p>
  <div id="M000219_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1045</span>
1045:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_has_only_member_action</span>
1046:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1047:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1048:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:except</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:signup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1049:       <span class="ruby-keyword kw">end</span>
1050: 
1051:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, {},                    [], [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
1052:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  [], [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
1053: 
1054:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'accounts'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'signup'</span> },                   <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'account/signup'</span>,      <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1055:       <span class="ruby-identifier">assert_recognizes</span>({ <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'accounts'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'signup'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> }, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'account/signup.xml'</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1056:     <span class="ruby-keyword kw">end</span>
1057:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000208" class="method">
  <div id="M000208_title" class="title">
    <b>test_singleton_resource_has_only_show_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000208_source')" id="l_M000208_source">show source</a> ]</p>
  <div id="M000208_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 906</span>
906:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_has_only_show_action</span>
907:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
908:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
909:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>
910:       <span class="ruby-keyword kw">end</span>
911: 
912:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, {},                    <span class="ruby-identifier">:show</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
913:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  <span class="ruby-identifier">:show</span>, [<span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:update</span>, <span class="ruby-identifier">:destroy</span>])
914:     <span class="ruby-keyword kw">end</span>
915:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000215" class="method">
  <div id="M000215_title" class="title">
    <b>test_singleton_resource_has_only_update_action_and_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000215_source')" id="l_M000215_source">show source</a> ]</p>
  <div id="M000215_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 991</span>
 991:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_has_only_update_action_and_named_route</span>
 992:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
 993:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
 994:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:update</span>
 995:       <span class="ruby-keyword kw">end</span>
 996: 
 997:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, {},                    <span class="ruby-identifier">:update</span>, [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:destroy</span>])
 998:       <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-value str">'accounts'</span>, { <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span> },  <span class="ruby-identifier">:update</span>, [<span class="ruby-identifier">:new</span>, <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:edit</span>, <span class="ruby-identifier">:destroy</span>])
 999: 
1000:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:account</span>]
1001:     <span class="ruby-keyword kw">end</span>
1002:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000186" class="method">
  <div id="M000186_title" class="title">
    <b>test_singleton_resource_with_member_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000186_source')" id="l_M000186_source">show source</a> ]</p>
  <div id="M000186_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 613</span>
613:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_with_member_action</span>
614:     [<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
615:       <span class="ruby-identifier">with_singleton_resources</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:reset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> } <span class="ruby-keyword kw">do</span>
616:         <span class="ruby-identifier">reset_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reset'</span>}
617:         <span class="ruby-identifier">reset_path</span>    = <span class="ruby-value str">&quot;/account/reset&quot;</span>
618:         <span class="ruby-identifier">assert_singleton_routes_for</span> <span class="ruby-identifier">:account</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
619:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">reset_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">reset_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
620:         <span class="ruby-keyword kw">end</span>
621: 
622:         <span class="ruby-identifier">assert_singleton_named_routes_for</span> <span class="ruby-identifier">:account</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
623:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">reset_path</span>, <span class="ruby-identifier">:reset_account_path</span>, <span class="ruby-identifier">reset_options</span>
624:         <span class="ruby-keyword kw">end</span>
625:       <span class="ruby-keyword kw">end</span>
626:     <span class="ruby-keyword kw">end</span>
627:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000187" class="method">
  <div id="M000187_title" class="title">
    <b>test_singleton_resource_with_two_member_actions_with_same_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000187_source')" id="l_M000187_source">show source</a> ]</p>
  <div id="M000187_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 629</span>
629:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_singleton_resource_with_two_member_actions_with_same_method</span>
630:     [<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
631:       <span class="ruby-identifier">with_singleton_resources</span> <span class="ruby-identifier">:account</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:reset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>, <span class="ruby-identifier">:disable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> } <span class="ruby-keyword kw">do</span>
632:         <span class="ruby-node">%w(reset disable)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
633:           <span class="ruby-identifier">action_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>}
634:           <span class="ruby-identifier">action_path</span>    = <span class="ruby-node">&quot;/account/#{action}&quot;</span>
635:           <span class="ruby-identifier">assert_singleton_routes_for</span> <span class="ruby-identifier">:account</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
636:             <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">action_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
637:           <span class="ruby-keyword kw">end</span>
638: 
639:           <span class="ruby-identifier">assert_singleton_named_routes_for</span> <span class="ruby-identifier">:account</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
640:             <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-node">&quot;#{action}_account_path&quot;</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">action_options</span>
641:           <span class="ruby-keyword kw">end</span>
642:         <span class="ruby-keyword kw">end</span>
643:       <span class="ruby-keyword kw">end</span>
644:     <span class="ruby-keyword kw">end</span>
645:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000162" class="method">
  <div id="M000162_title" class="title">
    <b>test_with_collection_action_and_name_prefix_and_formatted</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000162_source')" id="l_M000162_source">show source</a> ]</p>
  <div id="M000162_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 248</span>
248:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_collection_action_and_name_prefix_and_formatted</span>
249:     <span class="ruby-identifier">actions</span> = { <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-value str">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>, <span class="ruby-value str">'c'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-value str">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span> }
250: 
251:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_&quot;</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">actions</span> <span class="ruby-keyword kw">do</span>
252:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
253:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
254:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}.xml&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
255:         <span class="ruby-keyword kw">end</span>
256:       <span class="ruby-keyword kw">end</span>
257: 
258:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
259:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
260:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}.xml&quot;</span>, <span class="ruby-node">&quot;#{action}_thread_messages_path&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
261:         <span class="ruby-keyword kw">end</span>
262:       <span class="ruby-keyword kw">end</span>
263:     <span class="ruby-keyword kw">end</span>
264:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000159" class="method">
  <div id="M000159_title" class="title">
    <b>test_with_collection_actions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000159_source')" id="l_M000159_source">show source</a> ]</p>
  <div id="M000159_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 194</span>
194:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_collection_actions</span>
195:     <span class="ruby-identifier">actions</span> = { <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-value str">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>, <span class="ruby-value str">'c'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-value str">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span> }
196: 
197:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">actions</span> <span class="ruby-keyword kw">do</span>
198:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
199:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
200:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/messages/#{action}&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
201:         <span class="ruby-keyword kw">end</span>
202:       <span class="ruby-keyword kw">end</span>
203: 
204:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
205:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
206:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/messages/#{action}&quot;</span>, <span class="ruby-node">&quot;#{action}_messages_path&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
207:         <span class="ruby-keyword kw">end</span>
208:       <span class="ruby-keyword kw">end</span>
209:     <span class="ruby-keyword kw">end</span>
210:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000160" class="method">
  <div id="M000160_title" class="title">
    <b>test_with_collection_actions_and_name_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000160_source')" id="l_M000160_source">show source</a> ]</p>
  <div id="M000160_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 212</span>
212:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_collection_actions_and_name_prefix</span>
213:     <span class="ruby-identifier">actions</span> = { <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-value str">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>, <span class="ruby-value str">'c'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>, <span class="ruby-value str">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span> }
214: 
215:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_&quot;</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">actions</span> <span class="ruby-keyword kw">do</span>
216:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
217:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
218:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
219:         <span class="ruby-keyword kw">end</span>
220:       <span class="ruby-keyword kw">end</span>
221: 
222:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
223:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
224:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-node">&quot;#{action}_thread_messages_path&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
225:         <span class="ruby-keyword kw">end</span>
226:       <span class="ruby-keyword kw">end</span>
227:     <span class="ruby-keyword kw">end</span>
228:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000161" class="method">
  <div id="M000161_title" class="title">
    <b>test_with_collection_actions_and_name_prefix_and_member_action_with_same_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000161_source')" id="l_M000161_source">show source</a> ]</p>
  <div id="M000161_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 230</span>
230:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_collection_actions_and_name_prefix_and_member_action_with_same_name</span>
231:     <span class="ruby-identifier">actions</span> = { <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
232: 
233:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;thread_&quot;</span>, <span class="ruby-identifier">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">actions</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">actions</span> <span class="ruby-keyword kw">do</span>
234:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
235:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
236:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
237:         <span class="ruby-keyword kw">end</span>
238:       <span class="ruby-keyword kw">end</span>
239: 
240:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
241:         <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
242:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;/threads/1/messages/#{action}&quot;</span>, <span class="ruby-node">&quot;#{action}_thread_messages_path&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>
243:         <span class="ruby-keyword kw">end</span>
244:       <span class="ruby-keyword kw">end</span>
245:     <span class="ruby-keyword kw">end</span>
246:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000151" class="method">
  <div id="M000151_title" class="title">
    <b>test_with_custom_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000151_source')" id="l_M000151_source">show source</a> ]</p>
  <div id="M000151_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_custom_conditions</span>
137:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:subdomain</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'app'</span> } <span class="ruby-keyword kw">do</span>
138:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'app'</span>, <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">named_routes</span>.<span class="ruby-identifier">routes</span>[<span class="ruby-identifier">:messages</span>].<span class="ruby-identifier">conditions</span>[<span class="ruby-identifier">:subdomain</span>]
139:     <span class="ruby-keyword kw">end</span>
140:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000171" class="method">
  <div id="M000171_title" class="title">
    <b>test_with_formatted_new_action_with_name_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000171_source')" id="l_M000171_source">show source</a> ]</p>
  <div id="M000171_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 388</span>
388:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_formatted_new_action_with_name_prefix</span>
389:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> }, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span> <span class="ruby-keyword kw">do</span>
390:       <span class="ruby-identifier">preview_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'preview'</span>, <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>}
391:       <span class="ruby-identifier">preview_path</span>    = <span class="ruby-value str">&quot;/threads/1/messages/new/preview.xml&quot;</span>
392:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
393:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">preview_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
394:       <span class="ruby-keyword kw">end</span>
395: 
396:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
397:         <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-identifier">:preview_new_thread_message_path</span>, <span class="ruby-identifier">preview_options</span>
398:       <span class="ruby-keyword kw">end</span>
399:     <span class="ruby-keyword kw">end</span>
400:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000163" class="method">
  <div id="M000163_title" class="title">
    <b>test_with_member_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000163_source')" id="l_M000163_source">show source</a> ]</p>
  <div id="M000163_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 266</span>
266:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_member_action</span>
267:     [<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
268:       <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> } <span class="ruby-keyword kw">do</span>
269:         <span class="ruby-identifier">mark_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'mark'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
270:         <span class="ruby-identifier">mark_path</span>    = <span class="ruby-value str">&quot;/messages/1/mark&quot;</span>
271:         <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
272:           <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">mark_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
273:         <span class="ruby-keyword kw">end</span>
274: 
275:         <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
276:           <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">mark_path</span>, <span class="ruby-identifier">:mark_message_path</span>, <span class="ruby-identifier">mark_options</span>
277:         <span class="ruby-keyword kw">end</span>
278:       <span class="ruby-keyword kw">end</span>
279:     <span class="ruby-keyword kw">end</span>
280:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000164" class="method">
  <div id="M000164_title" class="title">
    <b>test_with_member_action_and_requirement</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000164_source')" id="l_M000164_source">show source</a> ]</p>
  <div id="M000164_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 282</span>
282:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_member_action_and_requirement</span>
283:     <span class="ruby-identifier">expected_options</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'mark'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1.1.1'</span>}
284:   
285:     <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[0-9]\.[0-9]\.[0-9]/</span>}, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }) <span class="ruby-keyword kw">do</span>
286:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages/1.1.1/mark'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
287:     <span class="ruby-keyword kw">end</span>
288:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000158" class="method">
  <div id="M000158_title" class="title">
    <b>test_with_name_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000158_source')" id="l_M000158_source">show source</a> ]</p>
  <div id="M000158_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_name_prefix</span>
189:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post_'</span> <span class="ruby-keyword kw">do</span>
190:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post_'</span>
191:     <span class="ruby-keyword kw">end</span>
192:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000169" class="method">
  <div id="M000169_title" class="title">
    <b>test_with_new_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000169_source')" id="l_M000169_source">show source</a> ]</p>
  <div id="M000169_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 360</span>
360:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_new_action</span>
361:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> } <span class="ruby-keyword kw">do</span>
362:       <span class="ruby-identifier">preview_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'preview'</span>}
363:       <span class="ruby-identifier">preview_path</span>    = <span class="ruby-value str">&quot;/messages/new/preview&quot;</span>
364:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
365:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">preview_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
366:       <span class="ruby-keyword kw">end</span>
367: 
368:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
369:         <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-identifier">:preview_new_message_path</span>, <span class="ruby-identifier">preview_options</span>
370:       <span class="ruby-keyword kw">end</span>
371:     <span class="ruby-keyword kw">end</span>
372:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000170" class="method">
  <div id="M000170_title" class="title">
    <b>test_with_new_action_with_name_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000170_source')" id="l_M000170_source">show source</a> ]</p>
  <div id="M000170_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_new_action_with_name_prefix</span>
375:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:new</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:preview</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> }, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/threads/:thread_id'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span> <span class="ruby-keyword kw">do</span>
376:       <span class="ruby-identifier">preview_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'preview'</span>, <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
377:       <span class="ruby-identifier">preview_path</span>    = <span class="ruby-value str">&quot;/threads/1/messages/new/preview&quot;</span>
378:       <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
379:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">preview_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
380:       <span class="ruby-keyword kw">end</span>
381: 
382:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'threads/1/'</span>, <span class="ruby-identifier">:name_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread_'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span> } <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
383:         <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">preview_path</span>, <span class="ruby-identifier">:preview_new_thread_message_path</span>, <span class="ruby-identifier">preview_options</span>
384:       <span class="ruby-keyword kw">end</span>
385:     <span class="ruby-keyword kw">end</span>
386:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000156" class="method">
  <div id="M000156_title" class="title">
    <b>test_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000156_source')" id="l_M000156_source">show source</a> ]</p>
  <div id="M000156_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 175</span>
175:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_path_prefix</span>
176:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/thread/:thread_id'</span> <span class="ruby-keyword kw">do</span>
177:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread/5/'</span>, <span class="ruby-identifier">:options</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5'</span> }
178:     <span class="ruby-keyword kw">end</span>
179:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000154" class="method">
  <div id="M000154_title" class="title">
    <b>test_with_path_prefix_requirements</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000154_source')" id="l_M000154_source">show source</a> ]</p>
  <div id="M000154_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 160</span>
160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_path_prefix_requirements</span>
161:     <span class="ruby-identifier">expected_options</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1.1.1'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
162:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/thread/:thread_id'</span>, <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[0-9]\.[0-9]\.[0-9]/</span>} <span class="ruby-keyword kw">do</span>
163:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread/1.1.1/messages/1'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
164:     <span class="ruby-keyword kw">end</span>
165:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000204" class="method">
  <div id="M000204_title" class="title">
    <b>test_with_path_segment</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000204_source')" id="l_M000204_source">show source</a> ]</p>
  <div id="M000204_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 858</span>
858:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_path_segment</span>
859:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span>
860:       <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>
861:       <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;messages&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>}, <span class="ruby-value str">&quot;/messages&quot;</span>)
862:       <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;messages&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>}, <span class="ruby-value str">&quot;/messages/&quot;</span>)
863:     <span class="ruby-keyword kw">end</span>
864: 
865:      <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reviews'</span> <span class="ruby-keyword kw">do</span>
866:        <span class="ruby-identifier">assert_simply_restful_for</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'reviews'</span>
867:       <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;messages&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>}, <span class="ruby-value str">&quot;/reviews&quot;</span>)
868:       <span class="ruby-identifier">assert_recognizes</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;messages&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>}, <span class="ruby-value str">&quot;/reviews/&quot;</span>)
869:      <span class="ruby-keyword kw">end</span>
870:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000206" class="method">
  <div id="M000206_title" class="title">
    <b>test_with_path_segment_path_prefix_requirements</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000206_source')" id="l_M000206_source">show source</a> ]</p>
  <div id="M000206_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 888</span>
888:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_path_segment_path_prefix_requirements</span>
889:     <span class="ruby-identifier">expected_options</span> = {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'messages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1.1.1'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
890:     <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'comments'</span>,<span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/thread/:thread_id'</span>, <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:thread_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[0-9]\.[0-9]\.[0-9]/</span> } <span class="ruby-keyword kw">do</span>
891:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'thread/1.1.1/comments/1'</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
892:     <span class="ruby-keyword kw">end</span>
893:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000167" class="method">
  <div id="M000167_title" class="title">
    <b>test_with_two_member_actions_with_same_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000167_source')" id="l_M000167_source">show source</a> ]</p>
  <div id="M000167_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 329</span>
329:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_with_two_member_actions_with_same_method</span>
330:     [<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:post</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
331:       <span class="ruby-identifier">with_restful_routing</span> <span class="ruby-identifier">:messages</span>, <span class="ruby-identifier">:member</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:mark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>, <span class="ruby-identifier">:unmark</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> } <span class="ruby-keyword kw">do</span>
332:         <span class="ruby-node">%w(mark unmark)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
333:           <span class="ruby-identifier">action_options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}
334:           <span class="ruby-identifier">action_path</span>    = <span class="ruby-node">&quot;/messages/1/#{action}&quot;</span>
335:           <span class="ruby-identifier">assert_restful_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
336:             <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">action_options</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>)
337:           <span class="ruby-keyword kw">end</span>
338: 
339:           <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">:messages</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
340:             <span class="ruby-identifier">assert_named_route</span> <span class="ruby-identifier">action_path</span>, <span class="ruby-node">&quot;#{action}_message_path&quot;</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">action_options</span>
341:           <span class="ruby-keyword kw">end</span>
342:         <span class="ruby-keyword kw">end</span>
343:       <span class="ruby-keyword kw">end</span>
344:     <span class="ruby-keyword kw">end</span>
345:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M000234" class="method">
  <div id="M000234_title" class="title">
    <b>assert_named_route</b>(expected, route, options)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000234_source')" id="l_M000234_source">show source</a> ]</p>
  <div id="M000234_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1327</span>
1327:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_named_route</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">route</span>, <span class="ruby-identifier">options</span>)
1328:       <span class="ruby-identifier">actual</span> =  <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">route</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>
1329:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">actual</span>, <span class="ruby-node">&quot;Error on route: #{route}(#{options.inspect})&quot;</span>
1330:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000239" class="method">
  <div id="M000239_title" class="title">
    <b>assert_not_recognizes</b>(expected_options, path)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000239_source')" id="l_M000239_source">show source</a> ]</p>
  <div id="M000239_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1379</span>
1379:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_not_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">path</span>)
1380:       <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span>, <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span>, <span class="ruby-constant">Assertion</span> <span class="ruby-keyword kw">do</span>
1381:         <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">expected_options</span>, <span class="ruby-identifier">path</span>)
1382:       <span class="ruby-keyword kw">end</span>
1383:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000236" class="method">
  <div id="M000236_title" class="title">
    <b>assert_resource_allowed_routes</b>(controller, options, shallow_options, allowed, not_allowed, path = controller)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000236_source')" id="l_M000236_source">show source</a> ]</p>
  <div id="M000236_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1340</span>
1340:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_resource_allowed_routes</span>(<span class="ruby-identifier">controller</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">path</span> = <span class="ruby-identifier">controller</span>)
1341:       <span class="ruby-identifier">shallow_path</span> = <span class="ruby-node">&quot;#{path}/#{shallow_options[:id]}&quot;</span>
1342:       <span class="ruby-identifier">format</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:format</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">&quot;.#{options[:format]}&quot;</span>
1343:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">controller</span>)
1344:       <span class="ruby-identifier">shallow_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
1345: 
1346:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>,         <span class="ruby-value str">'index'</span>,    <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,               <span class="ruby-identifier">:get</span>)
1347:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>,         <span class="ruby-value str">'new'</span>,      <span class="ruby-node">&quot;#{path}/new#{format}&quot;</span>,           <span class="ruby-identifier">:get</span>)
1348:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>,         <span class="ruby-value str">'create'</span>,   <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,               <span class="ruby-identifier">:post</span>)
1349:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-value str">'show'</span>,     <span class="ruby-node">&quot;#{shallow_path}#{format}&quot;</span>,       <span class="ruby-identifier">:get</span>)
1350:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-value str">'edit'</span>,     <span class="ruby-node">&quot;#{shallow_path}/edit#{format}&quot;</span>,  <span class="ruby-identifier">:get</span>)
1351:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-value str">'update'</span>,   <span class="ruby-node">&quot;#{shallow_path}#{format}&quot;</span>,       <span class="ruby-identifier">:put</span>)
1352:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">shallow_options</span>, <span class="ruby-value str">'destroy'</span>,  <span class="ruby-node">&quot;#{shallow_path}#{format}&quot;</span>,       <span class="ruby-identifier">:delete</span>)
1353:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000235" class="method">
  <div id="M000235_title" class="title">
    <b>assert_resource_methods</b>(expected, resource, action_method, method)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000235_source')" id="l_M000235_source">show source</a> ]</p>
  <div id="M000235_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1332</span>
1332:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_resource_methods</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">action_method</span>, <span class="ruby-identifier">method</span>)
1333:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{action_method}_methods&quot;</span>)[<span class="ruby-identifier">method</span>].<span class="ruby-identifier">size</span>, <span class="ruby-node">&quot;#{resource.send(&quot;#{action_method}_methods&quot;)[method].inspect}&quot;</span>
1334:       <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
1335:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{action_method}_methods&quot;</span>)[<span class="ruby-identifier">method</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">action</span>),
1336:           <span class="ruby-node">&quot;#{method} not in #{action_method} methods: #{resource.send(&quot;#{action_method}_methods&quot;)[method].inspect}&quot;</span>
1337:       <span class="ruby-keyword kw">end</span>
1338:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000231" class="method">
  <div id="M000231_title" class="title">
    <b>assert_restful_named_routes_for</b>(controller_name, singular_name = nil, options = {}) {|options[:options] if block_given?| ...}
  </div>
  <div class="description">
  <p>
test named routes like foo_path and foos_path map to the correct options.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000231_source')" id="l_M000231_source">show source</a> ]</p>
  <div id="M000231_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1223</span>
1223:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_restful_named_routes_for</span>(<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">singular_name</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = {})
1224:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">singular_name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
1225:         <span class="ruby-identifier">options</span>       = <span class="ruby-identifier">singular_name</span>
1226:         <span class="ruby-identifier">singular_name</span> = <span class="ruby-keyword kw">nil</span>
1227:       <span class="ruby-keyword kw">end</span>
1228:       <span class="ruby-identifier">singular_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">singularize</span>
1229: 
1230:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-operator">||=</span> {}
1231:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:controller</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span>
1232: 
1233:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow</span>]
1234:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>] <span class="ruby-operator">||=</span> {}
1235:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>][<span class="ruby-identifier">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:controller</span>]
1236:       <span class="ruby-keyword kw">else</span>
1237:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1238:       <span class="ruby-keyword kw">end</span>
1239: 
1240:       <span class="ruby-ivar">@controller</span> = <span class="ruby-node">&quot;#{options[:options][:controller].camelize}Controller&quot;</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">new</span>
1241:       <span class="ruby-ivar">@request</span>    = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
1242:       <span class="ruby-ivar">@response</span>   = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>.<span class="ruby-identifier">new</span>
1243:       <span class="ruby-identifier">get</span> <span class="ruby-identifier">:index</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1244:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">delete</span> <span class="ruby-identifier">:action</span>
1245: 
1246:       <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;#{options[:as] || controller_name}&quot;</span>
1247:       <span class="ruby-identifier">shallow_path</span> = <span class="ruby-node">&quot;/#{options[:shallow] ? options[:namespace] : options[:path_prefix]}#{path}&quot;</span>
1248:       <span class="ruby-identifier">full_path</span> = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{path}&quot;</span>
1249:       <span class="ruby-identifier">name_prefix</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:name_prefix</span>]
1250:       <span class="ruby-identifier">shallow_prefix</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:namespace</span>].<span class="ruby-identifier">try</span>(<span class="ruby-identifier">:gsub</span>, <span class="ruby-regexp re">/\//</span>, <span class="ruby-value str">'_'</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:name_prefix</span>]
1251: 
1252:       <span class="ruby-identifier">new_action</span>  = <span class="ruby-value str">&quot;new&quot;</span>
1253:       <span class="ruby-identifier">edit_action</span> = <span class="ruby-value str">&quot;edit&quot;</span>
1254:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>]
1255:         <span class="ruby-identifier">new_action</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">:new</span>]  <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;new&quot;</span>
1256:         <span class="ruby-identifier">edit_action</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">:edit</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;edit&quot;</span>
1257:       <span class="ruby-keyword kw">end</span>
1258: 
1259:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}&quot;</span>, <span class="ruby-node">&quot;#{name_prefix}#{controller_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1260:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>, <span class="ruby-node">&quot;#{name_prefix}#{controller_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1261:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1&quot;</span>, <span class="ruby-node">&quot;#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>)
1262:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1.xml&quot;</span>, <span class="ruby-node">&quot;#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1263: 
1264:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/#{new_action}&quot;</span>, <span class="ruby-node">&quot;new_#{name_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1265:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/#{new_action}.xml&quot;</span>, <span class="ruby-node">&quot;new_#{name_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1266:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1/#{edit_action}&quot;</span>, <span class="ruby-node">&quot;edit_#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>)
1267:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{shallow_path}/1/#{edit_action}.xml&quot;</span>, <span class="ruby-node">&quot;edit_#{shallow_prefix}#{singular_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1268: 
1269:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1270:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000230" class="method">
  <div id="M000230_title" class="title">
    <b>assert_restful_routes_for</b>(controller_name, options = {}) {|options[:options] if block_given?| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000230_source')" id="l_M000230_source">show source</a> ]</p>
  <div id="M000230_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1163</span>
1163:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_restful_routes_for</span>(<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">options</span> = {})
1164:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-operator">||=</span> {}
1165:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:controller</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">controller_name</span>.<span class="ruby-identifier">to_s</span>
1166: 
1167:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow</span>]
1168:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>] <span class="ruby-operator">||=</span> {}
1169:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>][<span class="ruby-identifier">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:controller</span>]
1170:       <span class="ruby-keyword kw">else</span>
1171:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1172:       <span class="ruby-keyword kw">end</span>
1173: 
1174:       <span class="ruby-identifier">new_action</span>    = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">resources_path_names</span>[<span class="ruby-identifier">:new</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;new&quot;</span>
1175:       <span class="ruby-identifier">edit_action</span>   = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">resources_path_names</span>[<span class="ruby-identifier">:edit</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;edit&quot;</span>
1176:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>]
1177:         <span class="ruby-identifier">new_action</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">:new</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">:new</span>]
1178:         <span class="ruby-identifier">edit_action</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">:edit</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:path_names</span>][<span class="ruby-identifier">:edit</span>]
1179:       <span class="ruby-keyword kw">end</span>
1180: 
1181:       <span class="ruby-identifier">path</span>                       = <span class="ruby-node">&quot;#{options[:as] || controller_name}&quot;</span>
1182:       <span class="ruby-identifier">collection_path</span>            = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{path}&quot;</span>
1183:       <span class="ruby-identifier">shallow_path</span>               = <span class="ruby-node">&quot;/#{options[:shallow] ? options[:namespace] : options[:path_prefix]}#{path}&quot;</span>
1184:       <span class="ruby-identifier">member_path</span>                = <span class="ruby-node">&quot;#{shallow_path}/1&quot;</span>
1185:       <span class="ruby-identifier">new_path</span>                   = <span class="ruby-node">&quot;#{collection_path}/#{new_action}&quot;</span>
1186:       <span class="ruby-identifier">edit_member_path</span>           = <span class="ruby-node">&quot;#{member_path}/#{edit_action}&quot;</span>
1187:       <span class="ruby-identifier">formatted_edit_member_path</span> = <span class="ruby-node">&quot;#{member_path}/#{edit_action}.xml&quot;</span>
1188: 
1189:       <span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">controller</span><span class="ruby-operator">|</span>
1190:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">collection_path</span>,            <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
1191:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">new_path</span>,                   <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>
1192:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{collection_path}.xml&quot;</span>,   <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>,            <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1193:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,          <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>,              <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1194:       <span class="ruby-keyword kw">end</span>
1195: 
1196:       <span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">controller</span><span class="ruby-operator">|</span>
1197:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">member_path</span>,                <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>
1198:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">edit_member_path</span>,           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>
1199:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1200:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">formatted_edit_member_path</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1201:       <span class="ruby-keyword kw">end</span>
1202: 
1203:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>),               <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1204:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>),                 <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new_path</span>,         <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1205:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'create'</span>),              <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection_path</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
1206:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,    <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_path</span>,      <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1207:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>,    <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">edit_member_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1208:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'update'</span>,  <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_path</span>,      <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>)
1209:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'destroy'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">member_path</span>,      <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
1210: 
1211:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>,  <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{collection_path}.xml&quot;</span>,   <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1212:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>,    <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,          <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1213:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'create'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{collection_path}.xml&quot;</span>,   <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
1214:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,    <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1215:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>,    <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">formatted_edit_member_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1216:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'update'</span>,  <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>)
1217:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:shallow_options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'destroy'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{member_path}.xml&quot;</span>,       <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
1218: 
1219:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1220:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000228" class="method">
  <div id="M000228_title" class="title">
    <b>assert_simply_restful_for</b>(controller_name, options = {})
  </div>
  <div class="description">
  <p>
runs <a
href="index.html?a=M000230&name=assert_restful_routes_for">assert_restful_routes_for</a>
and assert_restful_named_routes for on the controller_name and options,
without passing a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000228_source')" id="l_M000228_source">show source</a> ]</p>
  <div id="M000228_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1153</span>
1153:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_simply_restful_for</span>(<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">options</span> = {})
1154:       <span class="ruby-identifier">assert_restful_routes_for</span>       <span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">options</span>
1155:       <span class="ruby-identifier">assert_restful_named_routes_for</span> <span class="ruby-identifier">controller_name</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>
1156:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000233" class="method">
  <div id="M000233_title" class="title">
    <b>assert_singleton_named_routes_for</b>(singleton_name, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000233_source')" id="l_M000233_source">show source</a> ]</p>
  <div id="M000233_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1307</span>
1307:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_singleton_named_routes_for</span>(<span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span> = {})
1308:       (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-operator">||=</span> {})[<span class="ruby-identifier">:controller</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">singleton_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">pluralize</span>
1309:       <span class="ruby-ivar">@controller</span> = <span class="ruby-node">&quot;#{options[:options][:controller].camelize}Controller&quot;</span>.<span class="ruby-identifier">constantize</span>.<span class="ruby-identifier">new</span>
1310:       <span class="ruby-ivar">@request</span>    = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
1311:       <span class="ruby-ivar">@response</span>   = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>.<span class="ruby-identifier">new</span>
1312:       <span class="ruby-identifier">get</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1313:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">delete</span> <span class="ruby-identifier">:action</span>
1314: 
1315:       <span class="ruby-identifier">full_path</span> = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{options[:as] || singleton_name}&quot;</span>
1316:       <span class="ruby-identifier">name_prefix</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:name_prefix</span>]
1317: 
1318:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}&quot;</span>,          <span class="ruby-node">&quot;#{name_prefix}#{singleton_name}_path&quot;</span>,                <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1319:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,      <span class="ruby-node">&quot;#{name_prefix}#{singleton_name}_path&quot;</span>,      <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1320: 
1321:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/new&quot;</span>,      <span class="ruby-node">&quot;new_#{name_prefix}#{singleton_name}_path&quot;</span>,            <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1322:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/new.xml&quot;</span>,  <span class="ruby-node">&quot;new_#{name_prefix}#{singleton_name}_path&quot;</span>,  <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1323:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/edit&quot;</span>,     <span class="ruby-node">&quot;edit_#{name_prefix}#{singleton_name}_path&quot;</span>,           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
1324:       <span class="ruby-identifier">assert_named_route</span> <span class="ruby-node">&quot;#{full_path}/edit.xml&quot;</span>, <span class="ruby-node">&quot;edit_#{name_prefix}#{singleton_name}_path&quot;</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>)
1325:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000237" class="method">
  <div id="M000237_title" class="title">
    <b>assert_singleton_resource_allowed_routes</b>(controller, options, allowed, not_allowed, path = controller.singularize)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000237_source')" id="l_M000237_source">show source</a> ]</p>
  <div id="M000237_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1355</span>
1355:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_singleton_resource_allowed_routes</span>(<span class="ruby-identifier">controller</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">path</span> = <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">singularize</span>)
1356:       <span class="ruby-identifier">format</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:format</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">&quot;.#{options[:format]}&quot;</span>
1357:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">controller</span>)
1358: 
1359:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value str">'new'</span>,      <span class="ruby-node">&quot;#{path}/new#{format}&quot;</span>,   <span class="ruby-identifier">:get</span>)
1360:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value str">'create'</span>,   <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-identifier">:post</span>)
1361:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value str">'show'</span>,     <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-identifier">:get</span>)
1362:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value str">'edit'</span>,     <span class="ruby-node">&quot;#{path}/edit#{format}&quot;</span>,  <span class="ruby-identifier">:get</span>)
1363:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value str">'update'</span>,   <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-identifier">:put</span>)
1364:       <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value str">'destroy'</span>,  <span class="ruby-node">&quot;#{path}#{format}&quot;</span>,       <span class="ruby-identifier">:delete</span>)
1365:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000229" class="method">
  <div id="M000229_title" class="title">
    <b>assert_singleton_restful_for</b>(singleton_name, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000229_source')" id="l_M000229_source">show source</a> ]</p>
  <div id="M000229_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1158</span>
1158:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_singleton_restful_for</span>(<span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span> = {})
1159:       <span class="ruby-identifier">assert_singleton_routes_for</span>       <span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span>
1160:       <span class="ruby-identifier">assert_singleton_named_routes_for</span> <span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span>
1161:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000232" class="method">
  <div id="M000232_title" class="title">
    <b>assert_singleton_routes_for</b>(singleton_name, options = {}) {|options[:options] if block_given?| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000232_source')" id="l_M000232_source">show source</a> ]</p>
  <div id="M000232_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1272</span>
1272:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_singleton_routes_for</span>(<span class="ruby-identifier">singleton_name</span>, <span class="ruby-identifier">options</span> = {})
1273:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-operator">||=</span> {}
1274:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>][<span class="ruby-identifier">:controller</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:controller</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">singleton_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">pluralize</span>
1275: 
1276:       <span class="ruby-identifier">full_path</span>           = <span class="ruby-node">&quot;/#{options[:path_prefix]}#{options[:as] || singleton_name}&quot;</span>
1277:       <span class="ruby-identifier">new_path</span>            = <span class="ruby-node">&quot;#{full_path}/new&quot;</span>
1278:       <span class="ruby-identifier">edit_path</span>           = <span class="ruby-node">&quot;#{full_path}/edit&quot;</span>
1279:       <span class="ruby-identifier">formatted_edit_path</span> = <span class="ruby-node">&quot;#{full_path}/edit.xml&quot;</span>
1280: 
1281:       <span class="ruby-identifier">with_options</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">controller</span><span class="ruby-operator">|</span>
1282:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">full_path</span>,           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
1283:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">new_path</span>,            <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>
1284:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">edit_path</span>,           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>
1285:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1286:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,   <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>,  <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1287:         <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">assert_routing</span> <span class="ruby-identifier">formatted_edit_path</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>
1288:       <span class="ruby-keyword kw">end</span>
1289: 
1290:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>),    <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1291:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>),     <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">new_path</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1292:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>),    <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">edit_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1293:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'create'</span>),  <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
1294:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'update'</span>),  <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>)
1295:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'destroy'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">full_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
1296: 
1297:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,    <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1298:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'new'</span>,     <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{new_path}.xml&quot;</span>,   <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1299:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>,    <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">formatted_edit_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>)
1300:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'create'</span>,  <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span>)
1301:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'update'</span>,  <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span>)
1302:       <span class="ruby-identifier">assert_recognizes</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'destroy'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>), <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{full_path}.xml&quot;</span>,  <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span>)
1303: 
1304:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1305:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000238" class="method">
  <div id="M000238_title" class="title">
    <b>assert_whether_allowed</b>(allowed, not_allowed, options, action, path, method)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000238_source')" id="l_M000238_source">show source</a> ]</p>
  <div id="M000238_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1367</span>
1367:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_whether_allowed</span>(<span class="ruby-identifier">allowed</span>, <span class="ruby-identifier">not_allowed</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">action</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">method</span>)
1368:       <span class="ruby-identifier">action</span> = <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_sym</span>
1369:       <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">to_s</span>)
1370:       <span class="ruby-identifier">path_options</span> = { <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span> }
1371: 
1372:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">allowed</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">action</span>)
1373:         <span class="ruby-identifier">assert_recognizes</span> <span class="ruby-identifier">options</span>, <span class="ruby-identifier">path_options</span>
1374:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">not_allowed</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">action</span>)
1375:         <span class="ruby-identifier">assert_not_recognizes</span> <span class="ruby-identifier">options</span>, <span class="ruby-identifier">path_options</span>
1376:       <span class="ruby-keyword kw">end</span>
1377:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000240" class="method">
  <div id="M000240_title" class="title">
    <b>distinct_routes?</b>(r1, r2)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000240_source')" id="l_M000240_source">show source</a> ]</p>
  <div id="M000240_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1385</span>
1385:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">distinct_routes?</span> (<span class="ruby-identifier">r1</span>, <span class="ruby-identifier">r2</span>)
1386:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">conditions</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">conditions</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">requirements</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">requirements</span> <span class="ruby-keyword kw">then</span>
1387:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">collect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">collect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>) <span class="ruby-keyword kw">then</span>
1388:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
1389:         <span class="ruby-keyword kw">end</span>
1390:       <span class="ruby-keyword kw">end</span>
1391:       <span class="ruby-keyword kw">true</span>
1392:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000226" class="method">
  <div id="M000226_title" class="title">
    <b>with_restful_routing</b>(*args) {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000226_source')" id="l_M000226_source">show source</a> ]</p>
  <div id="M000226_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1138</span>
1138:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_restful_routing</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
1139:       <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1140:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
1141:         <span class="ruby-keyword kw">yield</span>
1142:       <span class="ruby-keyword kw">end</span>
1143:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000227" class="method">
  <div id="M000227_title" class="title">
    <b>with_singleton_resources</b>(*args) {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000227_source')" id="l_M000227_source">show source</a> ]</p>
  <div id="M000227_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/resources_test.rb, line 1145</span>
1145:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_singleton_resources</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
1146:       <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
1147:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resource</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
1148:         <span class="ruby-keyword kw">yield</span>
1149:       <span class="ruby-keyword kw">end</span>
1150:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>