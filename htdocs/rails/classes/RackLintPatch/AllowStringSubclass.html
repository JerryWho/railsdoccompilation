  <div id="C00001042">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />AllowStringSubclass<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/lib/action_controller/rack_lint_patch_rb.html');">actionpack/lib/action_controller/rack_lint_patch.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007606&name=each_with_hack" >each_with_hack</a></li>
  <li><a href="index.html?a=M007605&name=included" >included</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M007605" class="method">
  <div id="M007605_title" class="title">
    <b>included</b>(base)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007605_source')" id="l_M007605_source">show source</a> ]</p>
  <div id="M007605_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File actionpack/lib/action_controller/rack_lint_patch.rb, line 7</span>
7:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">included</span>(<span class="ruby-identifier">base</span>)
8:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">:alias_method</span>, <span class="ruby-identifier">:each</span>, <span class="ruby-identifier">:each_with_hack</span>
9:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M007606" class="method">
  <div id="M007606_title" class="title">
    <b>each_with_hack</b>() {|part| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007606_source')" id="l_M007606_source">show source</a> ]</p>
  <div id="M007606_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/rack_lint_patch.rb, line 11</span>
11:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_with_hack</span>
12:       <span class="ruby-ivar">@closed</span> = <span class="ruby-keyword kw">false</span>
13: 
14:       <span class="ruby-ivar">@body</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
15:         <span class="ruby-identifier">assert</span>(<span class="ruby-node">&quot;Body yielded non-string value #{part.inspect}&quot;</span>) {
16:           <span class="ruby-identifier">part</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>)
17:         }
18:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">part</span>
19:       }
20: 
21:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@body</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_path</span>)
22:         <span class="ruby-identifier">assert</span>(<span class="ruby-value str">&quot;The file identified by body.to_path does not exist&quot;</span>) {
23:           <span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-ivar">@body</span>.<span class="ruby-identifier">to_path</span>
24:         }
25:       <span class="ruby-keyword kw">end</span>
26:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>