  <div id="C00000456">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />NumericExtTimeAndDateTimeTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/numeric_ext_test_rb.html');">activesupport/test/core_ext/numeric_ext_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M002727&name=setup" >setup</a></li>
  <li><a href="index.html?a=M002736&name=test_add_one_year_to_leap_day" >test_add_one_year_to_leap_day</a></li>
  <li><a href="index.html?a=M002734&name=test_chaining_duration_operations" >test_chaining_duration_operations</a></li>
  <li><a href="index.html?a=M002732&name=test_duration_addition" >test_duration_addition</a></li>
  <li><a href="index.html?a=M002735&name=test_duration_after_convertion_is_no_longer_accurate" >test_duration_after_convertion_is_no_longer_accurate</a></li>
  <li><a href="index.html?a=M002729&name=test_intervals" >test_intervals</a></li>
  <li><a href="index.html?a=M002731&name=test_irregular_durations" >test_irregular_durations</a></li>
  <li><a href="index.html?a=M002730&name=test_now" >test_now</a></li>
  <li><a href="index.html?a=M002733&name=test_time_plus_duration" >test_time_plus_duration</a></li>
  <li><a href="index.html?a=M002728&name=test_units" >test_units</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M002727" class="method">
  <div id="M002727_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002727_source')" id="l_M002727_source">show source</a> ]</p>
  <div id="M002727_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 4</span>
 4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 5:     <span class="ruby-ivar">@now</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>)
 6:     <span class="ruby-ivar">@dtnow</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>)
 7:     <span class="ruby-ivar">@seconds</span> = {
 8:       <span class="ruby-value">1</span>.<span class="ruby-identifier">minute</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">60</span>,
 9:       <span class="ruby-value">10</span>.<span class="ruby-identifier">minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">600</span>,
10:       <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span> <span class="ruby-operator">+</span> <span class="ruby-value">15</span>.<span class="ruby-identifier">minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4500</span>,
11:       <span class="ruby-value">2</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">+</span> <span class="ruby-value">4</span>.<span class="ruby-identifier">hours</span> <span class="ruby-operator">+</span> <span class="ruby-value">30</span>.<span class="ruby-identifier">minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">189000</span>,
12:       <span class="ruby-value">5</span>.<span class="ruby-identifier">years</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">fortnight</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">161589600</span>
13:     }
14:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002736" class="method">
  <div id="M002736_title" class="title">
    <b>test_add_one_year_to_leap_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002736_source')" id="l_M002736_source">show source</a> ]</p>
  <div id="M002736_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_add_one_year_to_leap_day</span>
85:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>
86:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>
87:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002734" class="method">
  <div id="M002734_title" class="title">
    <b>test_chaining_duration_operations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002734_source')" id="l_M002734_source">show source</a> ]</p>
  <div id="M002734_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_chaining_duration_operations</span>
71:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-3</span>), <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>.<span class="ruby-identifier">months</span>
72:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">months</span>
73:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-3</span>), <span class="ruby-ivar">@dtnow</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>.<span class="ruby-identifier">months</span>
74:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), <span class="ruby-ivar">@dtnow</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">months</span>    
75:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002732" class="method">
  <div id="M002732_title" class="title">
    <b>test_duration_addition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002732_source')" id="l_M002732_source">show source</a> ]</p>
  <div id="M002732_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 50</span>
50:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_duration_addition</span>
51:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>), (<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
52:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>), (<span class="ruby-value">1</span>.<span class="ruby-identifier">week</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">seconds</span> <span class="ruby-operator">-</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), (<span class="ruby-value">4</span>.<span class="ruby-identifier">years</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">years</span>).<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
54:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>), (<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)
55:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>), (<span class="ruby-value">1</span>.<span class="ruby-identifier">week</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">seconds</span> <span class="ruby-operator">-</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)
56:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>), (<span class="ruby-value">4</span>.<span class="ruby-identifier">years</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>.<span class="ruby-identifier">years</span>).<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)    
57:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002735" class="method">
  <div id="M002735_title" class="title">
    <b>test_duration_after_convertion_is_no_longer_accurate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002735_source')" id="l_M002735_source">show source</a> ]</p>
  <div id="M002735_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 77</span>
77:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_duration_after_convertion_is_no_longer_accurate</span>
78:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
79:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">365.25</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
80:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)
81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">365.25</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)    
82:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002729" class="method">
  <div id="M002729_title" class="title">
    <b>test_intervals</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002729_source')" id="l_M002729_source">show source</a> ]</p>
  <div id="M002729_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_intervals</span>
23:     <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">seconds</span><span class="ruby-operator">|</span>
24:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>), <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">seconds</span>
25:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">until</span>(<span class="ruby-ivar">@now</span>), <span class="ruby-ivar">@now</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">seconds</span>
26:     <span class="ruby-keyword kw">end</span>
27:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002731" class="method">
  <div id="M002731_title" class="title">
    <b>test_irregular_durations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002731_source')" id="l_M002731_source">show source</a> ]</p>
  <div id="M002731_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 39</span>
39:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_irregular_durations</span>
40:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3000</span>), <span class="ruby-value">3000</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
41:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
42:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>.<span class="ruby-identifier">until</span>(<span class="ruby-ivar">@now</span>)
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">20</span>), <span class="ruby-value">20</span>.<span class="ruby-identifier">years</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@now</span>)
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3000</span>), <span class="ruby-value">3000</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)
45:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)
46:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>), <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>.<span class="ruby-identifier">until</span>(<span class="ruby-ivar">@dtnow</span>)
47:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">20</span>), <span class="ruby-value">20</span>.<span class="ruby-identifier">years</span>.<span class="ruby-identifier">since</span>(<span class="ruby-ivar">@dtnow</span>)
48:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002730" class="method">
  <div id="M002730_title" class="title">
    <b>test_now</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001790&name=Test">Test</a> intervals based from
Time.now
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002730_source')" id="l_M002730_source">show source</a> ]</p>
  <div id="M002730_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_now</span>
31:     <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">seconds</span><span class="ruby-operator">|</span>
32:       <span class="ruby-identifier">now</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
33:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">ago</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">now</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">seconds</span>
34:       <span class="ruby-identifier">now</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
35:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">from_now</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">seconds</span>
36:     <span class="ruby-keyword kw">end</span>
37:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002733" class="method">
  <div id="M002733_title" class="title">
    <b>test_time_plus_duration</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002733_source')" id="l_M002733_source">show source</a> ]</p>
  <div id="M002733_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 59</span>
59:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_time_plus_duration</span>
60:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">8</span>, <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">8</span>.<span class="ruby-identifier">seconds</span>
61:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">22.9</span>, <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">22.9</span>.<span class="ruby-identifier">seconds</span>
62:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>), <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">15</span>.<span class="ruby-identifier">days</span>
63:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@now</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>), <span class="ruby-ivar">@now</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>
64:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">8</span>), <span class="ruby-ivar">@dtnow</span> <span class="ruby-operator">+</span> <span class="ruby-value">8</span>.<span class="ruby-identifier">seconds</span>
65:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">22.9</span>), <span class="ruby-ivar">@dtnow</span> <span class="ruby-operator">+</span> <span class="ruby-value">22.9</span>.<span class="ruby-identifier">seconds</span>
66:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>), <span class="ruby-ivar">@dtnow</span> <span class="ruby-operator">+</span> <span class="ruby-value">15</span>.<span class="ruby-identifier">days</span>
67:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@dtnow</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>), <span class="ruby-ivar">@dtnow</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>
68:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002728" class="method">
  <div id="M002728_title" class="title">
    <b>test_units</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002728_source')" id="l_M002728_source">show source</a> ]</p>
  <div id="M002728_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/numeric_ext_test.rb, line 16</span>
16:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_units</span>
17:     <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">actual</span>, <span class="ruby-identifier">expected</span><span class="ruby-operator">|</span>
18:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">actual</span>
19:     <span class="ruby-keyword kw">end</span>
20:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>