  <div id="C00000286">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestHelperMailerTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionmailer/test/test_helper_test_rb.html');">actionmailer/test/test_helper_test.rb</a>

Parent:&nbsp;
ActionMailer::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001840&name=test_assert_emails" >test_assert_emails</a></li>
  <li><a href="index.html?a=M001844&name=test_assert_emails_too_few_sent" >test_assert_emails_too_few_sent</a></li>
  <li><a href="index.html?a=M001845&name=test_assert_emails_too_many_sent" >test_assert_emails_too_many_sent</a></li>
  <li><a href="index.html?a=M001842&name=test_assert_emails_with_no_block" >test_assert_emails_with_no_block</a></li>
  <li><a href="index.html?a=M001843&name=test_assert_no_emails" >test_assert_no_emails</a></li>
  <li><a href="index.html?a=M001846&name=test_assert_no_emails_failure" >test_assert_no_emails_failure</a></li>
  <li><a href="index.html?a=M001838&name=test_charset_is_utf_8" >test_charset_is_utf_8</a></li>
  <li><a href="index.html?a=M001837&name=test_determine_default_mailer_raises_correct_error" >test_determine_default_mailer_raises_correct_error</a></li>
  <li><a href="index.html?a=M001839&name=test_encode" >test_encode</a></li>
  <li><a href="index.html?a=M001836&name=test_mailer_class_is_correctly_inferred" >test_mailer_class_is_correctly_inferred</a></li>
  <li><a href="index.html?a=M001841&name=test_repeated_assert_emails_calls" >test_repeated_assert_emails_calls</a></li>
  <li><a href="index.html?a=M001835&name=test_setup_creates_the_expected_mailer" >test_setup_creates_the_expected_mailer</a></li>
  <li><a href="index.html?a=M001834&name=test_setup_sets_right_action_mailer_options" >test_setup_sets_right_action_mailer_options</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001840" class="method">
  <div id="M001840_title" class="title">
    <b>test_assert_emails</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001840_source')" id="l_M001840_source">show source</a> ]</p>
  <div id="M001840_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_emails</span>
43:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
44:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">do</span>
45:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
46:       <span class="ruby-keyword kw">end</span>
47:     <span class="ruby-keyword kw">end</span>
48:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001844" class="method">
  <div id="M001844_title" class="title">
    <b>test_assert_emails_too_few_sent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001844_source')" id="l_M001844_source">show source</a> ]</p>
  <div id="M001844_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 86</span>
86:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_emails_too_few_sent</span>
87:     <span class="ruby-identifier">error</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> <span class="ruby-keyword kw">do</span>
88:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">do</span>
89:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
90:       <span class="ruby-keyword kw">end</span>
91:     <span class="ruby-keyword kw">end</span>
92:     
93:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/2 .* but 1/</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>
94:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001845" class="method">
  <div id="M001845_title" class="title">
    <b>test_assert_emails_too_many_sent</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001845_source')" id="l_M001845_source">show source</a> ]</p>
  <div id="M001845_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 96</span>
 96:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_emails_too_many_sent</span>
 97:     <span class="ruby-identifier">error</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> <span class="ruby-keyword kw">do</span>
 98:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">do</span>
 99:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
100:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
101:       <span class="ruby-keyword kw">end</span>
102:     <span class="ruby-keyword kw">end</span>
103:     
104:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/1 .* but 2/</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>
105:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001842" class="method">
  <div id="M001842_title" class="title">
    <b>test_assert_emails_with_no_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001842_source')" id="l_M001842_source">show source</a> ]</p>
  <div id="M001842_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 65</span>
65:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_emails_with_no_block</span>
66:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
67:       <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
68:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">1</span>
69:     <span class="ruby-keyword kw">end</span>
70:     
71:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
72:       <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
73:       <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
74:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">3</span>
75:     <span class="ruby-keyword kw">end</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001843" class="method">
  <div id="M001843_title" class="title">
    <b>test_assert_no_emails</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001843_source')" id="l_M001843_source">show source</a> ]</p>
  <div id="M001843_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 78</span>
78:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_no_emails</span>
79:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
80:       <span class="ruby-identifier">assert_no_emails</span> <span class="ruby-keyword kw">do</span>
81:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">create_test</span>
82:       <span class="ruby-keyword kw">end</span>
83:     <span class="ruby-keyword kw">end</span>
84:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001846" class="method">
  <div id="M001846_title" class="title">
    <b>test_assert_no_emails_failure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001846_source')" id="l_M001846_source">show source</a> ]</p>
  <div id="M001846_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 107</span>
107:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_no_emails_failure</span>
108:     <span class="ruby-identifier">error</span> = <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> <span class="ruby-keyword kw">do</span>
109:       <span class="ruby-identifier">assert_no_emails</span> <span class="ruby-keyword kw">do</span>
110:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
111:       <span class="ruby-keyword kw">end</span>
112:     <span class="ruby-keyword kw">end</span>
113:     
114:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/0 .* but 1/</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span>
115:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001838" class="method">
  <div id="M001838_title" class="title">
    <b>test_charset_is_utf_8</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001838_source')" id="l_M001838_source">show source</a> ]</p>
  <div id="M001838_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 34</span>
34:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_charset_is_utf_8</span>
35:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;utf-8&quot;</span>, <span class="ruby-identifier">charset</span>
36:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001837" class="method">
  <div id="M001837_title" class="title">
    <b>test_determine_default_mailer_raises_correct_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001837_source')" id="l_M001837_source">show source</a> ]</p>
  <div id="M001837_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 28</span>
28:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_determine_default_mailer_raises_correct_error</span>
29:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">NonInferrableMailerError</span>) <span class="ruby-keyword kw">do</span>
30:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">determine_default_mailer</span>(<span class="ruby-value str">&quot;NotAMailerTest&quot;</span>)
31:     <span class="ruby-keyword kw">end</span>
32:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001839" class="method">
  <div id="M001839_title" class="title">
    <b>test_encode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001839_source')" id="l_M001839_source">show source</a> ]</p>
  <div id="M001839_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 38</span>
38:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_encode</span>
39:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;=?utf-8?Q?=0Aasdf=0A?=&quot;</span>, <span class="ruby-identifier">encode</span>(<span class="ruby-value str">&quot;\nasdf\n&quot;</span>)
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001836" class="method">
  <div id="M001836_title" class="title">
    <b>test_mailer_class_is_correctly_inferred</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001836_source')" id="l_M001836_source">show source</a> ]</p>
  <div id="M001836_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mailer_class_is_correctly_inferred</span>
25:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">TestHelperMailer</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">mailer_class</span>
26:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001841" class="method">
  <div id="M001841_title" class="title">
    <b>test_repeated_assert_emails_calls</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001841_source')" id="l_M001841_source">show source</a> ]</p>
  <div id="M001841_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 50</span>
50:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_repeated_assert_emails_calls</span>
51:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
52:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">do</span>
53:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
54:       <span class="ruby-keyword kw">end</span>
55:     <span class="ruby-keyword kw">end</span>
56:     
57:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
58:       <span class="ruby-identifier">assert_emails</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">do</span>
59:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
60:         <span class="ruby-constant">TestHelperMailer</span>.<span class="ruby-identifier">deliver_test</span>
61:       <span class="ruby-keyword kw">end</span>
62:     <span class="ruby-keyword kw">end</span>
63:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001835" class="method">
  <div id="M001835_title" class="title">
    <b>test_setup_creates_the_expected_mailer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001835_source')" id="l_M001835_source">show source</a> ]</p>
  <div id="M001835_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 18</span>
18:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_setup_creates_the_expected_mailer</span>
19:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@expected</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">TMail</span><span class="ruby-operator">::</span><span class="ruby-constant">Mail</span>)
20:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1.0&quot;</span>, <span class="ruby-ivar">@expected</span>.<span class="ruby-identifier">mime_version</span>
21:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;text/plain&quot;</span>, <span class="ruby-ivar">@expected</span>.<span class="ruby-identifier">content_type</span>
22:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001834" class="method">
  <div id="M001834_title" class="title">
    <b>test_setup_sets_right_action_mailer_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001834_source')" id="l_M001834_source">show source</a> ]</p>
  <div id="M001834_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/test/test_helper_test.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_setup_sets_right_action_mailer_options</span>
13:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">:test</span>, <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">delivery_method</span>
14:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">perform_deliveries</span>
15:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">deliveries</span>
16:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>