  <div id="C00001760">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />MemoryStore<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/lib/active_support/cache/memory_store_rb.html');">activesupport/lib/active_support/cache/memory_store.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/ActiveSupport/Cache/Store.html');">
Store
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
A cache store implementation which stores everything into memory in the
same process. If you&#8217;re running multiple Ruby on <a
href="index.html?a=C00001417&name=Rails">Rails</a> server processes (which
is the case if you&#8217;re using mongrel_cluster or Phusion Passenger),
then this means that your <a
href="index.html?a=C00001417&name=Rails">Rails</a> server process instances
won&#8217;t be able to share cache data with each other. If your
application never performs manual cache item expiry (e.g. when you&#8217;re
using generational cache keys), then using <a
href="index.html?a=C00001760&name=MemoryStore">MemoryStore</a> is ok.
Otherwise, consider carefully whether you should be using this cache store.
</p>
<p>
<a href="index.html?a=C00001760&name=MemoryStore">MemoryStore</a> is not
only able to store strings, but also arbitrary Ruby objects.
</p>
<p>
<a href="index.html?a=C00001760&name=MemoryStore">MemoryStore</a> is not
thread-safe. Use <a
href="index.html?a=C00001765&name=SynchronizedMemoryStore">SynchronizedMemoryStore</a>
instead if you need thread-safety.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M010112&name=clear" >clear</a></li>
  <li><a href="index.html?a=M010109&name=delete" >delete</a></li>
  <li><a href="index.html?a=M010110&name=delete_matched" >delete_matched</a></li>
  <li><a href="index.html?a=M010111&name=exist?" >exist?</a></li>
  <li><a href="index.html?a=M010105&name=new" >new</a></li>
  <li><a href="index.html?a=M010107&name=read" >read</a></li>
  <li><a href="index.html?a=M010106&name=read_multi" >read_multi</a></li>
  <li><a href="index.html?a=M010108&name=write" >write</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M010105" class="method">
  <div id="M010105_title" class="title">
    <b>new</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010105_source')" id="l_M010105_source">show source</a> ]</p>
  <div id="M010105_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 18</span>
18:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
19:         <span class="ruby-ivar">@data</span> = {}
20:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M010112" class="method">
  <div id="M010112_title" class="title">
    <b>clear</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010112_source')" id="l_M010112_source">show source</a> ]</p>
  <div id="M010112_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 53</span>
53:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear</span>
54:         <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">clear</span>
55:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010109" class="method">
  <div id="M010109_title" class="title">
    <b>delete</b>(name, options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010109_source')" id="l_M010109_source">show source</a> ]</p>
  <div id="M010109_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 38</span>
38:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
39:         <span class="ruby-keyword kw">super</span>
40:         <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
41:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010110" class="method">
  <div id="M010110_title" class="title">
    <b>delete_matched</b>(matcher, options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010110_source')" id="l_M010110_source">show source</a> ]</p>
  <div id="M010110_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 43</span>
43:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_matched</span>(<span class="ruby-identifier">matcher</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
44:         <span class="ruby-keyword kw">super</span>
45:         <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">matcher</span> }
46:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010111" class="method">
  <div id="M010111_title" class="title">
    <b>exist?</b>(name, options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010111_source')" id="l_M010111_source">show source</a> ]</p>
  <div id="M010111_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 48</span>
48:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
49:         <span class="ruby-keyword kw">super</span>
50:         <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">name</span>)
51:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010107" class="method">
  <div id="M010107_title" class="title">
    <b>read</b>(name, options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010107_source')" id="l_M010107_source">show source</a> ]</p>
  <div id="M010107_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 28</span>
28:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
29:         <span class="ruby-keyword kw">super</span>
30:         <span class="ruby-ivar">@data</span>[<span class="ruby-identifier">name</span>]
31:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010106" class="method">
  <div id="M010106_title" class="title">
    <b>read_multi</b>(*names)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010106_source')" id="l_M010106_source">show source</a> ]</p>
  <div id="M010106_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 22</span>
22:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_multi</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)
23:         <span class="ruby-identifier">results</span> = {}
24:         <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">results</span>[<span class="ruby-identifier">n</span>] = <span class="ruby-identifier">read</span>(<span class="ruby-identifier">n</span>) }
25:         <span class="ruby-identifier">results</span>
26:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M010108" class="method">
  <div id="M010108_title" class="title">
    <b>write</b>(name, value, options = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M010108_source')" id="l_M010108_source">show source</a> ]</p>
  <div id="M010108_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/lib/active_support/cache/memory_store.rb, line 33</span>
33:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">nil</span>)
34:         <span class="ruby-keyword kw">super</span>
35:         <span class="ruby-ivar">@data</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">freeze</span>
36:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>