  <div id="C00000673">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />InverseHasOneTests<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/test/cases/associations/inverse_associations_test_rb.html');">activerecord/test/cases/associations/inverse_associations_test.rb</a>

Parent:&nbsp;
ActiveRecord::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M004717&name=test_parent_instance_should_be_shared_with_child_on_find" >test_parent_instance_should_be_shared_with_child_on_find</a></li>
  <li><a href="index.html?a=M004718&name=test_parent_instance_should_be_shared_with_eager_loaded_child_on_find" >test_parent_instance_should_be_shared_with_eager_loaded_child_on_find</a></li>
  <li><a href="index.html?a=M004719&name=test_parent_instance_should_be_shared_with_newly_built_child" >test_parent_instance_should_be_shared_with_newly_built_child</a></li>
  <li><a href="index.html?a=M004722&name=test_parent_instance_should_be_shared_with_newly_built_child_when_we_dont_replace_existing" >test_parent_instance_should_be_shared_with_newly_built_child_when_we_dont_replace_existing</a></li>
  <li><a href="index.html?a=M004720&name=test_parent_instance_should_be_shared_with_newly_created_child" >test_parent_instance_should_be_shared_with_newly_created_child</a></li>
  <li><a href="index.html?a=M004721&name=test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method" >test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method</a></li>
  <li><a href="index.html?a=M004724&name=test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method_when_we_dont_replace_existing" >test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method_when_we_dont_replace_existing</a></li>
  <li><a href="index.html?a=M004723&name=test_parent_instance_should_be_shared_with_newly_created_child_when_we_dont_replace_existing" >test_parent_instance_should_be_shared_with_newly_created_child_when_we_dont_replace_existing</a></li>
  <li><a href="index.html?a=M004725&name=test_parent_instance_should_be_shared_with_replaced_via_accessor_child" >test_parent_instance_should_be_shared_with_replaced_via_accessor_child</a></li>
  <li><a href="index.html?a=M004726&name=test_parent_instance_should_be_shared_with_replaced_via_method_child" >test_parent_instance_should_be_shared_with_replaced_via_method_child</a></li>
  <li><a href="index.html?a=M004727&name=test_parent_instance_should_be_shared_with_replaced_via_method_child_when_we_dont_replace_existing" >test_parent_instance_should_be_shared_with_replaced_via_method_child_when_we_dont_replace_existing</a></li>
  <li><a href="index.html?a=M004728&name=test_trying_to_use_inverses_that_dont_exist_should_raise_an_error" >test_trying_to_use_inverses_that_dont_exist_should_raise_an_error</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M004717" class="method">
  <div id="M004717_title" class="title">
    <b>test_parent_instance_should_be_shared_with_child_on_find</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004717_source')" id="l_M004717_source">show source</a> ]</p>
  <div id="M004717_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_child_on_find</span>
88:     <span class="ruby-identifier">m</span> = <span class="ruby-identifier">men</span>(<span class="ruby-identifier">:gordon</span>)
89:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
91:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
92:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
93:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
94:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to child-owned instance&quot;</span>
95:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004718" class="method">
  <div id="M004718_title" class="title">
    <b>test_parent_instance_should_be_shared_with_eager_loaded_child_on_find</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004718_source')" id="l_M004718_source">show source</a> ]</p>
  <div id="M004718_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 97</span>
 97:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_eager_loaded_child_on_find</span>
 98:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Gordon'</span>}, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:face</span>)
 99:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>
100:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
101:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
103:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
104:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to child-owned instance&quot;</span>
105: 
106:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Gordon'</span>}, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:face</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'faces.id'</span>)
107:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
109:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
110:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
111:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to child-owned instance&quot;</span>
113:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004719" class="method">
  <div id="M004719_title" class="title">
    <b>test_parent_instance_should_be_shared_with_newly_built_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004719_source')" id="l_M004719_source">show source</a> ]</p>
  <div id="M004719_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_newly_built_child</span>
116:     <span class="ruby-identifier">m</span> = <span class="ruby-identifier">men</span>(<span class="ruby-identifier">:gordon</span>)
117:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">build_face</span>(<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>)
118:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
119:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
120:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
121:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
122:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
123:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to just-built-child-owned instance&quot;</span>
124:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004722" class="method">
  <div id="M004722_title" class="title">
    <b>test_parent_instance_should_be_shared_with_newly_built_child_when_we_dont_replace_existing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004722_source')" id="l_M004722_source">show source</a> ]</p>
  <div id="M004722_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_newly_built_child_when_we_dont_replace_existing</span>
149:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
150:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">build_face</span>({<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>}, <span class="ruby-keyword kw">false</span>)
151:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
152:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
153:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
154:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
155:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
156:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to just-built-child-owned instance&quot;</span>
157:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004720" class="method">
  <div id="M004720_title" class="title">
    <b>test_parent_instance_should_be_shared_with_newly_created_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004720_source')" id="l_M004720_source">show source</a> ]</p>
  <div id="M004720_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 126</span>
126:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_newly_created_child</span>
127:     <span class="ruby-identifier">m</span> = <span class="ruby-identifier">men</span>(<span class="ruby-identifier">:gordon</span>)
128:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">create_face</span>(<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>)
129:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
130:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
131:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
132:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
133:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
134:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to newly-created-child-owned instance&quot;</span>
135:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004721" class="method">
  <div id="M004721_title" class="title">
    <b>test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004721_source')" id="l_M004721_source">show source</a> ]</p>
  <div id="M004721_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 137</span>
137:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method</span>
138:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
139:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>.<span class="ruby-identifier">create!</span>(<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>)
140:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
141:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
142:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
143:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
144:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
145:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to newly-created-child-owned instance&quot;</span>
146:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004724" class="method">
  <div id="M004724_title" class="title">
    <b>test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method_when_we_dont_replace_existing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004724_source')" id="l_M004724_source">show source</a> ]</p>
  <div id="M004724_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 170</span>
170:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_newly_created_child_via_bang_method_when_we_dont_replace_existing</span>
171:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
172:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>.<span class="ruby-identifier">create!</span>({<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>}, <span class="ruby-keyword kw">false</span>)
173:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
175:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
176:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
177:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
178:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to newly-created-child-owned instance&quot;</span>
179:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004723" class="method">
  <div id="M004723_title" class="title">
    <b>test_parent_instance_should_be_shared_with_newly_created_child_when_we_dont_replace_existing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004723_source')" id="l_M004723_source">show source</a> ]</p>
  <div id="M004723_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 159</span>
159:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_newly_created_child_when_we_dont_replace_existing</span>
160:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
161:     <span class="ruby-identifier">f</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">create_face</span>({<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>}, <span class="ruby-keyword kw">false</span>)
162:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
163:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
164:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
165:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
166:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
167:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to newly-created-child-owned instance&quot;</span>
168:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004725" class="method">
  <div id="M004725_title" class="title">
    <b>test_parent_instance_should_be_shared_with_replaced_via_accessor_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004725_source')" id="l_M004725_source">show source</a> ]</p>
  <div id="M004725_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 181</span>
181:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_replaced_via_accessor_child</span>
182:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
183:     <span class="ruby-identifier">f</span> = <span class="ruby-constant">Face</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>)
184:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span> = <span class="ruby-identifier">f</span>
185:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
186:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
187:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
188:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
189:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
190:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to replaced-child-owned instance&quot;</span>
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004726" class="method">
  <div id="M004726_title" class="title">
    <b>test_parent_instance_should_be_shared_with_replaced_via_method_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004726_source')" id="l_M004726_source">show source</a> ]</p>
  <div id="M004726_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_replaced_via_method_child</span>
194:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
195:     <span class="ruby-identifier">f</span> = <span class="ruby-constant">Face</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>)
196:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">f</span>)
197:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
198:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
199:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
200:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
201:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
202:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to replaced-child-owned instance&quot;</span>
203:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004727" class="method">
  <div id="M004727_title" class="title">
    <b>test_parent_instance_should_be_shared_with_replaced_via_method_child_when_we_dont_replace_existing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004727_source')" id="l_M004727_source">show source</a> ]</p>
  <div id="M004727_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 205</span>
205:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parent_instance_should_be_shared_with_replaced_via_method_child_when_we_dont_replace_existing</span>
206:     <span class="ruby-identifier">m</span> = <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
207:     <span class="ruby-identifier">f</span> = <span class="ruby-constant">Face</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'haunted'</span>)
208:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">face</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">f</span>, <span class="ruby-keyword kw">false</span>)
209:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>
210:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same before changes to parent instance&quot;</span>
211:     <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Bongo'</span>
212:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to parent instance&quot;</span>
213:     <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">'Mungo'</span>
214:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">f</span>.<span class="ruby-identifier">man</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;Name of man should be the same after changes to replaced-child-owned instance&quot;</span>
215:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004728" class="method">
  <div id="M004728_title" class="title">
    <b>test_trying_to_use_inverses_that_dont_exist_should_raise_an_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004728_source')" id="l_M004728_source">show source</a> ]</p>
  <div id="M004728_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/inverse_associations_test.rb, line 217</span>
217:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_trying_to_use_inverses_that_dont_exist_should_raise_an_error</span>
218:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">InverseOfAssociationNotFoundError</span>) { <span class="ruby-constant">Man</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>).<span class="ruby-identifier">dirty_face</span> }
219:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>