  <div id="C00000123">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestDefaultAutosaveAssociationOnABelongsToAssociation<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/test/cases/autosave_association_test_rb.html');">activerecord/test/cases/autosave_association_test.rb</a>

Parent:&nbsp;
ActiveRecord::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000850&name=test_assignment_before_either_saved" >test_assignment_before_either_saved</a></li>
  <li><a href="index.html?a=M000849&name=test_assignment_before_parent_saved" >test_assignment_before_parent_saved</a></li>
  <li><a href="index.html?a=M000847&name=test_save_fails_for_invalid_belongs_to" >test_save_fails_for_invalid_belongs_to</a></li>
  <li><a href="index.html?a=M000848&name=test_save_succeeds_for_invalid_belongs_to_with_validate_false" >test_save_succeeds_for_invalid_belongs_to_with_validate_false</a></li>
  <li><a href="index.html?a=M000846&name=test_should_save_parent_but_not_invalid_child" >test_should_save_parent_but_not_invalid_child</a></li>
  <li><a href="index.html?a=M000852&name=test_store_association_in_two_relations_with_one_save" >test_store_association_in_two_relations_with_one_save</a></li>
  <li><a href="index.html?a=M000853&name=test_store_association_in_two_relations_with_one_save_in_existing_object" >test_store_association_in_two_relations_with_one_save_in_existing_object</a></li>
  <li><a href="index.html?a=M000854&name=test_store_association_in_two_relations_with_one_save_in_existing_object_with_values" >test_store_association_in_two_relations_with_one_save_in_existing_object_with_values</a></li>
  <li><a href="index.html?a=M000851&name=test_store_two_association_with_one_save" >test_store_two_association_with_one_save</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000850" class="method">
  <div id="M000850_title" class="title">
    <b>test_assignment_before_either_saved</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000850_source')" id="l_M000850_source">show source</a> ]</p>
  <div id="M000850_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 183</span>
183:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assignment_before_either_saved</span>
184:     <span class="ruby-identifier">final_cut</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Final Cut&quot;</span>)
185:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Apple&quot;</span>)
186:     <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">firm</span> = <span class="ruby-identifier">apple</span>
187:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">new_record?</span>
188:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
189:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">save</span>
190:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">new_record?</span>
191:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
192:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">firm</span>
193:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">firm</span>(<span class="ruby-keyword kw">true</span>)
194:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000849" class="method">
  <div id="M000849_title" class="title">
    <b>test_assignment_before_parent_saved</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000849_source')" id="l_M000849_source">show source</a> ]</p>
  <div id="M000849_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 170</span>
170:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assignment_before_parent_saved</span>
171:     <span class="ruby-identifier">client</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
172:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Apple&quot;</span>)
173:     <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span> = <span class="ruby-identifier">apple</span>
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>
175:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
176:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">save</span>
177:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">save</span>
178:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
179:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>
180:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>(<span class="ruby-keyword kw">true</span>)
181:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000847" class="method">
  <div id="M000847_title" class="title">
    <b>test_save_fails_for_invalid_belongs_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000847_source')" id="l_M000847_source">show source</a> ]</p>
  <div id="M000847_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 151</span>
151:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save_fails_for_invalid_belongs_to</span>
152:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span> = <span class="ruby-constant">AuditLog</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:developer_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>)
153: 
154:     <span class="ruby-identifier">log</span>.<span class="ruby-identifier">developer</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
155:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">developer</span>.<span class="ruby-identifier">valid?</span>
156:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">valid?</span>
157:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">save</span>
158:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;is invalid&quot;</span>, <span class="ruby-identifier">log</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;developer&quot;</span>)
159:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000848" class="method">
  <div id="M000848_title" class="title">
    <b>test_save_succeeds_for_invalid_belongs_to_with_validate_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000848_source')" id="l_M000848_source">show source</a> ]</p>
  <div id="M000848_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 161</span>
161:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save_succeeds_for_invalid_belongs_to_with_validate_false</span>
162:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span> = <span class="ruby-constant">AuditLog</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:developer_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>)
163: 
164:     <span class="ruby-identifier">log</span>.<span class="ruby-identifier">unvalidated_developer</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
165:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">unvalidated_developer</span>.<span class="ruby-identifier">valid?</span>
166:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">valid?</span>
167:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">save</span>
168:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000846" class="method">
  <div id="M000846_title" class="title">
    <b>test_should_save_parent_but_not_invalid_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000846_source')" id="l_M000846_source">show source</a> ]</p>
  <div id="M000846_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_save_parent_but_not_invalid_child</span>
141:     <span class="ruby-identifier">client</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Joe (the Plumber)'</span>)
142:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">valid?</span>
143: 
144:     <span class="ruby-identifier">client</span>.<span class="ruby-identifier">build_firm</span>
145:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">valid?</span>
146: 
147:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">save</span>
148:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">new_record?</span>
149:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000852" class="method">
  <div id="M000852_title" class="title">
    <b>test_store_association_in_two_relations_with_one_save</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000852_source')" id="l_M000852_source">show source</a> ]</p>
  <div id="M000852_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 216</span>
216:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_association_in_two_relations_with_one_save</span>
217:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
218:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
219:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">new</span>
220: 
221:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
222:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
224:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
225: 
226:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
227: 
228:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
229:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
230: 
231:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
232:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
233:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000853" class="method">
  <div id="M000853_title" class="title">
    <b>test_store_association_in_two_relations_with_one_save_in_existing_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000853_source')" id="l_M000853_source">show source</a> ]</p>
  <div id="M000853_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 235</span>
235:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_association_in_two_relations_with_one_save_in_existing_object</span>
236:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
237:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
238:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">create</span>
239: 
240:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
241:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
242:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
243:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
244: 
245:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
246: 
247:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
248:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
249: 
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
251:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
252:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000854" class="method">
  <div id="M000854_title" class="title">
    <b>test_store_association_in_two_relations_with_one_save_in_existing_object_with_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000854_source')" id="l_M000854_source">show source</a> ]</p>
  <div id="M000854_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 254</span>
254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_association_in_two_relations_with_one_save_in_existing_object_with_values</span>
255:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
256:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
257:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">create</span>
258: 
259:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
260:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
261:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
262:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
263: 
264:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
265: 
266:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
267: 
268:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
269:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
270: 
271:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
272:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
273: 
274:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
275:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">2</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
276:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000851" class="method">
  <div id="M000851_title" class="title">
    <b>test_store_two_association_with_one_save</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000851_source')" id="l_M000851_source">show source</a> ]</p>
  <div id="M000851_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 196</span>
196:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_two_association_with_one_save</span>
197:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
198:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
199:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">new</span>
200: 
201:     <span class="ruby-identifier">customer1</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
202:     <span class="ruby-identifier">customer2</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
203:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
204:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer1</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
205:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer2</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
206: 
207:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
208: 
209:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer1</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
210:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer2</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
211: 
212:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
213:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">2</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
214:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>