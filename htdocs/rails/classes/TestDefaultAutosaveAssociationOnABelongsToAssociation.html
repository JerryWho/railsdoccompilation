  <div id="C00000120">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TestDefaultAutosaveAssociationOnABelongsToAssociation<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/test/cases/autosave_association_test_rb.html');">activerecord/test/cases/autosave_association_test.rb</a>

Parent:&nbsp;
ActiveRecord::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000876&name=test_assignment_before_either_saved" >test_assignment_before_either_saved</a></li>
  <li><a href="index.html?a=M000875&name=test_assignment_before_parent_saved" >test_assignment_before_parent_saved</a></li>
  <li><a href="index.html?a=M000873&name=test_save_fails_for_invalid_belongs_to" >test_save_fails_for_invalid_belongs_to</a></li>
  <li><a href="index.html?a=M000874&name=test_save_succeeds_for_invalid_belongs_to_with_validate_false" >test_save_succeeds_for_invalid_belongs_to_with_validate_false</a></li>
  <li><a href="index.html?a=M000872&name=test_should_save_parent_but_not_invalid_child" >test_should_save_parent_but_not_invalid_child</a></li>
  <li><a href="index.html?a=M000878&name=test_store_association_in_two_relations_with_one_save" >test_store_association_in_two_relations_with_one_save</a></li>
  <li><a href="index.html?a=M000879&name=test_store_association_in_two_relations_with_one_save_in_existing_object" >test_store_association_in_two_relations_with_one_save_in_existing_object</a></li>
  <li><a href="index.html?a=M000880&name=test_store_association_in_two_relations_with_one_save_in_existing_object_with_values" >test_store_association_in_two_relations_with_one_save_in_existing_object_with_values</a></li>
  <li><a href="index.html?a=M000877&name=test_store_two_association_with_one_save" >test_store_two_association_with_one_save</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000876" class="method">
  <div id="M000876_title" class="title">
    <b>test_assignment_before_either_saved</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000876_source')" id="l_M000876_source">show source</a> ]</p>
  <div id="M000876_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 214</span>
214:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assignment_before_either_saved</span>
215:     <span class="ruby-identifier">final_cut</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Final Cut&quot;</span>)
216:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Apple&quot;</span>)
217:     <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">firm</span> = <span class="ruby-identifier">apple</span>
218:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">new_record?</span>
219:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
220:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">save</span>
221:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">new_record?</span>
222:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">firm</span>
224:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">final_cut</span>.<span class="ruby-identifier">firm</span>(<span class="ruby-keyword kw">true</span>)
225:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000875" class="method">
  <div id="M000875_title" class="title">
    <b>test_assignment_before_parent_saved</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000875_source')" id="l_M000875_source">show source</a> ]</p>
  <div id="M000875_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assignment_before_parent_saved</span>
202:     <span class="ruby-identifier">client</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
203:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Apple&quot;</span>)
204:     <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span> = <span class="ruby-identifier">apple</span>
205:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>
206:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
207:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">save</span>
208:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">save</span>
209:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">apple</span>.<span class="ruby-identifier">new_record?</span>
210:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>
211:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">apple</span>, <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>(<span class="ruby-keyword kw">true</span>)
212:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000873" class="method">
  <div id="M000873_title" class="title">
    <b>test_save_fails_for_invalid_belongs_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000873_source')" id="l_M000873_source">show source</a> ]</p>
  <div id="M000873_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 182</span>
182:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save_fails_for_invalid_belongs_to</span>
183:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span> = <span class="ruby-constant">AuditLog</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:developer_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>)
184: 
185:     <span class="ruby-identifier">log</span>.<span class="ruby-identifier">developer</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
186:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">developer</span>.<span class="ruby-identifier">valid?</span>
187:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">valid?</span>
188:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">save</span>
189:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;is invalid&quot;</span>, <span class="ruby-identifier">log</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;developer&quot;</span>)
190:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000874" class="method">
  <div id="M000874_title" class="title">
    <b>test_save_succeeds_for_invalid_belongs_to_with_validate_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000874_source')" id="l_M000874_source">show source</a> ]</p>
  <div id="M000874_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 192</span>
192:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save_succeeds_for_invalid_belongs_to_with_validate_false</span>
193:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span> = <span class="ruby-constant">AuditLog</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:developer_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>)
194: 
195:     <span class="ruby-identifier">log</span>.<span class="ruby-identifier">unvalidated_developer</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
196:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">log</span>.<span class="ruby-identifier">unvalidated_developer</span>.<span class="ruby-identifier">valid?</span>
197:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">valid?</span>
198:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">save</span>
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000872" class="method">
  <div id="M000872_title" class="title">
    <b>test_should_save_parent_but_not_invalid_child</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000872_source')" id="l_M000872_source">show source</a> ]</p>
  <div id="M000872_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 171</span>
171:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_save_parent_but_not_invalid_child</span>
172:     <span class="ruby-identifier">client</span> = <span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Joe (the Plumber)'</span>)
173:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">valid?</span>
174: 
175:     <span class="ruby-identifier">client</span>.<span class="ruby-identifier">build_firm</span>
176:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">valid?</span>
177: 
178:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">save</span>
179:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">new_record?</span>
180:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000878" class="method">
  <div id="M000878_title" class="title">
    <b>test_store_association_in_two_relations_with_one_save</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000878_source')" id="l_M000878_source">show source</a> ]</p>
  <div id="M000878_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 247</span>
247:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_association_in_two_relations_with_one_save</span>
248:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
249:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
250:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">new</span>
251: 
252:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
253:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
254:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
255:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
256: 
257:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
258: 
259:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
260:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
261: 
262:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
263:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
264:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000879" class="method">
  <div id="M000879_title" class="title">
    <b>test_store_association_in_two_relations_with_one_save_in_existing_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000879_source')" id="l_M000879_source">show source</a> ]</p>
  <div id="M000879_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 266</span>
266:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_association_in_two_relations_with_one_save_in_existing_object</span>
267:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
268:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
269:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">create</span>
270: 
271:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
272:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
273:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
274:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
275: 
276:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
277: 
278:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
279:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
280: 
281:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
282:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
283:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000880" class="method">
  <div id="M000880_title" class="title">
    <b>test_store_association_in_two_relations_with_one_save_in_existing_object_with_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000880_source')" id="l_M000880_source">show source</a> ]</p>
  <div id="M000880_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 285</span>
285:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_association_in_two_relations_with_one_save_in_existing_object_with_values</span>
286:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
287:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
288:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">create</span>
289: 
290:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
291:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
292:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
293:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
294: 
295:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
296: 
297:     <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
298: 
299:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
300:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
301: 
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
303:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
304: 
305:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
306:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">2</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
307:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000877" class="method">
  <div id="M000877_title" class="title">
    <b>test_store_two_association_with_one_save</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000877_source')" id="l_M000877_source">show source</a> ]</p>
  <div id="M000877_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/autosave_association_test.rb, line 227</span>
227:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_store_two_association_with_one_save</span>
228:     <span class="ruby-identifier">num_orders</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
229:     <span class="ruby-identifier">num_customers</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
230:     <span class="ruby-identifier">order</span> = <span class="ruby-constant">Order</span>.<span class="ruby-identifier">new</span>
231: 
232:     <span class="ruby-identifier">customer1</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
233:     <span class="ruby-identifier">customer2</span> = <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>
234:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">save</span>
235:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer1</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
236:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer2</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
237: 
238:     <span class="ruby-identifier">order</span>.<span class="ruby-identifier">reload</span>
239: 
240:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer1</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">billing</span>
241:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">customer2</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">shipping</span>
242: 
243:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_orders</span> <span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Order</span>.<span class="ruby-identifier">count</span>
244:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">num_customers</span> <span class="ruby-operator">+</span><span class="ruby-value">2</span>, <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">count</span>
245:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>