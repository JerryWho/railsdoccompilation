  <div id="C00000910">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TimeExtCalculationsTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/time_ext_test_rb.html');">activesupport/test/core_ext/time_ext_test.rb</a>

Parent:&nbsp;
ActiveSupport::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007049&name=test_acts_like_time" >test_acts_like_time</a></li>
  <li><a href="index.html?a=M007022&name=test_advance" >test_advance</a></li>
  <li><a href="index.html?a=M007004&name=test_ago" >test_ago</a></li>
  <li><a href="index.html?a=M006988&name=test_beginning_of_day" >test_beginning_of_day</a></li>
  <li><a href="index.html?a=M006989&name=test_beginning_of_month" >test_beginning_of_month</a></li>
  <li><a href="index.html?a=M006990&name=test_beginning_of_quarter" >test_beginning_of_quarter</a></li>
  <li><a href="index.html?a=M006987&name=test_beginning_of_week" >test_beginning_of_week</a></li>
  <li><a href="index.html?a=M006996&name=test_beginning_of_year" >test_beginning_of_year</a></li>
  <li><a href="index.html?a=M007058&name=test_case_equality" >test_case_equality</a></li>
  <li><a href="index.html?a=M007020&name=test_change" >test_change</a></li>
  <li><a href="index.html?a=M007053&name=test_compare_with_datetime" >test_compare_with_datetime</a></li>
  <li><a href="index.html?a=M007052&name=test_compare_with_time" >test_compare_with_time</a></li>
  <li><a href="index.html?a=M007054&name=test_compare_with_time_with_zone" >test_compare_with_time_with_zone</a></li>
  <li><a href="index.html?a=M007028&name=test_custom_date_format" >test_custom_date_format</a></li>
  <li><a href="index.html?a=M007006&name=test_daylight_savings_time_crossings_backward_end" >test_daylight_savings_time_crossings_backward_end</a></li>
  <li><a href="index.html?a=M007008&name=test_daylight_savings_time_crossings_backward_end_1day" >test_daylight_savings_time_crossings_backward_end_1day</a></li>
  <li><a href="index.html?a=M007017&name=test_daylight_savings_time_crossings_backward_end_yesterday" >test_daylight_savings_time_crossings_backward_end_yesterday</a></li>
  <li><a href="index.html?a=M007005&name=test_daylight_savings_time_crossings_backward_start" >test_daylight_savings_time_crossings_backward_start</a></li>
  <li><a href="index.html?a=M007007&name=test_daylight_savings_time_crossings_backward_start_1day" >test_daylight_savings_time_crossings_backward_start_1day</a></li>
  <li><a href="index.html?a=M007013&name=test_daylight_savings_time_crossings_backward_start_yesterday" >test_daylight_savings_time_crossings_backward_start_yesterday</a></li>
  <li><a href="index.html?a=M007014&name=test_daylight_savings_time_crossings_forward_end" >test_daylight_savings_time_crossings_forward_end</a></li>
  <li><a href="index.html?a=M007015&name=test_daylight_savings_time_crossings_forward_end_1day" >test_daylight_savings_time_crossings_forward_end_1day</a></li>
  <li><a href="index.html?a=M007016&name=test_daylight_savings_time_crossings_forward_end_tomorrow" >test_daylight_savings_time_crossings_forward_end_tomorrow</a></li>
  <li><a href="index.html?a=M007010&name=test_daylight_savings_time_crossings_forward_start" >test_daylight_savings_time_crossings_forward_start</a></li>
  <li><a href="index.html?a=M007011&name=test_daylight_savings_time_crossings_forward_start_1day" >test_daylight_savings_time_crossings_forward_start_1day</a></li>
  <li><a href="index.html?a=M007012&name=test_daylight_savings_time_crossings_forward_start_tomorrow" >test_daylight_savings_time_crossings_forward_start_tomorrow</a></li>
  <li><a href="index.html?a=M007034&name=test_days_in_month_feb_in_common_year_without_year_arg" >test_days_in_month_feb_in_common_year_without_year_arg</a></li>
  <li><a href="index.html?a=M007035&name=test_days_in_month_feb_in_leap_year_without_year_arg" >test_days_in_month_feb_in_leap_year_without_year_arg</a></li>
  <li><a href="index.html?a=M007033&name=test_days_in_month_with_year" >test_days_in_month_with_year</a></li>
  <li><a href="index.html?a=M006991&name=test_end_of_day" >test_end_of_day</a></li>
  <li><a href="index.html?a=M006993&name=test_end_of_month" >test_end_of_month</a></li>
  <li><a href="index.html?a=M006994&name=test_end_of_quarter" >test_end_of_quarter</a></li>
  <li><a href="index.html?a=M006992&name=test_end_of_week" >test_end_of_week</a></li>
  <li><a href="index.html?a=M006995&name=test_end_of_year" >test_end_of_year</a></li>
  <li><a href="index.html?a=M007051&name=test_formatted_offset_with_local" >test_formatted_offset_with_local</a></li>
  <li><a href="index.html?a=M007050&name=test_formatted_offset_with_utc" >test_formatted_offset_with_utc</a></li>
  <li><a href="index.html?a=M007032&name=test_fp_inaccuracy_ticket_1836" >test_fp_inaccuracy_ticket_1836</a></li>
  <li><a href="index.html?a=M007047&name=test_future_with_time_current_as_time_local" >test_future_with_time_current_as_time_local</a></li>
  <li><a href="index.html?a=M007048&name=test_future_with_time_current_as_time_with_zone" >test_future_with_time_current_as_time_with_zone</a></li>
  <li><a href="index.html?a=M007039&name=test_last_month_is_deprecated" >test_last_month_is_deprecated</a></li>
  <li><a href="index.html?a=M007001&name=test_last_year_is_deprecated" >test_last_year_is_deprecated</a></li>
  <li><a href="index.html?a=M007038&name=test_local_time" >test_local_time</a></li>
  <li><a href="index.html?a=M007056&name=test_minus_with_datetime" >test_minus_with_datetime</a></li>
  <li><a href="index.html?a=M007055&name=test_minus_with_time_with_zone" >test_minus_with_time_with_zone</a></li>
  <li><a href="index.html?a=M006997&name=test_months_ago" >test_months_ago</a></li>
  <li><a href="index.html?a=M006998&name=test_months_since" >test_months_since</a></li>
  <li><a href="index.html?a=M007040&name=test_next_month_on_31st" >test_next_month_on_31st</a></li>
  <li><a href="index.html?a=M007024&name=test_next_week" >test_next_week</a></li>
  <li><a href="index.html?a=M007026&name=test_next_week_near_daylight_end" >test_next_week_near_daylight_end</a></li>
  <li><a href="index.html?a=M007025&name=test_next_week_near_daylight_start" >test_next_week_near_daylight_start</a></li>
  <li><a href="index.html?a=M007003&name=test_next_year" >test_next_year</a></li>
  <li><a href="index.html?a=M007045&name=test_past_with_time_current_as_time_local" >test_past_with_time_current_as_time_local</a></li>
  <li><a href="index.html?a=M007046&name=test_past_with_time_current_as_time_with_zone" >test_past_with_time_current_as_time_with_zone</a></li>
  <li><a href="index.html?a=M007041&name=test_prev_month_on_31st" >test_prev_month_on_31st</a></li>
  <li><a href="index.html?a=M007002&name=test_prev_year" >test_prev_year</a></li>
  <li><a href="index.html?a=M006984&name=test_seconds_since_midnight" >test_seconds_since_midnight</a></li>
  <li><a href="index.html?a=M006986&name=test_seconds_since_midnight_at_daylight_savings_time_end" >test_seconds_since_midnight_at_daylight_savings_time_end</a></li>
  <li><a href="index.html?a=M006985&name=test_seconds_since_midnight_at_daylight_savings_time_start" >test_seconds_since_midnight_at_daylight_savings_time_start</a></li>
  <li><a href="index.html?a=M007009&name=test_since" >test_since</a></li>
  <li><a href="index.html?a=M007057&name=test_time_created_with_local_constructor_cannot_represent_times_during_hour_skipped_by_dst" >test_time_created_with_local_constructor_cannot_represent_times_during_hour_skipped_by_dst</a></li>
  <li><a href="index.html?a=M007036&name=test_time_with_datetime_fallback" >test_time_with_datetime_fallback</a></li>
  <li><a href="index.html?a=M007029&name=test_to_date" >test_to_date</a></li>
  <li><a href="index.html?a=M007030&name=test_to_datetime" >test_to_datetime</a></li>
  <li><a href="index.html?a=M007027&name=test_to_s" >test_to_s</a></li>
  <li><a href="index.html?a=M007031&name=test_to_time" >test_to_time</a></li>
  <li><a href="index.html?a=M007043&name=test_today_with_time_local" >test_today_with_time_local</a></li>
  <li><a href="index.html?a=M007044&name=test_today_with_time_utc" >test_today_with_time_utc</a></li>
  <li><a href="index.html?a=M007019&name=test_tomorrow" >test_tomorrow</a></li>
  <li><a href="index.html?a=M007023&name=test_utc_advance" >test_utc_advance</a></li>
  <li><a href="index.html?a=M007021&name=test_utc_change" >test_utc_change</a></li>
  <li><a href="index.html?a=M007037&name=test_utc_time" >test_utc_time</a></li>
  <li><a href="index.html?a=M007042&name=test_xmlschema_is_available" >test_xmlschema_is_available</a></li>
  <li><a href="index.html?a=M006999&name=test_years_ago" >test_years_ago</a></li>
  <li><a href="index.html?a=M007000&name=test_years_since" >test_years_since</a></li>
  <li><a href="index.html?a=M007018&name=test_yesterday" >test_yesterday</a></li>
  <li><a href="index.html?a=M007060&name=time_is_64bits?" >time_is_64bits?</a></li>
  <li><a href="index.html?a=M007059&name=with_env_tz" >with_env_tz</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M007049" class="method">
  <div id="M007049_title" class="title">
    <b>test_acts_like_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007049_source')" id="l_M007049_source">show source</a> ]</p>
  <div id="M007049_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 651</span>
651:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_acts_like_time</span>
652:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">acts_like_time?</span>
653:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007022" class="method">
  <div id="M007022_title" class="title">
    <b>test_advance</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007022_source')" id="l_M007022_source">show source</a> ]</p>
  <div id="M007022_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 384</span>
384:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance</span>
385:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
386:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>)
387:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>)
388:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">25</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3.5</span>)
389:     <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">26</span>,<span class="ruby-value">12</span>,<span class="ruby-value">51</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3.7</span>), <span class="ruby-value">1</span>
390:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">5</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
391:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">6</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5.5</span>)
392:     <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">6</span>,<span class="ruby-value">8</span>,<span class="ruby-value">3</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5.7</span>), <span class="ruby-value">1</span>
393:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
394:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
395:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
396:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2001</span>,<span class="ruby-value">12</span>,<span class="ruby-value">27</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>)
397:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-comment cmt">#leap day plus one year</span>
398:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">20</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
399:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
400:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
401:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">20</span>,<span class="ruby-value">22</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
402:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">8</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-9</span>)
403:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>,<span class="ruby-value">20</span>,<span class="ruby-value">22</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
404:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007004" class="method">
  <div id="M007004_title" class="title">
    <b>test_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007004_source')" id="l_M007004_source">show source</a> ]</p>
  <div id="M007004_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ago</span>
181:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">9</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>)
182:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">9</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">3600</span>)
183:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span>)
184:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">9</span>,<span class="ruby-value">9</span>,<span class="ruby-value">45</span>),   <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span> <span class="ruby-operator">+</span> <span class="ruby-value">3600</span> <span class="ruby-operator">+</span> <span class="ruby-value">25</span>)
185:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006988" class="method">
  <div id="M006988_title" class="title">
    <b>test_beginning_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006988_source')" id="l_M006988_source">show source</a> ]</p>
  <div id="M006988_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 63</span>
63:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_day</span>
64:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_day</span>
65:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
66:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_day</span>, <span class="ruby-value str">'start DST'</span>
67:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_day</span>, <span class="ruby-value str">'ends DST'</span>
68:     <span class="ruby-keyword kw">end</span>
69:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
70:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_day</span>, <span class="ruby-value str">'ends DST'</span>
71:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_day</span>, <span class="ruby-value str">'start DST'</span>
72:     <span class="ruby-keyword kw">end</span>
73:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006989" class="method">
  <div id="M006989_title" class="title">
    <b>test_beginning_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006989_source')" id="l_M006989_source">show source</a> ]</p>
  <div id="M006989_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 75</span>
75:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_month</span>
76:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_month</span>
77:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006990" class="method">
  <div id="M006990_title" class="title">
    <b>test_beginning_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006990_source')" id="l_M006990_source">show source</a> ]</p>
  <div id="M006990_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_quarter</span>
80:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_quarter</span>
81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_quarter</span>
82:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_quarter</span>
83:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">beginning_of_quarter</span>
84:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006987" class="method">
  <div id="M006987_title" class="title">
    <b>test_beginning_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006987_source')" id="l_M006987_source">show source</a> ]</p>
  <div id="M006987_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_week</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_week</span>
54:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#monday</span>
55:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">29</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
56:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
57:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">01</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#thursday</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">02</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#friday</span>
59:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">03</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#saturday</span>
60:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">04</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#sunday</span>
61:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006996" class="method">
  <div id="M006996_title" class="title">
    <b>test_beginning_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006996_source')" id="l_M006996_source">show source</a> ]</p>
  <div id="M006996_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_year</span>
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_year</span>
130:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007058" class="method">
  <div id="M007058_title" class="title">
    <b>test_case_equality</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007058_source')" id="l_M007058_source">show source</a> ]</p>
  <div id="M007058_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 705</span>
705:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_case_equality</span>
706:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Time</span> <span class="ruby-operator">===</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>)
707:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Time</span> <span class="ruby-operator">===</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>])
708:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Time</span> <span class="ruby-operator">===</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>)
709:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007020" class="method">
  <div id="M007020_title" class="title">
    <b>test_change</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007020_source')" id="l_M007020_source">show source</a> ]</p>
  <div id="M007020_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 361</span>
361:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_change</span>
362:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2006</span>)
363:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>)
364:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2012</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
365:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">16</span>),       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16</span>)
366:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">16</span>,<span class="ruby-value">45</span>),    <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">45</span>)
367:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">45</span>),    <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">45</span>)
368: 
369:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>, <span class="ruby-value">5</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">22</span>,<span class="ruby-value">33</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
370:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>, <span class="ruby-value">6</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">22</span>,<span class="ruby-value">33</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:min</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>)
371:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">22</span>, <span class="ruby-value">7</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">22</span>,<span class="ruby-value">33</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:sec</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
372:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">22</span>,<span class="ruby-value">33</span>, <span class="ruby-value">8</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">22</span>,<span class="ruby-value">33</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">8</span>)
373:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007053" class="method">
  <div id="M007053_title" class="title">
    <b>test_compare_with_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007053_source')" id="l_M007053_source">show source</a> ]</p>
  <div id="M007053_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 676</span>
676:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_datetime</span>
677:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
678:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
679:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>))
680:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007052" class="method">
  <div id="M007052_title" class="title">
    <b>test_compare_with_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007052_source')" id="l_M007052_source">show source</a> ]</p>
  <div id="M007052_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 670</span>
670:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_time</span>
671:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>, <span class="ruby-value">999</span>)
672:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
673:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">001</span>))
674:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007054" class="method">
  <div id="M007054_title" class="title">
    <b>test_compare_with_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007054_source')" id="l_M007054_source">show source</a> ]</p>
  <div id="M007054_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 682</span>
682:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_time_with_zone</span>
683:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
684:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
685:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ))
686:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007028" class="method">
  <div id="M007028_title" class="title">
    <b>test_custom_date_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007028_source')" id="l_M007028_source">show source</a> ]</p>
  <div id="M007028_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 474</span>
474:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_date_format</span>
475:     <span class="ruby-constant">Time</span><span class="ruby-operator">::</span><span class="ruby-constant">DATE_FORMATS</span>[<span class="ruby-identifier">:custom</span>] = <span class="ruby-value str">'%Y%m%d%H%M%S'</span>
476:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'20050221143000'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">14</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:custom</span>)
477:     <span class="ruby-constant">Time</span><span class="ruby-operator">::</span><span class="ruby-constant">DATE_FORMATS</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:custom</span>)
478:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007006" class="method">
  <div id="M007006_title" class="title">
    <b>test_daylight_savings_time_crossings_backward_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007006_source')" id="l_M007006_source">show source</a> ]</p>
  <div id="M007006_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 200</span>
200:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_backward_end</span>
201:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
202:       <span class="ruby-comment cmt"># st: US: 2005 October 30th 4:03am</span>
203:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st-1.day=&gt;dt'</span>
204:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">28</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt-1.day=&gt;dt'</span>
205:     <span class="ruby-keyword kw">end</span>
206:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
207:       <span class="ruby-comment cmt"># st: New Zealand: 2006 March 19th 4:03am</span>
208:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">18</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st-1.day=&gt;dt'</span>
209:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">17</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">18</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt-1.day=&gt;dt'</span>
210:     <span class="ruby-keyword kw">end</span>
211:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007008" class="method">
  <div id="M007008_title" class="title">
    <b>test_daylight_savings_time_crossings_backward_end_1day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007008_source')" id="l_M007008_source">show source</a> ]</p>
  <div id="M007008_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 226</span>
226:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_backward_end_1day</span>
227:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
228:       <span class="ruby-comment cmt"># st: US: 2005 October 30th 4:03am</span>
229:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st-1.day=&gt;dt'</span>
230:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">28</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt-1.day=&gt;dt'</span>
231:     <span class="ruby-keyword kw">end</span>
232:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
233:       <span class="ruby-comment cmt"># st: New Zealand: 2006 March 19th 4:03am</span>
234:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">18</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st-1.day=&gt;dt'</span>
235:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">17</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">18</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt-1.day=&gt;dt'</span>
236:     <span class="ruby-keyword kw">end</span>
237:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007017" class="method">
  <div id="M007017_title" class="title">
    <b>test_daylight_savings_time_crossings_backward_end_yesterday</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007017_source')" id="l_M007017_source">show source</a> ]</p>
  <div id="M007017_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 338</span>
338:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_backward_end_yesterday</span>
339:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
340:       <span class="ruby-comment cmt"># dt: US: 2005 October 30th 12:45am</span>
341:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'st-1.day=&gt;dt'</span>
342:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>, <span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'st-1.day=&gt;st'</span>
343:     <span class="ruby-keyword kw">end</span>
344:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
345:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 March 19th 1:45am</span>
346:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'st-1.day=&gt;dt'</span>
347:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'st-1.day=&gt;st'</span>
348:     <span class="ruby-keyword kw">end</span>
349:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007005" class="method">
  <div id="M007005_title" class="title">
    <b>test_daylight_savings_time_crossings_backward_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007005_source')" id="l_M007005_source">show source</a> ]</p>
  <div id="M007005_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 187</span>
187:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_backward_start</span>
188:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
189:       <span class="ruby-comment cmt"># dt: US: 2005 April 3rd 4:18am</span>
190:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt-1.day=&gt;st'</span>
191:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st-1.day=&gt;st'</span>
192:     <span class="ruby-keyword kw">end</span>
193:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
194:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 October 1st 4:18am</span>
195:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt-1.day=&gt;st'</span>
196:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">29</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st-1.day=&gt;st'</span>
197:     <span class="ruby-keyword kw">end</span>
198:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007007" class="method">
  <div id="M007007_title" class="title">
    <b>test_daylight_savings_time_crossings_backward_start_1day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007007_source')" id="l_M007007_source">show source</a> ]</p>
  <div id="M007007_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 213</span>
213:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_backward_start_1day</span>
214:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
215:       <span class="ruby-comment cmt"># dt: US: 2005 April 3rd 4:18am</span>
216:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt-1.day=&gt;st'</span>
217:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st-1.day=&gt;st'</span>
218:     <span class="ruby-keyword kw">end</span>
219:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
220:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 October 1st 4:18am</span>
221:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt-1.day=&gt;st'</span>
222:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">29</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">4</span>,<span class="ruby-value">18</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st-1.day=&gt;st'</span>
223:     <span class="ruby-keyword kw">end</span>
224:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007013" class="method">
  <div id="M007013_title" class="title">
    <b>test_daylight_savings_time_crossings_backward_start_yesterday</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007013_source')" id="l_M007013_source">show source</a> ]</p>
  <div id="M007013_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 286</span>
286:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_backward_start_yesterday</span>
287:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
288:       <span class="ruby-comment cmt"># st: US: 2005 April 2nd 7:27pm</span>
289:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'dt-1.day=&gt;st'</span>
290:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">4</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'dt-1.day=&gt;dt'</span>
291:     <span class="ruby-keyword kw">end</span>
292:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
293:       <span class="ruby-comment cmt"># st: New Zealand: 2006 September 30th 7:27pm</span>
294:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'dt-1.day=&gt;st'</span>
295:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">yesterday</span>, <span class="ruby-value str">'dt-1.day=&gt;dt'</span>
296:     <span class="ruby-keyword kw">end</span>
297:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007014" class="method">
  <div id="M007014_title" class="title">
    <b>test_daylight_savings_time_crossings_forward_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007014_source')" id="l_M007014_source">show source</a> ]</p>
  <div id="M007014_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 299</span>
299:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_forward_end</span>
300:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
301:       <span class="ruby-comment cmt"># dt: US: 2005 October 30th 12:45am</span>
302:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt+1.day=&gt;st'</span>
303:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>, <span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st+1.day=&gt;st'</span>
304:     <span class="ruby-keyword kw">end</span>
305:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
306:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 March 19th 1:45am</span>
307:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt+1.day=&gt;st'</span>
308:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st+1.day=&gt;st'</span>
309:     <span class="ruby-keyword kw">end</span>
310:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007015" class="method">
  <div id="M007015_title" class="title">
    <b>test_daylight_savings_time_crossings_forward_end_1day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007015_source')" id="l_M007015_source">show source</a> ]</p>
  <div id="M007015_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 312</span>
312:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_forward_end_1day</span>
313:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
314:       <span class="ruby-comment cmt"># dt: US: 2005 October 30th 12:45am</span>
315:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt+1.day=&gt;st'</span>
316:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>, <span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st+1.day=&gt;st'</span>
317:     <span class="ruby-keyword kw">end</span>
318:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
319:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 March 19th 1:45am</span>
320:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt+1.day=&gt;st'</span>
321:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st+1.day=&gt;st'</span>
322:     <span class="ruby-keyword kw">end</span>
323:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007016" class="method">
  <div id="M007016_title" class="title">
    <b>test_daylight_savings_time_crossings_forward_end_tomorrow</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007016_source')" id="l_M007016_source">show source</a> ]</p>
  <div id="M007016_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 325</span>
325:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_forward_end_tomorrow</span>
326:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
327:       <span class="ruby-comment cmt"># dt: US: 2005 October 30th 12:45am</span>
328:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'dt+1.day=&gt;st'</span>
329:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>, <span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'st+1.day=&gt;st'</span>
330:     <span class="ruby-keyword kw">end</span>
331:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
332:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 March 19th 1:45am</span>
333:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'dt+1.day=&gt;st'</span>
334:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">1</span>,<span class="ruby-value">45</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'st+1.day=&gt;st'</span>
335:     <span class="ruby-keyword kw">end</span>
336:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007010" class="method">
  <div id="M007010_title" class="title">
    <b>test_daylight_savings_time_crossings_forward_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007010_source')" id="l_M007010_source">show source</a> ]</p>
  <div id="M007010_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 247</span>
247:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_forward_start</span>
248:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
249:       <span class="ruby-comment cmt"># st: US: 2005 April 2nd 7:27pm</span>
250:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st+1.day=&gt;dt'</span>
251:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">4</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt+1.day=&gt;dt'</span>
252:     <span class="ruby-keyword kw">end</span>
253:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
254:       <span class="ruby-comment cmt"># st: New Zealand: 2006 September 30th 7:27pm</span>
255:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'st+1.day=&gt;dt'</span>
256:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>), <span class="ruby-value str">'dt+1.day=&gt;dt'</span>
257:     <span class="ruby-keyword kw">end</span>
258:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007011" class="method">
  <div id="M007011_title" class="title">
    <b>test_daylight_savings_time_crossings_forward_start_1day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007011_source')" id="l_M007011_source">show source</a> ]</p>
  <div id="M007011_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 260</span>
260:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_forward_start_1day</span>
261:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
262:       <span class="ruby-comment cmt"># st: US: 2005 April 2nd 7:27pm</span>
263:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st+1.day=&gt;dt'</span>
264:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">4</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt+1.day=&gt;dt'</span>
265:     <span class="ruby-keyword kw">end</span>
266:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
267:       <span class="ruby-comment cmt"># st: New Zealand: 2006 September 30th 7:27pm</span>
268:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'st+1.day=&gt;dt'</span>
269:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>), <span class="ruby-value str">'dt+1.day=&gt;dt'</span>
270:     <span class="ruby-keyword kw">end</span>
271:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007012" class="method">
  <div id="M007012_title" class="title">
    <b>test_daylight_savings_time_crossings_forward_start_tomorrow</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007012_source')" id="l_M007012_source">show source</a> ]</p>
  <div id="M007012_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 273</span>
273:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_daylight_savings_time_crossings_forward_start_tomorrow</span>
274:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
275:       <span class="ruby-comment cmt"># st: US: 2005 April 2nd 7:27pm</span>
276:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'st+1.day=&gt;dt'</span>
277:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">4</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'dt+1.day=&gt;dt'</span>
278:     <span class="ruby-keyword kw">end</span>
279:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
280:       <span class="ruby-comment cmt"># st: New Zealand: 2006 September 30th 7:27pm</span>
281:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'st+1.day=&gt;dt'</span>
282:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">19</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">tomorrow</span>, <span class="ruby-value str">'dt+1.day=&gt;dt'</span>
283:     <span class="ruby-keyword kw">end</span>
284:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007034" class="method">
  <div id="M007034_title" class="title">
    <b>test_days_in_month_feb_in_common_year_without_year_arg</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007034_source')" id="l_M007034_source">show source</a> ]</p>
  <div id="M007034_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 526</span>
526:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_days_in_month_feb_in_common_year_without_year_arg</span>
527:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2007</span>))
528:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">28</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">2</span>)
529:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007035" class="method">
  <div id="M007035_title" class="title">
    <b>test_days_in_month_feb_in_leap_year_without_year_arg</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007035_source')" id="l_M007035_source">show source</a> ]</p>
  <div id="M007035_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 531</span>
531:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_days_in_month_feb_in_leap_year_without_year_arg</span>
532:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2008</span>))
533:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">29</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">2</span>)
534:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007033" class="method">
  <div id="M007033_title" class="title">
    <b>test_days_in_month_with_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007033_source')" id="l_M007033_source">show source</a> ]</p>
  <div id="M007033_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 506</span>
506:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_days_in_month_with_year</span>
507:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2005</span>)
508: 
509:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">28</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">2</span>, <span class="ruby-value">2005</span>)
510:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">29</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">2</span>, <span class="ruby-value">2004</span>)
511:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">29</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">2</span>, <span class="ruby-value">2000</span>)
512:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">28</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">2</span>, <span class="ruby-value">1900</span>)
513: 
514:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">3</span>, <span class="ruby-value">2005</span>)
515:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">4</span>, <span class="ruby-value">2005</span>)
516:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">5</span>, <span class="ruby-value">2005</span>)
517:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">6</span>, <span class="ruby-value">2005</span>)
518:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">7</span>, <span class="ruby-value">2005</span>)
519:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">8</span>, <span class="ruby-value">2005</span>)
520:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">9</span>, <span class="ruby-value">2005</span>)
521:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">10</span>, <span class="ruby-value">2005</span>)
522:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">11</span>, <span class="ruby-value">2005</span>)
523:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-value">12</span>, <span class="ruby-value">2005</span>)
524:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006991" class="method">
  <div id="M006991_title" class="title">
    <b>test_end_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006991_source')" id="l_M006991_source">show source</a> ]</p>
  <div id="M006991_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 86</span>
86:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_day</span>
87:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">12</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">12</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_day</span>
88:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
89:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_day</span>, <span class="ruby-value str">'start DST'</span>
90:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_day</span>, <span class="ruby-value str">'ends DST'</span>
91:     <span class="ruby-keyword kw">end</span>
92:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
93:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_day</span>, <span class="ruby-value str">'ends DST'</span>
94:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_day</span>, <span class="ruby-value str">'start DST'</span>
95:     <span class="ruby-keyword kw">end</span>
96:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006993" class="method">
  <div id="M006993_title" class="title">
    <b>test_end_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006993_source')" id="l_M006993_source">show source</a> ]</p>
  <div id="M006993_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 109</span>
109:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_month</span>
110:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_month</span>
111:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_month</span>
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_month</span>
113:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006994" class="method">
  <div id="M006994_title" class="title">
    <b>test_end_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006994_source')" id="l_M006994_source">show source</a> ]</p>
  <div id="M006994_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_quarter</span>
116:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_quarter</span>
117:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_quarter</span>
118:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">21</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_quarter</span>
119:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_quarter</span>
120:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">5</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_quarter</span>
121:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006992" class="method">
  <div id="M006992_title" class="title">
    <b>test_end_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006992_source')" id="l_M006992_source">show source</a> ]</p>
  <div id="M006992_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_week</span>
 99:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">1</span>,<span class="ruby-value">6</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_week</span>
100:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">27</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#monday</span>
101:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">28</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">29</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
103:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#thursday</span>
104:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">8</span>,<span class="ruby-value">31</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#friday</span>
105:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">01</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#saturday</span>
106:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">9</span>,<span class="ruby-value">02</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#sunday</span>
107:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006995" class="method">
  <div id="M006995_title" class="title">
    <b>test_end_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006995_source')" id="l_M006995_source">show source</a> ]</p>
  <div id="M006995_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_year</span>
124:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_year</span>
125:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_year</span>
126:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007051" class="method">
  <div id="M007051_title" class="title">
    <b>test_formatted_offset_with_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007051_source')" id="l_M007051_source">show source</a> ]</p>
  <div id="M007051_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 661</span>
661:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_formatted_offset_with_local</span>
662:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
663:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-05:00'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>
664:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-0500'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">false</span>)
665:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-04:00'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">7</span>).<span class="ruby-identifier">formatted_offset</span>
666:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-0400'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">7</span>).<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">false</span>)
667:     <span class="ruby-keyword kw">end</span>
668:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007050" class="method">
  <div id="M007050_title" class="title">
    <b>test_formatted_offset_with_utc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007050_source')" id="l_M007050_source">show source</a> ]</p>
  <div id="M007050_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 655</span>
655:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_formatted_offset_with_utc</span>
656:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'+00:00'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>
657:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'+0000'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">false</span>)
658:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'UTC'</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">'UTC'</span>)
659:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007032" class="method">
  <div id="M007032_title" class="title">
    <b>test_fp_inaccuracy_ticket_1836</b>()
  </div>
  <div class="description">
  <p>
NOTE: this test seems to fail (changeset 1958) only on certain platforms,
like OSX, and FreeBSD 5.4.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007032_source')" id="l_M007032_source">show source</a> ]</p>
  <div id="M007032_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 501</span>
501:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_fp_inaccuracy_ticket_1836</span>
502:     <span class="ruby-identifier">midnight</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
503:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">midnight</span>.<span class="ruby-identifier">midnight</span>, (<span class="ruby-identifier">midnight</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span> <span class="ruby-operator">+</span> <span class="ruby-value">0</span><span class="ruby-value">.000001</span>).<span class="ruby-identifier">midnight</span>
504:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007047" class="method">
  <div id="M007047_title" class="title">
    <b>test_future_with_time_current_as_time_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007047_source')" id="l_M007047_source">show source</a> ]</p>
  <div id="M007047_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 626</span>
626:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future_with_time_current_as_time_local</span>
627:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
628:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>))
629:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">future?</span>
630:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">future?</span>
631:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">future?</span>
632:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">future?</span>
633:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">future?</span>
634:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">future?</span>
635:     <span class="ruby-keyword kw">end</span>
636:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007048" class="method">
  <div id="M007048_title" class="title">
    <b>test_future_with_time_current_as_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007048_source')" id="l_M007048_source">show source</a> ]</p>
  <div id="M007048_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 638</span>
638:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future_with_time_current_as_time_with_zone</span>
639:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
640:       <span class="ruby-identifier">twz</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-value str">'Central Time (US &amp; Canada)'</span>)
641:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">twz</span>)
642:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">future?</span>
643:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">future?</span>
644:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">future?</span>
645:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">future?</span>
646:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">future?</span>
647:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">future?</span>
648:     <span class="ruby-keyword kw">end</span>
649:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007039" class="method">
  <div id="M007039_title" class="title">
    <b>test_last_month_is_deprecated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007039_source')" id="l_M007039_source">show source</a> ]</p>
  <div id="M007039_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 569</span>
569:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_last_month_is_deprecated</span>
570:     <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">last_month</span> }
571:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007001" class="method">
  <div id="M007001_title" class="title">
    <b>test_last_year_is_deprecated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007001_source')" id="l_M007001_source">show source</a> ]</p>
  <div id="M007001_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 168</span>
168:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_last_year_is_deprecated</span>
169:     <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">last_year</span> }
170:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007038" class="method">
  <div id="M007038_title" class="title">
    <b>test_local_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007038_source')" id="l_M007038_source">show source</a> ]</p>
  <div id="M007038_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 560</span>
560:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_local_time</span>
561:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>)
562:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">local_offset</span>, <span class="ruby-value">0</span>)
563: 
564:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">time_is_64bits?</span>
565:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">1901</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1901</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">local_offset</span>, <span class="ruby-value">0</span>)
566:     <span class="ruby-keyword kw">end</span>
567:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007056" class="method">
  <div id="M007056_title" class="title">
    <b>test_minus_with_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007056_source')" id="l_M007056_source">show source</a> ]</p>
  <div id="M007056_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 692</span>
692:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_datetime</span>
693:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>) <span class="ruby-operator">-</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)
694:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007055" class="method">
  <div id="M007055_title" class="title">
    <b>test_minus_with_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007055_source')" id="l_M007055_source">show source</a> ]</p>
  <div id="M007055_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 688</span>
688:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_time_with_zone</span>
689:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>) <span class="ruby-operator">-</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
690:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006997" class="method">
  <div id="M006997_title" class="title">
    <b>test_months_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006997_source')" id="l_M006997_source">show source</a> ]</p>
  <div id="M006997_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 132</span>
132:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_ago</span>
133:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">5</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>)
134:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">11</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">7</span>)
135:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">6</span>)
136:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">12</span>)
137:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">24</span>)
138:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006998" class="method">
  <div id="M006998_title" class="title">
    <b>test_months_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006998_source')" id="l_M006998_source">show source</a> ]</p>
  <div id="M006998_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 140</span>
140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_since</span>
141:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">7</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
143:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
144:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
145:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">7</span>)
146:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">12</span>)
147:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">24</span>)
148:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
149:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
150:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
151:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
152:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007040" class="method">
  <div id="M007040_title" class="title">
    <b>test_next_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007040_source')" id="l_M007040_source">show source</a> ]</p>
  <div id="M007040_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 573</span>
573:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_month_on_31st</span>
574:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">9</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">8</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">next_month</span>
575:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007024" class="method">
  <div id="M007024_title" class="title">
    <b>test_next_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007024_source')" id="l_M007024_source">show source</a> ]</p>
  <div id="M007024_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 428</span>
428:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_week</span>
429:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
430:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">next_week</span>
431:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:tuesday</span>)
432:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:friday</span>)
433:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>
434:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">11</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:wednesday</span>)
435:     <span class="ruby-keyword kw">end</span>
436:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007026" class="method">
  <div id="M007026_title" class="title">
    <b>test_next_week_near_daylight_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007026_source')" id="l_M007026_source">show source</a> ]</p>
  <div id="M007026_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 447</span>
447:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_week_near_daylight_end</span>
448:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
449:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">23</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>, <span class="ruby-value str">'just crossed daylight =&gt; standard'</span>
450:     <span class="ruby-keyword kw">end</span>
451:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
452:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">23</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>, <span class="ruby-value str">'just crossed daylight =&gt; standard'</span>
453:     <span class="ruby-keyword kw">end</span>
454:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007025" class="method">
  <div id="M007025_title" class="title">
    <b>test_next_week_near_daylight_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007025_source')" id="l_M007025_source">show source</a> ]</p>
  <div id="M007025_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 438</span>
438:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_week_near_daylight_start</span>
439:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
440:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>, <span class="ruby-value str">'just crossed standard =&gt; daylight'</span>
441:     <span class="ruby-keyword kw">end</span>
442:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
443:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>, <span class="ruby-value str">'just crossed standard =&gt; daylight'</span>
444:     <span class="ruby-keyword kw">end</span>
445:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007003" class="method">
  <div id="M007003_title" class="title">
    <b>test_next_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007003_source')" id="l_M007003_source">show source</a> ]</p>
  <div id="M007003_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 176</span>
176:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_year</span>
177:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_year</span>
178:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007045" class="method">
  <div id="M007045_title" class="title">
    <b>test_past_with_time_current_as_time_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007045_source')" id="l_M007045_source">show source</a> ]</p>
  <div id="M007045_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 601</span>
601:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past_with_time_current_as_time_local</span>
602:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
603:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>))
604:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">past?</span>
605:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">past?</span>
606:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">past?</span>
607:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">past?</span>
608:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">past?</span>
609:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">past?</span>
610:     <span class="ruby-keyword kw">end</span>
611:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007046" class="method">
  <div id="M007046_title" class="title">
    <b>test_past_with_time_current_as_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007046_source')" id="l_M007046_source">show source</a> ]</p>
  <div id="M007046_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 613</span>
613:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past_with_time_current_as_time_with_zone</span>
614:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
615:       <span class="ruby-identifier">twz</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-value str">'Central Time (US &amp; Canada)'</span>)
616:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">twz</span>)
617:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">past?</span>
618:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">past?</span>
619:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">past?</span>
620:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">past?</span>
621:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">past?</span>
622:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">past?</span>
623:     <span class="ruby-keyword kw">end</span>
624:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007041" class="method">
  <div id="M007041_title" class="title">
    <b>test_prev_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007041_source')" id="l_M007041_source">show source</a> ]</p>
  <div id="M007041_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 577</span>
577:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prev_month_on_31st</span>
578:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">2</span>, <span class="ruby-value">29</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">3</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">prev_month</span>
579:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007002" class="method">
  <div id="M007002_title" class="title">
    <b>test_prev_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007002_source')" id="l_M007002_source">show source</a> ]</p>
  <div id="M007002_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 172</span>
172:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prev_year</span>
173:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">prev_year</span>
174:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006984" class="method">
  <div id="M006984_title" class="title">
    <b>test_seconds_since_midnight</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006984_source')" id="l_M006984_source">show source</a> ]</p>
  <div id="M006984_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 4</span>
 4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_seconds_since_midnight</span>
 5:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>,<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">seconds_since_midnight</span>
 6:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">60</span>,<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">seconds_since_midnight</span>
 7:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3660</span>,<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">seconds_since_midnight</span>
 8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">86399</span>,<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">seconds_since_midnight</span>
 9:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">60.00001</span>,<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">seconds_since_midnight</span>
10:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006986" class="method">
  <div id="M006986_title" class="title">
    <b>test_seconds_since_midnight_at_daylight_savings_time_end</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006986_source')" id="l_M006986_source">show source</a> ]</p>
  <div id="M006986_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_seconds_since_midnight_at_daylight_savings_time_end</span>
27:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
28:       <span class="ruby-comment cmt"># st: US: 2005 October 30th 2:00am DT =&gt; October 30th 1:00am ST</span>
29:       <span class="ruby-comment cmt"># avoid setting a time between 1:00 and 2:00 since that requires specifying whether DST is active</span>
30:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just before DST end'</span>
31:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>,<span class="ruby-value">2</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just after DST end'</span>
32: 
33:       <span class="ruby-comment cmt"># now set a time between 1:00 and 2:00 by specifying whether DST is active</span>
34:       <span class="ruby-comment cmt"># uses: Time.local( sec, min, hour, day, month, year, wday, yday, isdst, tz )</span>
35:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">30</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">0</span>,<span class="ruby-value">30</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2005</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-keyword kw">true</span>,<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>]).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'before DST end'</span>
36:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">30</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">0</span>,<span class="ruby-value">30</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">10</span>,<span class="ruby-value">2005</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-keyword kw">false</span>,<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>]).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'after DST end'</span>
37:     <span class="ruby-keyword kw">end</span>
38: 
39:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
40:       <span class="ruby-comment cmt"># st: New Zealand: 2006 March 19th 3:00am DT =&gt; March 19th 2:00am ST</span>
41:       <span class="ruby-comment cmt"># avoid setting a time between 2:00 and 3:00 since that requires specifying whether DST is active</span>
42:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just before DST end'</span>
43:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">19</span>,<span class="ruby-value">3</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just after DST end'</span>
44: 
45:       <span class="ruby-comment cmt"># now set a time between 2:00 and 3:00 by specifying whether DST is active</span>
46:       <span class="ruby-comment cmt"># uses: Time.local( sec, min, hour, day, month, year, wday, yday, isdst, tz )</span>
47:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">30</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">0</span>,<span class="ruby-value">30</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2006</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-keyword kw">true</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>]).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'before DST end'</span>
48:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">30</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">0</span>,<span class="ruby-value">30</span>,<span class="ruby-value">2</span>,<span class="ruby-value">19</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2006</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-keyword kw">false</span>,<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>]).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'after DST end'</span>
49:     <span class="ruby-keyword kw">end</span>
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006985" class="method">
  <div id="M006985_title" class="title">
    <b>test_seconds_since_midnight_at_daylight_savings_time_start</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006985_source')" id="l_M006985_source">show source</a> ]</p>
  <div id="M006985_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_seconds_since_midnight_at_daylight_savings_time_start</span>
13:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
14:       <span class="ruby-comment cmt"># dt: US: 2005 April 3rd 2:00am ST =&gt; April 3rd 3:00am DT</span>
15:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just before DST start'</span>
16:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">3</span>,<span class="ruby-value">3</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just after DST start'</span>
17:     <span class="ruby-keyword kw">end</span>
18: 
19:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
20:       <span class="ruby-comment cmt"># dt: New Zealand: 2006 October 1st 2:00am ST =&gt; October 1st 3:00am DT</span>
21:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just before DST start'</span>
22:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span><span class="ruby-operator">*</span><span class="ruby-value">3600</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">3</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">seconds_since_midnight</span>, <span class="ruby-value str">'just after DST start'</span>
23:     <span class="ruby-keyword kw">end</span>
24:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007009" class="method">
  <div id="M007009_title" class="title">
    <b>test_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007009_source')" id="l_M007009_source">show source</a> ]</p>
  <div id="M007009_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 238</span>
238:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_since</span>
239:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">11</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>)
240:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">11</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">3600</span>)
241:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">24</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span>)
242:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">24</span>,<span class="ruby-value">11</span>,<span class="ruby-value">10</span>,<span class="ruby-value">35</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span> <span class="ruby-operator">+</span> <span class="ruby-value">3600</span> <span class="ruby-operator">+</span> <span class="ruby-value">25</span>)
243:     <span class="ruby-comment cmt"># when out of range of Time, returns a DateTime</span>
244:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2038</span>,<span class="ruby-value">1</span>,<span class="ruby-value">20</span>,<span class="ruby-value">11</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2038</span>,<span class="ruby-value">1</span>,<span class="ruby-value">18</span>,<span class="ruby-value">11</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span>)
245:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007057" class="method">
  <div id="M007057_title" class="title">
    <b>test_time_created_with_local_constructor_cannot_represent_times_during_hour_skipped_by_dst</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007057_source')" id="l_M007057_source">show source</a> ]</p>
  <div id="M007057_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 696</span>
696:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_time_created_with_local_constructor_cannot_represent_times_during_hour_skipped_by_dst</span>
697:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
698:       <span class="ruby-comment cmt"># On Apr 2 2006 at 2:00AM in US, clocks were moved forward to 3:00AM.</span>
699:       <span class="ruby-comment cmt"># Therefore, 2AM EST doesn't exist for this date; Time.local fails over to 3:00AM EDT</span>
700:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">4</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">4</span>, <span class="ruby-value">2</span>, <span class="ruby-value">2</span>)
701:       <span class="ruby-identifier">assert</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>, <span class="ruby-value">4</span>, <span class="ruby-value">2</span>, <span class="ruby-value">2</span>).<span class="ruby-identifier">dst?</span>
702:     <span class="ruby-keyword kw">end</span>
703:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007036" class="method">
  <div id="M007036_title" class="title">
    <b>test_time_with_datetime_fallback</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007036_source')" id="l_M007036_source">show source</a> ]</p>
  <div id="M007036_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 536</span>
536:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_time_with_datetime_fallback</span>
537:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>)
538:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:local</span>, <span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>)
539:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
540:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:local</span>, <span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">local_offset</span>, <span class="ruby-value">0</span>)
541:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">1900</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1900</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
542:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2005</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>)
543:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2039</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
544:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">1</span>) <span class="ruby-comment cmt">#with usec</span>
545:     <span class="ruby-comment cmt"># This won't overflow on 64bit linux</span>
546:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">time_is_64bits?</span>
547:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:local</span>, <span class="ruby-value">1900</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1900</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">local_offset</span>, <span class="ruby-value">0</span>)
548:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">1</span>),
549:                    <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
550:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-operator">::</span><span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">start</span> <span class="ruby-comment cmt"># use Ruby's default start value</span>
551:     <span class="ruby-keyword kw">end</span>
552:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007029" class="method">
  <div id="M007029_title" class="title">
    <b>test_to_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007029_source')" id="l_M007029_source">show source</a> ]</p>
  <div id="M007029_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 480</span>
480:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_date</span>
481:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">to_date</span>
482:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007030" class="method">
  <div id="M007030_title" class="title">
    <b>test_to_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007030_source')" id="l_M007030_source">show source</a> ]</p>
  <div id="M007030_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 484</span>
484:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_datetime</span>
485:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">to_datetime</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
486:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
487:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">to_datetime</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">utc_offset</span>, <span class="ruby-value">86400</span>), <span class="ruby-value">0</span>)
488:     <span class="ruby-keyword kw">end</span>
489:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'NZ'</span> <span class="ruby-keyword kw">do</span>
490:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">to_datetime</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">utc_offset</span>, <span class="ruby-value">86400</span>), <span class="ruby-value">0</span>)
491:     <span class="ruby-keyword kw">end</span>
492:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-operator">::</span><span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">start</span> <span class="ruby-comment cmt"># use Ruby's default start value</span>
493:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007027" class="method">
  <div id="M007027_title" class="title">
    <b>test_to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007027_source')" id="l_M007027_source">show source</a> ]</p>
  <div id="M007027_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 456</span>
456:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_s</span>
457:     <span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>)
458:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_default_s</span>,                 <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>
459:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_default_s</span>,                 <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:doesnt_exist</span>)
460:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2005-02-21 17:44:30&quot;</span>,             <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>)
461:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;21 Feb 17:44&quot;</span>,                    <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:short</span>)
462:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;17:44&quot;</span>,                           <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:time</span>)
463:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21, 2005 17:44&quot;</span>,         <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long</span>)
464:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21st, 2005 17:44&quot;</span>,       <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long_ordinal</span>)
465:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">&quot;UTC&quot;</span> <span class="ruby-keyword kw">do</span>
466:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 21 Feb 2005 17:44:30 +0000&quot;</span>, <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:rfc822</span>)
467:     <span class="ruby-keyword kw">end</span>
468:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">&quot;US/Central&quot;</span> <span class="ruby-keyword kw">do</span>
469:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Thu, 05 Feb 2009 14:30:05 -0600&quot;</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2009</span>, <span class="ruby-value">2</span>, <span class="ruby-value">5</span>, <span class="ruby-value">14</span>, <span class="ruby-value">30</span>, <span class="ruby-value">5</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:rfc822</span>)
470:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 09 Jun 2008 04:05:01 -0500&quot;</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2008</span>, <span class="ruby-value">6</span>, <span class="ruby-value">9</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:rfc822</span>)
471:     <span class="ruby-keyword kw">end</span>
472:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007031" class="method">
  <div id="M007031_title" class="title">
    <b>test_to_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007031_source')" id="l_M007031_source">show source</a> ]</p>
  <div id="M007031_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 495</span>
495:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_time</span>
496:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>).<span class="ruby-identifier">to_time</span>
497:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007043" class="method">
  <div id="M007043_title" class="title">
    <b>test_today_with_time_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007043_source')" id="l_M007043_source">show source</a> ]</p>
  <div id="M007043_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 585</span>
585:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today_with_time_local</span>
586:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
587:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">today?</span>
588:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">today?</span>
589:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">today?</span>
590:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">today?</span>
591:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007044" class="method">
  <div id="M007044_title" class="title">
    <b>test_today_with_time_utc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007044_source')" id="l_M007044_source">show source</a> ]</p>
  <div id="M007044_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 593</span>
593:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today_with_time_utc</span>
594:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
595:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">today?</span>
596:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">today?</span>
597:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">today?</span>
598:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">today?</span>
599:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007019" class="method">
  <div id="M007019_title" class="title">
    <b>test_tomorrow</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007019_source')" id="l_M007019_source">show source</a> ]</p>
  <div id="M007019_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 356</span>
356:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tomorrow</span>
357:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">tomorrow</span>
358:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">tomorrow</span>.<span class="ruby-identifier">tomorrow</span>
359:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007023" class="method">
  <div id="M007023_title" class="title">
    <b>test_utc_advance</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007023_source')" id="l_M007023_source">show source</a> ]</p>
  <div id="M007023_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 406</span>
406:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc_advance</span>
407:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
408:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>)
409:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>)
410:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">25</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3.5</span>)
411:     <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">26</span>,<span class="ruby-value">12</span>,<span class="ruby-value">51</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3.7</span>), <span class="ruby-value">1</span>
412:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">5</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
413:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">6</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5.5</span>)
414:     <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">6</span>,<span class="ruby-value">8</span>,<span class="ruby-value">3</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5.7</span>), <span class="ruby-value">1</span>
415:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
416:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">11</span>)
417:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
418:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2001</span>,<span class="ruby-value">12</span>,<span class="ruby-value">27</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>)
419:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-comment cmt">#leap day plus one year</span>
420:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">20</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
421:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
422:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
423:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">20</span>,<span class="ruby-value">22</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
424:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">8</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-9</span>)
425:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>,<span class="ruby-value">20</span>,<span class="ruby-value">22</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
426:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007021" class="method">
  <div id="M007021_title" class="title">
    <b>test_utc_change</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007021_source')" id="l_M007021_source">show source</a> ]</p>
  <div id="M007021_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 375</span>
375:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc_change</span>
376:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2006</span>)
377:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>)
378:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2012</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
379:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">16</span>),       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16</span>)
380:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">16</span>,<span class="ruby-value">45</span>),    <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">45</span>)
381:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">45</span>),    <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">45</span>)
382:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007037" class="method">
  <div id="M007037_title" class="title">
    <b>test_utc_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007037_source')" id="l_M007037_source">show source</a> ]</p>
  <div id="M007037_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 554</span>
554:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc_time</span>
555:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc_time</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>)
556:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc_time</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
557:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc_time</span>(<span class="ruby-value">1901</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1901</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
558:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007042" class="method">
  <div id="M007042_title" class="title">
    <b>test_xmlschema_is_available</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007042_source')" id="l_M007042_source">show source</a> ]</p>
  <div id="M007042_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 581</span>
581:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlschema_is_available</span>
582:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">xmlschema</span> }
583:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006999" class="method">
  <div id="M006999_title" class="title">
    <b>test_years_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006999_source')" id="l_M006999_source">show source</a> ]</p>
  <div id="M006999_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 154</span>
154:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_ago</span>
155:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>)
156:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1998</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">7</span>)
157:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year ago from leap day</span>
158:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007000" class="method">
  <div id="M007000_title" class="title">
    <b>test_years_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007000_source')" id="l_M007000_source">show source</a> ]</p>
  <div id="M007000_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 160</span>
160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_since</span>
161:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>)
162:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">7</span>)
163:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year since leap day</span>
164:     <span class="ruby-comment cmt"># Failure because of size limitations of numeric?</span>
165:     <span class="ruby-comment cmt"># assert_equal Time.local(2182,6,5,10),  Time.local(2005,6,5,10,0,0).years_since(177)</span>
166:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007018" class="method">
  <div id="M007018_title" class="title">
    <b>test_yesterday</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007018_source')" id="l_M007018_source">show source</a> ]</p>
  <div id="M007018_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 351</span>
351:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_yesterday</span>
352:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">yesterday</span>
353:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">yesterday</span>.<span class="ruby-identifier">yesterday</span>
354:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M007060" class="method">
  <div id="M007060_title" class="title">
    <b>time_is_64bits?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007060_source')" id="l_M007060_source">show source</a> ]</p>
  <div id="M007060_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 719</span>
719:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">time_is_64bits?</span>
720:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">:utc</span>, <span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">17</span>, <span class="ruby-value">44</span>, <span class="ruby-value">30</span>, <span class="ruby-value">1</span>).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>)
721:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007059" class="method">
  <div id="M007059_title" class="title">
    <b>with_env_tz</b>(new_tz = 'US/Eastern') {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007059_source')" id="l_M007059_source">show source</a> ]</p>
  <div id="M007059_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_ext_test.rb, line 712</span>
712:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_env_tz</span>(<span class="ruby-identifier">new_tz</span> = <span class="ruby-value str">'US/Eastern'</span>)
713:       <span class="ruby-identifier">old_tz</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>], <span class="ruby-identifier">new_tz</span>
714:       <span class="ruby-keyword kw">yield</span>
715:     <span class="ruby-keyword kw">ensure</span>
716:       <span class="ruby-identifier">old_tz</span> <span class="ruby-value">? </span><span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-identifier">old_tz</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'TZ'</span>)
717:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>