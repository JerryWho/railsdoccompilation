  <div id="C00001239">
<div class='banner'>
  <span class="file-title-prefix">Module</span><br />UploadedFile<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/lib/action_controller/uploaded_file_rb.html');">actionpack/lib/action_controller/uploaded_file.rb</a>

</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007925&name=extended" >extended</a></li>
  <li><a href="index.html?a=M007924&name=included" >included</a></li>
  <li><a href="index.html?a=M007926&name=original_filename" >original_filename</a></li>
  </ul>






<div class="sectiontitle">Public Class methods</div>
<div id="M007925" class="method">
  <div id="M007925_title" class="title">
    <b>extended</b>(object)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007925_source')" id="l_M007925_source">show source</a> ]</p>
  <div id="M007925_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/uploaded_file.rb, line 10</span>
10:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">extended</span>(<span class="ruby-identifier">object</span>)
11:       <span class="ruby-identifier">object</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
12:         <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:original_path</span>, <span class="ruby-identifier">:content_type</span>
13:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:local_path</span>, <span class="ruby-identifier">:path</span>
14:       <span class="ruby-keyword kw">end</span>
15:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007924" class="method">
  <div id="M007924_title" class="title">
    <b>included</b>(base)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007924_source')" id="l_M007924_source">show source</a> ]</p>
  <div id="M007924_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File actionpack/lib/action_controller/uploaded_file.rb, line 3</span>
3:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">included</span>(<span class="ruby-identifier">base</span>)
4:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
5:         <span class="ruby-identifier">attr_accessor</span> <span class="ruby-identifier">:original_path</span>, <span class="ruby-identifier">:content_type</span>
6:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:local_path</span>, <span class="ruby-identifier">:path</span>
7:       <span class="ruby-keyword kw">end</span>
8:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M007926" class="method">
  <div id="M007926_title" class="title">
    <b>original_filename</b>()
  </div>
  <div class="description">
  <p>
Take the basename of the upload&#8217;s original filename. This handles the
full Windows paths given by Internet Explorer (and perhaps other broken
user agents) without affecting those which give the lone filename. The
Windows regexp is adapted from Perl&#8217;s File::Basename.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007926_source')" id="l_M007926_source">show source</a> ]</p>
  <div id="M007926_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/lib/action_controller/uploaded_file.rb, line 22</span>
22:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">original_filename</span>
23:       <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@original_filename</span>
24:         <span class="ruby-ivar">@original_filename</span> =
25:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">original_path</span>.<span class="ruby-identifier">blank?</span>
26:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">original_path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(?:.*[:\\\/])?(.*)/</span><span class="ruby-identifier">m</span>
27:               <span class="ruby-identifier">$1</span>
28:             <span class="ruby-keyword kw">else</span>
29:               <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-identifier">original_path</span>
30:             <span class="ruby-keyword kw">end</span>
31:           <span class="ruby-keyword kw">end</span>
32:       <span class="ruby-keyword kw">end</span>
33:       <span class="ruby-ivar">@original_filename</span>
34:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>