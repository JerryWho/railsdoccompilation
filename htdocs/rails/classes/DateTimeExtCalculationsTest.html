  <div id="C00000564">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />DateTimeExtCalculationsTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/date_time_ext_test_rb.html');">activesupport/test/core_ext/date_time_ext_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003963&name=test_acts_like_time" >test_acts_like_time</a></li>
  <li><a href="index.html?a=M003948&name=test_advance" >test_advance</a></li>
  <li><a href="index.html?a=M003943&name=test_ago" >test_ago</a></li>
  <li><a href="index.html?a=M003931&name=test_beginning_of_day" >test_beginning_of_day</a></li>
  <li><a href="index.html?a=M003933&name=test_beginning_of_month" >test_beginning_of_month</a></li>
  <li><a href="index.html?a=M003934&name=test_beginning_of_quarter" >test_beginning_of_quarter</a></li>
  <li><a href="index.html?a=M003930&name=test_beginning_of_week" >test_beginning_of_week</a></li>
  <li><a href="index.html?a=M003936&name=test_beginning_of_year" >test_beginning_of_year</a></li>
  <li><a href="index.html?a=M003947&name=test_change" >test_change</a></li>
  <li><a href="index.html?a=M003971&name=test_compare_with_datetime" >test_compare_with_datetime</a></li>
  <li><a href="index.html?a=M003970&name=test_compare_with_time" >test_compare_with_time</a></li>
  <li><a href="index.html?a=M003972&name=test_compare_with_time_with_zone" >test_compare_with_time_with_zone</a></li>
  <li><a href="index.html?a=M003959&name=test_current_returns_date_today_when_zone_default_not_set" >test_current_returns_date_today_when_zone_default_not_set</a></li>
  <li><a href="index.html?a=M003960&name=test_current_returns_time_zone_today_when_zone_default_set" >test_current_returns_time_zone_today_when_zone_default_set</a></li>
  <li><a href="index.html?a=M003962&name=test_current_with_time_zone" >test_current_with_time_zone</a></li>
  <li><a href="index.html?a=M003961&name=test_current_without_time_zone" >test_current_without_time_zone</a></li>
  <li><a href="index.html?a=M003925&name=test_custom_date_format" >test_custom_date_format</a></li>
  <li><a href="index.html?a=M003932&name=test_end_of_day" >test_end_of_day</a></li>
  <li><a href="index.html?a=M003935&name=test_end_of_month" >test_end_of_month</a></li>
  <li><a href="index.html?a=M003969&name=test_formatted_offset_with_local" >test_formatted_offset_with_local</a></li>
  <li><a href="index.html?a=M003968&name=test_formatted_offset_with_utc" >test_formatted_offset_with_utc</a></li>
  <li><a href="index.html?a=M003957&name=test_future_with_offset" >test_future_with_offset</a></li>
  <li><a href="index.html?a=M003958&name=test_future_without_offset" >test_future_without_offset</a></li>
  <li><a href="index.html?a=M003964&name=test_local_offset" >test_local_offset</a></li>
  <li><a href="index.html?a=M003937&name=test_months_ago" >test_months_ago</a></li>
  <li><a href="index.html?a=M003938&name=test_months_since" >test_months_since</a></li>
  <li><a href="index.html?a=M003950&name=test_next_month_on_31st" >test_next_month_on_31st</a></li>
  <li><a href="index.html?a=M003949&name=test_next_week" >test_next_week</a></li>
  <li><a href="index.html?a=M003942&name=test_next_year" >test_next_year</a></li>
  <li><a href="index.html?a=M003955&name=test_past_with_offset" >test_past_with_offset</a></li>
  <li><a href="index.html?a=M003956&name=test_past_without_offset" >test_past_without_offset</a></li>
  <li><a href="index.html?a=M003951&name=test_prev_month_on_31st" >test_prev_month_on_31st</a></li>
  <li><a href="index.html?a=M003941&name=test_prev_year" >test_prev_year</a></li>
  <li><a href="index.html?a=M003924&name=test_readable_inspect" >test_readable_inspect</a></li>
  <li><a href="index.html?a=M003929&name=test_seconds_since_midnight" >test_seconds_since_midnight</a></li>
  <li><a href="index.html?a=M003944&name=test_since" >test_since</a></li>
  <li><a href="index.html?a=M003926&name=test_to_date" >test_to_date</a></li>
  <li><a href="index.html?a=M003927&name=test_to_datetime" >test_to_datetime</a></li>
  <li><a href="index.html?a=M003973&name=test_to_f" >test_to_f</a></li>
  <li><a href="index.html?a=M003974&name=test_to_i" >test_to_i</a></li>
  <li><a href="index.html?a=M003923&name=test_to_s" >test_to_s</a></li>
  <li><a href="index.html?a=M003928&name=test_to_time" >test_to_time</a></li>
  <li><a href="index.html?a=M003953&name=test_today_with_offset" >test_today_with_offset</a></li>
  <li><a href="index.html?a=M003954&name=test_today_without_offset" >test_today_without_offset</a></li>
  <li><a href="index.html?a=M003946&name=test_tomorrow" >test_tomorrow</a></li>
  <li><a href="index.html?a=M003967&name=test_utc" >test_utc</a></li>
  <li><a href="index.html?a=M003965&name=test_utc?" >test_utc?</a></li>
  <li><a href="index.html?a=M003966&name=test_utc_offset" >test_utc_offset</a></li>
  <li><a href="index.html?a=M003952&name=test_xmlschema" >test_xmlschema</a></li>
  <li><a href="index.html?a=M003939&name=test_years_ago" >test_years_ago</a></li>
  <li><a href="index.html?a=M003940&name=test_years_since" >test_years_since</a></li>
  <li><a href="index.html?a=M003945&name=test_yesterday" >test_yesterday</a></li>
  <li><a href="index.html?a=M003975&name=with_env_tz" >with_env_tz</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M003963" class="method">
  <div id="M003963_title" class="title">
    <b>test_acts_like_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003963_source')" id="l_M003963_source">show source</a> ]</p>
  <div id="M003963_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 281</span>
281:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_acts_like_time</span>
282:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">acts_like_time?</span>
283:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003948" class="method">
  <div id="M003948_title" class="title">
    <b>test_advance</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003948_source')" id="l_M003948_source">show source</a> ]</p>
  <div id="M003948_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 167</span>
167:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance</span>
168:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
169:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>)
170:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>)
171:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">5</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
172:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
173:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">3</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
175:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2001</span>,<span class="ruby-value">12</span>,<span class="ruby-value">27</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>)
176:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-comment cmt">#leap day plus one year</span>
177:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">20</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
178:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
179:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
180:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">20</span>,<span class="ruby-value">22</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
181:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">8</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-9</span>)
182:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>,<span class="ruby-value">20</span>,<span class="ruby-value">22</span>,<span class="ruby-value">19</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
183: 
184:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003943" class="method">
  <div id="M003943_title" class="title">
    <b>test_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003943_source')" id="l_M003943_source">show source</a> ]</p>
  <div id="M003943_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 132</span>
132:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ago</span>
133:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">9</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>)
134:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">9</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">3600</span>)
135:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span>)
136:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">9</span>,<span class="ruby-value">9</span>,<span class="ruby-value">45</span>),   <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span> <span class="ruby-operator">+</span> <span class="ruby-value">3600</span> <span class="ruby-operator">+</span> <span class="ruby-value">25</span>)
137:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003931" class="method">
  <div id="M003931_title" class="title">
    <b>test_beginning_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003931_source')" id="l_M003931_source">show source</a> ]</p>
  <div id="M003931_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 60</span>
60:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_day</span>
61:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_day</span>
62:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003933" class="method">
  <div id="M003933_title" class="title">
    <b>test_beginning_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003933_source')" id="l_M003933_source">show source</a> ]</p>
  <div id="M003933_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 68</span>
68:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_month</span>
69:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_month</span>
70:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003934" class="method">
  <div id="M003934_title" class="title">
    <b>test_beginning_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003934_source')" id="l_M003934_source">show source</a> ]</p>
  <div id="M003934_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_quarter</span>
73:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_quarter</span>
74:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_quarter</span>
75:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_quarter</span>
76:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">beginning_of_quarter</span>
77:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003930" class="method">
  <div id="M003930_title" class="title">
    <b>test_beginning_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003930_source')" id="l_M003930_source">show source</a> ]</p>
  <div id="M003930_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 49</span>
49:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_week</span>
50:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_week</span>
51:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#monday</span>
52:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">29</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
54:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">01</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#thursday</span>
55:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">02</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#friday</span>
56:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">03</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#saturday</span>
57:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">04</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#sunday</span>
58:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003936" class="method">
  <div id="M003936_title" class="title">
    <b>test_beginning_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003936_source')" id="l_M003936_source">show source</a> ]</p>
  <div id="M003936_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_year</span>
86:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">beginning_of_year</span>
87:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003947" class="method">
  <div id="M003947_title" class="title">
    <b>test_change</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003947_source')" id="l_M003947_source">show source</a> ]</p>
  <div id="M003947_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 158</span>
158:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_change</span>
159:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2006</span>)
160:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>)
161:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2012</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span>)
162:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">16</span>),       <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16</span>)
163:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">16</span>,<span class="ruby-value">45</span>),    <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">45</span>)
164:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">45</span>),    <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">45</span>)
165:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003971" class="method">
  <div id="M003971_title" class="title">
    <b>test_compare_with_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003971_source')" id="l_M003971_source">show source</a> ]</p>
  <div id="M003971_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 335</span>
335:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_datetime</span>
336:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
337:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
338:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>))
339:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003970" class="method">
  <div id="M003970_title" class="title">
    <b>test_compare_with_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003970_source')" id="l_M003970_source">show source</a> ]</p>
  <div id="M003970_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 329</span>
329:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_time</span>
330:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
331:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
332:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>))
333:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003972" class="method">
  <div id="M003972_title" class="title">
    <b>test_compare_with_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003972_source')" id="l_M003972_source">show source</a> ]</p>
  <div id="M003972_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 341</span>
341:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_time_with_zone</span>
342:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
343:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
344:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ))
345:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003959" class="method">
  <div id="M003959_title" class="title">
    <b>test_current_returns_date_today_when_zone_default_not_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003959_source')" id="l_M003959_source">show source</a> ]</p>
  <div id="M003959_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 254</span>
254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_returns_date_today_when_zone_default_not_set</span>
255:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
256:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
257:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">current</span>
258:     <span class="ruby-keyword kw">end</span>
259:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003960" class="method">
  <div id="M003960_title" class="title">
    <b>test_current_returns_time_zone_today_when_zone_default_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003960_source')" id="l_M003960_source">show source</a> ]</p>
  <div id="M003960_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 261</span>
261:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_returns_time_zone_today_when_zone_default_set</span>
262:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>]
263:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
264:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
265:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">current</span>
266:     <span class="ruby-keyword kw">end</span>
267:   <span class="ruby-keyword kw">ensure</span>
268:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-keyword kw">nil</span>
269:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003962" class="method">
  <div id="M003962_title" class="title">
    <b>test_current_with_time_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003962_source')" id="l_M003962_source">show source</a> ]</p>
  <div id="M003962_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 275</span>
275:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_with_time_zone</span>
276:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
277:       <span class="ruby-identifier">assert</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">DateTime</span>)
278:     <span class="ruby-keyword kw">end</span>
279:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003961" class="method">
  <div id="M003961_title" class="title">
    <b>test_current_without_time_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003961_source')" id="l_M003961_source">show source</a> ]</p>
  <div id="M003961_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 271</span>
271:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_without_time_zone</span>
272:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">current</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">DateTime</span>)
273:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003925" class="method">
  <div id="M003925_title" class="title">
    <b>test_custom_date_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003925_source')" id="l_M003925_source">show source</a> ]</p>
  <div id="M003925_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 21</span>
21:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_date_format</span>
22:     <span class="ruby-constant">Time</span><span class="ruby-operator">::</span><span class="ruby-constant">DATE_FORMATS</span>[<span class="ruby-identifier">:custom</span>] = <span class="ruby-value str">'%Y%m%d%H%M%S'</span>
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'20050221143000'</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">14</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:custom</span>)
24:     <span class="ruby-constant">Time</span><span class="ruby-operator">::</span><span class="ruby-constant">DATE_FORMATS</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:custom</span>)
25:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003932" class="method">
  <div id="M003932_title" class="title">
    <b>test_end_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003932_source')" id="l_M003932_source">show source</a> ]</p>
  <div id="M003932_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_day</span>
65:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_day</span>
66:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003935" class="method">
  <div id="M003935_title" class="title">
    <b>test_end_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003935_source')" id="l_M003935_source">show source</a> ]</p>
  <div id="M003935_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_month</span>
80:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_month</span>
81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_month</span>
82:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">20</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">end_of_month</span>
83:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003969" class="method">
  <div id="M003969_title" class="title">
    <b>test_formatted_offset_with_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003969_source')" id="l_M003969_source">show source</a> ]</p>
  <div id="M003969_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 323</span>
323:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_formatted_offset_with_local</span>
324:     <span class="ruby-identifier">dt</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>, <span class="ruby-value">24</span>))
325:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-05:00'</span>, <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">formatted_offset</span>
326:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-0500'</span>, <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">false</span>)
327:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003968" class="method">
  <div id="M003968_title" class="title">
    <b>test_formatted_offset_with_utc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003968_source')" id="l_M003968_source">show source</a> ]</p>
  <div id="M003968_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 317</span>
317:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_formatted_offset_with_utc</span>
318:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'+00:00'</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>
319:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'+0000'</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">false</span>)
320:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'UTC'</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">formatted_offset</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-value str">'UTC'</span>)
321:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003957" class="method">
  <div id="M003957_title" class="title">
    <b>test_future_with_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003957_source')" id="l_M003957_source">show source</a> ]</p>
  <div id="M003957_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 240</span>
240:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future_with_offset</span>
241:     <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)))
242:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">future?</span>
243:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">future?</span>
244:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">future?</span>
245:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003958" class="method">
  <div id="M003958_title" class="title">
    <b>test_future_without_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003958_source')" id="l_M003958_source">show source</a> ]</p>
  <div id="M003958_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 247</span>
247:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future_without_offset</span>
248:     <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)))
249:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">future?</span>
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">future?</span>
251:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">future?</span>
252:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003964" class="method">
  <div id="M003964_title" class="title">
    <b>test_local_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003964_source')" id="l_M003964_source">show source</a> ]</p>
  <div id="M003964_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 285</span>
285:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_local_offset</span>
286:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
287:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>, <span class="ruby-value">24</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">local_offset</span>
288:     <span class="ruby-keyword kw">end</span>
289:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Central'</span> <span class="ruby-keyword kw">do</span>
290:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Rational</span>(<span class="ruby-value">-6</span>, <span class="ruby-value">24</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">local_offset</span>
291:     <span class="ruby-keyword kw">end</span>
292:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003937" class="method">
  <div id="M003937_title" class="title">
    <b>test_months_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003937_source')" id="l_M003937_source">show source</a> ]</p>
  <div id="M003937_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 89</span>
89:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_ago</span>
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">5</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>)
91:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">11</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">7</span>)
92:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">6</span>)
93:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">12</span>)
94:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">24</span>)
95:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003938" class="method">
  <div id="M003938_title" class="title">
    <b>test_months_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003938_source')" id="l_M003938_source">show source</a> ]</p>
  <div id="M003938_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 97</span>
 97:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_since</span>
 98:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">7</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
 99:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
100:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
101:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">7</span>)
103:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">12</span>)
104:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">24</span>)
105:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
106:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
107:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
109:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003950" class="method">
  <div id="M003950_title" class="title">
    <b>test_next_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003950_source')" id="l_M003950_source">show source</a> ]</p>
  <div id="M003950_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_month_on_31st</span>
194:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">9</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">8</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">next_month</span>
195:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003949" class="method">
  <div id="M003949_title" class="title">
    <b>test_next_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003949_source')" id="l_M003949_source">show source</a> ]</p>
  <div id="M003949_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 186</span>
186:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_week</span>
187:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">next_week</span>
188:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">15</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:friday</span>)
189:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>
190:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">11</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:wednesday</span>)
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003942" class="method">
  <div id="M003942_title" class="title">
    <b>test_next_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003942_source')" id="l_M003942_source">show source</a> ]</p>
  <div id="M003942_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_year</span>
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">next_year</span>
130:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003955" class="method">
  <div id="M003955_title" class="title">
    <b>test_past_with_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003955_source')" id="l_M003955_source">show source</a> ]</p>
  <div id="M003955_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 226</span>
226:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past_with_offset</span>
227:     <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)))
228:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">past?</span>
229:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">past?</span>
230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">past?</span>
231:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003956" class="method">
  <div id="M003956_title" class="title">
    <b>test_past_without_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003956_source')" id="l_M003956_source">show source</a> ]</p>
  <div id="M003956_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 233</span>
233:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past_without_offset</span>
234:     <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)))
235:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>).<span class="ruby-identifier">past?</span>
236:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>).<span class="ruby-identifier">past?</span>
237:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">20</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>).<span class="ruby-identifier">past?</span>
238:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003951" class="method">
  <div id="M003951_title" class="title">
    <b>test_prev_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003951_source')" id="l_M003951_source">show source</a> ]</p>
  <div id="M003951_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prev_month_on_31st</span>
198:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">2</span>, <span class="ruby-value">29</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">3</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">prev_month</span>
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003941" class="method">
  <div id="M003941_title" class="title">
    <b>test_prev_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003941_source')" id="l_M003941_source">show source</a> ]</p>
  <div id="M003941_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 124</span>
124:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prev_year</span>
125:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">prev_year</span>
126:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003924" class="method">
  <div id="M003924_title" class="title">
    <b>test_readable_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003924_source')" id="l_M003924_source">show source</a> ]</p>
  <div id="M003924_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_readable_inspect</span>
16:     <span class="ruby-identifier">datetime</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">14</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)
17:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 21 Feb 2005 14:30:00 +0000&quot;</span>, <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">readable_inspect</span>
18:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">readable_inspect</span>, <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">inspect</span>
19:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003929" class="method">
  <div id="M003929_title" class="title">
    <b>test_seconds_since_midnight</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003929_source')" id="l_M003929_source">show source</a> ]</p>
  <div id="M003929_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_seconds_since_midnight</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>,<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">seconds_since_midnight</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">60</span>,<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">seconds_since_midnight</span>
45:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3660</span>,<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">seconds_since_midnight</span>
46:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">86399</span>,<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">seconds_since_midnight</span>
47:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003944" class="method">
  <div id="M003944_title" class="title">
    <b>test_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003944_source')" id="l_M003944_source">show source</a> ]</p>
  <div id="M003944_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 139</span>
139:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_since</span>
140:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">11</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>)
141:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">11</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">3600</span>)
142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">24</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span>)
143:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">24</span>,<span class="ruby-value">11</span>,<span class="ruby-value">10</span>,<span class="ruby-value">35</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span><span class="ruby-operator">*</span><span class="ruby-value">2</span> <span class="ruby-operator">+</span> <span class="ruby-value">3600</span> <span class="ruby-operator">+</span> <span class="ruby-value">25</span>)
144:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">11</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1.333</span>)
145:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">12</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">1.667</span>)
146:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003926" class="method">
  <div id="M003926_title" class="title">
    <b>test_to_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003926_source')" id="l_M003926_source">show source</a> ]</p>
  <div id="M003926_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_date</span>
28:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_date</span>
29:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003927" class="method">
  <div id="M003927_title" class="title">
    <b>test_to_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003927_source')" id="l_M003927_source">show source</a> ]</p>
  <div id="M003927_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_datetime</span>
32:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>
33:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003973" class="method">
  <div id="M003973_title" class="title">
    <b>test_to_f</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003973_source')" id="l_M003973_source">show source</a> ]</p>
  <div id="M003973_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 347</span>
347:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_f</span>
348:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">946684800.0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">to_f</span>
349:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">946684800.0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">19</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>,<span class="ruby-value">24</span>)).<span class="ruby-identifier">to_f</span>
350:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003974" class="method">
  <div id="M003974_title" class="title">
    <b>test_to_i</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003974_source')" id="l_M003974_source">show source</a> ]</p>
  <div id="M003974_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 352</span>
352:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_i</span>
353:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">946684800</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>).<span class="ruby-identifier">to_i</span>
354:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003923" class="method">
  <div id="M003923_title" class="title">
    <b>test_to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003923_source')" id="l_M003923_source">show source</a> ]</p>
  <div id="M003923_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 4</span>
 4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_s</span>
 5:     <span class="ruby-identifier">datetime</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">14</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
 6:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2005-02-21 14:30:00&quot;</span>,               <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>)
 7:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;14:30&quot;</span>,                             <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:time</span>)
 8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;21 Feb 14:30&quot;</span>,                      <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:short</span>)
 9:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21, 2005 14:30&quot;</span>,           <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long</span>)
10:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 21 Feb 2005 14:30:00 +0000&quot;</span>,   <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:rfc822</span>)
11:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21st, 2005 14:30&quot;</span>,         <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long_ordinal</span>)
12:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^2005-02-21T14:30:00(Z|\+00:00)$/</span>,  <span class="ruby-identifier">datetime</span>.<span class="ruby-identifier">to_s</span>)
13:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003928" class="method">
  <div id="M003928_title" class="title">
    <b>test_to_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003928_source')" id="l_M003928_source">show source</a> ]</p>
  <div id="M003928_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_time</span>
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">to_time</span>
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc_time</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">to_time</span>
38:     <span class="ruby-comment cmt"># DateTimes with offsets other than 0 are returned unaltered</span>
39:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>, <span class="ruby-value">24</span>)), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>, <span class="ruby-value">24</span>)).<span class="ruby-identifier">to_time</span>
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003953" class="method">
  <div id="M003953_title" class="title">
    <b>test_today_with_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003953_source')" id="l_M003953_source">show source</a> ]</p>
  <div id="M003953_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 210</span>
210:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today_with_offset</span>
211:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
212:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">today?</span>
213:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">today?</span>
214:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">today?</span>
215:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18000</span>, <span class="ruby-value">86400</span>)).<span class="ruby-identifier">today?</span>
216:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003954" class="method">
  <div id="M003954_title" class="title">
    <b>test_today_without_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003954_source')" id="l_M003954_source">show source</a> ]</p>
  <div id="M003954_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 218</span>
218:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today_without_offset</span>
219:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
220:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">today?</span>
221:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">today?</span>
222:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>).<span class="ruby-identifier">today?</span>
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">today?</span>
224:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003946" class="method">
  <div id="M003946_title" class="title">
    <b>test_tomorrow</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003946_source')" id="l_M003946_source">show source</a> ]</p>
  <div id="M003946_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tomorrow</span>
154:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">tomorrow</span>
155:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">tomorrow</span>.<span class="ruby-identifier">tomorrow</span>
156:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003967" class="method">
  <div id="M003967_title" class="title">
    <b>test_utc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003967_source')" id="l_M003967_source">show source</a> ]</p>
  <div id="M003967_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 309</span>
309:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc</span>
310:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">16</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-6</span>, <span class="ruby-value">24</span>)).<span class="ruby-identifier">utc</span>
311:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">15</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>, <span class="ruby-value">24</span>)).<span class="ruby-identifier">utc</span>
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">utc</span>
313:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">9</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">1</span>, <span class="ruby-value">24</span>)).<span class="ruby-identifier">utc</span>
314:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">9</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">1</span>, <span class="ruby-value">24</span>)).<span class="ruby-identifier">getutc</span>
315:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003965" class="method">
  <div id="M003965_title" class="title">
    <b>test_utc?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003965_source')" id="l_M003965_source">show source</a> ]</p>
  <div id="M003965_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc?</span>
295:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>).<span class="ruby-identifier">utc?</span>
296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">utc?</span>
297:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">utc?</span>
298:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">-0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">utc?</span>
299:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003966" class="method">
  <div id="M003966_title" class="title">
    <b>test_utc_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003966_source')" id="l_M003966_source">show source</a> ]</p>
  <div id="M003966_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 301</span>
301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc_offset</span>
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>).<span class="ruby-identifier">utc_offset</span>
303:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">utc_offset</span>
304:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">21600</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">utc_offset</span>
305:     <span class="ruby-identifier">assert_equal</span>( <span class="ruby-value">-21600</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-value">-0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">utc_offset</span> )
306:     <span class="ruby-identifier">assert_equal</span>( <span class="ruby-value">-18000</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>, <span class="ruby-value">10</span>, <span class="ruby-value">11</span>, <span class="ruby-value">12</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-5</span>, <span class="ruby-value">24</span>)).<span class="ruby-identifier">utc_offset</span> )
307:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003952" class="method">
  <div id="M003952_title" class="title">
    <b>test_xmlschema</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003952_source')" id="l_M003952_source">show source</a> ]</p>
  <div id="M003952_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlschema</span>
202:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1880-02-28T15:15:10\+00:?00$/</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>, <span class="ruby-value">15</span>, <span class="ruby-value">15</span>, <span class="ruby-value">10</span>).<span class="ruby-identifier">xmlschema</span>)
203:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1980-02-28T15:15:10\+00:?00$/</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>, <span class="ruby-value">15</span>, <span class="ruby-value">15</span>, <span class="ruby-value">10</span>).<span class="ruby-identifier">xmlschema</span>)
204:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^2080-02-28T15:15:10\+00:?00$/</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2080</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>, <span class="ruby-value">15</span>, <span class="ruby-value">15</span>, <span class="ruby-value">10</span>).<span class="ruby-identifier">xmlschema</span>)
205:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1880-02-28T15:15:10-06:?00$/</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>, <span class="ruby-value">15</span>, <span class="ruby-value">15</span>, <span class="ruby-value">10</span>, <span class="ruby-value">-0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">xmlschema</span>)
206:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1980-02-28T15:15:10-06:?00$/</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>, <span class="ruby-value">15</span>, <span class="ruby-value">15</span>, <span class="ruby-value">10</span>, <span class="ruby-value">-0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">xmlschema</span>)
207:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^2080-02-28T15:15:10-06:?00$/</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2080</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>, <span class="ruby-value">15</span>, <span class="ruby-value">15</span>, <span class="ruby-value">10</span>, <span class="ruby-value">-0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">xmlschema</span>)
208:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003939" class="method">
  <div id="M003939_title" class="title">
    <b>test_years_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003939_source')" id="l_M003939_source">show source</a> ]</p>
  <div id="M003939_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_ago</span>
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>)
113:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1998</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">7</span>)
114:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year ago from leap day</span>
115:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003940" class="method">
  <div id="M003940_title" class="title">
    <b>test_years_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003940_source')" id="l_M003940_source">show source</a> ]</p>
  <div id="M003940_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_since</span>
118:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>)
119:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">7</span>)
120:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2182</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>),  <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">177</span>)
121:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year since leap day</span>
122:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003945" class="method">
  <div id="M003945_title" class="title">
    <b>test_yesterday</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003945_source')" id="l_M003945_source">show source</a> ]</p>
  <div id="M003945_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_yesterday</span>
149:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">yesterday</span>
150:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>), <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>,<span class="ruby-value">10</span>).<span class="ruby-identifier">yesterday</span>.<span class="ruby-identifier">yesterday</span>
151:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M003975" class="method">
  <div id="M003975_title" class="title">
    <b>with_env_tz</b>(new_tz = 'US/Eastern') {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003975_source')" id="l_M003975_source">show source</a> ]</p>
  <div id="M003975_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_time_ext_test.rb, line 357</span>
357:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_env_tz</span>(<span class="ruby-identifier">new_tz</span> = <span class="ruby-value str">'US/Eastern'</span>)
358:       <span class="ruby-identifier">old_tz</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>], <span class="ruby-identifier">new_tz</span>
359:       <span class="ruby-keyword kw">yield</span>
360:     <span class="ruby-keyword kw">ensure</span>
361:       <span class="ruby-identifier">old_tz</span> <span class="ruby-value">? </span><span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-identifier">old_tz</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'TZ'</span>)
362:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>