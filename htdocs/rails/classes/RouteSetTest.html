  <div id="C00000325">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />RouteSetTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/routing_test_rb.html');">actionpack/test/controller/routing_test.rb</a>

Parent:&nbsp;
ActiveSupport::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M002110&name=request" >request</a></li>
  <li><a href="index.html?a=M002109&name=set" >set</a></li>
  <li><a href="index.html?a=M002120&name=setup_named_route_test" >setup_named_route_test</a></li>
  <li><a href="index.html?a=M002160&name=test_action_left_off_when_id_is_recalled" >test_action_left_off_when_id_is_recalled</a></li>
  <li><a href="index.html?a=M002116&name=test_draw" >test_draw</a></li>
  <li><a href="index.html?a=M002131&name=test_draw_default_route" >test_draw_default_route</a></li>
  <li><a href="index.html?a=M002132&name=test_draw_default_route_with_default_controller" >test_draw_default_route_with_default_controller</a></li>
  <li><a href="index.html?a=M002117&name=test_draw_symbol_controller_name" >test_draw_symbol_controller_name</a></li>
  <li><a href="index.html?a=M002163&name=test_expiry_determination_should_consider_values_with_to_param" >test_expiry_determination_should_consider_values_with_to_param</a></li>
  <li><a href="index.html?a=M002112&name=test_extra_keys" >test_extra_keys</a></li>
  <li><a href="index.html?a=M002115&name=test_extra_keys_not_first" >test_extra_keys_not_first</a></li>
  <li><a href="index.html?a=M002162&name=test_format_is_not_inherit" >test_format_is_not_inherit</a></li>
  <li><a href="index.html?a=M002156&name=test_generate" >test_generate</a></li>
  <li><a href="index.html?a=M002164&name=test_generate_all" >test_generate_all</a></li>
  <li><a href="index.html?a=M002152&name=test_generate_changes_controller_module" >test_generate_changes_controller_module</a></li>
  <li><a href="index.html?a=M002111&name=test_generate_extras" >test_generate_extras</a></li>
  <li><a href="index.html?a=M002113&name=test_generate_extras_not_first" >test_generate_extras_not_first</a></li>
  <li><a href="index.html?a=M002151&name=test_generate_finds_best_fit" >test_generate_finds_best_fit</a></li>
  <li><a href="index.html?a=M002114&name=test_generate_not_first" >test_generate_not_first</a></li>
  <li><a href="index.html?a=M002158&name=test_generate_with_blank_path_prefix" >test_generate_with_blank_path_prefix</a></li>
  <li><a href="index.html?a=M002145&name=test_generate_with_default_action" >test_generate_with_default_action</a></li>
  <li><a href="index.html?a=M002157&name=test_generate_with_path_prefix" >test_generate_with_path_prefix</a></li>
  <li><a href="index.html?a=M002153&name=test_id_is_not_impossibly_sticky" >test_id_is_not_impossibly_sticky</a></li>
  <li><a href="index.html?a=M002154&name=test_id_is_sticky_when_it_ought_to_be" >test_id_is_sticky_when_it_ought_to_be</a></li>
  <li><a href="index.html?a=M002119&name=test_later_named_routes_take_precedence" >test_later_named_routes_take_precedence</a></li>
  <li><a href="index.html?a=M002118&name=test_named_draw" >test_named_draw</a></li>
  <li><a href="index.html?a=M002121&name=test_named_route_hash_access_method" >test_named_route_hash_access_method</a></li>
  <li><a href="index.html?a=M002165&name=test_named_route_in_nested_resource" >test_named_route_in_nested_resource</a></li>
  <li><a href="index.html?a=M002122&name=test_named_route_url_method" >test_named_route_url_method</a></li>
  <li><a href="index.html?a=M002123&name=test_named_route_url_method_with_anchor" >test_named_route_url_method_with_anchor</a></li>
  <li><a href="index.html?a=M002125&name=test_named_route_url_method_with_host" >test_named_route_url_method_with_host</a></li>
  <li><a href="index.html?a=M002130&name=test_named_route_url_method_with_no_positional_arguments" >test_named_route_url_method_with_no_positional_arguments</a></li>
  <li><a href="index.html?a=M002127&name=test_named_route_url_method_with_ordered_parameters" >test_named_route_url_method_with_ordered_parameters</a></li>
  <li><a href="index.html?a=M002129&name=test_named_route_url_method_with_ordered_parameters_and_empty_hash" >test_named_route_url_method_with_ordered_parameters_and_empty_hash</a></li>
  <li><a href="index.html?a=M002128&name=test_named_route_url_method_with_ordered_parameters_and_hash" >test_named_route_url_method_with_ordered_parameters_and_hash</a></li>
  <li><a href="index.html?a=M002124&name=test_named_route_url_method_with_port" >test_named_route_url_method_with_port</a></li>
  <li><a href="index.html?a=M002126&name=test_named_route_url_method_with_protocol" >test_named_route_url_method_with_protocol</a></li>
  <li><a href="index.html?a=M002159&name=test_named_routes_are_never_relative_to_modules" >test_named_routes_are_never_relative_to_modules</a></li>
  <li><a href="index.html?a=M002147&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M002150&name=test_namespace_with_blank_path_prefix" >test_namespace_with_blank_path_prefix</a></li>
  <li><a href="index.html?a=M002149&name=test_namespace_with_path_prefix" >test_namespace_with_path_prefix</a></li>
  <li><a href="index.html?a=M002148&name=test_namespaced_root_map" >test_namespaced_root_map</a></li>
  <li><a href="index.html?a=M002138&name=test_non_path_route_requirements_match_all" >test_non_path_route_requirements_match_all</a></li>
  <li><a href="index.html?a=M002161&name=test_query_params_will_be_shown_when_recalled" >test_query_params_will_be_shown_when_recalled</a></li>
  <li><a href="index.html?a=M002141&name=test_recognize_with_alias_in_conditions" >test_recognize_with_alias_in_conditions</a></li>
  <li><a href="index.html?a=M002140&name=test_recognize_with_conditions" >test_recognize_with_conditions</a></li>
  <li><a href="index.html?a=M002144&name=test_recognize_with_conditions_and_format" >test_recognize_with_conditions_and_format</a></li>
  <li><a href="index.html?a=M002139&name=test_recognize_with_encoded_id_and_regex" >test_recognize_with_encoded_id_and_regex</a></li>
  <li><a href="index.html?a=M002146&name=test_root_map" >test_root_map</a></li>
  <li><a href="index.html?a=M002173&name=test_route_requirement_generate_with_extended_syntax" >test_route_requirement_generate_with_extended_syntax</a></li>
  <li><a href="index.html?a=M002171&name=test_route_requirement_generate_with_ignore_case" >test_route_requirement_generate_with_ignore_case</a></li>
  <li><a href="index.html?a=M002174&name=test_route_requirement_generate_with_xi_modifiers" >test_route_requirement_generate_with_xi_modifiers</a></li>
  <li><a href="index.html?a=M002172&name=test_route_requirement_recognize_with_extended_syntax" >test_route_requirement_recognize_with_extended_syntax</a></li>
  <li><a href="index.html?a=M002170&name=test_route_requirement_recognize_with_ignore_case" >test_route_requirement_recognize_with_ignore_case</a></li>
  <li><a href="index.html?a=M002175&name=test_route_requirement_recognize_with_xi_modifiers" >test_route_requirement_recognize_with_xi_modifiers</a></li>
  <li><a href="index.html?a=M002134&name=test_route_requirements_with_anchor_chars_are_invalid" >test_route_requirements_with_anchor_chars_are_invalid</a></li>
  <li><a href="index.html?a=M002137&name=test_route_requirements_with_head_method_condition_is_invalid" >test_route_requirements_with_head_method_condition_is_invalid</a></li>
  <li><a href="index.html?a=M002135&name=test_route_requirements_with_invalid_http_method_is_invalid" >test_route_requirements_with_invalid_http_method_is_invalid</a></li>
  <li><a href="index.html?a=M002136&name=test_route_requirements_with_options_method_condition_is_valid" >test_route_requirements_with_options_method_condition_is_valid</a></li>
  <li><a href="index.html?a=M002169&name=test_route_requirements_with_supported_options_must_not_error" >test_route_requirements_with_supported_options_must_not_error</a></li>
  <li><a href="index.html?a=M002168&name=test_route_requirements_with_unsupported_regexp_options_must_error" >test_route_requirements_with_unsupported_regexp_options_must_error</a></li>
  <li><a href="index.html?a=M002133&name=test_route_with_parameter_shell" >test_route_with_parameter_shell</a></li>
  <li><a href="index.html?a=M002176&name=test_routes_with_symbols" >test_routes_with_symbols</a></li>
  <li><a href="index.html?a=M002143&name=test_routing_traversal_does_not_load_extra_classes" >test_routing_traversal_does_not_load_extra_classes</a></li>
  <li><a href="index.html?a=M002167&name=test_setting_root_in_namespace_using_string" >test_setting_root_in_namespace_using_string</a></li>
  <li><a href="index.html?a=M002166&name=test_setting_root_in_namespace_using_symbol" >test_setting_root_in_namespace_using_symbol</a></li>
  <li><a href="index.html?a=M002142&name=test_typo_recognition" >test_typo_recognition</a></li>
  <li><a href="index.html?a=M002155&name=test_use_static_path_when_possible" >test_use_static_path_when_possible</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M002110" class="method">
  <div id="M002110_title" class="title">
    <b>request</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002110_source')" id="l_M002110_source">show source</a> ]</p>
  <div id="M002110_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1627</span>
1627:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request</span>
1628:     <span class="ruby-ivar">@request</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
1629:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002109" class="method">
  <div id="M002109_title" class="title">
    <b>set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002109_source')" id="l_M002109_source">show source</a> ]</p>
  <div id="M002109_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1623</span>
1623:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set</span>
1624:     <span class="ruby-ivar">@set</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ROUTING</span><span class="ruby-operator">::</span><span class="ruby-constant">RouteSet</span>.<span class="ruby-identifier">new</span>
1625:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002120" class="method">
  <div id="M002120_title" class="title">
    <b>setup_named_route_test</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002120_source')" id="l_M002120_source">show source</a> ]</p>
  <div id="M002120_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1707</span>
1707:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_named_route_test</span>
1708:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1709:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">show</span> <span class="ruby-value str">'/people/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
1710:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">index</span> <span class="ruby-value str">'/people'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
1711:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">multi</span> <span class="ruby-value str">'/people/go/:foo/:bar/joe/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'multi'</span>
1712:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">users</span> <span class="ruby-value str">'/admin/users'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
1713:     <span class="ruby-keyword kw">end</span>
1714: 
1715:     <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">MockController</span>)
1716:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">install_helpers</span>(<span class="ruby-identifier">klass</span>)
1717:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">set</span>)
1718:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002160" class="method">
  <div id="M002160_title" class="title">
    <b>test_action_left_off_when_id_is_recalled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002160_source')" id="l_M002160_source">show source</a> ]</p>
  <div id="M002160_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2282</span>
2282:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_action_left_off_when_id_is_recalled</span>
2283:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2284:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2285:     <span class="ruby-keyword kw">end</span>
2286:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/post'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2287:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>},
2288:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}
2289:     )
2290:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002116" class="method">
  <div id="M002116_title" class="title">
    <b>test_draw</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002116_source')" id="l_M002116_source">show source</a> ]</p>
  <div id="M002116_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1671</span>
1671:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw</span>
1672:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1673:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1674:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/hello/world'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1675:     <span class="ruby-keyword kw">end</span>
1676:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1677:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002131" class="method">
  <div id="M002131_title" class="title">
    <b>test_draw_default_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002131_source')" id="l_M002131_source">show source</a> ]</p>
  <div id="M002131_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1812</span>
1812:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw_default_route</span>
1813:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">with_controllers</span>([<span class="ruby-value str">'users'</span>]) <span class="ruby-keyword kw">do</span>
1814:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1815:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/:controller/:action/:id'</span>
1816:       <span class="ruby-keyword kw">end</span>
1817: 
1818:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1819:       <span class="ruby-identifier">route</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">first</span>
1820: 
1821:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">route</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">optional?</span>
1822: 
1823:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/users/show/10'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
1824:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/users/index/10'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
1825: 
1826:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/users/index/10'</span>))
1827:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/users/index/10/'</span>))
1828:     <span class="ruby-keyword kw">end</span>
1829:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002132" class="method">
  <div id="M002132_title" class="title">
    <b>test_draw_default_route_with_default_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002132_source')" id="l_M002132_source">show source</a> ]</p>
  <div id="M002132_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1831</span>
1831:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw_default_route_with_default_controller</span>
1832:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">with_controllers</span>([<span class="ruby-value str">'users'</span>]) <span class="ruby-keyword kw">do</span>
1833:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1834:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/:controller/:action/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>
1835:       <span class="ruby-keyword kw">end</span>
1836:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/'</span>))
1837:     <span class="ruby-keyword kw">end</span>
1838:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002117" class="method">
  <div id="M002117_title" class="title">
    <b>test_draw_symbol_controller_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002117_source')" id="l_M002117_source">show source</a> ]</p>
  <div id="M002117_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1679</span>
1679:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw_symbol_controller_name</span>
1680:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1681:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1682:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/users/index'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:users</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:index</span>
1683:     <span class="ruby-keyword kw">end</span>
1684:     <span class="ruby-ivar">@request</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
1685:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">request_uri</span> = <span class="ruby-value str">'/users/index'</span>
1686:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-ivar">@request</span>) }
1687:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1688:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002163" class="method">
  <div id="M002163_title" class="title">
    <b>test_expiry_determination_should_consider_values_with_to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002163_source')" id="l_M002163_source">show source</a> ]</p>
  <div id="M002163_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2319</span>
2319:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_expiry_determination_should_consider_values_with_to_param</span>
2320:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'projects/:project_id/:controller/:action'</span> }
2321:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/projects/1/post/show'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2322:       {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
2323:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>})
2324:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002112" class="method">
  <div id="M002112_title" class="title">
    <b>test_extra_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002112_source')" id="l_M002112_source">show source</a> ]</p>
  <div id="M002112_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1638</span>
1638:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_extra_keys</span>
1639:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
1640:     <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1641:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1642:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002115" class="method">
  <div id="M002115_title" class="title">
    <b>test_extra_keys_not_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002115_source')" id="l_M002115_source">show source</a> ]</p>
  <div id="M002115_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1662</span>
1662:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_extra_keys_not_first</span>
1663:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1664:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id.:format'</span>
1665:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
1666:     <span class="ruby-keyword kw">end</span>
1667:     <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1668:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1669:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002162" class="method">
  <div id="M002162_title" class="title">
    <b>test_format_is_not_inherit</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002162_source')" id="l_M002162_source">show source</a> ]</p>
  <div id="M002162_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2303</span>
2303:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_is_not_inherit</span>
2304:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2305:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/posts.:format'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>
2306:     <span class="ruby-keyword kw">end</span>
2307: 
2308:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/posts'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2309:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>},
2310:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>}
2311:     )
2312: 
2313:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/posts.xml'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2314:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>},
2315:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>}
2316:     )
2317:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002156" class="method">
  <div id="M002156_title" class="title">
    <b>test_generate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002156_source')" id="l_M002156_source">show source</a> ]</p>
  <div id="M002156_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2245</span>
2245:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate</span>
2246:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
2247: 
2248:     <span class="ruby-identifier">args</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:x</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
2249:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/7?x=y&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">args</span>)
2250:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">&quot;/foo/bar/7&quot;</span>, [<span class="ruby-identifier">:x</span>]], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-identifier">args</span>)
2251:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">:x</span>], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">args</span>)
2252:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002164" class="method">
  <div id="M002164_title" class="title">
    <b>test_generate_all</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002164_source')" id="l_M002164_source">show source</a> ]</p>
  <div id="M002164_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2326</span>
2326:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_all</span>
2327:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2328:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'show_post/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
2329:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2330:     <span class="ruby-keyword kw">end</span>
2331:     <span class="ruby-identifier">all</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2332:       {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, <span class="ruby-identifier">:generate_all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>},
2333:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
2334:     )
2335:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">length</span>
2336:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/show_post/10'</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">first</span>
2337:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/post/show/10'</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">last</span>
2338:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002152" class="method">
  <div id="M002152_title" class="title">
    <b>test_generate_changes_controller_module</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002152_source')" id="l_M002152_source">show source</a> ]</p>
  <div id="M002152_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2207</span>
2207:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_changes_controller_module</span>
2208:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
2209:     <span class="ruby-identifier">current</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bling/bloop&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bap&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span> }
2210:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo/bar&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;baz&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>}, <span class="ruby-identifier">current</span>)
2211:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/baz/7&quot;</span>, <span class="ruby-identifier">url</span>
2212:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002111" class="method">
  <div id="M002111_title" class="title">
    <b>test_generate_extras</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002111_source')" id="l_M002111_source">show source</a> ]</p>
  <div id="M002111_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1631</span>
1631:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_extras</span>
1632:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
1633:     <span class="ruby-identifier">path</span>, <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1634:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/15&quot;</span>, <span class="ruby-identifier">path</span>
1635:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1636:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002113" class="method">
  <div id="M002113_title" class="title">
    <b>test_generate_extras_not_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002113_source')" id="l_M002113_source">show source</a> ]</p>
  <div id="M002113_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1644</span>
1644:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_extras_not_first</span>
1645:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1646:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id.:format'</span>
1647:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
1648:     <span class="ruby-keyword kw">end</span>
1649:     <span class="ruby-identifier">path</span>, <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1650:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/15&quot;</span>, <span class="ruby-identifier">path</span>
1651:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1652:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002151" class="method">
  <div id="M002151_title" class="title">
    <b>test_generate_finds_best_fit</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002151_source')" id="l_M002151_source">show source</a> ]</p>
  <div id="M002151_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2197</span>
2197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_finds_best_fit</span>
2198:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2199:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>
2200:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/ws/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
2201:     <span class="ruby-keyword kw">end</span>
2202: 
2203:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
2204:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/ws/people&quot;</span>, <span class="ruby-identifier">url</span>
2205:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002114" class="method">
  <div id="M002114_title" class="title">
    <b>test_generate_not_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002114_source')" id="l_M002114_source">show source</a> ]</p>
  <div id="M002114_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1654</span>
1654:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_not_first</span>
1655:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1656:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id.:format'</span>
1657:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
1658:     <span class="ruby-keyword kw">end</span>
1659:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/15?this=hello&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>)
1660:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002158" class="method">
  <div id="M002158_title" class="title">
    <b>test_generate_with_blank_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002158_source')" id="l_M002158_source">show source</a> ]</p>
  <div id="M002158_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2261</span>
2261:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_with_blank_path_prefix</span>
2262:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span> }
2263: 
2264:     <span class="ruby-identifier">args</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:x</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
2265:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/7?x=y&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">args</span>)
2266:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002145" class="method">
  <div id="M002145_title" class="title">
    <b>test_generate_with_default_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002145_source')" id="l_M002145_source">show source</a> ]</p>
  <div id="M002145_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2097</span>
2097:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_with_default_action</span>
2098:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2099:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>
2100:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/list&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>
2101:     <span class="ruby-keyword kw">end</span>
2102: 
2103:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>)
2104:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/list&quot;</span>, <span class="ruby-identifier">url</span>
2105:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002157" class="method">
  <div id="M002157_title" class="title">
    <b>test_generate_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002157_source')" id="l_M002157_source">show source</a> ]</p>
  <div id="M002157_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2254</span>
2254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_with_path_prefix</span>
2255:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'my'</span> }
2256: 
2257:     <span class="ruby-identifier">args</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:x</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
2258:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/my/foo/bar/7?x=y&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">args</span>)
2259:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002153" class="method">
  <div id="M002153_title" class="title">
    <b>test_id_is_not_impossibly_sticky</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002153_source')" id="l_M002153_source">show source</a> ]</p>
  <div id="M002153_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2214</span>
2214:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_is_not_impossibly_sticky</span>
2215:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2216:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'foo/:number'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>
2217:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2218:     <span class="ruby-keyword kw">end</span>
2219: 
2220:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:number</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
2221:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;21&quot;</span>})
2222:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/3&quot;</span>, <span class="ruby-identifier">url</span>
2223:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002154" class="method">
  <div id="M002154_title" class="title">
    <b>test_id_is_sticky_when_it_ought_to_be</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002154_source')" id="l_M002154_source">show source</a> ]</p>
  <div id="M002154_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2225</span>
2225:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_is_sticky_when_it_ought_to_be</span>
2226:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2227:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:id/:action'</span>
2228:     <span class="ruby-keyword kw">end</span>
2229: 
2230:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;destroy&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>})
2231:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/7/destroy&quot;</span>, <span class="ruby-identifier">url</span>
2232:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002119" class="method">
  <div id="M002119_title" class="title">
    <b>test_later_named_routes_take_precedence</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002119_source')" id="l_M002119_source">show source</a> ]</p>
  <div id="M002119_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1699</span>
1699:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_later_named_routes_take_precedence</span>
1700:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1701:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">hello</span> <span class="ruby-value str">'/hello/world'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1702:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">hello</span> <span class="ruby-value str">'/hello'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1703:     <span class="ruby-keyword kw">end</span>
1704:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:hello</span>]
1705:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002118" class="method">
  <div id="M002118_title" class="title">
    <b>test_named_draw</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002118_source')" id="l_M002118_source">show source</a> ]</p>
  <div id="M002118_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1690</span>
1690:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_draw</span>
1691:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1692:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1693:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">hello</span> <span class="ruby-value str">'/hello/world'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1694:     <span class="ruby-keyword kw">end</span>
1695:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1696:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:hello</span>]
1697:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002121" class="method">
  <div id="M002121_title" class="title">
    <b>test_named_route_hash_access_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002121_source')" id="l_M002121_source">show source</a> ]</p>
  <div id="M002121_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1720</span>
1720:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_hash_access_method</span>
1721:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1722: 
1723:     <span class="ruby-identifier">assert_equal</span>(
1724:       { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> },
1725:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_show_url</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
1726: 
1727:     <span class="ruby-identifier">assert_equal</span>(
1728:       { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> },
1729:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_index_url</span>))
1730: 
1731:     <span class="ruby-identifier">assert_equal</span>(
1732:       { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> },
1733:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_show_path</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
1734:     )
1735:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002165" class="method">
  <div id="M002165_title" class="title">
    <b>test_named_route_in_nested_resource</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002165_source')" id="l_M002165_source">show source</a> ]</p>
  <div id="M002165_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2340</span>
2340:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_in_nested_resource</span>
2341:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2342:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:projects</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">project</span><span class="ruby-operator">|</span>
2343:         <span class="ruby-identifier">project</span>.<span class="ruby-identifier">milestones</span> <span class="ruby-value str">'milestones'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'milestones'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
2344:       <span class="ruby-keyword kw">end</span>
2345:     <span class="ruby-keyword kw">end</span>
2346: 
2347:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/projects/1/milestones&quot;</span>
2348:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2349:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2350:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;milestones&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2351:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2352:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002122" class="method">
  <div id="M002122_title" class="title">
    <b>test_named_route_url_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002122_source')" id="l_M002122_source">show source</a> ]</p>
  <div id="M002122_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1737</span>
1737:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method</span>
1738:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1739: 
1740:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
1741:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_path</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
1742: 
1743:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>)
1744:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_path</span>)
1745: 
1746:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/admin/users&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_url</span>)
1747:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/admin/users'</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_path</span>)
1748:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/admin/users'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_users_url</span>), {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>})
1749:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002123" class="method">
  <div id="M002123_title" class="title">
    <b>test_named_route_url_method_with_anchor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002123_source')" id="l_M002123_source">show source</a> ]</p>
  <div id="M002123_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1751</span>
1751:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_anchor</span>
1752:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1753: 
1754:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/5#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1755:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/5#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_path</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1756: 
1757:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1758:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_path</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1759: 
1760:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/admin/users#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_url</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1761:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/admin/users#location'</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_path</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1762: 
1763:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5#location&quot;</span>,
1764:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1765: 
1766:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5?baz=bar#location&quot;</span>,
1767:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1768: 
1769:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people?baz=bar#location&quot;</span>,
1770:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1771:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002125" class="method">
  <div id="M002125_title" class="title">
    <b>test_named_route_url_method_with_host</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002125_source')" id="l_M002125_source">show source</a> ]</p>
  <div id="M002125_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1778</span>
1778:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_host</span>
1779:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1780:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://some.example.com/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:host=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;some.example.com&quot;</span>)
1781:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002130" class="method">
  <div id="M002130_title" class="title">
    <b>test_named_route_url_method_with_no_positional_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002130_source')" id="l_M002130_source">show source</a> ]</p>
  <div id="M002130_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1806</span>
1806:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_no_positional_arguments</span>
1807:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1808:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people?baz=bar&quot;</span>,
1809:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>)
1810:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002127" class="method">
  <div id="M002127_title" class="title">
    <b>test_named_route_url_method_with_ordered_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002127_source')" id="l_M002127_source">show source</a> ]</p>
  <div id="M002127_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1788</span>
1788:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_ordered_parameters</span>
1789:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1790:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5&quot;</span>,
1791:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>)
1792:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002129" class="method">
  <div id="M002129_title" class="title">
    <b>test_named_route_url_method_with_ordered_parameters_and_empty_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002129_source')" id="l_M002129_source">show source</a> ]</p>
  <div id="M002129_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1800</span>
1800:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_ordered_parameters_and_empty_hash</span>
1801:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1802:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5&quot;</span>,
1803:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, {})
1804:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002128" class="method">
  <div id="M002128_title" class="title">
    <b>test_named_route_url_method_with_ordered_parameters_and_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002128_source')" id="l_M002128_source">show source</a> ]</p>
  <div id="M002128_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1794</span>
1794:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_ordered_parameters_and_hash</span>
1795:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1796:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5?baz=bar&quot;</span>,
1797:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>)
1798:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002124" class="method">
  <div id="M002124_title" class="title">
    <b>test_named_route_url_method_with_port</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002124_source')" id="l_M002124_source">show source</a> ]</p>
  <div id="M002124_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1773</span>
1773:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_port</span>
1774:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1775:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host:8080/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:port=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">8080</span>)
1776:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002126" class="method">
  <div id="M002126_title" class="title">
    <b>test_named_route_url_method_with_protocol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002126_source')" id="l_M002126_source">show source</a> ]</p>
  <div id="M002126_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1783</span>
1783:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_protocol</span>
1784:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1785:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;https://test.host/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:protocol</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;https&quot;</span>)
1786:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002159" class="method">
  <div id="M002159_title" class="title">
    <b>test_named_routes_are_never_relative_to_modules</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002159_source')" id="l_M002159_source">show source</a> ]</p>
  <div id="M002159_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2268</span>
2268:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_routes_are_never_relative_to_modules</span>
2269:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2270:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/connection/manage/:action&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'connection/manage'</span>
2271:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/connection/connection&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection/connection&quot;</span>
2272:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">family_connection</span> <span class="ruby-value str">&quot;/connection&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection&quot;</span>
2273:     <span class="ruby-keyword kw">end</span>
2274: 
2275:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'connection/manage'</span>})
2276:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/connection/connection&quot;</span>, <span class="ruby-identifier">url</span>
2277: 
2278:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:family_connection</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'connection/manage'</span>})
2279:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/connection&quot;</span>, <span class="ruby-identifier">url</span>
2280:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002147" class="method">
  <div id="M002147_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002147_source')" id="l_M002147_source">show source</a> ]</p>
  <div id="M002147_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2121</span>
2121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
2122:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2123: 
2124:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2125: 
2126:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2127:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">route</span> <span class="ruby-value str">'inventory'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inventory'</span>
2128:       <span class="ruby-keyword kw">end</span>
2129: 
2130:     <span class="ruby-keyword kw">end</span>
2131: 
2132:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/api/inventory&quot;</span>
2133:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2134:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2135:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2136:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;inventory&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2137:   <span class="ruby-keyword kw">ensure</span>
2138:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2139:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002150" class="method">
  <div id="M002150_title" class="title">
    <b>test_namespace_with_blank_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002150_source')" id="l_M002150_source">show source</a> ]</p>
  <div id="M002150_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2179</span>
2179:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_with_blank_path_prefix</span>
2180:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2181: 
2182:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2183:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2184:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">route</span> <span class="ruby-value str">'inventory'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inventory'</span>
2185:       <span class="ruby-keyword kw">end</span>
2186:     <span class="ruby-keyword kw">end</span>
2187: 
2188:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/inventory&quot;</span>
2189:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2190:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2191:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2192:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;inventory&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2193:   <span class="ruby-keyword kw">ensure</span>
2194:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2195:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002149" class="method">
  <div id="M002149_title" class="title">
    <b>test_namespace_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002149_source')" id="l_M002149_source">show source</a> ]</p>
  <div id="M002149_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2161</span>
2161:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_with_path_prefix</span>
2162:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2163: 
2164:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2165:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'prefix'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2166:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">route</span> <span class="ruby-value str">'inventory'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inventory'</span>
2167:       <span class="ruby-keyword kw">end</span>
2168:     <span class="ruby-keyword kw">end</span>
2169: 
2170:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/prefix/inventory&quot;</span>
2171:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2172:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2173:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2174:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;inventory&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2175:   <span class="ruby-keyword kw">ensure</span>
2176:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2177:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002148" class="method">
  <div id="M002148_title" class="title">
    <b>test_namespaced_root_map</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002148_source')" id="l_M002148_source">show source</a> ]</p>
  <div id="M002148_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2141</span>
2141:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespaced_root_map</span>
2142:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2143: 
2144:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2145: 
2146:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2147:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>
2148:       <span class="ruby-keyword kw">end</span>
2149: 
2150:     <span class="ruby-keyword kw">end</span>
2151: 
2152:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/api&quot;</span>
2153:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2154:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2155:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2156:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2157:   <span class="ruby-keyword kw">ensure</span>
2158:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2159:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002138" class="method">
  <div id="M002138_title" class="title">
    <b>test_non_path_route_requirements_match_all</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002138_source')" id="l_M002138_source">show source</a> ]</p>
  <div id="M002138_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1916</span>
1916:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_path_route_requirements_match_all</span>
1917:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1918:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/37s'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(jamis|david)/</span>
1919:     <span class="ruby-keyword kw">end</span>
1920:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/page/37s'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jamis'</span>)
1921:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
1922:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'not_jamis'</span>)
1923:     <span class="ruby-keyword kw">end</span>
1924:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
1925:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nor_jamis_and_david'</span>)
1926:     <span class="ruby-keyword kw">end</span>
1927:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002161" class="method">
  <div id="M002161_title" class="title">
    <b>test_query_params_will_be_shown_when_recalled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002161_source')" id="l_M002161_source">show source</a> ]</p>
  <div id="M002161_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2292</span>
2292:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_query_params_will_be_shown_when_recalled</span>
2293:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2294:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'show_post/:parameter'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
2295:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2296:     <span class="ruby-keyword kw">end</span>
2297:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/post/edit?parameter=1'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2298:       {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">:parameter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
2299:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:parameter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}
2300:     )
2301:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002141" class="method">
  <div id="M002141_title" class="title">
    <b>test_recognize_with_alias_in_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002141_source')" id="l_M002141_source">show source</a> ]</p>
  <div id="M002141_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2005</span>
2005:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_alias_in_conditions</span>
2006:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2007: 
2008:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2009:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">people</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>,
2010:         <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
2011:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">root</span>   <span class="ruby-identifier">:people</span>
2012:     <span class="ruby-keyword kw">end</span>
2013: 
2014:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people&quot;</span>
2015:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2016:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2017:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2018:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2019: 
2020:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/&quot;</span>
2021:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2022:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2023:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2024:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2025:   <span class="ruby-keyword kw">ensure</span>
2026:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2027:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002140" class="method">
  <div id="M002140_title" class="title">
    <b>test_recognize_with_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002140_source')" id="l_M002140_source">show source</a> ]</p>
  <div id="M002140_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1938</span>
1938:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_conditions</span>
1939:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
1940: 
1941:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1942:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">people</span><span class="ruby-operator">|</span>
1943:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">people</span>  <span class="ruby-value str">&quot;/people&quot;</span>,     <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>,   <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1944:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people&quot;</span>,     <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;create&quot;</span>,  <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> }
1945:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">person</span>  <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>,    <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1946:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;update&quot;</span>,  <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span> }
1947:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;destroy&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span> }
1948:       <span class="ruby-keyword kw">end</span>
1949:     <span class="ruby-keyword kw">end</span>
1950: 
1951:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people&quot;</span>
1952:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
1953:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1954:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1955:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1956: 
1957:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;POST&quot;</span>
1958:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1959:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;create&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1960:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1961: 
1962:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;PUT&quot;</span>
1963:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1964:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;update&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1965:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1966: 
1967:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">UnknownHttpMethod</span>) {
1968:       <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;BACON&quot;</span>
1969:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>)
1970:     }
1971:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1972: 
1973:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people/5&quot;</span>
1974:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
1975:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1976:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1977:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
1978:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1979: 
1980:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;PUT&quot;</span>
1981:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1982:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;update&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1983:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
1984:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1985: 
1986:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;DELETE&quot;</span>
1987:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1988:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;destroy&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1989:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
1990:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1991: 
1992:     <span class="ruby-keyword kw">begin</span>
1993:       <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;POST&quot;</span>
1994:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>)
1995:       <span class="ruby-identifier">flunk</span> <span class="ruby-value str">'Should have raised MethodNotAllowed'</span>
1996:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
1997:       <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:delete</span>], <span class="ruby-identifier">e</span>.<span class="ruby-identifier">allowed_methods</span>
1998:     <span class="ruby-keyword kw">end</span>
1999:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
2000: 
2001:   <span class="ruby-keyword kw">ensure</span>
2002:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2003:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002144" class="method">
  <div id="M002144_title" class="title">
    <b>test_recognize_with_conditions_and_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002144_source')" id="l_M002144_source">show source</a> ]</p>
  <div id="M002144_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2064</span>
2064:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_conditions_and_format</span>
2065:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2066: 
2067:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2068:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">people</span><span class="ruby-operator">|</span>
2069:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">person</span>  <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>,    <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
2070:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;update&quot;</span>,  <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span> }
2071:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id.:_format&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
2072:       <span class="ruby-keyword kw">end</span>
2073:     <span class="ruby-keyword kw">end</span>
2074: 
2075:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people/5&quot;</span>
2076:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2077:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2078:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2079:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
2080:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
2081: 
2082:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;PUT&quot;</span>
2083:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2084:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;update&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2085:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
2086: 
2087:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people/5.png&quot;</span>
2088:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2089:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2090:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2091:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
2092:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;png&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:_format</span>])
2093:   <span class="ruby-keyword kw">ensure</span>
2094:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2095:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002139" class="method">
  <div id="M002139_title" class="title">
    <b>test_recognize_with_encoded_id_and_regex</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002139_source')" id="l_M002139_source">show source</a> ]</p>
  <div id="M002139_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1929</span>
1929:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_encoded_id_and_regex</span>
1930:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1931:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[a-zA-Z0-9\+]+/</span>
1932:     <span class="ruby-keyword kw">end</span>
1933: 
1934:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/10'</span>))
1935:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'hello+world'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/hello+world'</span>))
1936:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002146" class="method">
  <div id="M002146_title" class="title">
    <b>test_root_map</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002146_source')" id="l_M002146_source">show source</a> ]</p>
  <div id="M002146_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2107</span>
2107:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_root_map</span>
2108:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2109: 
2110:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span> }
2111: 
2112:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;&quot;</span>
2113:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2114:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2115:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2116:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2117:   <span class="ruby-keyword kw">ensure</span>
2118:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002173" class="method">
  <div id="M002173_title" class="title">
    <b>test_route_requirement_generate_with_extended_syntax</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002173_source')" id="l_M002173_source">show source</a> ]</p>
  <div id="M002173_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2455</span>
2455:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_generate_with_extended_syntax</span>
2456:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2457:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2458:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2459:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2460:                                     ( #Either
2461:                                      david #The Creator
2462:                                     | #Or
2463:                                       jamis #The Deployer
2464:                                     )/</span><span class="ruby-identifier">x</span>}
2465:     <span class="ruby-keyword kw">end</span>
2466:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'david'</span>})
2467:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/david&quot;</span>, <span class="ruby-identifier">url</span>
2468:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2469:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'davidjamis'</span>})
2470:     <span class="ruby-keyword kw">end</span>
2471:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2472:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>})
2473:     <span class="ruby-keyword kw">end</span>
2474:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002171" class="method">
  <div id="M002171_title" class="title">
    <b>test_route_requirement_generate_with_ignore_case</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002171_source')" id="l_M002171_source">show source</a> ]</p>
  <div id="M002171_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2419</span>
2419:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_generate_with_ignore_case</span>
2420:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2421:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2422:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2423:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/i</span>}
2424:     <span class="ruby-keyword kw">end</span>
2425:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'david'</span>})
2426:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/david&quot;</span>, <span class="ruby-identifier">url</span>
2427:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2428:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'davidjamis'</span>})
2429:     <span class="ruby-keyword kw">end</span>
2430:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>})
2431:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/JAMIS&quot;</span>, <span class="ruby-identifier">url</span>
2432:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002174" class="method">
  <div id="M002174_title" class="title">
    <b>test_route_requirement_generate_with_xi_modifiers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002174_source')" id="l_M002174_source">show source</a> ]</p>
  <div id="M002174_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2476</span>
2476:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_generate_with_xi_modifiers</span>
2477:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2478:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2479:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2480:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2481:                                     ( #Either
2482:                                      david #The Creator
2483:                                     | #Or
2484:                                       jamis #The Deployer
2485:                                     )/</span><span class="ruby-identifier">xi</span>}
2486:     <span class="ruby-keyword kw">end</span>
2487:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>})
2488:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/JAMIS&quot;</span>, <span class="ruby-identifier">url</span>
2489:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002172" class="method">
  <div id="M002172_title" class="title">
    <b>test_route_requirement_recognize_with_extended_syntax</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002172_source')" id="l_M002172_source">show source</a> ]</p>
  <div id="M002172_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2434</span>
2434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_recognize_with_extended_syntax</span>
2435:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2436:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2437:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2438:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2439:                                     ( #Either
2440:                                      david #The Creator
2441:                                     | #Or
2442:                                       jamis #The Deployer
2443:                                     )/</span><span class="ruby-identifier">x</span>}
2444:     <span class="ruby-keyword kw">end</span>
2445:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jamis'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/jamis'</span>))
2446:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'david'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/david'</span>))
2447:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2448:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/david #The Creator'</span>)
2449:     <span class="ruby-keyword kw">end</span>
2450:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2451:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/David'</span>)
2452:     <span class="ruby-keyword kw">end</span>
2453:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002170" class="method">
  <div id="M002170_title" class="title">
    <b>test_route_requirement_recognize_with_ignore_case</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002170_source')" id="l_M002170_source">show source</a> ]</p>
  <div id="M002170_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2406</span>
2406:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_recognize_with_ignore_case</span>
2407:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2408:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2409:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2410:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/i</span>}
2411:     <span class="ruby-keyword kw">end</span>
2412:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jamis'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/jamis'</span>))
2413:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2414:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/davidjamis'</span>)
2415:     <span class="ruby-keyword kw">end</span>
2416:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'DAVID'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/DAVID'</span>))
2417:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002175" class="method">
  <div id="M002175_title" class="title">
    <b>test_route_requirement_recognize_with_xi_modifiers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002175_source')" id="l_M002175_source">show source</a> ]</p>
  <div id="M002175_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2491</span>
2491:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_recognize_with_xi_modifiers</span>
2492:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2493:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2494:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2495:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2496:                                     ( #Either
2497:                                      david #The Creator
2498:                                     | #Or
2499:                                       jamis #The Deployer
2500:                                     )/</span><span class="ruby-identifier">xi</span>}
2501:     <span class="ruby-keyword kw">end</span>
2502:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/JAMIS'</span>))
2503:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002134" class="method">
  <div id="M002134_title" class="title">
    <b>test_route_requirements_with_anchor_chars_are_invalid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002134_source')" id="l_M002134_source">show source</a> ]</p>
  <div id="M002134_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1856</span>
1856:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_anchor_chars_are_invalid</span>
1857:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1858:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1859:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/^\d+/</span>
1860:       <span class="ruby-keyword kw">end</span>
1861:     <span class="ruby-keyword kw">end</span>
1862:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1863:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1864:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\A\d+/</span>
1865:       <span class="ruby-keyword kw">end</span>
1866:     <span class="ruby-keyword kw">end</span>
1867:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1868:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1869:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+$/</span>
1870:       <span class="ruby-keyword kw">end</span>
1871:     <span class="ruby-keyword kw">end</span>
1872:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1873:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1874:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+\Z/</span>
1875:       <span class="ruby-keyword kw">end</span>
1876:     <span class="ruby-keyword kw">end</span>
1877:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1878:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1879:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+\z/</span>
1880:       <span class="ruby-keyword kw">end</span>
1881:     <span class="ruby-keyword kw">end</span>
1882:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1883:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1884:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+/</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/^(david|jamis)/</span>
1885:       <span class="ruby-keyword kw">end</span>
1886:       <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
1887:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>
1888:       <span class="ruby-keyword kw">end</span>
1889:     <span class="ruby-keyword kw">end</span>
1890:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002137" class="method">
  <div id="M002137_title" class="title">
    <b>test_route_requirements_with_head_method_condition_is_invalid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002137_source')" id="l_M002137_source">show source</a> ]</p>
  <div id="M002137_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1908</span>
1908:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_head_method_condition_is_invalid</span>
1909:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1910:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1911:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'valid/route'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:head</span>}
1912:       <span class="ruby-keyword kw">end</span>
1913:     <span class="ruby-keyword kw">end</span>
1914:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002135" class="method">
  <div id="M002135_title" class="title">
    <b>test_route_requirements_with_invalid_http_method_is_invalid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002135_source')" id="l_M002135_source">show source</a> ]</p>
  <div id="M002135_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1892</span>
1892:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_invalid_http_method_is_invalid</span>
1893:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1894:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1895:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'valid/route'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:invalid</span>}
1896:       <span class="ruby-keyword kw">end</span>
1897:     <span class="ruby-keyword kw">end</span>
1898:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002136" class="method">
  <div id="M002136_title" class="title">
    <b>test_route_requirements_with_options_method_condition_is_valid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002136_source')" id="l_M002136_source">show source</a> ]</p>
  <div id="M002136_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1900</span>
1900:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_options_method_condition_is_valid</span>
1901:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1902:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1903:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'valid/route'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:options</span>}
1904:       <span class="ruby-keyword kw">end</span>
1905:     <span class="ruby-keyword kw">end</span>
1906:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002169" class="method">
  <div id="M002169_title" class="title">
    <b>test_route_requirements_with_supported_options_must_not_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002169_source')" id="l_M002169_source">show source</a> ]</p>
  <div id="M002169_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2384</span>
2384:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_supported_options_must_not_error</span>
2385:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2386:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2387:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2388:           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2389:           <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/i</span>}
2390:       <span class="ruby-keyword kw">end</span>
2391:     <span class="ruby-keyword kw">end</span>
2392:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2393:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2394:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2395:           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2396:           <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2397:                                       ( #Either
2398:                                        david #The Creator
2399:                                       | #Or
2400:                                         jamis #The Deployer
2401:                                       )/</span><span class="ruby-identifier">x</span>}
2402:       <span class="ruby-keyword kw">end</span>
2403:     <span class="ruby-keyword kw">end</span>
2404:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002168" class="method">
  <div id="M002168_title" class="title">
    <b>test_route_requirements_with_unsupported_regexp_options_must_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002168_source')" id="l_M002168_source">show source</a> ]</p>
  <div id="M002168_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2374</span>
2374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_unsupported_regexp_options_must_error</span>
2375:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
2376:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2377:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2378:           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2379:           <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/</span><span class="ruby-identifier">m</span>}
2380:       <span class="ruby-keyword kw">end</span>
2381:     <span class="ruby-keyword kw">end</span>
2382:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002133" class="method">
  <div id="M002133_title" class="title">
    <b>test_route_with_parameter_shell</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002133_source')" id="l_M002133_source">show source</a> ]</p>
  <div id="M002133_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1840</span>
1840:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_with_parameter_shell</span>
1841:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">with_controllers</span>([<span class="ruby-value str">'users'</span>, <span class="ruby-value str">'pages'</span>]) <span class="ruby-keyword kw">do</span>
1842:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1843:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+/</span>
1844:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/:controller/:action/:id'</span>
1845:       <span class="ruby-keyword kw">end</span>
1846: 
1847:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages'</span>))
1848:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages/index'</span>))
1849:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'list'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages/list'</span>))
1850: 
1851:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages/show/10'</span>))
1852:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/10'</span>))
1853:     <span class="ruby-keyword kw">end</span>
1854:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002176" class="method">
  <div id="M002176_title" class="title">
    <b>test_routes_with_symbols</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002176_source')" id="l_M002176_source">show source</a> ]</p>
  <div id="M002176_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2505</span>
2505:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_routes_with_symbols</span>
2506:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2507:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'unnamed'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:pages</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>
2508:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">named</span>   <span class="ruby-value str">'named'</span>,   <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:pages</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>
2509:     <span class="ruby-keyword kw">end</span>
2510:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/unnamed'</span>))
2511:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/named'</span>))
2512:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002143" class="method">
  <div id="M002143_title" class="title">
    <b>test_routing_traversal_does_not_load_extra_classes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002143_source')" id="l_M002143_source">show source</a> ]</p>
  <div id="M002143_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2051</span>
2051:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_routing_traversal_does_not_load_extra_classes</span>
2052:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value str">&quot;Profiler__&quot;</span>), <span class="ruby-value str">&quot;Profiler should not be loaded&quot;</span>
2053:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2054:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/profile'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'profile'</span>
2055:     <span class="ruby-keyword kw">end</span>
2056: 
2057:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">'/profile'</span>
2058: 
2059:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
2060: 
2061:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value str">&quot;Profiler__&quot;</span>), <span class="ruby-value str">&quot;Profiler should not be loaded&quot;</span>
2062:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002167" class="method">
  <div id="M002167_title" class="title">
    <b>test_setting_root_in_namespace_using_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002167_source')" id="l_M002167_source">show source</a> ]</p>
  <div id="M002167_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2364</span>
2364:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_setting_root_in_namespace_using_string</span>
2365:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2366:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2367:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'admin'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
2368:           <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'home'</span>
2369:         <span class="ruby-keyword kw">end</span>
2370:       <span class="ruby-keyword kw">end</span>
2371:     <span class="ruby-keyword kw">end</span>
2372:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002166" class="method">
  <div id="M002166_title" class="title">
    <b>test_setting_root_in_namespace_using_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002166_source')" id="l_M002166_source">show source</a> ]</p>
  <div id="M002166_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2354</span>
2354:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_setting_root_in_namespace_using_symbol</span>
2355:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2356:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2357:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:admin</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
2358:           <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'home'</span>
2359:         <span class="ruby-keyword kw">end</span>
2360:       <span class="ruby-keyword kw">end</span>
2361:     <span class="ruby-keyword kw">end</span>
2362:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002142" class="method">
  <div id="M002142_title" class="title">
    <b>test_typo_recognition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002142_source')" id="l_M002142_source">show source</a> ]</p>
  <div id="M002142_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2029</span>
2029:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_typo_recognition</span>
2030:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ArticlesController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2031: 
2032:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2033:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'articles/:year/:month/:day/:title'</span>,
2034:              <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'articles'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'permalink'</span>,
2035:              <span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d{4}/</span>, <span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d{1,2}/</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d{1,2}/</span>
2036:     <span class="ruby-keyword kw">end</span>
2037: 
2038:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/articles/2005/11/05/a-very-interesting-article&quot;</span>
2039:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2040:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2041:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;permalink&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2042:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2005&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:year</span>])
2043:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;11&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:month</span>])
2044:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;05&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:day</span>])
2045:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;a-very-interesting-article&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:title</span>])
2046: 
2047:   <span class="ruby-keyword kw">ensure</span>
2048:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:ArticlesController</span>)
2049:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002155" class="method">
  <div id="M002155_title" class="title">
    <b>test_use_static_path_when_possible</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002155_source')" id="l_M002155_source">show source</a> ]</p>
  <div id="M002155_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2234</span>
2234:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_use_static_path_when_possible</span>
2235:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2236:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'about'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;welcome&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;about&quot;</span>
2237:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2238:     <span class="ruby-keyword kw">end</span>
2239: 
2240:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;welcome&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;about&quot;</span>},
2241:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;welcome&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;get&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>})
2242:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/about&quot;</span>, <span class="ruby-identifier">url</span>
2243:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>