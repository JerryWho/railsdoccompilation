  <div id="C00000355">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />RouteSetTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/routing_test_rb.html');">actionpack/test/controller/routing_test.rb</a>

Parent:&nbsp;
ActiveSupport::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M002086&name=request" >request</a></li>
  <li><a href="index.html?a=M002085&name=set" >set</a></li>
  <li><a href="index.html?a=M002096&name=setup_named_route_test" >setup_named_route_test</a></li>
  <li><a href="index.html?a=M002136&name=test_action_left_off_when_id_is_recalled" >test_action_left_off_when_id_is_recalled</a></li>
  <li><a href="index.html?a=M002092&name=test_draw" >test_draw</a></li>
  <li><a href="index.html?a=M002107&name=test_draw_default_route" >test_draw_default_route</a></li>
  <li><a href="index.html?a=M002108&name=test_draw_default_route_with_default_controller" >test_draw_default_route_with_default_controller</a></li>
  <li><a href="index.html?a=M002093&name=test_draw_symbol_controller_name" >test_draw_symbol_controller_name</a></li>
  <li><a href="index.html?a=M002139&name=test_expiry_determination_should_consider_values_with_to_param" >test_expiry_determination_should_consider_values_with_to_param</a></li>
  <li><a href="index.html?a=M002088&name=test_extra_keys" >test_extra_keys</a></li>
  <li><a href="index.html?a=M002091&name=test_extra_keys_not_first" >test_extra_keys_not_first</a></li>
  <li><a href="index.html?a=M002138&name=test_format_is_not_inherit" >test_format_is_not_inherit</a></li>
  <li><a href="index.html?a=M002132&name=test_generate" >test_generate</a></li>
  <li><a href="index.html?a=M002140&name=test_generate_all" >test_generate_all</a></li>
  <li><a href="index.html?a=M002128&name=test_generate_changes_controller_module" >test_generate_changes_controller_module</a></li>
  <li><a href="index.html?a=M002087&name=test_generate_extras" >test_generate_extras</a></li>
  <li><a href="index.html?a=M002089&name=test_generate_extras_not_first" >test_generate_extras_not_first</a></li>
  <li><a href="index.html?a=M002127&name=test_generate_finds_best_fit" >test_generate_finds_best_fit</a></li>
  <li><a href="index.html?a=M002090&name=test_generate_not_first" >test_generate_not_first</a></li>
  <li><a href="index.html?a=M002134&name=test_generate_with_blank_path_prefix" >test_generate_with_blank_path_prefix</a></li>
  <li><a href="index.html?a=M002121&name=test_generate_with_default_action" >test_generate_with_default_action</a></li>
  <li><a href="index.html?a=M002133&name=test_generate_with_path_prefix" >test_generate_with_path_prefix</a></li>
  <li><a href="index.html?a=M002129&name=test_id_is_not_impossibly_sticky" >test_id_is_not_impossibly_sticky</a></li>
  <li><a href="index.html?a=M002130&name=test_id_is_sticky_when_it_ought_to_be" >test_id_is_sticky_when_it_ought_to_be</a></li>
  <li><a href="index.html?a=M002095&name=test_later_named_routes_take_precedence" >test_later_named_routes_take_precedence</a></li>
  <li><a href="index.html?a=M002094&name=test_named_draw" >test_named_draw</a></li>
  <li><a href="index.html?a=M002097&name=test_named_route_hash_access_method" >test_named_route_hash_access_method</a></li>
  <li><a href="index.html?a=M002141&name=test_named_route_in_nested_resource" >test_named_route_in_nested_resource</a></li>
  <li><a href="index.html?a=M002098&name=test_named_route_url_method" >test_named_route_url_method</a></li>
  <li><a href="index.html?a=M002099&name=test_named_route_url_method_with_anchor" >test_named_route_url_method_with_anchor</a></li>
  <li><a href="index.html?a=M002101&name=test_named_route_url_method_with_host" >test_named_route_url_method_with_host</a></li>
  <li><a href="index.html?a=M002106&name=test_named_route_url_method_with_no_positional_arguments" >test_named_route_url_method_with_no_positional_arguments</a></li>
  <li><a href="index.html?a=M002103&name=test_named_route_url_method_with_ordered_parameters" >test_named_route_url_method_with_ordered_parameters</a></li>
  <li><a href="index.html?a=M002105&name=test_named_route_url_method_with_ordered_parameters_and_empty_hash" >test_named_route_url_method_with_ordered_parameters_and_empty_hash</a></li>
  <li><a href="index.html?a=M002104&name=test_named_route_url_method_with_ordered_parameters_and_hash" >test_named_route_url_method_with_ordered_parameters_and_hash</a></li>
  <li><a href="index.html?a=M002100&name=test_named_route_url_method_with_port" >test_named_route_url_method_with_port</a></li>
  <li><a href="index.html?a=M002102&name=test_named_route_url_method_with_protocol" >test_named_route_url_method_with_protocol</a></li>
  <li><a href="index.html?a=M002135&name=test_named_routes_are_never_relative_to_modules" >test_named_routes_are_never_relative_to_modules</a></li>
  <li><a href="index.html?a=M002123&name=test_namespace" >test_namespace</a></li>
  <li><a href="index.html?a=M002126&name=test_namespace_with_blank_path_prefix" >test_namespace_with_blank_path_prefix</a></li>
  <li><a href="index.html?a=M002125&name=test_namespace_with_path_prefix" >test_namespace_with_path_prefix</a></li>
  <li><a href="index.html?a=M002124&name=test_namespaced_root_map" >test_namespaced_root_map</a></li>
  <li><a href="index.html?a=M002114&name=test_non_path_route_requirements_match_all" >test_non_path_route_requirements_match_all</a></li>
  <li><a href="index.html?a=M002137&name=test_query_params_will_be_shown_when_recalled" >test_query_params_will_be_shown_when_recalled</a></li>
  <li><a href="index.html?a=M002117&name=test_recognize_with_alias_in_conditions" >test_recognize_with_alias_in_conditions</a></li>
  <li><a href="index.html?a=M002116&name=test_recognize_with_conditions" >test_recognize_with_conditions</a></li>
  <li><a href="index.html?a=M002120&name=test_recognize_with_conditions_and_format" >test_recognize_with_conditions_and_format</a></li>
  <li><a href="index.html?a=M002115&name=test_recognize_with_encoded_id_and_regex" >test_recognize_with_encoded_id_and_regex</a></li>
  <li><a href="index.html?a=M002122&name=test_root_map" >test_root_map</a></li>
  <li><a href="index.html?a=M002149&name=test_route_requirement_generate_with_extended_syntax" >test_route_requirement_generate_with_extended_syntax</a></li>
  <li><a href="index.html?a=M002147&name=test_route_requirement_generate_with_ignore_case" >test_route_requirement_generate_with_ignore_case</a></li>
  <li><a href="index.html?a=M002150&name=test_route_requirement_generate_with_xi_modifiers" >test_route_requirement_generate_with_xi_modifiers</a></li>
  <li><a href="index.html?a=M002148&name=test_route_requirement_recognize_with_extended_syntax" >test_route_requirement_recognize_with_extended_syntax</a></li>
  <li><a href="index.html?a=M002146&name=test_route_requirement_recognize_with_ignore_case" >test_route_requirement_recognize_with_ignore_case</a></li>
  <li><a href="index.html?a=M002151&name=test_route_requirement_recognize_with_xi_modifiers" >test_route_requirement_recognize_with_xi_modifiers</a></li>
  <li><a href="index.html?a=M002110&name=test_route_requirements_with_anchor_chars_are_invalid" >test_route_requirements_with_anchor_chars_are_invalid</a></li>
  <li><a href="index.html?a=M002113&name=test_route_requirements_with_head_method_condition_is_invalid" >test_route_requirements_with_head_method_condition_is_invalid</a></li>
  <li><a href="index.html?a=M002111&name=test_route_requirements_with_invalid_http_method_is_invalid" >test_route_requirements_with_invalid_http_method_is_invalid</a></li>
  <li><a href="index.html?a=M002112&name=test_route_requirements_with_options_method_condition_is_valid" >test_route_requirements_with_options_method_condition_is_valid</a></li>
  <li><a href="index.html?a=M002145&name=test_route_requirements_with_supported_options_must_not_error" >test_route_requirements_with_supported_options_must_not_error</a></li>
  <li><a href="index.html?a=M002144&name=test_route_requirements_with_unsupported_regexp_options_must_error" >test_route_requirements_with_unsupported_regexp_options_must_error</a></li>
  <li><a href="index.html?a=M002109&name=test_route_with_parameter_shell" >test_route_with_parameter_shell</a></li>
  <li><a href="index.html?a=M002152&name=test_routes_with_symbols" >test_routes_with_symbols</a></li>
  <li><a href="index.html?a=M002119&name=test_routing_traversal_does_not_load_extra_classes" >test_routing_traversal_does_not_load_extra_classes</a></li>
  <li><a href="index.html?a=M002143&name=test_setting_root_in_namespace_using_string" >test_setting_root_in_namespace_using_string</a></li>
  <li><a href="index.html?a=M002142&name=test_setting_root_in_namespace_using_symbol" >test_setting_root_in_namespace_using_symbol</a></li>
  <li><a href="index.html?a=M002118&name=test_typo_recognition" >test_typo_recognition</a></li>
  <li><a href="index.html?a=M002131&name=test_use_static_path_when_possible" >test_use_static_path_when_possible</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M002086" class="method">
  <div id="M002086_title" class="title">
    <b>request</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002086_source')" id="l_M002086_source">show source</a> ]</p>
  <div id="M002086_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1626</span>
1626:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request</span>
1627:     <span class="ruby-ivar">@request</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
1628:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002085" class="method">
  <div id="M002085_title" class="title">
    <b>set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002085_source')" id="l_M002085_source">show source</a> ]</p>
  <div id="M002085_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1622</span>
1622:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set</span>
1623:     <span class="ruby-ivar">@set</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ROUTING</span><span class="ruby-operator">::</span><span class="ruby-constant">RouteSet</span>.<span class="ruby-identifier">new</span>
1624:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002096" class="method">
  <div id="M002096_title" class="title">
    <b>setup_named_route_test</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002096_source')" id="l_M002096_source">show source</a> ]</p>
  <div id="M002096_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1706</span>
1706:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_named_route_test</span>
1707:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1708:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">show</span> <span class="ruby-value str">'/people/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
1709:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">index</span> <span class="ruby-value str">'/people'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
1710:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">multi</span> <span class="ruby-value str">'/people/go/:foo/:bar/joe/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'multi'</span>
1711:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">users</span> <span class="ruby-value str">'/admin/users'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
1712:     <span class="ruby-keyword kw">end</span>
1713: 
1714:     <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">MockController</span>)
1715:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">install_helpers</span>(<span class="ruby-identifier">klass</span>)
1716:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">set</span>)
1717:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002136" class="method">
  <div id="M002136_title" class="title">
    <b>test_action_left_off_when_id_is_recalled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002136_source')" id="l_M002136_source">show source</a> ]</p>
  <div id="M002136_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2281</span>
2281:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_action_left_off_when_id_is_recalled</span>
2282:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2283:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2284:     <span class="ruby-keyword kw">end</span>
2285:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/post'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2286:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>},
2287:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}
2288:     )
2289:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002092" class="method">
  <div id="M002092_title" class="title">
    <b>test_draw</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002092_source')" id="l_M002092_source">show source</a> ]</p>
  <div id="M002092_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1670</span>
1670:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw</span>
1671:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1672:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1673:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/hello/world'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1674:     <span class="ruby-keyword kw">end</span>
1675:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1676:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002107" class="method">
  <div id="M002107_title" class="title">
    <b>test_draw_default_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002107_source')" id="l_M002107_source">show source</a> ]</p>
  <div id="M002107_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1811</span>
1811:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw_default_route</span>
1812:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">with_controllers</span>([<span class="ruby-value str">'users'</span>]) <span class="ruby-keyword kw">do</span>
1813:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1814:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/:controller/:action/:id'</span>
1815:       <span class="ruby-keyword kw">end</span>
1816: 
1817:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1818:       <span class="ruby-identifier">route</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">first</span>
1819: 
1820:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">route</span>.<span class="ruby-identifier">segments</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">optional?</span>
1821: 
1822:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/users/show/10'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
1823:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/users/index/10'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
1824: 
1825:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/users/index/10'</span>))
1826:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/users/index/10/'</span>))
1827:     <span class="ruby-keyword kw">end</span>
1828:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002108" class="method">
  <div id="M002108_title" class="title">
    <b>test_draw_default_route_with_default_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002108_source')" id="l_M002108_source">show source</a> ]</p>
  <div id="M002108_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1830</span>
1830:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw_default_route_with_default_controller</span>
1831:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">with_controllers</span>([<span class="ruby-value str">'users'</span>]) <span class="ruby-keyword kw">do</span>
1832:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1833:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/:controller/:action/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>
1834:       <span class="ruby-keyword kw">end</span>
1835:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/'</span>))
1836:     <span class="ruby-keyword kw">end</span>
1837:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002093" class="method">
  <div id="M002093_title" class="title">
    <b>test_draw_symbol_controller_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002093_source')" id="l_M002093_source">show source</a> ]</p>
  <div id="M002093_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1678</span>
1678:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_draw_symbol_controller_name</span>
1679:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1680:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1681:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/users/index'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:users</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:index</span>
1682:     <span class="ruby-keyword kw">end</span>
1683:     <span class="ruby-ivar">@request</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestRequest</span>.<span class="ruby-identifier">new</span>
1684:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">request_uri</span> = <span class="ruby-value str">'/users/index'</span>
1685:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-ivar">@request</span>) }
1686:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1687:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002139" class="method">
  <div id="M002139_title" class="title">
    <b>test_expiry_determination_should_consider_values_with_to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002139_source')" id="l_M002139_source">show source</a> ]</p>
  <div id="M002139_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2318</span>
2318:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_expiry_determination_should_consider_values_with_to_param</span>
2319:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'projects/:project_id/:controller/:action'</span> }
2320:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/projects/1/post/show'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2321:       {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
2322:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:project_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>})
2323:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002088" class="method">
  <div id="M002088_title" class="title">
    <b>test_extra_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002088_source')" id="l_M002088_source">show source</a> ]</p>
  <div id="M002088_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1637</span>
1637:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_extra_keys</span>
1638:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
1639:     <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1640:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1641:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002091" class="method">
  <div id="M002091_title" class="title">
    <b>test_extra_keys_not_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002091_source')" id="l_M002091_source">show source</a> ]</p>
  <div id="M002091_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1661</span>
1661:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_extra_keys_not_first</span>
1662:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1663:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id.:format'</span>
1664:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
1665:     <span class="ruby-keyword kw">end</span>
1666:     <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1667:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1668:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002138" class="method">
  <div id="M002138_title" class="title">
    <b>test_format_is_not_inherit</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002138_source')" id="l_M002138_source">show source</a> ]</p>
  <div id="M002138_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2302</span>
2302:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_is_not_inherit</span>
2303:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2304:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/posts.:format'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>
2305:     <span class="ruby-keyword kw">end</span>
2306: 
2307:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/posts'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2308:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>},
2309:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>}
2310:     )
2311: 
2312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/posts.xml'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2313:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>},
2314:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'xml'</span>}
2315:     )
2316:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002132" class="method">
  <div id="M002132_title" class="title">
    <b>test_generate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002132_source')" id="l_M002132_source">show source</a> ]</p>
  <div id="M002132_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2244</span>
2244:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate</span>
2245:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
2246: 
2247:     <span class="ruby-identifier">args</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:x</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
2248:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/7?x=y&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">args</span>)
2249:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value str">&quot;/foo/bar/7&quot;</span>, [<span class="ruby-identifier">:x</span>]], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-identifier">args</span>)
2250:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">:x</span>], <span class="ruby-identifier">set</span>.<span class="ruby-identifier">extra_keys</span>(<span class="ruby-identifier">args</span>)
2251:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002140" class="method">
  <div id="M002140_title" class="title">
    <b>test_generate_all</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002140_source')" id="l_M002140_source">show source</a> ]</p>
  <div id="M002140_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2325</span>
2325:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_all</span>
2326:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2327:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'show_post/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
2328:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2329:     <span class="ruby-keyword kw">end</span>
2330:     <span class="ruby-identifier">all</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2331:       {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, <span class="ruby-identifier">:generate_all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>},
2332:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
2333:     )
2334:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">length</span>
2335:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/show_post/10'</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">first</span>
2336:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/post/show/10'</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">last</span>
2337:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002128" class="method">
  <div id="M002128_title" class="title">
    <b>test_generate_changes_controller_module</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002128_source')" id="l_M002128_source">show source</a> ]</p>
  <div id="M002128_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2206</span>
2206:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_changes_controller_module</span>
2207:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
2208:     <span class="ruby-identifier">current</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bling/bloop&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bap&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span> }
2209:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo/bar&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;baz&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>}, <span class="ruby-identifier">current</span>)
2210:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/baz/7&quot;</span>, <span class="ruby-identifier">url</span>
2211:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002087" class="method">
  <div id="M002087_title" class="title">
    <b>test_generate_extras</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002087_source')" id="l_M002087_source">show source</a> ]</p>
  <div id="M002087_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1630</span>
1630:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_extras</span>
1631:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span> }
1632:     <span class="ruby-identifier">path</span>, <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1633:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/15&quot;</span>, <span class="ruby-identifier">path</span>
1634:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1635:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002089" class="method">
  <div id="M002089_title" class="title">
    <b>test_generate_extras_not_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002089_source')" id="l_M002089_source">show source</a> ]</p>
  <div id="M002089_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1643</span>
1643:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_extras_not_first</span>
1644:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1645:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id.:format'</span>
1646:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
1647:     <span class="ruby-keyword kw">end</span>
1648:     <span class="ruby-identifier">path</span>, <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate_extras</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-identifier">:that</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;world&quot;</span>)
1649:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/15&quot;</span>, <span class="ruby-identifier">path</span>
1650:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(that this)</span>, <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>
1651:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002127" class="method">
  <div id="M002127_title" class="title">
    <b>test_generate_finds_best_fit</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002127_source')" id="l_M002127_source">show source</a> ]</p>
  <div id="M002127_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2196</span>
2196:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_finds_best_fit</span>
2197:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2198:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>
2199:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/ws/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
2200:     <span class="ruby-keyword kw">end</span>
2201: 
2202:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:ws</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
2203:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/ws/people&quot;</span>, <span class="ruby-identifier">url</span>
2204:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002090" class="method">
  <div id="M002090_title" class="title">
    <b>test_generate_not_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002090_source')" id="l_M002090_source">show source</a> ]</p>
  <div id="M002090_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1653</span>
1653:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_not_first</span>
1654:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1655:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id.:format'</span>
1656:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
1657:     <span class="ruby-keyword kw">end</span>
1658:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/15?this=hello&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>, <span class="ruby-identifier">:this</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hello&quot;</span>)
1659:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002134" class="method">
  <div id="M002134_title" class="title">
    <b>test_generate_with_blank_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002134_source')" id="l_M002134_source">show source</a> ]</p>
  <div id="M002134_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2260</span>
2260:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_with_blank_path_prefix</span>
2261:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span> }
2262: 
2263:     <span class="ruby-identifier">args</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:x</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
2264:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/bar/7?x=y&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">args</span>)
2265:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002121" class="method">
  <div id="M002121_title" class="title">
    <b>test_generate_with_default_action</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002121_source')" id="l_M002121_source">show source</a> ]</p>
  <div id="M002121_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2096</span>
2096:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_with_default_action</span>
2097:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2098:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>
2099:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/list&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>
2100:     <span class="ruby-keyword kw">end</span>
2101: 
2102:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>)
2103:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/list&quot;</span>, <span class="ruby-identifier">url</span>
2104:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002133" class="method">
  <div id="M002133_title" class="title">
    <b>test_generate_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002133_source')" id="l_M002133_source">show source</a> ]</p>
  <div id="M002133_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2253</span>
2253:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_generate_with_path_prefix</span>
2254:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'my'</span> }
2255: 
2256:     <span class="ruby-identifier">args</span> = { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">:x</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
2257:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/my/foo/bar/7?x=y&quot;</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">args</span>)
2258:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002129" class="method">
  <div id="M002129_title" class="title">
    <b>test_id_is_not_impossibly_sticky</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002129_source')" id="l_M002129_source">show source</a> ]</p>
  <div id="M002129_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2213</span>
2213:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_is_not_impossibly_sticky</span>
2214:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2215:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'foo/:number'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>
2216:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2217:     <span class="ruby-keyword kw">end</span>
2218: 
2219:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:number</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
2220:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;21&quot;</span>})
2221:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/foo/3&quot;</span>, <span class="ruby-identifier">url</span>
2222:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002130" class="method">
  <div id="M002130_title" class="title">
    <b>test_id_is_sticky_when_it_ought_to_be</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002130_source')" id="l_M002130_source">show source</a> ]</p>
  <div id="M002130_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2224</span>
2224:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_is_sticky_when_it_ought_to_be</span>
2225:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2226:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:id/:action'</span>
2227:     <span class="ruby-keyword kw">end</span>
2228: 
2229:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;destroy&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>})
2230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/7/destroy&quot;</span>, <span class="ruby-identifier">url</span>
2231:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002095" class="method">
  <div id="M002095_title" class="title">
    <b>test_later_named_routes_take_precedence</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002095_source')" id="l_M002095_source">show source</a> ]</p>
  <div id="M002095_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1698</span>
1698:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_later_named_routes_take_precedence</span>
1699:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1700:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">hello</span> <span class="ruby-value str">'/hello/world'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1701:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">hello</span> <span class="ruby-value str">'/hello'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1702:     <span class="ruby-keyword kw">end</span>
1703:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:hello</span>]
1704:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002094" class="method">
  <div id="M002094_title" class="title">
    <b>test_named_draw</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002094_source')" id="l_M002094_source">show source</a> ]</p>
  <div id="M002094_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1689</span>
1689:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_draw</span>
1690:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1691:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1692:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">hello</span> <span class="ruby-value str">'/hello/world'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'a'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'b'</span>
1693:     <span class="ruby-keyword kw">end</span>
1694:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">size</span>
1695:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">routes</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">named_routes</span>[<span class="ruby-identifier">:hello</span>]
1696:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002097" class="method">
  <div id="M002097_title" class="title">
    <b>test_named_route_hash_access_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002097_source')" id="l_M002097_source">show source</a> ]</p>
  <div id="M002097_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1719</span>
1719:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_hash_access_method</span>
1720:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1721: 
1722:     <span class="ruby-identifier">assert_equal</span>(
1723:       { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> },
1724:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_show_url</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
1725: 
1726:     <span class="ruby-identifier">assert_equal</span>(
1727:       { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>, <span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:index</span>, <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> },
1728:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_index_url</span>))
1729: 
1730:     <span class="ruby-identifier">assert_equal</span>(
1731:       { <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> },
1732:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_show_path</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
1733:     )
1734:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002141" class="method">
  <div id="M002141_title" class="title">
    <b>test_named_route_in_nested_resource</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002141_source')" id="l_M002141_source">show source</a> ]</p>
  <div id="M002141_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2339</span>
2339:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_in_nested_resource</span>
2340:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2341:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">resources</span> <span class="ruby-identifier">:projects</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">project</span><span class="ruby-operator">|</span>
2342:         <span class="ruby-identifier">project</span>.<span class="ruby-identifier">milestones</span> <span class="ruby-value str">'milestones'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'milestones'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
2343:       <span class="ruby-keyword kw">end</span>
2344:     <span class="ruby-keyword kw">end</span>
2345: 
2346:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/projects/1/milestones&quot;</span>
2347:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2348:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2349:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;milestones&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2350:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2351:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002098" class="method">
  <div id="M002098_title" class="title">
    <b>test_named_route_url_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002098_source')" id="l_M002098_source">show source</a> ]</p>
  <div id="M002098_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1736</span>
1736:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method</span>
1737:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1738: 
1739:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
1740:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_path</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
1741: 
1742:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>)
1743:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_path</span>)
1744: 
1745:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/admin/users&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_url</span>)
1746:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/admin/users'</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_path</span>)
1747:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/admin/users'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:hash_for_users_url</span>), {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'users'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>})
1748:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002099" class="method">
  <div id="M002099_title" class="title">
    <b>test_named_route_url_method_with_anchor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002099_source')" id="l_M002099_source">show source</a> ]</p>
  <div id="M002099_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1750</span>
1750:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_anchor</span>
1751:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1752: 
1753:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/5#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1754:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people/5#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_path</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1755: 
1756:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1757:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/people#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_path</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1758: 
1759:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/admin/users#location&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_url</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1760:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/admin/users#location'</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:users_path</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1761: 
1762:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5#location&quot;</span>,
1763:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1764: 
1765:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5?baz=bar#location&quot;</span>,
1766:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1767: 
1768:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people?baz=bar#location&quot;</span>,
1769:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>, <span class="ruby-identifier">:anchor</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'location'</span>)
1770:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002101" class="method">
  <div id="M002101_title" class="title">
    <b>test_named_route_url_method_with_host</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002101_source')" id="l_M002101_source">show source</a> ]</p>
  <div id="M002101_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1777</span>
1777:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_host</span>
1778:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1779:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://some.example.com/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:host=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;some.example.com&quot;</span>)
1780:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002106" class="method">
  <div id="M002106_title" class="title">
    <b>test_named_route_url_method_with_no_positional_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002106_source')" id="l_M002106_source">show source</a> ]</p>
  <div id="M002106_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1805</span>
1805:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_no_positional_arguments</span>
1806:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1807:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people?baz=bar&quot;</span>,
1808:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:index_url</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>)
1809:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002103" class="method">
  <div id="M002103_title" class="title">
    <b>test_named_route_url_method_with_ordered_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002103_source')" id="l_M002103_source">show source</a> ]</p>
  <div id="M002103_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1787</span>
1787:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_ordered_parameters</span>
1788:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1789:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5&quot;</span>,
1790:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>)
1791:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002105" class="method">
  <div id="M002105_title" class="title">
    <b>test_named_route_url_method_with_ordered_parameters_and_empty_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002105_source')" id="l_M002105_source">show source</a> ]</p>
  <div id="M002105_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1799</span>
1799:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_ordered_parameters_and_empty_hash</span>
1800:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1801:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5&quot;</span>,
1802:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, {})
1803:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002104" class="method">
  <div id="M002104_title" class="title">
    <b>test_named_route_url_method_with_ordered_parameters_and_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002104_source')" id="l_M002104_source">show source</a> ]</p>
  <div id="M002104_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1793</span>
1793:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_ordered_parameters_and_hash</span>
1794:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1795:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host/people/go/7/hello/joe/5?baz=bar&quot;</span>,
1796:       <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:multi_url</span>, <span class="ruby-value">7</span>, <span class="ruby-value str">&quot;hello&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>)
1797:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002100" class="method">
  <div id="M002100_title" class="title">
    <b>test_named_route_url_method_with_port</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002100_source')" id="l_M002100_source">show source</a> ]</p>
  <div id="M002100_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1772</span>
1772:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_port</span>
1773:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1774:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;http://test.host:8080/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:port=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">8080</span>)
1775:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002102" class="method">
  <div id="M002102_title" class="title">
    <b>test_named_route_url_method_with_protocol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002102_source')" id="l_M002102_source">show source</a> ]</p>
  <div id="M002102_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1782</span>
1782:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_route_url_method_with_protocol</span>
1783:     <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">setup_named_route_test</span>
1784:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;https://test.host/people/5&quot;</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:show_url</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">:protocol</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;https&quot;</span>)
1785:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002135" class="method">
  <div id="M002135_title" class="title">
    <b>test_named_routes_are_never_relative_to_modules</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002135_source')" id="l_M002135_source">show source</a> ]</p>
  <div id="M002135_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2267</span>
2267:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_routes_are_never_relative_to_modules</span>
2268:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2269:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/connection/manage/:action&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'connection/manage'</span>
2270:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/connection/connection&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection/connection&quot;</span>
2271:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">family_connection</span> <span class="ruby-value str">&quot;/connection&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection&quot;</span>
2272:     <span class="ruby-keyword kw">end</span>
2273: 
2274:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'connection/manage'</span>})
2275:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/connection/connection&quot;</span>, <span class="ruby-identifier">url</span>
2276: 
2277:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:use_route</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:family_connection</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;connection&quot;</span>}, {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'connection/manage'</span>})
2278:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/connection&quot;</span>, <span class="ruby-identifier">url</span>
2279:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002123" class="method">
  <div id="M002123_title" class="title">
    <b>test_namespace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002123_source')" id="l_M002123_source">show source</a> ]</p>
  <div id="M002123_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2120</span>
2120:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace</span>
2121:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2122: 
2123:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2124: 
2125:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2126:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">route</span> <span class="ruby-value str">'inventory'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inventory'</span>
2127:       <span class="ruby-keyword kw">end</span>
2128: 
2129:     <span class="ruby-keyword kw">end</span>
2130: 
2131:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/api/inventory&quot;</span>
2132:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2133:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2134:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2135:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;inventory&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2136:   <span class="ruby-keyword kw">ensure</span>
2137:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2138:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002126" class="method">
  <div id="M002126_title" class="title">
    <b>test_namespace_with_blank_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002126_source')" id="l_M002126_source">show source</a> ]</p>
  <div id="M002126_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2178</span>
2178:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_with_blank_path_prefix</span>
2179:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2180: 
2181:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2182:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2183:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">route</span> <span class="ruby-value str">'inventory'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inventory'</span>
2184:       <span class="ruby-keyword kw">end</span>
2185:     <span class="ruby-keyword kw">end</span>
2186: 
2187:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/inventory&quot;</span>
2188:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2189:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2190:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2191:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;inventory&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2192:   <span class="ruby-keyword kw">ensure</span>
2193:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2194:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002125" class="method">
  <div id="M002125_title" class="title">
    <b>test_namespace_with_path_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002125_source')" id="l_M002125_source">show source</a> ]</p>
  <div id="M002125_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2160</span>
2160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespace_with_path_prefix</span>
2161:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2162: 
2163:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2164:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span>, <span class="ruby-identifier">:path_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'prefix'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2165:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">route</span> <span class="ruby-value str">'inventory'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inventory'</span>
2166:       <span class="ruby-keyword kw">end</span>
2167:     <span class="ruby-keyword kw">end</span>
2168: 
2169:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/prefix/inventory&quot;</span>
2170:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2171:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2172:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2173:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;inventory&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2174:   <span class="ruby-keyword kw">ensure</span>
2175:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2176:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002124" class="method">
  <div id="M002124_title" class="title">
    <b>test_namespaced_root_map</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002124_source')" id="l_M002124_source">show source</a> ]</p>
  <div id="M002124_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2140</span>
2140:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_namespaced_root_map</span>
2141:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:Api</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ProductsController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>) })
2142: 
2143:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2144: 
2145:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'api'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">api</span><span class="ruby-operator">|</span>
2146:         <span class="ruby-identifier">api</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;products&quot;</span>
2147:       <span class="ruby-keyword kw">end</span>
2148: 
2149:     <span class="ruby-keyword kw">end</span>
2150: 
2151:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/api&quot;</span>
2152:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2153:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2154:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;api/products&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2155:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2156:   <span class="ruby-keyword kw">ensure</span>
2157:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:Api</span>)
2158:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002114" class="method">
  <div id="M002114_title" class="title">
    <b>test_non_path_route_requirements_match_all</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002114_source')" id="l_M002114_source">show source</a> ]</p>
  <div id="M002114_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1915</span>
1915:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_non_path_route_requirements_match_all</span>
1916:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1917:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/37s'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(jamis|david)/</span>
1918:     <span class="ruby-keyword kw">end</span>
1919:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/page/37s'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jamis'</span>)
1920:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
1921:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'not_jamis'</span>)
1922:     <span class="ruby-keyword kw">end</span>
1923:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
1924:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nor_jamis_and_david'</span>)
1925:     <span class="ruby-keyword kw">end</span>
1926:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002137" class="method">
  <div id="M002137_title" class="title">
    <b>test_query_params_will_be_shown_when_recalled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002137_source')" id="l_M002137_source">show source</a> ]</p>
  <div id="M002137_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2291</span>
2291:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_query_params_will_be_shown_when_recalled</span>
2292:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2293:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'show_post/:parameter'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>
2294:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2295:     <span class="ruby-keyword kw">end</span>
2296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/post/edit?parameter=1'</span>, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>(
2297:       {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">:parameter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
2298:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'post'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:parameter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}
2299:     )
2300:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002117" class="method">
  <div id="M002117_title" class="title">
    <b>test_recognize_with_alias_in_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002117_source')" id="l_M002117_source">show source</a> ]</p>
  <div id="M002117_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2004</span>
2004:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_alias_in_conditions</span>
2005:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2006: 
2007:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2008:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">people</span> <span class="ruby-value str">&quot;/people&quot;</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>,
2009:         <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
2010:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">root</span>   <span class="ruby-identifier">:people</span>
2011:     <span class="ruby-keyword kw">end</span>
2012: 
2013:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people&quot;</span>
2014:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2015:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2016:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2017:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2018: 
2019:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/&quot;</span>
2020:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2021:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2022:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2023:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2024:   <span class="ruby-keyword kw">ensure</span>
2025:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2026:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002116" class="method">
  <div id="M002116_title" class="title">
    <b>test_recognize_with_conditions</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002116_source')" id="l_M002116_source">show source</a> ]</p>
  <div id="M002116_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1937</span>
1937:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_conditions</span>
1938:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
1939: 
1940:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1941:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">people</span><span class="ruby-operator">|</span>
1942:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">people</span>  <span class="ruby-value str">&quot;/people&quot;</span>,     <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;index&quot;</span>,   <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1943:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people&quot;</span>,     <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;create&quot;</span>,  <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:post</span> }
1944:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">person</span>  <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>,    <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
1945:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;update&quot;</span>,  <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span> }
1946:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;destroy&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:delete</span> }
1947:       <span class="ruby-keyword kw">end</span>
1948:     <span class="ruby-keyword kw">end</span>
1949: 
1950:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people&quot;</span>
1951:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
1952:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1953:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1954:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1955: 
1956:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;POST&quot;</span>
1957:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1958:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;create&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1959:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1960: 
1961:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;PUT&quot;</span>
1962:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1963:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;update&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1964:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1965: 
1966:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">UnknownHttpMethod</span>) {
1967:       <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;BACON&quot;</span>
1968:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>)
1969:     }
1970:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1971: 
1972:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people/5&quot;</span>
1973:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
1974:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1975:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1976:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
1977:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1978: 
1979:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;PUT&quot;</span>
1980:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1981:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;update&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1982:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
1983:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1984: 
1985:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;DELETE&quot;</span>
1986:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
1987:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;destroy&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
1988:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
1989:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1990: 
1991:     <span class="ruby-keyword kw">begin</span>
1992:       <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;POST&quot;</span>
1993:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>)
1994:       <span class="ruby-identifier">flunk</span> <span class="ruby-value str">'Should have raised MethodNotAllowed'</span>
1995:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodNotAllowed</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
1996:       <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:put</span>, <span class="ruby-identifier">:delete</span>], <span class="ruby-identifier">e</span>.<span class="ruby-identifier">allowed_methods</span>
1997:     <span class="ruby-keyword kw">end</span>
1998:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
1999: 
2000:   <span class="ruby-keyword kw">ensure</span>
2001:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2002:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002120" class="method">
  <div id="M002120_title" class="title">
    <b>test_recognize_with_conditions_and_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002120_source')" id="l_M002120_source">show source</a> ]</p>
  <div id="M002120_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2063</span>
2063:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_conditions_and_format</span>
2064:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2065: 
2066:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2067:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">with_options</span>(<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">people</span><span class="ruby-operator">|</span>
2068:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">person</span>  <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>,    <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
2069:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;update&quot;</span>,  <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:put</span> }
2070:         <span class="ruby-identifier">people</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">&quot;/people/:id.:_format&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span> }
2071:       <span class="ruby-keyword kw">end</span>
2072:     <span class="ruby-keyword kw">end</span>
2073: 
2074:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people/5&quot;</span>
2075:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2076:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2077:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2078:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
2079:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
2080: 
2081:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;PUT&quot;</span>
2082:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2083:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;update&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2084:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">recycle!</span>
2085: 
2086:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/people/5.png&quot;</span>
2087:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2088:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2089:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;show&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2090:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;5&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:id</span>])
2091:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;png&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:_format</span>])
2092:   <span class="ruby-keyword kw">ensure</span>
2093:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2094:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002115" class="method">
  <div id="M002115_title" class="title">
    <b>test_recognize_with_encoded_id_and_regex</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002115_source')" id="l_M002115_source">show source</a> ]</p>
  <div id="M002115_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1928</span>
1928:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recognize_with_encoded_id_and_regex</span>
1929:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1930:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/[a-zA-Z0-9\+]+/</span>
1931:     <span class="ruby-keyword kw">end</span>
1932: 
1933:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/10'</span>))
1934:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'hello+world'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/hello+world'</span>))
1935:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002122" class="method">
  <div id="M002122_title" class="title">
    <b>test_root_map</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002122_source')" id="l_M002122_source">show source</a> ]</p>
  <div id="M002122_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2106</span>
2106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_root_map</span>
2107:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:PeopleController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2108: 
2109:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;people&quot;</span> }
2110: 
2111:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;&quot;</span>
2112:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2113:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2114:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:controller</span>])
2115:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;index&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2116:   <span class="ruby-keyword kw">ensure</span>
2117:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:PeopleController</span>)
2118:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002149" class="method">
  <div id="M002149_title" class="title">
    <b>test_route_requirement_generate_with_extended_syntax</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002149_source')" id="l_M002149_source">show source</a> ]</p>
  <div id="M002149_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2454</span>
2454:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_generate_with_extended_syntax</span>
2455:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2456:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2457:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2458:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2459:                                     ( #Either
2460:                                      david #The Creator
2461:                                     | #Or
2462:                                       jamis #The Deployer
2463:                                     )/</span><span class="ruby-identifier">x</span>}
2464:     <span class="ruby-keyword kw">end</span>
2465:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'david'</span>})
2466:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/david&quot;</span>, <span class="ruby-identifier">url</span>
2467:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2468:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'davidjamis'</span>})
2469:     <span class="ruby-keyword kw">end</span>
2470:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2471:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>})
2472:     <span class="ruby-keyword kw">end</span>
2473:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002147" class="method">
  <div id="M002147_title" class="title">
    <b>test_route_requirement_generate_with_ignore_case</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002147_source')" id="l_M002147_source">show source</a> ]</p>
  <div id="M002147_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2418</span>
2418:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_generate_with_ignore_case</span>
2419:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2420:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2421:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2422:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/i</span>}
2423:     <span class="ruby-keyword kw">end</span>
2424:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'david'</span>})
2425:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/david&quot;</span>, <span class="ruby-identifier">url</span>
2426:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2427:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'davidjamis'</span>})
2428:     <span class="ruby-keyword kw">end</span>
2429:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>})
2430:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/JAMIS&quot;</span>, <span class="ruby-identifier">url</span>
2431:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002150" class="method">
  <div id="M002150_title" class="title">
    <b>test_route_requirement_generate_with_xi_modifiers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002150_source')" id="l_M002150_source">show source</a> ]</p>
  <div id="M002150_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2475</span>
2475:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_generate_with_xi_modifiers</span>
2476:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2477:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2478:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2479:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2480:                                     ( #Either
2481:                                      david #The Creator
2482:                                     | #Or
2483:                                       jamis #The Deployer
2484:                                     )/</span><span class="ruby-identifier">xi</span>}
2485:     <span class="ruby-keyword kw">end</span>
2486:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>})
2487:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/page/JAMIS&quot;</span>, <span class="ruby-identifier">url</span>
2488:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002148" class="method">
  <div id="M002148_title" class="title">
    <b>test_route_requirement_recognize_with_extended_syntax</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002148_source')" id="l_M002148_source">show source</a> ]</p>
  <div id="M002148_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2433</span>
2433:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_recognize_with_extended_syntax</span>
2434:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2435:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2436:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2437:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2438:                                     ( #Either
2439:                                      david #The Creator
2440:                                     | #Or
2441:                                       jamis #The Deployer
2442:                                     )/</span><span class="ruby-identifier">x</span>}
2443:     <span class="ruby-keyword kw">end</span>
2444:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jamis'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/jamis'</span>))
2445:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'david'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/david'</span>))
2446:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2447:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/david #The Creator'</span>)
2448:     <span class="ruby-keyword kw">end</span>
2449:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2450:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/David'</span>)
2451:     <span class="ruby-keyword kw">end</span>
2452:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002146" class="method">
  <div id="M002146_title" class="title">
    <b>test_route_requirement_recognize_with_ignore_case</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002146_source')" id="l_M002146_source">show source</a> ]</p>
  <div id="M002146_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2405</span>
2405:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_recognize_with_ignore_case</span>
2406:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2407:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2408:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2409:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/i</span>}
2410:     <span class="ruby-keyword kw">end</span>
2411:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'jamis'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/jamis'</span>))
2412:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
2413:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/davidjamis'</span>)
2414:     <span class="ruby-keyword kw">end</span>
2415:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'DAVID'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/DAVID'</span>))
2416:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002151" class="method">
  <div id="M002151_title" class="title">
    <b>test_route_requirement_recognize_with_xi_modifiers</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002151_source')" id="l_M002151_source">show source</a> ]</p>
  <div id="M002151_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2490</span>
2490:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirement_recognize_with_xi_modifiers</span>
2491:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2492:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2493:         <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2494:         <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2495:                                     ( #Either
2496:                                      david #The Creator
2497:                                     | #Or
2498:                                       jamis #The Deployer
2499:                                     )/</span><span class="ruby-identifier">xi</span>}
2500:     <span class="ruby-keyword kw">end</span>
2501:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JAMIS'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/JAMIS'</span>))
2502:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002110" class="method">
  <div id="M002110_title" class="title">
    <b>test_route_requirements_with_anchor_chars_are_invalid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002110_source')" id="l_M002110_source">show source</a> ]</p>
  <div id="M002110_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1855</span>
1855:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_anchor_chars_are_invalid</span>
1856:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1857:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1858:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/^\d+/</span>
1859:       <span class="ruby-keyword kw">end</span>
1860:     <span class="ruby-keyword kw">end</span>
1861:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1862:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1863:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\A\d+/</span>
1864:       <span class="ruby-keyword kw">end</span>
1865:     <span class="ruby-keyword kw">end</span>
1866:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1867:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1868:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+$/</span>
1869:       <span class="ruby-keyword kw">end</span>
1870:     <span class="ruby-keyword kw">end</span>
1871:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1872:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1873:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+\Z/</span>
1874:       <span class="ruby-keyword kw">end</span>
1875:     <span class="ruby-keyword kw">end</span>
1876:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1877:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1878:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+\z/</span>
1879:       <span class="ruby-keyword kw">end</span>
1880:     <span class="ruby-keyword kw">end</span>
1881:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1882:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1883:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+/</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/^(david|jamis)/</span>
1884:       <span class="ruby-keyword kw">end</span>
1885:       <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">RoutingError</span> <span class="ruby-keyword kw">do</span>
1886:         <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>
1887:       <span class="ruby-keyword kw">end</span>
1888:     <span class="ruby-keyword kw">end</span>
1889:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002113" class="method">
  <div id="M002113_title" class="title">
    <b>test_route_requirements_with_head_method_condition_is_invalid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002113_source')" id="l_M002113_source">show source</a> ]</p>
  <div id="M002113_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1907</span>
1907:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_head_method_condition_is_invalid</span>
1908:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1909:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1910:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'valid/route'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:head</span>}
1911:       <span class="ruby-keyword kw">end</span>
1912:     <span class="ruby-keyword kw">end</span>
1913:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002111" class="method">
  <div id="M002111_title" class="title">
    <b>test_route_requirements_with_invalid_http_method_is_invalid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002111_source')" id="l_M002111_source">show source</a> ]</p>
  <div id="M002111_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1891</span>
1891:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_invalid_http_method_is_invalid</span>
1892:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
1893:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1894:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'valid/route'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:invalid</span>}
1895:       <span class="ruby-keyword kw">end</span>
1896:     <span class="ruby-keyword kw">end</span>
1897:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002112" class="method">
  <div id="M002112_title" class="title">
    <b>test_route_requirements_with_options_method_condition_is_valid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002112_source')" id="l_M002112_source">show source</a> ]</p>
  <div id="M002112_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1899</span>
1899:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_options_method_condition_is_valid</span>
1900:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1901:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1902:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'valid/route'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:options</span>}
1903:       <span class="ruby-keyword kw">end</span>
1904:     <span class="ruby-keyword kw">end</span>
1905:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002145" class="method">
  <div id="M002145_title" class="title">
    <b>test_route_requirements_with_supported_options_must_not_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002145_source')" id="l_M002145_source">show source</a> ]</p>
  <div id="M002145_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2383</span>
2383:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_supported_options_must_not_error</span>
2384:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2385:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2386:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2387:           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2388:           <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/i</span>}
2389:       <span class="ruby-keyword kw">end</span>
2390:     <span class="ruby-keyword kw">end</span>
2391:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2392:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2393:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2394:           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2395:           <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/ # Desperately overcommented regexp
2396:                                       ( #Either
2397:                                        david #The Creator
2398:                                       | #Or
2399:                                         jamis #The Deployer
2400:                                       )/</span><span class="ruby-identifier">x</span>}
2401:       <span class="ruby-keyword kw">end</span>
2402:     <span class="ruby-keyword kw">end</span>
2403:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002144" class="method">
  <div id="M002144_title" class="title">
    <b>test_route_requirements_with_unsupported_regexp_options_must_error</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002144_source')" id="l_M002144_source">show source</a> ]</p>
  <div id="M002144_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2373</span>
2373:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_requirements_with_unsupported_regexp_options_must_error</span>
2374:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
2375:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2376:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:name'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>,
2377:           <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>,
2378:           <span class="ruby-identifier">:requirements</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/(david|jamis)/</span><span class="ruby-identifier">m</span>}
2379:       <span class="ruby-keyword kw">end</span>
2380:     <span class="ruby-keyword kw">end</span>
2381:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002109" class="method">
  <div id="M002109_title" class="title">
    <b>test_route_with_parameter_shell</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002109_source')" id="l_M002109_source">show source</a> ]</p>
  <div id="M002109_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 1839</span>
1839:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_route_with_parameter_shell</span>
1840:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">with_controllers</span>([<span class="ruby-value str">'users'</span>, <span class="ruby-value str">'pages'</span>]) <span class="ruby-keyword kw">do</span>
1841:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
1842:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'page/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d+/</span>
1843:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/:controller/:action/:id'</span>
1844:       <span class="ruby-keyword kw">end</span>
1845: 
1846:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages'</span>))
1847:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages/index'</span>))
1848:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'list'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages/list'</span>))
1849: 
1850:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/pages/show/10'</span>))
1851:       <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'10'</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/page/10'</span>))
1852:     <span class="ruby-keyword kw">end</span>
1853:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002152" class="method">
  <div id="M002152_title" class="title">
    <b>test_routes_with_symbols</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002152_source')" id="l_M002152_source">show source</a> ]</p>
  <div id="M002152_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2504</span>
2504:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_routes_with_symbols</span>
2505:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2506:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'unnamed'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:pages</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>
2507:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">named</span>   <span class="ruby-value str">'named'</span>,   <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:pages</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:show</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>
2508:     <span class="ruby-keyword kw">end</span>
2509:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/unnamed'</span>))
2510:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'pages'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:as_symbol</span>}, <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize_path</span>(<span class="ruby-value str">'/named'</span>))
2511:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002119" class="method">
  <div id="M002119_title" class="title">
    <b>test_routing_traversal_does_not_load_extra_classes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002119_source')" id="l_M002119_source">show source</a> ]</p>
  <div id="M002119_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2050</span>
2050:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_routing_traversal_does_not_load_extra_classes</span>
2051:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value str">&quot;Profiler__&quot;</span>), <span class="ruby-value str">&quot;Profiler should not be loaded&quot;</span>
2052:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2053:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'/profile'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'profile'</span>
2054:     <span class="ruby-keyword kw">end</span>
2055: 
2056:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">'/profile'</span>
2057: 
2058:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
2059: 
2060:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value str">&quot;Profiler__&quot;</span>), <span class="ruby-value str">&quot;Profiler should not be loaded&quot;</span>
2061:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002143" class="method">
  <div id="M002143_title" class="title">
    <b>test_setting_root_in_namespace_using_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002143_source')" id="l_M002143_source">show source</a> ]</p>
  <div id="M002143_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2363</span>
2363:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_setting_root_in_namespace_using_string</span>
2364:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2365:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2366:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-value str">'admin'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
2367:           <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'home'</span>
2368:         <span class="ruby-keyword kw">end</span>
2369:       <span class="ruby-keyword kw">end</span>
2370:     <span class="ruby-keyword kw">end</span>
2371:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002142" class="method">
  <div id="M002142_title" class="title">
    <b>test_setting_root_in_namespace_using_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002142_source')" id="l_M002142_source">show source</a> ]</p>
  <div id="M002142_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2353</span>
2353:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_setting_root_in_namespace_using_symbol</span>
2354:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
2355:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2356:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-identifier">:admin</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">admin</span><span class="ruby-operator">|</span>
2357:           <span class="ruby-identifier">admin</span>.<span class="ruby-identifier">root</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'home'</span>
2358:         <span class="ruby-keyword kw">end</span>
2359:       <span class="ruby-keyword kw">end</span>
2360:     <span class="ruby-keyword kw">end</span>
2361:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002118" class="method">
  <div id="M002118_title" class="title">
    <b>test_typo_recognition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002118_source')" id="l_M002118_source">show source</a> ]</p>
  <div id="M002118_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2028</span>
2028:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_typo_recognition</span>
2029:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:ArticlesController</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>)
2030: 
2031:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2032:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'articles/:year/:month/:day/:title'</span>,
2033:              <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'articles'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'permalink'</span>,
2034:              <span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d{4}/</span>, <span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d{1,2}/</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp re">/\d{1,2}/</span>
2035:     <span class="ruby-keyword kw">end</span>
2036: 
2037:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/articles/2005/11/05/a-very-interesting-article&quot;</span>
2038:     <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;REQUEST_METHOD&quot;</span>] = <span class="ruby-value str">&quot;GET&quot;</span>
2039:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">set</span>.<span class="ruby-identifier">recognize</span>(<span class="ruby-identifier">request</span>) }
2040:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;permalink&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:action</span>])
2041:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2005&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:year</span>])
2042:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;11&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:month</span>])
2043:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;05&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:day</span>])
2044:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;a-very-interesting-article&quot;</span>, <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_parameters</span>[<span class="ruby-identifier">:title</span>])
2045: 
2046:   <span class="ruby-keyword kw">ensure</span>
2047:     <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_const</span>, <span class="ruby-identifier">:ArticlesController</span>)
2048:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002131" class="method">
  <div id="M002131_title" class="title">
    <b>test_use_static_path_when_possible</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002131_source')" id="l_M002131_source">show source</a> ]</p>
  <div id="M002131_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionpack/test/controller/routing_test.rb, line 2233</span>
2233:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_use_static_path_when_possible</span>
2234:     <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
2235:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">'about'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;welcome&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;about&quot;</span>
2236:       <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span> <span class="ruby-value str">':controller/:action/:id'</span>
2237:     <span class="ruby-keyword kw">end</span>
2238: 
2239:     <span class="ruby-identifier">url</span> = <span class="ruby-identifier">set</span>.<span class="ruby-identifier">generate</span>({<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;welcome&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;about&quot;</span>},
2240:       {<span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;welcome&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;get&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;7&quot;</span>})
2241:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/about&quot;</span>, <span class="ruby-identifier">url</span>
2242:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>