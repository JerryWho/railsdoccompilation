  <div id="C00000908">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />BaseTest<br/>
  In:
<a href="#" onclick="jsHref('files/activeresource/test/base_test_rb.html');">activeresource/test/base_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M006327&name=setup" >setup</a></li>
  <li><a href="index.html?a=M006396&name=test_clone" >test_clone</a></li>
  <li><a href="index.html?a=M006353&name=test_collection_name" >test_collection_name</a></li>
  <li><a href="index.html?a=M006354&name=test_collection_path" >test_collection_path</a></li>
  <li><a href="index.html?a=M006355&name=test_collection_path_with_parameters" >test_collection_path_with_parameters</a></li>
  <li><a href="index.html?a=M006398&name=test_complex_clone" >test_complex_clone</a></li>
  <li><a href="index.html?a=M006394&name=test_create" >test_create</a></li>
  <li><a href="index.html?a=M006388&name=test_create_with_custom_prefix" >test_create_with_custom_prefix</a></li>
  <li><a href="index.html?a=M006395&name=test_create_without_location" >test_create_without_location</a></li>
  <li><a href="index.html?a=M006342&name=test_credentials_from_site_are_decoded" >test_credentials_from_site_are_decoded</a></li>
  <li><a href="index.html?a=M006365&name=test_custom_collection_name" >test_custom_collection_name</a></li>
  <li><a href="index.html?a=M006361&name=test_custom_collection_path" >test_custom_collection_path</a></li>
  <li><a href="index.html?a=M006362&name=test_custom_collection_path_with_parameters" >test_custom_collection_path_with_parameters</a></li>
  <li><a href="index.html?a=M006363&name=test_custom_collection_path_with_prefix_and_parameters" >test_custom_collection_path_with_prefix_and_parameters</a></li>
  <li><a href="index.html?a=M006364&name=test_custom_element_name" >test_custom_element_name</a></li>
  <li><a href="index.html?a=M006356&name=test_custom_element_path" >test_custom_element_path</a></li>
  <li><a href="index.html?a=M006359&name=test_custom_element_path_with_parameters" >test_custom_element_path_with_parameters</a></li>
  <li><a href="index.html?a=M006360&name=test_custom_element_path_with_prefix_and_parameters" >test_custom_element_path_with_prefix_and_parameters</a></li>
  <li><a href="index.html?a=M006357&name=test_custom_element_path_with_redefined_to_param" >test_custom_element_path_with_redefined_to_param</a></li>
  <li><a href="index.html?a=M006378&name=test_custom_header" >test_custom_header</a></li>
  <li><a href="index.html?a=M006371&name=test_custom_prefix" >test_custom_prefix</a></li>
  <li><a href="index.html?a=M006406&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M006408&name=test_delete_with_410_gone" >test_delete_with_410_gone</a></li>
  <li><a href="index.html?a=M006407&name=test_delete_with_custom_prefix" >test_delete_with_custom_prefix</a></li>
  <li><a href="index.html?a=M006403&name=test_destroy" >test_destroy</a></li>
  <li><a href="index.html?a=M006405&name=test_destroy_with_410_gone" >test_destroy_with_410_gone</a></li>
  <li><a href="index.html?a=M006404&name=test_destroy_with_custom_prefix" >test_destroy_with_custom_prefix</a></li>
  <li><a href="index.html?a=M006409&name=test_exists" >test_exists</a></li>
  <li><a href="index.html?a=M006413&name=test_exists_with_410_gone" >test_exists_with_410_gone</a></li>
  <li><a href="index.html?a=M006410&name=test_exists_with_redefined_to_param" >test_exists_with_redefined_to_param</a></li>
  <li><a href="index.html?a=M006412&name=test_exists_without_http_mock" >test_exists_without_http_mock</a></li>
  <li><a href="index.html?a=M006375&name=test_find_all" >test_find_all</a></li>
  <li><a href="index.html?a=M006380&name=test_find_all_by_from" >test_find_all_by_from</a></li>
  <li><a href="index.html?a=M006381&name=test_find_all_by_from_with_options" >test_find_all_by_from_with_options</a></li>
  <li><a href="index.html?a=M006382&name=test_find_all_by_symbol_from" >test_find_all_by_symbol_from</a></li>
  <li><a href="index.html?a=M006372&name=test_find_by_id" >test_find_by_id</a></li>
  <li><a href="index.html?a=M006379&name=test_find_by_id_not_found" >test_find_by_id_not_found</a></li>
  <li><a href="index.html?a=M006374&name=test_find_by_id_with_custom_prefix" >test_find_by_id_with_custom_prefix</a></li>
  <li><a href="index.html?a=M006376&name=test_find_first" >test_find_first</a></li>
  <li><a href="index.html?a=M006377&name=test_find_last" >test_find_last</a></li>
  <li><a href="index.html?a=M006383&name=test_find_single_by_from" >test_find_single_by_from</a></li>
  <li><a href="index.html?a=M006384&name=test_find_single_by_symbol_from" >test_find_single_by_symbol_from</a></li>
  <li><a href="index.html?a=M006386&name=test_id_from_response" >test_id_from_response</a></li>
  <li><a href="index.html?a=M006387&name=test_id_from_response_without_location" >test_id_from_response_without_location</a></li>
  <li><a href="index.html?a=M006389&name=test_load_preserves_prefix_options" >test_load_preserves_prefix_options</a></li>
  <li><a href="index.html?a=M006417&name=test_load_yaml_array" >test_load_yaml_array</a></li>
  <li><a href="index.html?a=M006397&name=test_nested_clone" >test_nested_clone</a></li>
  <li><a href="index.html?a=M006416&name=test_parse_deep_nested_resources" >test_parse_deep_nested_resources</a></li>
  <li><a href="index.html?a=M006346&name=test_password_reader_uses_superclass_password_until_written" >test_password_reader_uses_superclass_password_until_written</a></li>
  <li><a href="index.html?a=M006339&name=test_password_variable_can_be_reset" >test_password_variable_can_be_reset</a></li>
  <li><a href="index.html?a=M006366&name=test_prefix" >test_prefix</a></li>
  <li><a href="index.html?a=M006331&name=test_proxy_accessor_accepts_uri_or_string_argument" >test_proxy_accessor_accepts_uri_or_string_argument</a></li>
  <li><a href="index.html?a=M006344&name=test_proxy_reader_uses_superclass_site_until_written" >test_proxy_reader_uses_superclass_site_until_written</a></li>
  <li><a href="index.html?a=M006333&name=test_proxy_variable_can_be_reset" >test_proxy_variable_can_be_reset</a></li>
  <li><a href="index.html?a=M006391&name=test_reload_with_redefined_to_param" >test_reload_with_redefined_to_param</a></li>
  <li><a href="index.html?a=M006390&name=test_reload_works_with_prefix_options" >test_reload_works_with_prefix_options</a></li>
  <li><a href="index.html?a=M006393&name=test_reload_works_without_prefix_options" >test_reload_works_without_prefix_options</a></li>
  <li><a href="index.html?a=M006373&name=test_respond_to" >test_respond_to</a></li>
  <li><a href="index.html?a=M006385&name=test_save" >test_save</a></li>
  <li><a href="index.html?a=M006367&name=test_set_prefix" >test_set_prefix</a></li>
  <li><a href="index.html?a=M006369&name=test_set_prefix_twice_should_clear_params" >test_set_prefix_twice_should_clear_params</a></li>
  <li><a href="index.html?a=M006370&name=test_set_prefix_with_default_value" >test_set_prefix_with_default_value</a></li>
  <li><a href="index.html?a=M006368&name=test_set_prefix_with_inline_keys" >test_set_prefix_with_inline_keys</a></li>
  <li><a href="index.html?a=M006335&name=test_should_accept_setting_password" >test_should_accept_setting_password</a></li>
  <li><a href="index.html?a=M006337&name=test_should_accept_setting_ssl_options" >test_should_accept_setting_ssl_options</a></li>
  <li><a href="index.html?a=M006336&name=test_should_accept_setting_timeout" >test_should_accept_setting_timeout</a></li>
  <li><a href="index.html?a=M006334&name=test_should_accept_setting_user" >test_should_accept_setting_user</a></li>
  <li><a href="index.html?a=M006332&name=test_should_use_proxy_prefix_and_credentials" >test_should_use_proxy_prefix_and_credentials</a></li>
  <li><a href="index.html?a=M006329&name=test_should_use_site_prefix_and_credentials" >test_should_use_site_prefix_and_credentials</a></li>
  <li><a href="index.html?a=M006328&name=test_site_accessor_accepts_uri_or_string_argument" >test_site_accessor_accepts_uri_or_string_argument</a></li>
  <li><a href="index.html?a=M006343&name=test_site_reader_uses_superclass_site_until_written" >test_site_reader_uses_superclass_site_until_written</a></li>
  <li><a href="index.html?a=M006330&name=test_site_variable_can_be_reset" >test_site_variable_can_be_reset</a></li>
  <li><a href="index.html?a=M006341&name=test_ssl_options_hash_can_be_reset" >test_ssl_options_hash_can_be_reset</a></li>
  <li><a href="index.html?a=M006348&name=test_ssl_options_reader_uses_superclass_ssl_options_until_written" >test_ssl_options_reader_uses_superclass_ssl_options_until_written</a></li>
  <li><a href="index.html?a=M006347&name=test_timeout_reader_uses_superclass_timeout_until_written" >test_timeout_reader_uses_superclass_timeout_until_written</a></li>
  <li><a href="index.html?a=M006340&name=test_timeout_variable_can_be_reset" >test_timeout_variable_can_be_reset</a></li>
  <li><a href="index.html?a=M006415&name=test_to_param_quacks_like_active_record" >test_to_param_quacks_like_active_record</a></li>
  <li><a href="index.html?a=M006414&name=test_to_xml" >test_to_xml</a></li>
  <li><a href="index.html?a=M006399&name=test_update" >test_update</a></li>
  <li><a href="index.html?a=M006402&name=test_update_conflict" >test_update_conflict</a></li>
  <li><a href="index.html?a=M006400&name=test_update_with_custom_prefix_with_specific_id" >test_update_with_custom_prefix_with_specific_id</a></li>
  <li><a href="index.html?a=M006401&name=test_update_with_custom_prefix_without_specific_id" >test_update_with_custom_prefix_without_specific_id</a></li>
  <li><a href="index.html?a=M006351&name=test_updating_baseclass_password_wipes_descendent_cached_connection_objects" >test_updating_baseclass_password_wipes_descendent_cached_connection_objects</a></li>
  <li><a href="index.html?a=M006349&name=test_updating_baseclass_site_object_wipes_descendent_cached_connection_objects" >test_updating_baseclass_site_object_wipes_descendent_cached_connection_objects</a></li>
  <li><a href="index.html?a=M006352&name=test_updating_baseclass_timeout_wipes_descendent_cached_connection_objects" >test_updating_baseclass_timeout_wipes_descendent_cached_connection_objects</a></li>
  <li><a href="index.html?a=M006350&name=test_updating_baseclass_user_wipes_descendent_cached_connection_objects" >test_updating_baseclass_user_wipes_descendent_cached_connection_objects</a></li>
  <li><a href="index.html?a=M006345&name=test_user_reader_uses_superclass_user_until_written" >test_user_reader_uses_superclass_user_until_written</a></li>
  <li><a href="index.html?a=M006338&name=test_user_variable_can_be_reset" >test_user_variable_can_be_reset</a></li>
  <li><a href="index.html?a=M006392&name=to_param" >to_param</a></li>
  <li><a href="index.html?a=M006411&name=to_param" >to_param</a></li>
  <li><a href="index.html?a=M006358&name=to_param" >to_param</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M006327" class="method">
  <div id="M006327_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006327_source')" id="l_M006327_source">show source</a> ]</p>
  <div id="M006327_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 9</span>
 9:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
10:     <span class="ruby-ivar">@matz</span>  = { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Matz'</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'person'</span>)
11:     <span class="ruby-ivar">@david</span> = { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'David'</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'person'</span>)
12:     <span class="ruby-ivar">@greg</span>  = { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Greg'</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'person'</span>)
13:     <span class="ruby-ivar">@addy</span>  = { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'12345 Street'</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'address'</span>)
14:     <span class="ruby-ivar">@default_request_headers</span> = { <span class="ruby-value str">'Content-Type'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'application/xml'</span> }
15:     <span class="ruby-ivar">@rick</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Rick&quot;</span>, <span class="ruby-identifier">:age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">25</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;person&quot;</span>)
16:     <span class="ruby-ivar">@people</span> = [{ <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Matz'</span> }, { <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'David'</span> }].<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>)
17:     <span class="ruby-ivar">@people_david</span> = [{ <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'David'</span> }].<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'people'</span>)
18:     <span class="ruby-ivar">@addresses</span> = [{ <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'12345 Street'</span> }].<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'addresses'</span>)
19: 
20:     <span class="ruby-comment cmt"># - deep nested resource -</span>
21:     <span class="ruby-comment cmt"># - Luis (Customer)</span>
22:     <span class="ruby-comment cmt">#   - JK (Customer::Friend)</span>
23:     <span class="ruby-comment cmt">#     - Mateo (Customer::Friend::Brother)</span>
24:     <span class="ruby-comment cmt">#       - Edith (Customer::Friend::Brother::Child)</span>
25:     <span class="ruby-comment cmt">#       - Martha (Customer::Friend::Brother::Child)</span>
26:     <span class="ruby-comment cmt">#     - Felipe (Customer::Friend::Brother)</span>
27:     <span class="ruby-comment cmt">#       - Bryan (Customer::Friend::Brother::Child)</span>
28:     <span class="ruby-comment cmt">#       - Luke (Customer::Friend::Brother::Child)</span>
29:     <span class="ruby-comment cmt">#   - Eduardo (Customer::Friend)</span>
30:     <span class="ruby-comment cmt">#     - Sebas (Customer::Friend::Brother)</span>
31:     <span class="ruby-comment cmt">#       - Andres (Customer::Friend::Brother::Child)</span>
32:     <span class="ruby-comment cmt">#       - Jorge (Customer::Friend::Brother::Child)</span>
33:     <span class="ruby-comment cmt">#     - Elsa (Customer::Friend::Brother)</span>
34:     <span class="ruby-comment cmt">#       - Natacha (Customer::Friend::Brother::Child)</span>
35:     <span class="ruby-comment cmt">#     - Milena (Customer::Friend::Brother)</span>
36:     <span class="ruby-comment cmt">#</span>
37:     <span class="ruby-ivar">@luis</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Luis'</span>,
38:               <span class="ruby-identifier">:friends</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'JK'</span>,
39:                             <span class="ruby-identifier">:brothers</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Mateo'</span>,
40:                                            <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Edith'</span>},{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Martha'</span>}]},
41:                                           {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Felipe'</span>,
42:                                            <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Bryan'</span>},{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Luke'</span>}]}]},
43:                            {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Eduardo'</span>,
44:                             <span class="ruby-identifier">:brothers</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Sebas'</span>,
45:                                            <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Andres'</span>},{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Jorge'</span>}]},
46:                                           {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Elsa'</span>,
47:                                            <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> [{<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Natacha'</span>}]},
48:                                           {<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Milena'</span>,
49:                                            <span class="ruby-identifier">:children</span> =<span class="ruby-operator">&gt;</span> []}]}]}.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'customer'</span>)
50:     <span class="ruby-comment cmt"># - resource with yaml array of strings; for ActiveRecords using serialize :bar, Array</span>
51:     <span class="ruby-ivar">@marty</span> = <span class="ruby-value str">&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;\n&lt;person&gt;\n&lt;id type=\\\&quot;integer\\\&quot;&gt;5&lt;/id&gt;\n&lt;name&gt;Marty&lt;/name&gt;\n&lt;colors type=\\\&quot;yaml\\\&quot;&gt;---\n- \\\&quot;red\\\&quot;\n- \\\&quot;green\\\&quot;\n- \\\&quot;blue\\\&quot;\n&lt;/colors&gt;\n&lt;/person&gt;\n&quot;</span>.<span class="ruby-identifier">strip</span>
52: 
53:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
54:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/1.xml&quot;</span>,                {}, <span class="ruby-ivar">@matz</span>
55:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/2.xml&quot;</span>,                {}, <span class="ruby-ivar">@david</span>
56:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/5.xml&quot;</span>,                {}, <span class="ruby-ivar">@marty</span>
57:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/Greg.xml&quot;</span>,             {}, <span class="ruby-ivar">@greg</span>
58:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/4.xml&quot;</span>,                {<span class="ruby-value str">'key'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'value'</span>}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
59:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">put</span>    <span class="ruby-value str">&quot;/people/1.xml&quot;</span>,                {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">204</span>
60:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;/people/1.xml&quot;</span>,                {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">200</span>
61:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;/people/2.xml&quot;</span>,                {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">400</span>
62:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/99.xml&quot;</span>,               {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
63:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">post</span>   <span class="ruby-value str">&quot;/people.xml&quot;</span>,                  {}, <span class="ruby-ivar">@rick</span>, <span class="ruby-value">201</span>, <span class="ruby-value str">'Location'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/people/5.xml'</span>
64:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people.xml&quot;</span>,                  {}, <span class="ruby-ivar">@people</span>
65:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/1/addresses.xml&quot;</span>,      {}, <span class="ruby-ivar">@addresses</span>
66:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/1/addresses/1.xml&quot;</span>,    {}, <span class="ruby-ivar">@addy</span>
67:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/1/addresses/2.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
68:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/2/addresses/1.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
69:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people/Greg/addresses/1.xml&quot;</span>, {}, <span class="ruby-ivar">@addy</span>
70:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">put</span>    <span class="ruby-value str">&quot;/people/1/addresses/1.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">204</span>
71:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;/people/1/addresses/1.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">200</span>
72:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">post</span>   <span class="ruby-value str">&quot;/people/1/addresses.xml&quot;</span>,      {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">201</span>, <span class="ruby-value str">'Location'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/people/1/addresses/5'</span>
73:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people//addresses.xml&quot;</span>,       {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
74:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/people//addresses/1.xml&quot;</span>,     {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
75:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">put</span>    <span class="ruby-value str">&quot;/people//addresses/1.xml&quot;</span>,     {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
76:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;/people//addresses/1.xml&quot;</span>,     {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
77:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">post</span>   <span class="ruby-value str">&quot;/people//addresses.xml&quot;</span>,       {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
78:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/1.xml&quot;</span>,                {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">200</span>
79:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/Greg.xml&quot;</span>,             {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">200</span>
80:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/99.xml&quot;</span>,               {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
81:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/1/addresses/1.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">200</span>
82:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/1/addresses/2.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
83:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/2/addresses/1.xml&quot;</span>,    {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
84:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span>   <span class="ruby-value str">&quot;/people/Greg/addresses/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">200</span>
85:       <span class="ruby-comment cmt"># customer</span>
86:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span>    <span class="ruby-value str">&quot;/customers/1.xml&quot;</span>,             {}, <span class="ruby-ivar">@luis</span>
87:     <span class="ruby-keyword kw">end</span>
88: 
89:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span> = <span class="ruby-keyword kw">nil</span>
90:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span> = <span class="ruby-keyword kw">nil</span>
91:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006396" class="method">
  <div id="M006396_title" class="title">
    <b>test_clone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006396_source')" id="l_M006396_source">show source</a> ]</p>
  <div id="M006396_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 819</span>
819:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_clone</span>
820:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
821:     <span class="ruby-identifier">matz_c</span> = <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">clone</span>
822:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">new?</span>
823:     <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
824:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">v</span>, <span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">k</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">primary_key</span>
825:     <span class="ruby-keyword kw">end</span>
826:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006353" class="method">
  <div id="M006353_title" class="title">
    <b>test_collection_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006353_source')" id="l_M006353_source">show source</a> ]</p>
  <div id="M006353_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 512</span>
512:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_collection_name</span>
513:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;people&quot;</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_name</span>
514:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006354" class="method">
  <div id="M006354_title" class="title">
    <b>test_collection_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006354_source')" id="l_M006354_source">show source</a> ]</p>
  <div id="M006354_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 516</span>
516:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_collection_path</span>
517:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>
518:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006355" class="method">
  <div id="M006355_title" class="title">
    <b>test_collection_path_with_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006355_source')" id="l_M006355_source">show source</a> ]</p>
  <div id="M006355_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 520</span>
520:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_collection_path_with_parameters</span>
521:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml?gender=male'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'male'</span>)
522:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml?gender=false'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
523:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml?gender='</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>)
524: 
525:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml?gender=male'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-value str">'gender'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'male'</span>)
526: 
527:     <span class="ruby-comment cmt"># Use includes? because ordering of param hash is not guaranteed</span>
528:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'male'</span>, <span class="ruby-identifier">:student</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'/people.xml?'</span>)
529:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'male'</span>, <span class="ruby-identifier">:student</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'gender=male'</span>)
530:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'male'</span>, <span class="ruby-identifier">:student</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'student=true'</span>)
531: 
532:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml?name%5B%5D=bob&amp;name%5B%5D=your+uncle%2Bme&amp;name%5B%5D=&amp;name%5B%5D=false'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">'bob'</span>, <span class="ruby-value str">'your uncle+me'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">false</span>])
533: 
534:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people.xml?struct%5Ba%5D%5B%5D=2&amp;struct%5Ba%5D%5B%5D=1&amp;struct%5Bb%5D=fred'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:struct</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">2</span>,<span class="ruby-value">1</span>], <span class="ruby-value str">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'fred'</span>})
535:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006398" class="method">
  <div id="M006398_title" class="title">
    <b>test_complex_clone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006398_source')" id="l_M006398_source">show source</a> ]</p>
  <div id="M006398_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 838</span>
838:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_complex_clone</span>
839:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
840:     <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">address</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">id</span>})
841:     <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">non_ar_hash</span> = {<span class="ruby-identifier">:not</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;an ARes instance&quot;</span>}
842:     <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">non_ar_arr</span> = [<span class="ruby-value str">&quot;not&quot;</span>, <span class="ruby-value str">&quot;ARes&quot;</span>]
843:     <span class="ruby-identifier">matz_c</span> = <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">clone</span>
844:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">new?</span>
845:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) {<span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">address</span>}
846:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">non_ar_hash</span>, <span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">non_ar_hash</span>
847:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">non_ar_arr</span>, <span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">non_ar_arr</span>
848: 
849:     <span class="ruby-comment cmt"># Test that actual copy, not just reference copy</span>
850:     <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">non_ar_hash</span>[<span class="ruby-identifier">:not</span>] = <span class="ruby-value str">&quot;changed&quot;</span>
851:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">non_ar_hash</span>, <span class="ruby-identifier">matz_c</span>.<span class="ruby-identifier">non_ar_hash</span>
852:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006394" class="method">
  <div id="M006394_title" class="title">
    <b>test_create</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006394_source')" id="l_M006394_source">show source</a> ]</p>
  <div id="M006394_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 795</span>
795:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create</span>
796:     <span class="ruby-identifier">rick</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Rick'</span>)
797:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">rick</span>.<span class="ruby-identifier">valid?</span>
798:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rick</span>.<span class="ruby-identifier">new?</span>
799:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'5'</span>, <span class="ruby-identifier">rick</span>.<span class="ruby-identifier">id</span>
800: 
801:     <span class="ruby-comment cmt"># test additional attribute returned on create</span>
802:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">25</span>, <span class="ruby-identifier">rick</span>.<span class="ruby-identifier">age</span>
803: 
804:     <span class="ruby-comment cmt"># Test that save exceptions get bubbled up too</span>
805:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
806:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">post</span>   <span class="ruby-value str">&quot;/people.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">409</span>
807:     <span class="ruby-keyword kw">end</span>
808:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceConflict</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Rick'</span>) }
809:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006388" class="method">
  <div id="M006388_title" class="title">
    <b>test_create_with_custom_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006388_source')" id="l_M006388_source">show source</a> ]</p>
  <div id="M006388_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 752</span>
752:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_with_custom_prefix</span>
753:     <span class="ruby-identifier">matzs_house</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
754:     <span class="ruby-identifier">matzs_house</span>.<span class="ruby-identifier">save</span>
755:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'5'</span>, <span class="ruby-identifier">matzs_house</span>.<span class="ruby-identifier">id</span>
756:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006395" class="method">
  <div id="M006395_title" class="title">
    <b>test_create_without_location</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006395_source')" id="l_M006395_source">show source</a> ]</p>
  <div id="M006395_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 811</span>
811:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create_without_location</span>
812:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
813:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">post</span>   <span class="ruby-value str">&quot;/people.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">201</span>
814:     <span class="ruby-keyword kw">end</span>
815:     <span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Rick'</span>)
816:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">person</span>.<span class="ruby-identifier">id</span>
817:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006342" class="method">
  <div id="M006342_title" class="title">
    <b>test_credentials_from_site_are_decoded</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006342_source')" id="l_M006342_source">show source</a> ]</p>
  <div id="M006342_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 216</span>
216:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_credentials_from_site_are_decoded</span>
217:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
218:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://my%40email.com:%31%32%33@cinema'</span>
219:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my@email.com&quot;</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>)
220:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;123&quot;</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>)
221:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006365" class="method">
  <div id="M006365_title" class="title">
    <b>test_custom_collection_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006365_source')" id="l_M006365_source">show source</a> ]</p>
  <div id="M006365_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 595</span>
595:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_collection_name</span>
596:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'addresses'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">collection_name</span>
597:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006361" class="method">
  <div id="M006361_title" class="title">
    <b>test_custom_collection_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006361_source')" id="l_M006361_source">show source</a> ]</p>
  <div id="M006361_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 577</span>
577:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_collection_path</span>
578:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses.xml'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
579:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses.xml'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-value str">'person_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
580:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006362" class="method">
  <div id="M006362_title" class="title">
    <b>test_custom_collection_path_with_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006362_source')" id="l_M006362_source">show source</a> ]</p>
  <div id="M006362_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 582</span>
582:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_collection_path_with_parameters</span>
583:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>)
584:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">collection_path</span>(<span class="ruby-value str">'person_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>)
585:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006363" class="method">
  <div id="M006363_title" class="title">
    <b>test_custom_collection_path_with_prefix_and_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006363_source')" id="l_M006363_source">show source</a> ]</p>
  <div id="M006363_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 587</span>
587:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_collection_path_with_prefix_and_parameters</span>
588:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">collection_path</span>({<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, {<span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>})
589:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006364" class="method">
  <div id="M006364_title" class="title">
    <b>test_custom_element_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006364_source')" id="l_M006364_source">show source</a> ]</p>
  <div id="M006364_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 591</span>
591:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_element_name</span>
592:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'address'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_name</span>
593:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006356" class="method">
  <div id="M006356_title" class="title">
    <b>test_custom_element_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006356_source')" id="l_M006356_source">show source</a> ]</p>
  <div id="M006356_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 537</span>
537:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_element_path</span>
538:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
539:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">'person_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
540:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/Greg/addresses/1.xml'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">'person_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Greg'</span>)
541:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006359" class="method">
  <div id="M006359_title" class="title">
    <b>test_custom_element_path_with_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006359_source')" id="l_M006359_source">show source</a> ]</p>
  <div id="M006359_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 566</span>
566:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_element_path_with_parameters</span>
567:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>)
568:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">'person_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>)
569:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
570:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml?type%5B%5D=work&amp;type%5B%5D=play+time'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">'work'</span>, <span class="ruby-value str">'play time'</span>])
571:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006360" class="method">
  <div id="M006360_title" class="title">
    <b>test_custom_element_path_with_prefix_and_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006360_source')" id="l_M006360_source">show source</a> ]</p>
  <div id="M006360_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 573</span>
573:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_element_path_with_prefix_and_parameters</span>
574:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/addresses/1.xml?type=work'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value">1</span>, {<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, {<span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'work'</span>})
575:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006357" class="method">
  <div id="M006357_title" class="title">
    <b>test_custom_element_path_with_redefined_to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006357_source')" id="l_M006357_source">show source</a> ]</p>
  <div id="M006357_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 543</span>
543:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_element_path_with_redefined_to_param</span>
544:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
545:       <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:original_to_param_element_path</span>, <span class="ruby-identifier">:to_param</span>
546:        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
547:          <span class="ruby-identifier">name</span>
548:        <span class="ruby-keyword kw">end</span>
549:     <span class="ruby-keyword kw">end</span>
550: 
551:     <span class="ruby-comment cmt"># Class method.</span>
552:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/Greg.xml'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">element_path</span>(<span class="ruby-value str">'Greg'</span>)
553: 
554:     <span class="ruby-comment cmt"># Protected Instance method.</span>
555:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/Greg.xml'</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value str">'Greg'</span>).<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:element_path</span>)
556: 
557:     <span class="ruby-keyword kw">ensure</span>
558:       <span class="ruby-comment cmt"># revert back to original</span>
559:       <span class="ruby-constant">Person</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
560:         <span class="ruby-comment cmt"># save the 'new' to_param so we don't get a warning about discarding the method</span>
561:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:element_path_to_param</span>, <span class="ruby-identifier">:to_param</span>
562:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:to_param</span>, <span class="ruby-identifier">:original_to_param_element_path</span>
563:       <span class="ruby-keyword kw">end</span>
564:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006378" class="method">
  <div id="M006378_title" class="title">
    <b>test_custom_header</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006378_source')" id="l_M006378_source">show source</a> ]</p>
  <div id="M006378_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 681</span>
681:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_header</span>
682:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">'key'</span>] = <span class="ruby-value str">'value'</span>
683:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">4</span>) }
684:   <span class="ruby-keyword kw">ensure</span>
685:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'key'</span>)
686:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006371" class="method">
  <div id="M006371_title" class="title">
    <b>test_custom_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006371_source')" id="l_M006371_source">show source</a> ]</p>
  <div id="M006371_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 634</span>
634:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_prefix</span>
635:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people//'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">prefix</span>
636:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/people/1/'</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">prefix</span>(<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
637:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">:person_id</span>].<span class="ruby-identifier">to_set</span>, <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:prefix_parameters</span>)
638:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006406" class="method">
  <div id="M006406_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006406_source')" id="l_M006406_source">show source</a> ]</p>
  <div id="M006406_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 910</span>
910:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
911:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">1</span>)
912:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
913:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
914:     <span class="ruby-keyword kw">end</span>
915:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>) }
916:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006408" class="method">
  <div id="M006408_title" class="title">
    <b>test_delete_with_410_gone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006408_source')" id="l_M006408_source">show source</a> ]</p>
  <div id="M006408_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 926</span>
926:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_with_410_gone</span>
927:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">1</span>)
928:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
929:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">410</span>
930:     <span class="ruby-keyword kw">end</span>
931:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceGone</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>) }
932:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006407" class="method">
  <div id="M006407_title" class="title">
    <b>test_delete_with_custom_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006407_source')" id="l_M006407_source">show source</a> ]</p>
  <div id="M006407_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 918</span>
918:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_with_custom_prefix</span>
919:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
920:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
921:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/1/addresses/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
922:     <span class="ruby-keyword kw">end</span>
923:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) }
924:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006403" class="method">
  <div id="M006403_title" class="title">
    <b>test_destroy</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006403_source')" id="l_M006403_source">show source</a> ]</p>
  <div id="M006403_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 886</span>
886:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_destroy</span>
887:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">destroy</span>
888:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
889:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
890:     <span class="ruby-keyword kw">end</span>
891:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">destroy</span> }
892:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006405" class="method">
  <div id="M006405_title" class="title">
    <b>test_destroy_with_410_gone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006405_source')" id="l_M006405_source">show source</a> ]</p>
  <div id="M006405_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 902</span>
902:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_destroy_with_410_gone</span>
903:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">destroy</span>
904:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
905:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">410</span>
906:     <span class="ruby-keyword kw">end</span>
907:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceGone</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">destroy</span> }
908:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006404" class="method">
  <div id="M006404_title" class="title">
    <b>test_destroy_with_custom_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006404_source')" id="l_M006404_source">show source</a> ]</p>
  <div id="M006404_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 894</span>
894:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_destroy_with_custom_prefix</span>
895:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }).<span class="ruby-identifier">destroy</span>
896:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
897:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/1/addresses/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">404</span>
898:     <span class="ruby-keyword kw">end</span>
899:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) }
900:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006409" class="method">
  <div id="M006409_title" class="title">
    <b>test_exists</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006409_source')" id="l_M006409_source">show source</a> ]</p>
  <div id="M006409_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 934</span>
934:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_exists</span>
935:     <span class="ruby-comment cmt"># Class method.</span>
936:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-keyword kw">nil</span>)
937:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">1</span>)
938:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">99</span>)
939: 
940:     <span class="ruby-comment cmt"># Instance method.</span>
941:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">exists?</span>
942:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">exists?</span>
943:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">99</span>).<span class="ruby-identifier">exists?</span>
944: 
945:     <span class="ruby-comment cmt"># Nested class method.</span>
946:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">1</span>,  <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
947:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> })
948:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
949: 
950:     <span class="ruby-comment cmt"># Nested instance method.</span>
951:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }).<span class="ruby-identifier">exists?</span>
952:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">new</span>({<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}).<span class="ruby-identifier">exists?</span>
953:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">new</span>({<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}).<span class="ruby-identifier">exists?</span>
954:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006413" class="method">
  <div id="M006413_title" class="title">
    <b>test_exists_with_410_gone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006413_source')" id="l_M006413_source">show source</a> ]</p>
  <div id="M006413_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 993</span>
993:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_exists_with_410_gone</span>
994:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
995:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">head</span> <span class="ruby-value str">&quot;/people/1.xml&quot;</span>, {}, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">410</span>
996:     <span class="ruby-keyword kw">end</span>
997: 
998:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">1</span>)
999:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006410" class="method">
  <div id="M006410_title" class="title">
    <b>test_exists_with_redefined_to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006410_source')" id="l_M006410_source">show source</a> ]</p>
  <div id="M006410_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 956</span>
956:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_exists_with_redefined_to_param</span>
957:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
958:       <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:original_to_param_exists</span>, <span class="ruby-identifier">:to_param</span>
959:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
960:         <span class="ruby-identifier">name</span>
961:       <span class="ruby-keyword kw">end</span>
962:     <span class="ruby-keyword kw">end</span>
963: 
964:     <span class="ruby-comment cmt"># Class method.</span>
965:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value str">'Greg'</span>)
966: 
967:     <span class="ruby-comment cmt"># Instance method.</span>
968:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value str">'Greg'</span>).<span class="ruby-identifier">exists?</span>
969: 
970:     <span class="ruby-comment cmt"># Nested class method.</span>
971:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">1</span>,  <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value str">'Greg'</span>).<span class="ruby-identifier">to_param</span> })
972: 
973:     <span class="ruby-comment cmt"># Nested instance method.</span>
974:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value str">'Greg'</span>).<span class="ruby-identifier">to_param</span> }).<span class="ruby-identifier">exists?</span>
975: 
976:   <span class="ruby-keyword kw">ensure</span>
977:     <span class="ruby-comment cmt"># revert back to original</span>
978:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
979:       <span class="ruby-comment cmt"># save the 'new' to_param so we don't get a warning about discarding the method</span>
980:       <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:exists_to_param</span>, <span class="ruby-identifier">:to_param</span>
981:       <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:to_param</span>, <span class="ruby-identifier">:original_to_param_exists</span>
982:     <span class="ruby-keyword kw">end</span>
983:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006412" class="method">
  <div id="M006412_title" class="title">
    <b>test_exists_without_http_mock</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006412_source')" id="l_M006412_source">show source</a> ]</p>
  <div id="M006412_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 985</span>
985:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_exists_without_http_mock</span>
986:     <span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">host</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">port</span>)
987:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:http</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">http</span>)
988:     <span class="ruby-identifier">http</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;&quot;</span>))
989: 
990:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value str">'not-mocked'</span>)
991:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006375" class="method">
  <div id="M006375_title" class="title">
    <b>test_find_all</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006375_source')" id="l_M006375_source">show source</a> ]</p>
  <div id="M006375_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 661</span>
661:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_all</span>
662:     <span class="ruby-identifier">all</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
663:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">size</span>
664:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Person</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">first</span>
665:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Matz&quot;</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
666:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">all</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">name</span>
667:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006380" class="method">
  <div id="M006380_title" class="title">
    <b>test_find_all_by_from</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006380_source')" id="l_M006380_source">show source</a> ]</p>
  <div id="M006380_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 693</span>
693:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_all_by_from</span>
694:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/companies/1/people.xml&quot;</span>, {}, <span class="ruby-ivar">@people_david</span> }
695: 
696:     <span class="ruby-identifier">people</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/companies/1/people.xml&quot;</span>)
697:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">size</span>
698:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
699:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006381" class="method">
  <div id="M006381_title" class="title">
    <b>test_find_all_by_from_with_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006381_source')" id="l_M006381_source">show source</a> ]</p>
  <div id="M006381_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 701</span>
701:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_all_by_from_with_options</span>
702:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/companies/1/people.xml&quot;</span>, {}, <span class="ruby-ivar">@people_david</span> }
703: 
704:     <span class="ruby-identifier">people</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/companies/1/people.xml&quot;</span>)
705:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">size</span>
706:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
707:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006382" class="method">
  <div id="M006382_title" class="title">
    <b>test_find_all_by_symbol_from</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006382_source')" id="l_M006382_source">show source</a> ]</p>
  <div id="M006382_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 709</span>
709:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_all_by_symbol_from</span>
710:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/managers.xml&quot;</span>, {}, <span class="ruby-ivar">@people_david</span> }
711: 
712:     <span class="ruby-identifier">people</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:managers</span>)
713:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">size</span>
714:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
715:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006372" class="method">
  <div id="M006372_title" class="title">
    <b>test_find_by_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006372_source')" id="l_M006372_source">show source</a> ]</p>
  <div id="M006372_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 640</span>
640:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_by_id</span>
641:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
642:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Person</span>, <span class="ruby-identifier">matz</span>
643:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Matz&quot;</span>, <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">name</span>
644:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">name?</span>
645:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006379" class="method">
  <div id="M006379_title" class="title">
    <b>test_find_by_id_not_found</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006379_source')" id="l_M006379_source">show source</a> ]</p>
  <div id="M006379_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 688</span>
688:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_by_id_not_found</span>
689:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">99</span>) }
690:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>) { <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>) }
691:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006374" class="method">
  <div id="M006374_title" class="title">
    <b>test_find_by_id_with_custom_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006374_source')" id="l_M006374_source">show source</a> ]</p>
  <div id="M006374_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 655</span>
655:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_by_id_with_custom_prefix</span>
656:     <span class="ruby-identifier">addy</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
657:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">StreetAddress</span>, <span class="ruby-identifier">addy</span>
658:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'12345 Street'</span>, <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">street</span>
659:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006376" class="method">
  <div id="M006376_title" class="title">
    <b>test_find_first</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006376_source')" id="l_M006376_source">show source</a> ]</p>
  <div id="M006376_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 669</span>
669:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_first</span>
670:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
671:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Person</span>, <span class="ruby-identifier">matz</span>
672:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Matz&quot;</span>, <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">name</span>
673:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006377" class="method">
  <div id="M006377_title" class="title">
    <b>test_find_last</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006377_source')" id="l_M006377_source">show source</a> ]</p>
  <div id="M006377_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 675</span>
675:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_last</span>
676:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:last</span>)
677:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Person</span>, <span class="ruby-identifier">david</span>
678:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'David'</span>, <span class="ruby-identifier">david</span>.<span class="ruby-identifier">name</span>
679:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006383" class="method">
  <div id="M006383_title" class="title">
    <b>test_find_single_by_from</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006383_source')" id="l_M006383_source">show source</a> ]</p>
  <div id="M006383_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 717</span>
717:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_single_by_from</span>
718:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/companies/1/manager.xml&quot;</span>, {}, <span class="ruby-ivar">@david</span> }
719: 
720:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:one</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/companies/1/manager.xml&quot;</span>)
721:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">david</span>.<span class="ruby-identifier">name</span>
722:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006384" class="method">
  <div id="M006384_title" class="title">
    <b>test_find_single_by_symbol_from</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006384_source')" id="l_M006384_source">show source</a> ]</p>
  <div id="M006384_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 724</span>
724:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find_single_by_symbol_from</span>
725:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/leader.xml&quot;</span>, {}, <span class="ruby-ivar">@david</span> }
726: 
727:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:one</span>, <span class="ruby-identifier">:from</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:leader</span>)
728:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">david</span>.<span class="ruby-identifier">name</span>
729:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006386" class="method">
  <div id="M006386_title" class="title">
    <b>test_id_from_response</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006386_source')" id="l_M006386_source">show source</a> ]</p>
  <div id="M006386_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 737</span>
737:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_from_response</span>
738:     <span class="ruby-identifier">p</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>
739:     <span class="ruby-identifier">resp</span> = {<span class="ruby-value str">'Location'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/foo/bar/1'</span>}
740:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:id_from_response</span>, <span class="ruby-identifier">resp</span>)
741: 
742:     <span class="ruby-identifier">resp</span>[<span class="ruby-value str">'Location'</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'.xml'</span>
743:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:id_from_response</span>, <span class="ruby-identifier">resp</span>)
744:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006387" class="method">
  <div id="M006387_title" class="title">
    <b>test_id_from_response_without_location</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006387_source')" id="l_M006387_source">show source</a> ]</p>
  <div id="M006387_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 746</span>
746:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_id_from_response_without_location</span>
747:     <span class="ruby-identifier">p</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>
748:     <span class="ruby-identifier">resp</span> = {}
749:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:id_from_response</span>, <span class="ruby-identifier">resp</span>)
750:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006389" class="method">
  <div id="M006389_title" class="title">
    <b>test_load_preserves_prefix_options</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> that loading a resource
preserves its prefix_options.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006389_source')" id="l_M006389_source">show source</a> ]</p>
  <div id="M006389_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 759</span>
759:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_load_preserves_prefix_options</span>
760:     <span class="ruby-identifier">address</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
761:     <span class="ruby-identifier">ryan</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Ryan'</span>, <span class="ruby-identifier">:address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">address</span>)
762:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">address</span>.<span class="ruby-identifier">prefix_options</span>, <span class="ruby-identifier">ryan</span>.<span class="ruby-identifier">address</span>.<span class="ruby-identifier">prefix_options</span>
763:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006417" class="method">
  <div id="M006417_title" class="title">
    <b>test_load_yaml_array</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006417_source')" id="l_M006417_source">show source</a> ]</p>
  <div id="M006417_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 1030</span>
1030:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_load_yaml_array</span>
1031:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1032:       <span class="ruby-identifier">marty</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">5</span>)
1033:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">marty</span>.<span class="ruby-identifier">colors</span>.<span class="ruby-identifier">size</span>
1034:       <span class="ruby-identifier">marty</span>.<span class="ruby-identifier">colors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">color</span><span class="ruby-operator">|</span>
1035:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">color</span>
1036:       <span class="ruby-keyword kw">end</span>
1037:     <span class="ruby-keyword kw">end</span>
1038:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006397" class="method">
  <div id="M006397_title" class="title">
    <b>test_nested_clone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006397_source')" id="l_M006397_source">show source</a> ]</p>
  <div id="M006397_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 828</span>
828:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_clone</span>
829:     <span class="ruby-identifier">addy</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>})
830:     <span class="ruby-identifier">addy_c</span> = <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">clone</span>
831:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">addy_c</span>.<span class="ruby-identifier">new?</span>
832:     <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
833:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">v</span>, <span class="ruby-identifier">addy_c</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">k</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">primary_key</span>
834:     <span class="ruby-keyword kw">end</span>
835:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">prefix_options</span>, <span class="ruby-identifier">addy_c</span>.<span class="ruby-identifier">prefix_options</span>
836:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006416" class="method">
  <div id="M006416_title" class="title">
    <b>test_parse_deep_nested_resources</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006416_source')" id="l_M006416_source">show source</a> ]</p>
  <div id="M006416_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 1016</span>
1016:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_deep_nested_resources</span>
1017:     <span class="ruby-identifier">luis</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
1018:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Customer</span>, <span class="ruby-identifier">luis</span>
1019:     <span class="ruby-identifier">luis</span>.<span class="ruby-identifier">friends</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">friend</span><span class="ruby-operator">|</span>
1020:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Customer</span><span class="ruby-operator">::</span><span class="ruby-constant">Friend</span>, <span class="ruby-identifier">friend</span>
1021:       <span class="ruby-identifier">friend</span>.<span class="ruby-identifier">brothers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">brother</span><span class="ruby-operator">|</span>
1022:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Customer</span><span class="ruby-operator">::</span><span class="ruby-constant">Friend</span><span class="ruby-operator">::</span><span class="ruby-constant">Brother</span>, <span class="ruby-identifier">brother</span>
1023:         <span class="ruby-identifier">brother</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
1024:           <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Customer</span><span class="ruby-operator">::</span><span class="ruby-constant">Friend</span><span class="ruby-operator">::</span><span class="ruby-constant">Brother</span><span class="ruby-operator">::</span><span class="ruby-constant">Child</span>, <span class="ruby-identifier">child</span>
1025:         <span class="ruby-keyword kw">end</span>
1026:       <span class="ruby-keyword kw">end</span>
1027:     <span class="ruby-keyword kw">end</span>
1028:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006346" class="method">
  <div id="M006346_title" class="title">
    <b>test_password_reader_uses_superclass_password_until_written</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006346_source')" id="l_M006346_source">show source</a> ]</p>
  <div id="M006346_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 343</span>
343:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_password_reader_uses_superclass_password_until_written</span>
344:     <span class="ruby-comment cmt"># Superclass is Object so returns nil.</span>
345:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">password</span>
346:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>).<span class="ruby-identifier">password</span>
347:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'my-password'</span>
348: 
349:     <span class="ruby-comment cmt"># Subclass uses superclass password.</span>
350:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>)
351:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>
352: 
353:     <span class="ruby-comment cmt"># Subclass returns frozen superclass copy.</span>
354:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span>.<span class="ruby-identifier">frozen?</span>
355:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>.<span class="ruby-identifier">frozen?</span>
356: 
357:     <span class="ruby-comment cmt"># Changing subclass password doesn't change superclass password.</span>
358:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'secret'</span>
359:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>
360: 
361:     <span class="ruby-comment cmt"># Changing superclass password doesn't overwrite subclass password.</span>
362:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'super-secret'</span>
363:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>
364: 
365:     <span class="ruby-comment cmt"># Changing superclass password after subclassing changes subclass password.</span>
366:     <span class="ruby-identifier">jester</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">actor</span>)
367:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'even-more-secret'</span>
368:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">password</span>
369: 
370:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass password when not overridden</span>
371:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
372:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
373: 
374:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'mega-secret'</span>
375:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">password</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
376: 
377:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'ok-password'</span>
378:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">password</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
379:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006339" class="method">
  <div id="M006339_title" class="title">
    <b>test_password_variable_can_be_reset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006339_source')" id="l_M006339_source">show source</a> ]</p>
  <div id="M006339_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 186</span>
186:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_password_variable_can_be_reset</span>
187:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
188:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://cinema'</span>
189:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>
190:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'username'</span>
191:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span> = <span class="ruby-keyword kw">nil</span>
192:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">password</span>
193:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">password</span>
194:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006366" class="method">
  <div id="M006366_title" class="title">
    <b>test_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006366_source')" id="l_M006366_source">show source</a> ]</p>
  <div id="M006366_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 599</span>
599:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prefix</span>
600:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/&quot;</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">prefix</span>
601:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:prefix_parameters</span>)
602:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006331" class="method">
  <div id="M006331_title" class="title">
    <b>test_proxy_accessor_accepts_uri_or_string_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006331_source')" id="l_M006331_source">show source</a> ]</p>
  <div id="M006331_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 129</span>
129:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_proxy_accessor_accepts_uri_or_string_argument</span>
130:     <span class="ruby-identifier">proxy</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">'http://localhost'</span>)
131: 
132:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://localhost'</span> }
133:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">proxy</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span>
134: 
135:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-identifier">proxy</span> }
136:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">proxy</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span>
137:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006344" class="method">
  <div id="M006344_title" class="title">
    <b>test_proxy_reader_uses_superclass_site_until_written</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006344_source')" id="l_M006344_source">show source</a> ]</p>
  <div id="M006344_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 264</span>
264:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_proxy_reader_uses_superclass_site_until_written</span>
265:     <span class="ruby-comment cmt"># Superclass is Object so returns nil.</span>
266:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">proxy</span>
267:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>).<span class="ruby-identifier">proxy</span>
268: 
269:     <span class="ruby-comment cmt"># Subclass uses superclass proxy.</span>
270:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>)
271:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span>
272: 
273:     <span class="ruby-comment cmt"># Subclass returns frozen superclass copy.</span>
274:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">frozen?</span>
275:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">frozen?</span>
276: 
277:     <span class="ruby-comment cmt"># Changing subclass proxy doesn't change superclass site.</span>
278:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://localhost:31337'</span>
279:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span>
280: 
281:     <span class="ruby-comment cmt"># Changed subclass proxy is not frozen.</span>
282:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">frozen?</span>
283: 
284:     <span class="ruby-comment cmt"># Changing superclass proxy doesn't overwrite subclass site.</span>
285:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://somewhere.else'</span>
286:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span>
287: 
288:     <span class="ruby-comment cmt"># Changing superclass proxy after subclassing changes subclass site.</span>
289:     <span class="ruby-identifier">jester</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">actor</span>)
290:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://nomad'</span>
291:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">proxy</span>
292:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">frozen?</span>
293: 
294:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass proxy when not overridden</span>
295:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
296:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
297: 
298:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://market'</span>
299:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
300: 
301:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://supermarket'</span>
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">proxy</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
303:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006333" class="method">
  <div id="M006333_title" class="title">
    <b>test_proxy_variable_can_be_reset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006333_source')" id="l_M006333_source">show source</a> ]</p>
  <div id="M006333_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 143</span>
143:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_proxy_variable_can_be_reset</span>
144:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
145:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
146:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-value str">'http://localhost:31337'</span>
147:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-keyword kw">nil</span>
148:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
149:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006391" class="method">
  <div id="M006391_title" class="title">
    <b>test_reload_with_redefined_to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006391_source')" id="l_M006391_source">show source</a> ]</p>
  <div id="M006391_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 770</span>
770:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reload_with_redefined_to_param</span>
771:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
772:       <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:original_to_param_reload</span>, <span class="ruby-identifier">:to_param</span>
773:        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
774:          <span class="ruby-identifier">name</span>
775:        <span class="ruby-keyword kw">end</span>
776:     <span class="ruby-keyword kw">end</span>
777: 
778:     <span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value str">'Greg'</span>)
779:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">person</span>, <span class="ruby-identifier">person</span>.<span class="ruby-identifier">reload</span>
780: 
781:     <span class="ruby-keyword kw">ensure</span>
782:       <span class="ruby-comment cmt"># revert back to original</span>
783:       <span class="ruby-constant">Person</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
784:         <span class="ruby-comment cmt"># save the 'new' to_param so we don't get a warning about discarding the method</span>
785:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:reload_to_param</span>, <span class="ruby-identifier">:to_param</span>
786:         <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">:to_param</span>, <span class="ruby-identifier">:original_to_param_reload</span>
787:       <span class="ruby-keyword kw">end</span>
788:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006390" class="method">
  <div id="M006390_title" class="title">
    <b>test_reload_works_with_prefix_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006390_source')" id="l_M006390_source">show source</a> ]</p>
  <div id="M006390_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 765</span>
765:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reload_works_with_prefix_options</span>
766:     <span class="ruby-identifier">address</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
767:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">address</span>, <span class="ruby-identifier">address</span>.<span class="ruby-identifier">reload</span>
768:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006393" class="method">
  <div id="M006393_title" class="title">
    <b>test_reload_works_without_prefix_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006393_source')" id="l_M006393_source">show source</a> ]</p>
  <div id="M006393_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 790</span>
790:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reload_works_without_prefix_options</span>
791:     <span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
792:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">person</span>, <span class="ruby-identifier">person</span>.<span class="ruby-identifier">reload</span>
793:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006373" class="method">
  <div id="M006373_title" class="title">
    <b>test_respond_to</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006373_source')" id="l_M006373_source">show source</a> ]</p>
  <div id="M006373_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 647</span>
647:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_respond_to</span>
648:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
649:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:name</span>)
650:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:name=</span>)
651:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:name?</span>)
652:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">matz</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:super_scalable_stuff</span>)
653:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006385" class="method">
  <div id="M006385_title" class="title">
    <b>test_save</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006385_source')" id="l_M006385_source">show source</a> ]</p>
  <div id="M006385_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 731</span>
731:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save</span>
732:     <span class="ruby-identifier">rick</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>
733:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">rick</span>.<span class="ruby-identifier">save</span>
734:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'5'</span>, <span class="ruby-identifier">rick</span>.<span class="ruby-identifier">id</span>
735:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006367" class="method">
  <div id="M006367_title" class="title">
    <b>test_set_prefix</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006367_source')" id="l_M006367_source">show source</a> ]</p>
  <div id="M006367_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 604</span>
604:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_prefix</span>
605:     <span class="ruby-constant">SetterTrap</span>.<span class="ruby-identifier">rollback_sets</span>(<span class="ruby-constant">Person</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">person_class</span><span class="ruby-operator">|</span>
606:       <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span> = <span class="ruby-value str">&quot;the_prefix&quot;</span>
607:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;the_prefix&quot;</span>, <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span>
608:     <span class="ruby-keyword kw">end</span>
609:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006369" class="method">
  <div id="M006369_title" class="title">
    <b>test_set_prefix_twice_should_clear_params</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006369_source')" id="l_M006369_source">show source</a> ]</p>
  <div id="M006369_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 618</span>
618:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_prefix_twice_should_clear_params</span>
619:     <span class="ruby-constant">SetterTrap</span>.<span class="ruby-identifier">rollback_sets</span>(<span class="ruby-constant">Person</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">person_class</span><span class="ruby-operator">|</span>
620:       <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span> = <span class="ruby-value str">&quot;the_prefix/:the_param1&quot;</span>
621:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">:the_param1</span>]), <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix_parameters</span>
622:       <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span> = <span class="ruby-value str">&quot;the_prefix/:the_param2&quot;</span>
623:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">:the_param2</span>]), <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix_parameters</span>
624:     <span class="ruby-keyword kw">end</span>
625:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006370" class="method">
  <div id="M006370_title" class="title">
    <b>test_set_prefix_with_default_value</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006370_source')" id="l_M006370_source">show source</a> ]</p>
  <div id="M006370_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 627</span>
627:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_prefix_with_default_value</span>
628:     <span class="ruby-constant">SetterTrap</span>.<span class="ruby-identifier">rollback_sets</span>(<span class="ruby-constant">Person</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">person_class</span><span class="ruby-operator">|</span>
629:       <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">set_prefix</span>
630:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;/&quot;</span>, <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span>
631:     <span class="ruby-keyword kw">end</span>
632:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006368" class="method">
  <div id="M006368_title" class="title">
    <b>test_set_prefix_with_inline_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006368_source')" id="l_M006368_source">show source</a> ]</p>
  <div id="M006368_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 611</span>
611:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_set_prefix_with_inline_keys</span>
612:     <span class="ruby-constant">SetterTrap</span>.<span class="ruby-identifier">rollback_sets</span>(<span class="ruby-constant">Person</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">person_class</span><span class="ruby-operator">|</span>
613:       <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span> = <span class="ruby-value str">&quot;the_prefix:the_param&quot;</span>
614:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;the_prefixthe_param_value&quot;</span>, <span class="ruby-identifier">person_class</span>.<span class="ruby-identifier">prefix</span>(<span class="ruby-identifier">:the_param</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;the_param_value&quot;</span>)
615:     <span class="ruby-keyword kw">end</span>
616:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006335" class="method">
  <div id="M006335_title" class="title">
    <b>test_should_accept_setting_password</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006335_source')" id="l_M006335_source">show source</a> ]</p>
  <div id="M006335_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 157</span>
157:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_accept_setting_password</span>
158:     <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'test123'</span>
159:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'test123'</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">password</span>)
160:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'test123'</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">password</span>)
161:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006337" class="method">
  <div id="M006337_title" class="title">
    <b>test_should_accept_setting_ssl_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006337_source')" id="l_M006337_source">show source</a> ]</p>
  <div id="M006337_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 169</span>
169:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_accept_setting_ssl_options</span>
170:     <span class="ruby-identifier">expected</span> = {<span class="ruby-identifier">:verify</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}
171:     <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">ssl_options</span>= <span class="ruby-identifier">expected</span>
172:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">ssl_options</span>)
173:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">ssl_options</span>)
174:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006336" class="method">
  <div id="M006336_title" class="title">
    <b>test_should_accept_setting_timeout</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006336_source')" id="l_M006336_source">show source</a> ]</p>
  <div id="M006336_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_accept_setting_timeout</span>
164:     <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">5</span>
165:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">timeout</span>)
166:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">timeout</span>)
167:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006334" class="method">
  <div id="M006334_title" class="title">
    <b>test_should_accept_setting_user</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006334_source')" id="l_M006334_source">show source</a> ]</p>
  <div id="M006334_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 151</span>
151:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_accept_setting_user</span>
152:     <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'david'</span>
153:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'david'</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">user</span>)
154:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'david'</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">user</span>)
155:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006332" class="method">
  <div id="M006332_title" class="title">
    <b>test_should_use_proxy_prefix_and_credentials</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006332_source')" id="l_M006332_source">show source</a> ]</p>
  <div id="M006332_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 139</span>
139:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_use_proxy_prefix_and_credentials</span>
140:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://user:password@proxy.local:3000'</span>, <span class="ruby-constant">ProxyResource</span>.<span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">to_s</span>
141:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006329" class="method">
  <div id="M006329_title" class="title">
    <b>test_should_use_site_prefix_and_credentials</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006329_source')" id="l_M006329_source">show source</a> ]</p>
  <div id="M006329_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 116</span>
116:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_use_site_prefix_and_credentials</span>
117:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo:bar@beast.caboo.se'</span>, <span class="ruby-constant">Forum</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">to_s</span>
118:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://foo:bar@beast.caboo.se/forums/:forum_id'</span>, <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">to_s</span>
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006328" class="method">
  <div id="M006328_title" class="title">
    <b>test_site_accessor_accepts_uri_or_string_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006328_source')" id="l_M006328_source">show source</a> ]</p>
  <div id="M006328_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_site_accessor_accepts_uri_or_string_argument</span>
107:     <span class="ruby-identifier">site</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-value str">'http://localhost'</span>)
108: 
109:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://localhost'</span> }
110:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">site</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>
111: 
112:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span> = <span class="ruby-identifier">site</span> }
113:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">site</span>, <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>
114:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006343" class="method">
  <div id="M006343_title" class="title">
    <b>test_site_reader_uses_superclass_site_until_written</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006343_source')" id="l_M006343_source">show source</a> ]</p>
  <div id="M006343_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 223</span>
223:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_site_reader_uses_superclass_site_until_written</span>
224:     <span class="ruby-comment cmt"># Superclass is Object so returns nil.</span>
225:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">site</span>
226:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>).<span class="ruby-identifier">site</span>
227: 
228:     <span class="ruby-comment cmt"># Subclass uses superclass site.</span>
229:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>)
230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
231: 
232:     <span class="ruby-comment cmt"># Subclass returns frozen superclass copy.</span>
233:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">frozen?</span>
234:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">frozen?</span>
235: 
236:     <span class="ruby-comment cmt"># Changing subclass site doesn't change superclass site.</span>
237:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://localhost:31337'</span>
238:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
239: 
240:     <span class="ruby-comment cmt"># Changed subclass site is not frozen.</span>
241:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">frozen?</span>
242: 
243:     <span class="ruby-comment cmt"># Changing superclass site doesn't overwrite subclass site.</span>
244:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://somewhere.else'</span>
245:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
246: 
247:     <span class="ruby-comment cmt"># Changing superclass site after subclassing changes subclass site.</span>
248:     <span class="ruby-identifier">jester</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">actor</span>)
249:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://nomad'</span>
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">site</span>
251:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">site</span>.<span class="ruby-identifier">frozen?</span>
252: 
253:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass site when not overridden</span>
254:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
255:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
256: 
257:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://market'</span>
258:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">site</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
259: 
260:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://supermarket'</span>
261:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">site</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
262:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006330" class="method">
  <div id="M006330_title" class="title">
    <b>test_site_variable_can_be_reset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006330_source')" id="l_M006330_source">show source</a> ]</p>
  <div id="M006330_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_site_variable_can_be_reset</span>
122:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
123:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
124:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://localhost:31337'</span>
125:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-keyword kw">nil</span>
126:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span>
127:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006341" class="method">
  <div id="M006341_title" class="title">
    <b>test_ssl_options_hash_can_be_reset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006341_source')" id="l_M006341_source">show source</a> ]</p>
  <div id="M006341_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 206</span>
206:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ssl_options_hash_can_be_reset</span>
207:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
208:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'https://cinema'</span>
209:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span>
210:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>}
211:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span> = <span class="ruby-keyword kw">nil</span>
212:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span>
213:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">ssl_options</span>
214:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006348" class="method">
  <div id="M006348_title" class="title">
    <b>test_ssl_options_reader_uses_superclass_ssl_options_until_written</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006348_source')" id="l_M006348_source">show source</a> ]</p>
  <div id="M006348_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 415</span>
415:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ssl_options_reader_uses_superclass_ssl_options_until_written</span>
416:     <span class="ruby-comment cmt"># Superclass is Object so returns nil.</span>
417:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">ssl_options</span>
418:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>).<span class="ruby-identifier">ssl_options</span>
419:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'bar'</span>}
420: 
421:     <span class="ruby-comment cmt"># Subclass uses superclass ssl_options.</span>
422:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>)
423:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span>
424: 
425:     <span class="ruby-comment cmt"># Changing subclass ssl_options doesn't change superclass ssl_options.</span>
426:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">''</span>}
427:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span>
428: 
429:     <span class="ruby-comment cmt"># Changing superclass ssl_options doesn't overwrite subclass ssl_options.</span>
430:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:color</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blue'</span>}
431:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span>
432: 
433:     <span class="ruby-comment cmt"># Changing superclass ssl_options after subclassing changes subclass ssl_options.</span>
434:     <span class="ruby-identifier">jester</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">actor</span>)
435:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:color</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'red'</span>}
436:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">ssl_options</span>
437: 
438:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass ssl_options when not overridden.</span>
439:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
440:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
441: 
442:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:alpha</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'betas'</span>}
443:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
444: 
445:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">ssl_options</span> = {<span class="ruby-identifier">:omega</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'moos'</span>}
446:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">ssl_options</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
447:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006347" class="method">
  <div id="M006347_title" class="title">
    <b>test_timeout_reader_uses_superclass_timeout_until_written</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006347_source')" id="l_M006347_source">show source</a> ]</p>
  <div id="M006347_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 381</span>
381:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_timeout_reader_uses_superclass_timeout_until_written</span>
382:     <span class="ruby-comment cmt"># Superclass is Object so returns nil.</span>
383:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">timeout</span>
384:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>).<span class="ruby-identifier">timeout</span>
385:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">5</span>
386: 
387:     <span class="ruby-comment cmt"># Subclass uses superclass timeout.</span>
388:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>)
389:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span>
390: 
391:     <span class="ruby-comment cmt"># Changing subclass timeout doesn't change superclass timeout.</span>
392:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">10</span>
393:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span>
394: 
395:     <span class="ruby-comment cmt"># Changing superclass timeout doesn't overwrite subclass timeout.</span>
396:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">15</span>
397:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span>
398: 
399:     <span class="ruby-comment cmt"># Changing superclass timeout after subclassing changes subclass timeout.</span>
400:     <span class="ruby-identifier">jester</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">actor</span>)
401:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">20</span>
402:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">timeout</span>
403: 
404:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass timeout when not overridden.</span>
405:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
406:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
407: 
408:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">25</span>
409:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
410: 
411:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">30</span>
412:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
413:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006340" class="method">
  <div id="M006340_title" class="title">
    <b>test_timeout_variable_can_be_reset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006340_source')" id="l_M006340_source">show source</a> ]</p>
  <div id="M006340_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 196</span>
196:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_timeout_variable_can_be_reset</span>
197:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
198:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://cinema'</span>
199:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span>
200:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">5</span>
201:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-keyword kw">nil</span>
202:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">timeout</span>
203:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">timeout</span>
204:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006415" class="method">
  <div id="M006415_title" class="title">
    <b>test_to_param_quacks_like_active_record</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006415_source')" id="l_M006415_source">show source</a> ]</p>
  <div id="M006415_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 1009</span>
1009:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_param_quacks_like_active_record</span>
1010:     <span class="ruby-identifier">new_person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>
1011:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">new_person</span>.<span class="ruby-identifier">to_param</span>
1012:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
1013:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1'</span>, <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">to_param</span>
1014:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006414" class="method">
  <div id="M006414_title" class="title">
    <b>test_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006414_source')" id="l_M006414_source">show source</a> ]</p>
  <div id="M006414_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 1001</span>
1001:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml</span>
1002:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
1003:     <span class="ruby-identifier">xml</span> = <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">encode</span>
1004:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">starts_with?</span>(<span class="ruby-value str">'&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;'</span>)
1005:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'&lt;name&gt;Matz&lt;/name&gt;'</span>)
1006:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'&lt;id type=&quot;integer&quot;&gt;1&lt;/id&gt;'</span>)
1007:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006399" class="method">
  <div id="M006399_title" class="title">
    <b>test_update</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006399_source')" id="l_M006399_source">show source</a> ]</p>
  <div id="M006399_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 854</span>
854:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_update</span>
855:     <span class="ruby-identifier">matz</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>)
856:     <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">name</span> = <span class="ruby-value str">&quot;David&quot;</span>
857:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Person</span>, <span class="ruby-identifier">matz</span>
858:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">name</span>
859:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">matz</span>.<span class="ruby-identifier">save</span>
860:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006402" class="method">
  <div id="M006402_title" class="title">
    <b>test_update_conflict</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006402_source')" id="l_M006402_source">show source</a> ]</p>
  <div id="M006402_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 878</span>
878:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_update_conflict</span>
879:     <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">HttpMock</span>.<span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mock</span><span class="ruby-operator">|</span>
880:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">get</span> <span class="ruby-value str">&quot;/people/2.xml&quot;</span>, {}, <span class="ruby-ivar">@david</span>
881:       <span class="ruby-identifier">mock</span>.<span class="ruby-identifier">put</span> <span class="ruby-value str">&quot;/people/2.xml&quot;</span>, <span class="ruby-ivar">@default_request_headers</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">409</span>
882:     <span class="ruby-keyword kw">end</span>
883:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceConflict</span>) { <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">save</span> }
884:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006400" class="method">
  <div id="M006400_title" class="title">
    <b>test_update_with_custom_prefix_with_specific_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006400_source')" id="l_M006400_source">show source</a> ]</p>
  <div id="M006400_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 862</span>
862:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_update_with_custom_prefix_with_specific_id</span>
863:     <span class="ruby-identifier">addy</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
864:     <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">street</span> = <span class="ruby-value str">&quot;54321 Street&quot;</span>
865:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">StreetAddress</span>, <span class="ruby-identifier">addy</span>
866:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;54321 Street&quot;</span>, <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">street</span>
867:     <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">save</span>
868:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006401" class="method">
  <div id="M006401_title" class="title">
    <b>test_update_with_custom_prefix_without_specific_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006401_source')" id="l_M006401_source">show source</a> ]</p>
  <div id="M006401_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 870</span>
870:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_update_with_custom_prefix_without_specific_id</span>
871:     <span class="ruby-identifier">addy</span> = <span class="ruby-constant">StreetAddress</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:person_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
872:     <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">street</span> = <span class="ruby-value str">&quot;54321 Lane&quot;</span>
873:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">StreetAddress</span>, <span class="ruby-identifier">addy</span>
874:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;54321 Lane&quot;</span>, <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">street</span>
875:     <span class="ruby-identifier">addy</span>.<span class="ruby-identifier">save</span>
876:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006351" class="method">
  <div id="M006351_title" class="title">
    <b>test_updating_baseclass_password_wipes_descendent_cached_connection_objects</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006351_source')" id="l_M006351_source">show source</a> ]</p>
  <div id="M006351_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 480</span>
480:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_updating_baseclass_password_wipes_descendent_cached_connection_objects</span>
481:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass password when not overridden</span>
482:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
483:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
484:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://market'</span>
485: 
486:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'secret'</span>
487:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">password</span>
488:     <span class="ruby-identifier">first_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
489: 
490:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">password</span> = <span class="ruby-value str">'supersecret'</span>
491:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">password</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">password</span>
492:     <span class="ruby-identifier">second_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
493:     <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-identifier">first_connection</span>, <span class="ruby-identifier">second_connection</span>, <span class="ruby-value str">'Connection should be re-created'</span>)
494:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006349" class="method">
  <div id="M006349_title" class="title">
    <b>test_updating_baseclass_site_object_wipes_descendent_cached_connection_objects</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006349_source')" id="l_M006349_source">show source</a> ]</p>
  <div id="M006349_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_updating_baseclass_site_object_wipes_descendent_cached_connection_objects</span>
450:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass site when not overridden</span>
451:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
452:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
453: 
454:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://market'</span>
455:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">site</span>
456:     <span class="ruby-identifier">first_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
457: 
458:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://supermarket'</span>
459:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">site</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">site</span>
460:     <span class="ruby-identifier">second_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
461:     <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-identifier">first_connection</span>, <span class="ruby-identifier">second_connection</span>, <span class="ruby-value str">'Connection should be re-created'</span>)
462:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006352" class="method">
  <div id="M006352_title" class="title">
    <b>test_updating_baseclass_timeout_wipes_descendent_cached_connection_objects</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006352_source')" id="l_M006352_source">show source</a> ]</p>
  <div id="M006352_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 496</span>
496:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_updating_baseclass_timeout_wipes_descendent_cached_connection_objects</span>
497:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass timeout when not overridden</span>
498:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
499:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
500:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://market'</span>
501: 
502:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">5</span>
503:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">timeout</span>
504:     <span class="ruby-identifier">first_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
505: 
506:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">timeout</span> = <span class="ruby-value">10</span>
507:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">timeout</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">timeout</span>
508:     <span class="ruby-identifier">second_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
509:     <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-identifier">first_connection</span>, <span class="ruby-identifier">second_connection</span>, <span class="ruby-value str">'Connection should be re-created'</span>)
510:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006350" class="method">
  <div id="M006350_title" class="title">
    <b>test_updating_baseclass_user_wipes_descendent_cached_connection_objects</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006350_source')" id="l_M006350_source">show source</a> ]</p>
  <div id="M006350_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 464</span>
464:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_updating_baseclass_user_wipes_descendent_cached_connection_objects</span>
465:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass user when not overridden</span>
466:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
467:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
468:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://market'</span>
469: 
470:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'david'</span>
471:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">user</span>
472:     <span class="ruby-identifier">first_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
473: 
474:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'john'</span>
475:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">user</span>
476:     <span class="ruby-identifier">second_connection</span> = <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">object_id</span>
477:     <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-identifier">first_connection</span>, <span class="ruby-identifier">second_connection</span>, <span class="ruby-value str">'Connection should be re-created'</span>)
478:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006345" class="method">
  <div id="M006345_title" class="title">
    <b>test_user_reader_uses_superclass_user_until_written</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006345_source')" id="l_M006345_source">show source</a> ]</p>
  <div id="M006345_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 305</span>
305:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_user_reader_uses_superclass_user_until_written</span>
306:     <span class="ruby-comment cmt"># Superclass is Object so returns nil.</span>
307:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">user</span>
308:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>).<span class="ruby-identifier">user</span>
309:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'anonymous'</span>
310: 
311:     <span class="ruby-comment cmt"># Subclass uses superclass user.</span>
312:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Person</span>)
313:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>
314: 
315:     <span class="ruby-comment cmt"># Subclass returns frozen superclass copy.</span>
316:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span>.<span class="ruby-identifier">frozen?</span>
317:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>.<span class="ruby-identifier">frozen?</span>
318: 
319:     <span class="ruby-comment cmt"># Changing subclass user doesn't change superclass user.</span>
320:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'david'</span>
321:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>
322: 
323:     <span class="ruby-comment cmt"># Changing superclass user doesn't overwrite subclass user.</span>
324:     <span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'john'</span>
325:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-constant">Person</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>
326: 
327:     <span class="ruby-comment cmt"># Changing superclass user after subclassing changes subclass user.</span>
328:     <span class="ruby-identifier">jester</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">actor</span>)
329:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'john.doe'</span>
330:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">jester</span>.<span class="ruby-identifier">user</span>
331: 
332:     <span class="ruby-comment cmt"># Subclasses are always equal to superclass user when not overridden</span>
333:     <span class="ruby-identifier">fruit</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
334:     <span class="ruby-identifier">apple</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fruit</span>)
335: 
336:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'manager'</span>
337:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">user</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
338: 
339:     <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'client'</span>
340:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">fruit</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">apple</span>.<span class="ruby-identifier">user</span>, <span class="ruby-value str">'subclass did not adopt changes from parent class'</span>
341:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006338" class="method">
  <div id="M006338_title" class="title">
    <b>test_user_variable_can_be_reset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006338_source')" id="l_M006338_source">show source</a> ]</p>
  <div id="M006338_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 176</span>
176:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_user_variable_can_be_reset</span>
177:     <span class="ruby-identifier">actor</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ActiveResource</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>)
178:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">site</span> = <span class="ruby-value str">'http://cinema'</span>
179:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>
180:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span> = <span class="ruby-value str">'username'</span>
181:     <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span> = <span class="ruby-keyword kw">nil</span>
182:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">user</span>
183:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">user</span>
184:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006392" class="method">
  <div id="M006392_title" class="title">
    <b>to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006392_source')" id="l_M006392_source">show source</a> ]</p>
  <div id="M006392_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 773</span>
773:        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
774:          <span class="ruby-identifier">name</span>
775:        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006411" class="method">
  <div id="M006411_title" class="title">
    <b>to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006411_source')" id="l_M006411_source">show source</a> ]</p>
  <div id="M006411_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 959</span>
959:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
960:         <span class="ruby-identifier">name</span>
961:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006358" class="method">
  <div id="M006358_title" class="title">
    <b>to_param</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006358_source')" id="l_M006358_source">show source</a> ]</p>
  <div id="M006358_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activeresource/test/base_test.rb, line 546</span>
546:        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
547:          <span class="ruby-identifier">name</span>
548:        <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>