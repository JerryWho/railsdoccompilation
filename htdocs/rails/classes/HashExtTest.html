  <div id="C00000494">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />HashExtTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/hash_ext_test_rb.html');">activesupport/test/core_ext/hash_ext_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003233&name=setup" >setup</a></li>
  <li><a href="index.html?a=M003254&name=test_assert_valid_keys" >test_assert_valid_keys</a></li>
  <li><a href="index.html?a=M003255&name=test_assorted_keys_not_stringified" >test_assorted_keys_not_stringified</a></li>
  <li><a href="index.html?a=M003256&name=test_deep_merge" >test_deep_merge</a></li>
  <li><a href="index.html?a=M003258&name=test_diff" >test_diff</a></li>
  <li><a href="index.html?a=M003267&name=test_except" >test_except</a></li>
  <li><a href="index.html?a=M003269&name=test_except_with_mocha_expectation_on_original" >test_except_with_mocha_expectation_on_original</a></li>
  <li><a href="index.html?a=M003268&name=test_except_with_original_frozen" >test_except_with_original_frozen</a></li>
  <li><a href="index.html?a=M003241&name=test_indifferent_assorted" >test_indifferent_assorted</a></li>
  <li><a href="index.html?a=M003248&name=test_indifferent_deleting" >test_indifferent_deleting</a></li>
  <li><a href="index.html?a=M003250&name=test_indifferent_hash_with_array_of_hashes" >test_indifferent_hash_with_array_of_hashes</a></li>
  <li><a href="index.html?a=M003246&name=test_indifferent_merging" >test_indifferent_merging</a></li>
  <li><a href="index.html?a=M003242&name=test_indifferent_reading" >test_indifferent_reading</a></li>
  <li><a href="index.html?a=M003243&name=test_indifferent_reading_with_nonnil_default" >test_indifferent_reading_with_nonnil_default</a></li>
  <li><a href="index.html?a=M003247&name=test_indifferent_reverse_merging" >test_indifferent_reverse_merging</a></li>
  <li><a href="index.html?a=M003264&name=test_indifferent_slice" >test_indifferent_slice</a></li>
  <li><a href="index.html?a=M003266&name=test_indifferent_slice_access_with_symbols" >test_indifferent_slice_access_with_symbols</a></li>
  <li><a href="index.html?a=M003265&name=test_indifferent_slice_inplace" >test_indifferent_slice_inplace</a></li>
  <li><a href="index.html?a=M003253&name=test_indifferent_subhashes" >test_indifferent_subhashes</a></li>
  <li><a href="index.html?a=M003249&name=test_indifferent_to_hash" >test_indifferent_to_hash</a></li>
  <li><a href="index.html?a=M003245&name=test_indifferent_update" >test_indifferent_update</a></li>
  <li><a href="index.html?a=M003244&name=test_indifferent_writing" >test_indifferent_writing</a></li>
  <li><a href="index.html?a=M003234&name=test_methods" >test_methods</a></li>
  <li><a href="index.html?a=M003257&name=test_reverse_merge" >test_reverse_merge</a></li>
  <li><a href="index.html?a=M003259&name=test_slice" >test_slice</a></li>
  <li><a href="index.html?a=M003260&name=test_slice_inplace" >test_slice_inplace</a></li>
  <li><a href="index.html?a=M003262&name=test_slice_inplace_with_an_array_key" >test_slice_inplace_with_an_array_key</a></li>
  <li><a href="index.html?a=M003261&name=test_slice_with_an_array_key" >test_slice_with_an_array_key</a></li>
  <li><a href="index.html?a=M003263&name=test_slice_with_splatted_keys" >test_slice_with_splatted_keys</a></li>
  <li><a href="index.html?a=M003251&name=test_stringify_and_symbolize_keys_on_indifferent_preserves_hash" >test_stringify_and_symbolize_keys_on_indifferent_preserves_hash</a></li>
  <li><a href="index.html?a=M003239&name=test_stringify_keys" >test_stringify_keys</a></li>
  <li><a href="index.html?a=M003240&name=test_stringify_keys!" >test_stringify_keys!</a></li>
  <li><a href="index.html?a=M003235&name=test_symbolize_keys" >test_symbolize_keys</a></li>
  <li><a href="index.html?a=M003236&name=test_symbolize_keys!" >test_symbolize_keys!</a></li>
  <li><a href="index.html?a=M003238&name=test_symbolize_keys_preserves_fixnum_keys" >test_symbolize_keys_preserves_fixnum_keys</a></li>
  <li><a href="index.html?a=M003237&name=test_symbolize_keys_preserves_keys_that_cant_be_symbolized" >test_symbolize_keys_preserves_keys_that_cant_be_symbolized</a></li>
  <li><a href="index.html?a=M003252&name=test_to_options_on_indifferent_preserves_hash" >test_to_options_on_indifferent_preserves_hash</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M003233" class="method">
  <div id="M003233_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003233_source')" id="l_M003233_source">show source</a> ]</p>
  <div id="M003233_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 5</span>
 5:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 6:     <span class="ruby-ivar">@strings</span> = { <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-value str">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
 7:     <span class="ruby-ivar">@symbols</span> = { <span class="ruby-identifier">:a</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:b</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
 8:     <span class="ruby-ivar">@mixed</span>   = { <span class="ruby-identifier">:a</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-value str">'b'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
 9:     <span class="ruby-ivar">@fixnums</span> = {  <span class="ruby-value">0</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
10:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value str">'1.9.0'</span>
11:       <span class="ruby-ivar">@illegal_symbols</span> = { <span class="ruby-value str">&quot;\0&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-value str">&quot;&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, [] =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span> }
12:     <span class="ruby-keyword kw">else</span>
13:       <span class="ruby-ivar">@illegal_symbols</span> = { [] =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span> }
14:     <span class="ruby-keyword kw">end</span>
15:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003254" class="method">
  <div id="M003254_title" class="title">
    <b>test_assert_valid_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003254_source')" id="l_M003254_source">show source</a> ]</p>
  <div id="M003254_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 238</span>
238:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_valid_keys</span>
239:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
240:       { <span class="ruby-identifier">:failure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;stuff&quot;</span>, <span class="ruby-identifier">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-identifier">:failure</span>, <span class="ruby-identifier">:funny</span> ])
241:       { <span class="ruby-identifier">:failure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;stuff&quot;</span>, <span class="ruby-identifier">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-identifier">:failure</span>, <span class="ruby-identifier">:funny</span>)
242:     <span class="ruby-keyword kw">end</span>
243: 
244:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;Unknown key(s): failore&quot;</span>) <span class="ruby-keyword kw">do</span>
245:       { <span class="ruby-identifier">:failore</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;stuff&quot;</span>, <span class="ruby-identifier">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-identifier">:failure</span>, <span class="ruby-identifier">:funny</span> ])
246:       { <span class="ruby-identifier">:failore</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;stuff&quot;</span>, <span class="ruby-identifier">:funny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;business&quot;</span> }.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-identifier">:failure</span>, <span class="ruby-identifier">:funny</span>)
247:     <span class="ruby-keyword kw">end</span>
248:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003255" class="method">
  <div id="M003255_title" class="title">
    <b>test_assorted_keys_not_stringified</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003255_source')" id="l_M003255_source">show source</a> ]</p>
  <div id="M003255_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 250</span>
250:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assorted_keys_not_stringified</span>
251:     <span class="ruby-identifier">original</span> = {<span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, [] =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}
252:     <span class="ruby-identifier">indiff</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">with_indifferent_access</span>
253:     <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">indiff</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>}, <span class="ruby-value str">&quot;A key was converted to a string!&quot;</span>)
254:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003256" class="method">
  <div id="M003256_title" class="title">
    <b>test_deep_merge</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003256_source')" id="l_M003256_source">show source</a> ]</p>
  <div id="M003256_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 256</span>
256:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_deep_merge</span>
257:     <span class="ruby-identifier">hash_1</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;c1&quot;</span>, <span class="ruby-identifier">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;c2&quot;</span>, <span class="ruby-identifier">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;d1&quot;</span> } } }
258:     <span class="ruby-identifier">hash_2</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;d2&quot;</span> } } }
259:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:c1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:c2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;c2&quot;</span>, <span class="ruby-identifier">:c3</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:d1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;d1&quot;</span>, <span class="ruby-identifier">:d2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;d2&quot;</span> } } }
260:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">hash_2</span>)
261: 
262:     <span class="ruby-identifier">hash_1</span>.<span class="ruby-identifier">deep_merge!</span>(<span class="ruby-identifier">hash_2</span>)
263:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash_1</span>
264:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003258" class="method">
  <div id="M003258_title" class="title">
    <b>test_diff</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003258_source')" id="l_M003258_source">show source</a> ]</p>
  <div id="M003258_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 286</span>
286:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_diff</span>
287:     <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }, { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span> }.<span class="ruby-identifier">diff</span>({ <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span> }))
288:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003267" class="method">
  <div id="M003267_title" class="title">
    <b>test_except</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003267_source')" id="l_M003267_source">show source</a> ]</p>
  <div id="M003267_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 364</span>
364:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_except</span>
365:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
366:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span> }
367: 
368:     <span class="ruby-comment cmt"># Should return a new hash with only the given keys.</span>
369:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-identifier">:c</span>)
370:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
371: 
372:     <span class="ruby-comment cmt"># Should replace the hash with only the given keys.</span>
373:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except!</span>(<span class="ruby-identifier">:c</span>)
374:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
375:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003269" class="method">
  <div id="M003269_title" class="title">
    <b>test_except_with_mocha_expectation_on_original</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003269_source')" id="l_M003269_source">show source</a> ]</p>
  <div id="M003269_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 383</span>
383:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_except_with_mocha_expectation_on_original</span>
384:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span> }
385:     <span class="ruby-identifier">original</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:delete</span>).<span class="ruby-identifier">never</span>
386:     <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-identifier">:a</span>)
387:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003268" class="method">
  <div id="M003268_title" class="title">
    <b>test_except_with_original_frozen</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003268_source')" id="l_M003268_source">show source</a> ]</p>
  <div id="M003268_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 377</span>
377:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_except_with_original_frozen</span>
378:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span> }
379:     <span class="ruby-identifier">original</span>.<span class="ruby-identifier">freeze</span>
380:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">original</span>.<span class="ruby-identifier">except</span>(<span class="ruby-identifier">:a</span>) }
381:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003241" class="method">
  <div id="M003241_title" class="title">
    <b>test_indifferent_assorted</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003241_source')" id="l_M003241_source">show source</a> ]</p>
  <div id="M003241_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 61</span>
61:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_assorted</span>
62:     <span class="ruby-ivar">@strings</span> = <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">with_indifferent_access</span>
63:     <span class="ruby-ivar">@symbols</span> = <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">with_indifferent_access</span>
64:     <span class="ruby-ivar">@mixed</span>   = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>
65: 
66:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'a'</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:convert_key</span>, <span class="ruby-identifier">:a</span>)
67: 
68:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'a'</span>)
69:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:a</span>.<span class="ruby-identifier">to_s</span>)
70:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:a</span>)
71: 
72:     <span class="ruby-identifier">hashes</span> = { <span class="ruby-identifier">:@strings</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-identifier">:@symbols</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-identifier">:@mixed</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@mixed</span> }
73:     <span class="ruby-identifier">method_map</span> = { <span class="ruby-value str">'[]'</span><span class="ruby-value str">'[]'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:fetch</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:values_at</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">1</span>],
74:       <span class="ruby-identifier">:has_key?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:include?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:key?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
75:       <span class="ruby-identifier">:member?</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> }
76: 
77:     <span class="ruby-identifier">hashes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
78:       <span class="ruby-identifier">method_map</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">to_s</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span>, <span class="ruby-identifier">expected</span><span class="ruby-operator">|</span>
79:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-value str">'a'</span>),
80:                      <span class="ruby-node">&quot;Calling #{name}.#{meth} 'a'&quot;</span>)
81:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-identifier">:a</span>),
82:                      <span class="ruby-node">&quot;Calling #{name}.#{meth} :a&quot;</span>)
83:       <span class="ruby-keyword kw">end</span>
84:     <span class="ruby-keyword kw">end</span>
85: 
86:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value str">'a'</span>, <span class="ruby-value str">'b'</span>)
87:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>)
88:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value str">'a'</span>, <span class="ruby-value str">'b'</span>)
89:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>)
90:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value str">'a'</span>, <span class="ruby-value str">'b'</span>)
91:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>], <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>)
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003248" class="method">
  <div id="M003248_title" class="title">
    <b>test_indifferent_deleting</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003248_source')" id="l_M003248_source">show source</a> ]</p>
  <div id="M003248_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 184</span>
184:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_deleting</span>
185:     <span class="ruby-identifier">get_hash</span> = <span class="ruby-identifier">proc</span>{ { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'foo'</span> }.<span class="ruby-identifier">with_indifferent_access</span> }
186:     <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">get_hash</span>.<span class="ruby-identifier">call</span>
187:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:a</span>), <span class="ruby-value str">'foo'</span>
188:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:a</span>), <span class="ruby-keyword kw">nil</span>
189:     <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">get_hash</span>.<span class="ruby-identifier">call</span>
190:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'a'</span>), <span class="ruby-value str">'foo'</span>
191:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'a'</span>), <span class="ruby-keyword kw">nil</span>
192:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003250" class="method">
  <div id="M003250_title" class="title">
    <b>test_indifferent_hash_with_array_of_hashes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003250_source')" id="l_M003250_source">show source</a> ]</p>
  <div id="M003250_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 206</span>
206:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_hash_with_array_of_hashes</span>
207:     <span class="ruby-identifier">hash</span> = { <span class="ruby-value str">&quot;urls&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value str">&quot;url&quot;</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-value str">&quot;address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;1&quot;</span> }, { <span class="ruby-value str">&quot;address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;2&quot;</span> } ] }}.<span class="ruby-identifier">with_indifferent_access</span>
208:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:urls</span>][<span class="ruby-identifier">:url</span>].<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:address</span>]
209:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003246" class="method">
  <div id="M003246_title" class="title">
    <b>test_indifferent_merging</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003246_source')" id="l_M003246_source">show source</a> ]</p>
  <div id="M003246_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 158</span>
158:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_merging</span>
159:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
160:     <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>] = <span class="ruby-value str">'failure'</span>
161:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'b'</span>] = <span class="ruby-value str">'failure'</span>
162: 
163:     <span class="ruby-identifier">other</span> = { <span class="ruby-value str">'a'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
164: 
165:     <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">other</span>)
166: 
167:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">HashWithIndifferentAccess</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">class</span>
168:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-identifier">:a</span>]
169:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">merged</span>[<span class="ruby-value str">'b'</span>]
170: 
171:     <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">other</span>)
172: 
173:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>]
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'b'</span>]
175:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003242" class="method">
  <div id="M003242_title" class="title">
    <b>test_indifferent_reading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003242_source')" id="l_M003242_source">show source</a> ]</p>
  <div id="M003242_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 94</span>
 94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_reading</span>
 95:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
 96:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;a&quot;</span>] = <span class="ruby-value">1</span>
 97:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;b&quot;</span>] = <span class="ruby-keyword kw">true</span>
 98:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;c&quot;</span>] = <span class="ruby-keyword kw">false</span>
 99:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;d&quot;</span>] = <span class="ruby-keyword kw">nil</span>
100: 
101:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>]
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:b</span>]
103:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:c</span>]
104:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:d</span>]
105:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:e</span>]
106:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003243" class="method">
  <div id="M003243_title" class="title">
    <b>test_indifferent_reading_with_nonnil_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003243_source')" id="l_M003243_source">show source</a> ]</p>
  <div id="M003243_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 108</span>
108:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_reading_with_nonnil_default</span>
109:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
110:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;a&quot;</span>] = <span class="ruby-value">1</span>
111:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;b&quot;</span>] = <span class="ruby-keyword kw">true</span>
112:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;c&quot;</span>] = <span class="ruby-keyword kw">false</span>
113:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">&quot;d&quot;</span>] = <span class="ruby-keyword kw">nil</span>
114: 
115:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>]
116:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:b</span>]
117:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:c</span>]
118:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:d</span>]
119:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:e</span>]
120:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003247" class="method">
  <div id="M003247_title" class="title">
    <b>test_indifferent_reverse_merging</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003247_source')" id="l_M003247_source">show source</a> ]</p>
  <div id="M003247_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_reverse_merging</span>
178:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'some'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'value'</span>, <span class="ruby-value str">'other'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'value'</span>)
179:     <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">:some</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'noclobber'</span>, <span class="ruby-identifier">:another</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'clobber'</span>)
180:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'value'</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:some</span>]
181:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'clobber'</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:another</span>]
182:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003264" class="method">
  <div id="M003264_title" class="title">
    <b>test_indifferent_slice</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003264_source')" id="l_M003264_source">show source</a> ]</p>
  <div id="M003264_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 332</span>
332:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_slice</span>
333:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }.<span class="ruby-identifier">with_indifferent_access</span>
334:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span> }.<span class="ruby-identifier">with_indifferent_access</span>
335: 
336:     [[<span class="ruby-value str">'a'</span>, <span class="ruby-value str">'b'</span>], [<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">keys</span><span class="ruby-operator">|</span>
337:       <span class="ruby-comment cmt"># Should return a new hash with only the given keys.</span>
338:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>), <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">inspect</span>
339:       <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
340:     <span class="ruby-keyword kw">end</span>
341:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003266" class="method">
  <div id="M003266_title" class="title">
    <b>test_indifferent_slice_access_with_symbols</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003266_source')" id="l_M003266_source">show source</a> ]</p>
  <div id="M003266_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 354</span>
354:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_slice_access_with_symbols</span>
355:     <span class="ruby-identifier">original</span> = {<span class="ruby-value str">'login'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'bender'</span>, <span class="ruby-value str">'password'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'shiny'</span>, <span class="ruby-value str">'stuff'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'foo'</span>}
356:     <span class="ruby-identifier">original</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">with_indifferent_access</span>
357: 
358:     <span class="ruby-identifier">slice</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">:login</span>, <span class="ruby-identifier">:password</span>)
359: 
360:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bender'</span>, <span class="ruby-identifier">slice</span>[<span class="ruby-identifier">:login</span>]
361:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bender'</span>, <span class="ruby-identifier">slice</span>[<span class="ruby-value str">'login'</span>]
362:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003265" class="method">
  <div id="M003265_title" class="title">
    <b>test_indifferent_slice_inplace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003265_source')" id="l_M003265_source">show source</a> ]</p>
  <div id="M003265_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 343</span>
343:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_slice_inplace</span>
344:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }.<span class="ruby-identifier">with_indifferent_access</span>
345:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }.<span class="ruby-identifier">with_indifferent_access</span>
346: 
347:     [[<span class="ruby-value str">'a'</span>, <span class="ruby-value str">'b'</span>], [<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">keys</span><span class="ruby-operator">|</span>
348:       <span class="ruby-comment cmt"># Should replace the hash with only the given keys.</span>
349:       <span class="ruby-identifier">copy</span> = <span class="ruby-identifier">original</span>.<span class="ruby-identifier">dup</span>
350:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">copy</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
351:     <span class="ruby-keyword kw">end</span>
352:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003253" class="method">
  <div id="M003253_title" class="title">
    <b>test_indifferent_subhashes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003253_source')" id="l_M003253_source">show source</a> ]</p>
  <div id="M003253_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 230</span>
230:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_subhashes</span>
231:     <span class="ruby-identifier">h</span> = {<span class="ruby-value str">'user'</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">'id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>}}.<span class="ruby-identifier">with_indifferent_access</span>
232:     [<span class="ruby-value str">'user'</span>, <span class="ruby-identifier">:user</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">:id</span>, <span class="ruby-value str">'id'</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">h</span>[<span class="ruby-identifier">user</span>][<span class="ruby-identifier">id</span>], <span class="ruby-node">&quot;h[#{user.inspect}][#{id.inspect}] should be 5&quot;</span>}}
233: 
234:     <span class="ruby-identifier">h</span> = {<span class="ruby-identifier">:user</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>}}.<span class="ruby-identifier">with_indifferent_access</span>
235:     [<span class="ruby-value str">'user'</span>, <span class="ruby-identifier">:user</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">:id</span>, <span class="ruby-value str">'id'</span>].<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">h</span>[<span class="ruby-identifier">user</span>][<span class="ruby-identifier">id</span>], <span class="ruby-node">&quot;h[#{user.inspect}][#{id.inspect}] should be 5&quot;</span>}}
236:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003249" class="method">
  <div id="M003249_title" class="title">
    <b>test_indifferent_to_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003249_source')" id="l_M003249_source">show source</a> ]</p>
  <div id="M003249_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 194</span>
194:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_to_hash</span>
195:     <span class="ruby-comment cmt"># Should convert to a Hash with String keys.</span>
196:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">to_hash</span>
197: 
198:     <span class="ruby-comment cmt"># Should preserve the default value.</span>
199:     <span class="ruby-identifier">mixed_with_default</span> = <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>
200:     <span class="ruby-identifier">mixed_with_default</span>.<span class="ruby-identifier">default</span> = <span class="ruby-value str">'1234'</span>
201:     <span class="ruby-identifier">roundtrip</span> = <span class="ruby-identifier">mixed_with_default</span>.<span class="ruby-identifier">with_indifferent_access</span>.<span class="ruby-identifier">to_hash</span>
202:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-identifier">roundtrip</span>
203:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1234'</span>, <span class="ruby-identifier">roundtrip</span>.<span class="ruby-identifier">default</span>
204:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003245" class="method">
  <div id="M003245_title" class="title">
    <b>test_indifferent_update</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003245_source')" id="l_M003245_source">show source</a> ]</p>
  <div id="M003245_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 135</span>
135:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_update</span>
136:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
137:     <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>] = <span class="ruby-value str">'a'</span>
138:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'b'</span>] = <span class="ruby-value str">'b'</span>
139: 
140:     <span class="ruby-identifier">updated_with_strings</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@strings</span>)
141:     <span class="ruby-identifier">updated_with_symbols</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@symbols</span>)
142:     <span class="ruby-identifier">updated_with_mixed</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@mixed</span>)
143: 
144:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_strings</span>[<span class="ruby-identifier">:a</span>], <span class="ruby-value">1</span>
145:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_strings</span>[<span class="ruby-value str">'a'</span>], <span class="ruby-value">1</span>
146:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_strings</span>[<span class="ruby-value str">'b'</span>], <span class="ruby-value">2</span>
147: 
148:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_symbols</span>[<span class="ruby-identifier">:a</span>], <span class="ruby-value">1</span>
149:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_symbols</span>[<span class="ruby-value str">'b'</span>], <span class="ruby-value">2</span>
150:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_symbols</span>[<span class="ruby-identifier">:b</span>], <span class="ruby-value">2</span>
151: 
152:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_mixed</span>[<span class="ruby-identifier">:a</span>], <span class="ruby-value">1</span>
153:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">updated_with_mixed</span>[<span class="ruby-value str">'b'</span>], <span class="ruby-value">2</span>
154: 
155:     <span class="ruby-identifier">assert</span> [<span class="ruby-identifier">updated_with_strings</span>, <span class="ruby-identifier">updated_with_symbols</span>, <span class="ruby-identifier">updated_with_mixed</span>].<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> }
156:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003244" class="method">
  <div id="M003244_title" class="title">
    <b>test_indifferent_writing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003244_source')" id="l_M003244_source">show source</a> ]</p>
  <div id="M003244_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 122</span>
122:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_indifferent_writing</span>
123:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
124:     <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>] = <span class="ruby-value">1</span>
125:     <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'b'</span>] = <span class="ruby-value">2</span>
126:     <span class="ruby-identifier">hash</span>[<span class="ruby-value">3</span>] = <span class="ruby-value">3</span>
127: 
128:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'a'</span>], <span class="ruby-value">1</span>
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'b'</span>], <span class="ruby-value">2</span>
130:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:a</span>], <span class="ruby-value">1</span>
131:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">:b</span>], <span class="ruby-value">2</span>
132:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">3</span>], <span class="ruby-value">3</span>
133:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003234" class="method">
  <div id="M003234_title" class="title">
    <b>test_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003234_source')" id="l_M003234_source">show source</a> ]</p>
  <div id="M003234_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 17</span>
17:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_methods</span>
18:     <span class="ruby-identifier">h</span> = {}
19:     <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-identifier">:symbolize_keys</span>
20:     <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-identifier">:symbolize_keys!</span>
21:     <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-identifier">:stringify_keys</span>
22:     <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-identifier">:stringify_keys!</span>
23:     <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-identifier">:to_options</span>
24:     <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">h</span>, <span class="ruby-identifier">:to_options!</span>
25:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003257" class="method">
  <div id="M003257_title" class="title">
    <b>test_reverse_merge</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003257_source')" id="l_M003257_source">show source</a> ]</p>
  <div id="M003257_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 266</span>
266:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reverse_merge</span>
267:     <span class="ruby-identifier">defaults</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;x&quot;</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }.<span class="ruby-identifier">freeze</span>
268:     <span class="ruby-identifier">options</span>  = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
269:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
270: 
271:     <span class="ruby-comment cmt"># Should merge defaults into options, creating a new hash.</span>
272:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge</span>(<span class="ruby-identifier">defaults</span>)
273:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">options</span>
274: 
275:     <span class="ruby-comment cmt"># Should merge! defaults into options, replacing options.</span>
276:     <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
277:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-identifier">defaults</span>)
278:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>
279: 
280:     <span class="ruby-comment cmt"># Should be an alias for reverse_merge!</span>
281:     <span class="ruby-identifier">merged</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
282:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>.<span class="ruby-identifier">reverse_update</span>(<span class="ruby-identifier">defaults</span>)
283:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">merged</span>
284:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003259" class="method">
  <div id="M003259_title" class="title">
    <b>test_slice</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003259_source')" id="l_M003259_source">show source</a> ]</p>
  <div id="M003259_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice</span>
291:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
292:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span> }
293: 
294:     <span class="ruby-comment cmt"># Should return a new hash with only the given keys.</span>
295:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>)
296:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
297:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003260" class="method">
  <div id="M003260_title" class="title">
    <b>test_slice_inplace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003260_source')" id="l_M003260_source">show source</a> ]</p>
  <div id="M003260_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 299</span>
299:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_inplace</span>
300:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
301:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
302: 
303:     <span class="ruby-comment cmt"># Should replace the hash with only the given keys.</span>
304:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>)
305:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003262" class="method">
  <div id="M003262_title" class="title">
    <b>test_slice_inplace_with_an_array_key</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003262_source')" id="l_M003262_source">show source</a> ]</p>
  <div id="M003262_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 316</span>
316:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_inplace_with_an_array_key</span>
317:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, [<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;an array key&quot;</span> }
318:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span> }
319: 
320:     <span class="ruby-comment cmt"># Should replace the hash with only the given keys when given an array key.</span>
321:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice!</span>([<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>], <span class="ruby-identifier">:c</span>)
322:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003261" class="method">
  <div id="M003261_title" class="title">
    <b>test_slice_with_an_array_key</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003261_source')" id="l_M003261_source">show source</a> ]</p>
  <div id="M003261_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 307</span>
307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_with_an_array_key</span>
308:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, [<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;an array key&quot;</span> }
309:     <span class="ruby-identifier">expected</span> = { [<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;an array key&quot;</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
310: 
311:     <span class="ruby-comment cmt"># Should return a new hash with only the given keys when given an array key.</span>
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>([<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>], <span class="ruby-identifier">:c</span>)
313:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>
314:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003263" class="method">
  <div id="M003263_title" class="title">
    <b>test_slice_with_splatted_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003263_source')" id="l_M003263_source">show source</a> ]</p>
  <div id="M003263_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 324</span>
324:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_slice_with_splatted_keys</span>
325:     <span class="ruby-identifier">original</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'y'</span>, <span class="ruby-identifier">:c</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, [<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>] =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;an array key&quot;</span> }
326:     <span class="ruby-identifier">expected</span> = { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'x'</span>, <span class="ruby-identifier">:b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;y&quot;</span> }
327: 
328:     <span class="ruby-comment cmt"># Should grab each of the splatted keys.</span>
329:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">original</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-operator">*</span>[<span class="ruby-identifier">:a</span>, <span class="ruby-identifier">:b</span>])
330:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003251" class="method">
  <div id="M003251_title" class="title">
    <b>test_stringify_and_symbolize_keys_on_indifferent_preserves_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003251_source')" id="l_M003251_source">show source</a> ]</p>
  <div id="M003251_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 211</span>
211:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_stringify_and_symbolize_keys_on_indifferent_preserves_hash</span>
212:     <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
213:     <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:first</span>] = <span class="ruby-value">1</span>
214:     <span class="ruby-identifier">h</span>.<span class="ruby-identifier">stringify_keys!</span>
215:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-value str">'first'</span>]
216:     <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
217:     <span class="ruby-identifier">h</span>[<span class="ruby-value str">'first'</span>] = <span class="ruby-value">1</span>
218:     <span class="ruby-identifier">h</span>.<span class="ruby-identifier">symbolize_keys!</span>
219:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:first</span>]
220:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003239" class="method">
  <div id="M003239_title" class="title">
    <b>test_stringify_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003239_source')" id="l_M003239_source">show source</a> ]</p>
  <div id="M003239_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 49</span>
49:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_stringify_keys</span>
50:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">stringify_keys</span>
51:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">stringify_keys</span>
52:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">stringify_keys</span>
53:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003240" class="method">
  <div id="M003240_title" class="title">
    <b>test_stringify_keys!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003240_source')" id="l_M003240_source">show source</a> ]</p>
  <div id="M003240_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 55</span>
55:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_stringify_keys!</span>
56:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
57:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@strings</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">stringify_keys!</span>
59:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003235" class="method">
  <div id="M003235_title" class="title">
    <b>test_symbolize_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003235_source')" id="l_M003235_source">show source</a> ]</p>
  <div id="M003235_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_symbolize_keys</span>
28:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">symbolize_keys</span>
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">symbolize_keys</span>
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">symbolize_keys</span>
31:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003236" class="method">
  <div id="M003236_title" class="title">
    <b>test_symbolize_keys!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003236_source')" id="l_M003236_source">show source</a> ]</p>
  <div id="M003236_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 33</span>
33:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_symbolize_keys!</span>
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
35:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@strings</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@symbols</span>, <span class="ruby-ivar">@mixed</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
37:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003238" class="method">
  <div id="M003238_title" class="title">
    <b>test_symbolize_keys_preserves_fixnum_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003238_source')" id="l_M003238_source">show source</a> ]</p>
  <div id="M003238_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_symbolize_keys_preserves_fixnum_keys</span>
45:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@fixnums</span>, <span class="ruby-ivar">@fixnums</span>.<span class="ruby-identifier">symbolize_keys</span>
46:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@fixnums</span>, <span class="ruby-ivar">@fixnums</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
47:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003237" class="method">
  <div id="M003237_title" class="title">
    <b>test_symbolize_keys_preserves_keys_that_cant_be_symbolized</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003237_source')" id="l_M003237_source">show source</a> ]</p>
  <div id="M003237_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 39</span>
39:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_symbolize_keys_preserves_keys_that_cant_be_symbolized</span>
40:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@illegal_symbols</span>, <span class="ruby-ivar">@illegal_symbols</span>.<span class="ruby-identifier">symbolize_keys</span>
41:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@illegal_symbols</span>, <span class="ruby-ivar">@illegal_symbols</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">symbolize_keys!</span>
42:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003252" class="method">
  <div id="M003252_title" class="title">
    <b>test_to_options_on_indifferent_preserves_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003252_source')" id="l_M003252_source">show source</a> ]</p>
  <div id="M003252_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 222</span>
222:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_options_on_indifferent_preserves_hash</span>
223:     <span class="ruby-identifier">h</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
224:     <span class="ruby-identifier">h</span>[<span class="ruby-value str">'first'</span>] = <span class="ruby-value">1</span>
225:     <span class="ruby-identifier">h</span>.<span class="ruby-identifier">to_options!</span>
226:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">h</span>[<span class="ruby-value str">'first'</span>]
227:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>