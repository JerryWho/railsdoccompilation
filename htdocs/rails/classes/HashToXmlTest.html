  <div id="C00000315">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />HashToXmlTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/hash_ext_test_rb.html');">activesupport/test/core_ext/hash_ext_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001831&name=setup" >setup</a></li>
  <li><a href="index.html?a=M001856&name=test_all_caps_key_from_xml" >test_all_caps_key_from_xml</a></li>
  <li><a href="index.html?a=M001859&name=test_array_with_multiple_entries_from_xml" >test_array_with_multiple_entries_from_xml</a></li>
  <li><a href="index.html?a=M001858&name=test_array_with_one_entry_from_xml" >test_array_with_one_entry_from_xml</a></li>
  <li><a href="index.html?a=M001876&name=test_datetime_xml_type_with_far_future_date" >test_datetime_xml_type_with_far_future_date</a></li>
  <li><a href="index.html?a=M001875&name=test_datetime_xml_type_with_non_utc_time" >test_datetime_xml_type_with_non_utc_time</a></li>
  <li><a href="index.html?a=M001874&name=test_datetime_xml_type_with_utc_time" >test_datetime_xml_type_with_utc_time</a></li>
  <li><a href="index.html?a=M001832&name=test_default_values_for_rename_keys" >test_default_values_for_rename_keys</a></li>
  <li><a href="index.html?a=M001855&name=test_empty_array_from_xml" >test_empty_array_from_xml</a></li>
  <li><a href="index.html?a=M001857&name=test_empty_array_with_whitespace_from_xml" >test_empty_array_with_whitespace_from_xml</a></li>
  <li><a href="index.html?a=M001869&name=test_empty_string_works_for_typecast_xml_value" >test_empty_string_works_for_typecast_xml_value</a></li>
  <li><a href="index.html?a=M001870&name=test_escaping_to_xml" >test_escaping_to_xml</a></li>
  <li><a href="index.html?a=M001860&name=test_file_from_xml" >test_file_from_xml</a></li>
  <li><a href="index.html?a=M001861&name=test_file_from_xml_with_defaults" >test_file_from_xml_with_defaults</a></li>
  <li><a href="index.html?a=M001868&name=test_kernel_method_names_to_xml" >test_kernel_method_names_to_xml</a></li>
  <li><a href="index.html?a=M001853&name=test_multiple_records_from_xml" >test_multiple_records_from_xml</a></li>
  <li><a href="index.html?a=M001833&name=test_one_level" >test_one_level</a></li>
  <li><a href="index.html?a=M001839&name=test_one_level_camelize_default_false" >test_one_level_camelize_default_false</a></li>
  <li><a href="index.html?a=M001840&name=test_one_level_camelize_default_true" >test_one_level_camelize_default_true</a></li>
  <li><a href="index.html?a=M001838&name=test_one_level_camelize_true" >test_one_level_camelize_true</a></li>
  <li><a href="index.html?a=M001841&name=test_one_level_camelize_true_dasherize_true" >test_one_level_camelize_true_dasherize_true</a></li>
  <li><a href="index.html?a=M001836&name=test_one_level_dasherize_default_false" >test_one_level_dasherize_default_false</a></li>
  <li><a href="index.html?a=M001837&name=test_one_level_dasherize_default_true" >test_one_level_dasherize_default_true</a></li>
  <li><a href="index.html?a=M001834&name=test_one_level_dasherize_false" >test_one_level_dasherize_false</a></li>
  <li><a href="index.html?a=M001835&name=test_one_level_dasherize_true" >test_one_level_dasherize_true</a></li>
  <li><a href="index.html?a=M001843&name=test_one_level_with_nils" >test_one_level_with_nils</a></li>
  <li><a href="index.html?a=M001844&name=test_one_level_with_skipping_types" >test_one_level_with_skipping_types</a></li>
  <li><a href="index.html?a=M001842&name=test_one_level_with_types" >test_one_level_with_types</a></li>
  <li><a href="index.html?a=M001845&name=test_one_level_with_yielding" >test_one_level_with_yielding</a></li>
  <li><a href="index.html?a=M001872&name=test_roundtrip_to_xml_from_xml" >test_roundtrip_to_xml_from_xml</a></li>
  <li><a href="index.html?a=M001867&name=test_should_copy_the_default_value_when_converting_to_hash_with_indifferent_access" >test_should_copy_the_default_value_when_converting_to_hash_with_indifferent_access</a></li>
  <li><a href="index.html?a=M001866&name=test_should_nil_if_no_default_value_is_supplied" >test_should_nil_if_no_default_value_is_supplied</a></li>
  <li><a href="index.html?a=M001864&name=test_should_use_default_value_for_unknown_key" >test_should_use_default_value_for_unknown_key</a></li>
  <li><a href="index.html?a=M001865&name=test_should_use_default_value_if_no_key_is_supplied" >test_should_use_default_value_if_no_key_is_supplied</a></li>
  <li><a href="index.html?a=M001851&name=test_single_record_from_xml" >test_single_record_from_xml</a></li>
  <li><a href="index.html?a=M001854&name=test_single_record_from_xml_with_attributes_other_than_type" >test_single_record_from_xml_with_attributes_other_than_type</a></li>
  <li><a href="index.html?a=M001852&name=test_single_record_from_xml_with_nil_values" >test_single_record_from_xml_with_nil_values</a></li>
  <li><a href="index.html?a=M001849&name=test_three_levels_with_array" >test_three_levels_with_array</a></li>
  <li><a href="index.html?a=M001850&name=test_timezoned_attributes" >test_timezoned_attributes</a></li>
  <li><a href="index.html?a=M001873&name=test_to_xml_dups_options" >test_to_xml_dups_options</a></li>
  <li><a href="index.html?a=M001846&name=test_two_levels" >test_two_levels</a></li>
  <li><a href="index.html?a=M001848&name=test_two_levels_with_array" >test_two_levels_with_array</a></li>
  <li><a href="index.html?a=M001847&name=test_two_levels_with_second_level_overriding_to_xml" >test_two_levels_with_second_level_overriding_to_xml</a></li>
  <li><a href="index.html?a=M001863&name=test_type_trickles_through_when_unknown" >test_type_trickles_through_when_unknown</a></li>
  <li><a href="index.html?a=M001871&name=test_unescaping_from_xml" >test_unescaping_from_xml</a></li>
  <li><a href="index.html?a=M001862&name=test_xsd_like_types_from_xml" >test_xsd_like_types_from_xml</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001831" class="method">
  <div id="M001831_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001831_source')" id="l_M001831_source">show source</a> ]</p>
  <div id="M001831_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 402</span>
402:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
403:     <span class="ruby-ivar">@xml_options</span> = { <span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:person</span>, <span class="ruby-identifier">:skip_instruct</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> }
404:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001856" class="method">
  <div id="M001856_title" class="title">
    <b>test_all_caps_key_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001856_source')" id="l_M001856_source">show source</a> ]</p>
  <div id="M001856_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 720</span>
720:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_all_caps_key_from_xml</span>
721:     <span class="ruby-identifier">test_xml</span> = <span class="ruby-value str">&quot;&lt;ABC3XYZ&gt;\n&lt;TEST&gt;Lorem Ipsum&lt;/TEST&gt;\n&lt;/ABC3XYZ&gt;\n&quot;</span>
722: 
723:     <span class="ruby-identifier">expected_hash</span> = {
724:       <span class="ruby-value str">&quot;ABC3XYZ&quot;</span> =<span class="ruby-operator">&gt;</span> {
725:         <span class="ruby-value str">&quot;TEST&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Lorem Ipsum&quot;</span>
726:       }
727:     }
728: 
729:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">test_xml</span>)
730:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001859" class="method">
  <div id="M001859_title" class="title">
    <b>test_array_with_multiple_entries_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001859_source')" id="l_M001859_source">show source</a> ]</p>
  <div id="M001859_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 762</span>
762:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_with_multiple_entries_from_xml</span>
763:     <span class="ruby-identifier">blog_xml</span> = <span class="ruby-value str">&quot;&lt;blog&gt;\n&lt;posts type=\&quot;array\&quot;&gt;\n&lt;post&gt;a post&lt;/post&gt;\n&lt;post&gt;another post&lt;/post&gt;\n&lt;/posts&gt;\n&lt;/blog&gt;\n&quot;</span>
764:     <span class="ruby-identifier">expected_blog_hash</span> = {<span class="ruby-value str">&quot;blog&quot;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">&quot;posts&quot;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;a post&quot;</span>, <span class="ruby-value str">&quot;another post&quot;</span>]}}
765:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_blog_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">blog_xml</span>)
766:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001858" class="method">
  <div id="M001858_title" class="title">
    <b>test_array_with_one_entry_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001858_source')" id="l_M001858_source">show source</a> ]</p>
  <div id="M001858_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 749</span>
749:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_array_with_one_entry_from_xml</span>
750:     <span class="ruby-identifier">blog_xml</span> = <span class="ruby-value str">&quot;&lt;blog&gt;\n&lt;posts type=\&quot;array\&quot;&gt;\n&lt;post&gt;a post&lt;/post&gt;\n&lt;/posts&gt;\n&lt;/blog&gt;\n&quot;</span>
751:     <span class="ruby-identifier">expected_blog_hash</span> = {<span class="ruby-value str">&quot;blog&quot;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">&quot;posts&quot;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;a post&quot;</span>]}}
752:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_blog_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">blog_xml</span>)
753:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001876" class="method">
  <div id="M001876_title" class="title">
    <b>test_datetime_xml_type_with_far_future_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001876_source')" id="l_M001876_source">show source</a> ]</p>
  <div id="M001876_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 946</span>
946:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_datetime_xml_type_with_far_future_date</span>
947:     <span class="ruby-identifier">alert_xml</span> = <span class="ruby-value str">&quot;&lt;alert&gt;\n&lt;alert_at type=\&quot;datetime\&quot;&gt;2050-02-10T15:30:45Z&lt;/alert_at&gt;\n&lt;/alert&gt;\n&quot;</span>
948:     <span class="ruby-identifier">alert_at</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">alert_xml</span>)[<span class="ruby-value str">'alert'</span>][<span class="ruby-value str">'alert_at'</span>]
949:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">utc?</span>
950:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2050</span>,  <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">year</span>
951:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>,     <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">month</span>
952:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">10</span>,    <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">day</span>
953:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">15</span>,    <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">hour</span>
954:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">30</span>,    <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">min</span>
955:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">45</span>,    <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">sec</span>
956:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001875" class="method">
  <div id="M001875_title" class="title">
    <b>test_datetime_xml_type_with_non_utc_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001875_source')" id="l_M001875_source">show source</a> ]</p>
  <div id="M001875_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 934</span>
934:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_datetime_xml_type_with_non_utc_time</span>
935:     <span class="ruby-identifier">alert_xml</span> = <span class="ruby-value str">&quot;&lt;alert&gt;\n&lt;alert_at type=\&quot;datetime\&quot;&gt;2008-02-10T10:30:45-05:00&lt;/alert_at&gt;\n&lt;/alert&gt;\n&quot;</span>
936:     <span class="ruby-identifier">alert_at</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">alert_xml</span>)[<span class="ruby-value str">'alert'</span>][<span class="ruby-value str">'alert_at'</span>]
937:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">utc?</span>
938:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2008</span>, <span class="ruby-value">2</span>, <span class="ruby-value">10</span>, <span class="ruby-value">15</span>, <span class="ruby-value">30</span>, <span class="ruby-value">45</span>), <span class="ruby-identifier">alert_at</span>
939:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001874" class="method">
  <div id="M001874_title" class="title">
    <b>test_datetime_xml_type_with_utc_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001874_source')" id="l_M001874_source">show source</a> ]</p>
  <div id="M001874_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 922</span>
922:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_datetime_xml_type_with_utc_time</span>
923:     <span class="ruby-identifier">alert_xml</span> = <span class="ruby-value str">&quot;&lt;alert&gt;\n&lt;alert_at type=\&quot;datetime\&quot;&gt;2008-02-10T15:30:45Z&lt;/alert_at&gt;\n&lt;/alert&gt;\n&quot;</span>
924:     <span class="ruby-identifier">alert_at</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">alert_xml</span>)[<span class="ruby-value str">'alert'</span>][<span class="ruby-value str">'alert_at'</span>]
925:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">alert_at</span>.<span class="ruby-identifier">utc?</span>
926:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2008</span>, <span class="ruby-value">2</span>, <span class="ruby-value">10</span>, <span class="ruby-value">15</span>, <span class="ruby-value">30</span>, <span class="ruby-value">45</span>), <span class="ruby-identifier">alert_at</span>
927:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001832" class="method">
  <div id="M001832_title" class="title">
    <b>test_default_values_for_rename_keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001832_source')" id="l_M001832_source">show source</a> ]</p>
  <div id="M001832_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 406</span>
406:  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_values_for_rename_keys</span>
407:    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,<span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span>
408:    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,<span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span>
409:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001855" class="method">
  <div id="M001855_title" class="title">
    <b>test_empty_array_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001855_source')" id="l_M001855_source">show source</a> ]</p>
  <div id="M001855_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 709</span>
709:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_array_from_xml</span>
710:     <span class="ruby-identifier">blog_xml</span> = <span class="ruby-value str">&quot;&lt;blog&gt;\n&lt;posts type=\&quot;array\&quot;&gt;&lt;/posts&gt;\n&lt;/blog&gt;\n&quot;</span>
711:     <span class="ruby-identifier">expected_blog_hash</span> = {<span class="ruby-value str">&quot;blog&quot;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">&quot;posts&quot;</span> =<span class="ruby-operator">&gt;</span> []}}
712:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_blog_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">blog_xml</span>)
713:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001857" class="method">
  <div id="M001857_title" class="title">
    <b>test_empty_array_with_whitespace_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001857_source')" id="l_M001857_source">show source</a> ]</p>
  <div id="M001857_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 737</span>
737:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_array_with_whitespace_from_xml</span>
738:     <span class="ruby-identifier">blog_xml</span> = <span class="ruby-value str">&quot;&lt;blog&gt;\n&lt;posts type=\&quot;array\&quot;&gt;\n&lt;/posts&gt;\n&lt;/blog&gt;\n&quot;</span>
739:     <span class="ruby-identifier">expected_blog_hash</span> = {<span class="ruby-value str">&quot;blog&quot;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">&quot;posts&quot;</span> =<span class="ruby-operator">&gt;</span> []}}
740:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_blog_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">blog_xml</span>)
741:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001869" class="method">
  <div id="M001869_title" class="title">
    <b>test_empty_string_works_for_typecast_xml_value</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001869_source')" id="l_M001869_source">show source</a> ]</p>
  <div id="M001869_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 881</span>
881:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_empty_string_works_for_typecast_xml_value</span>    
882:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
883:       <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">:typecast_xml_value</span>, <span class="ruby-value str">&quot;&quot;</span>)
884:     <span class="ruby-keyword kw">end</span>
885:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001870" class="method">
  <div id="M001870_title" class="title">
    <b>test_escaping_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001870_source')" id="l_M001870_source">show source</a> ]</p>
  <div id="M001870_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 887</span>
887:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_escaping_to_xml</span>
888:     <span class="ruby-identifier">hash</span> = { 
889:       <span class="ruby-identifier">:bare_string</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'First &amp; Last Name'</span>, 
890:       <span class="ruby-identifier">:pre_escaped_string</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'First &amp;amp; Last Name'</span>
891:     }.<span class="ruby-identifier">stringify_keys</span>
892:     
893:     <span class="ruby-identifier">expected_xml</span> = <span class="ruby-value str">'&lt;person&gt;&lt;bare-string&gt;First &amp;amp; Last Name&lt;/bare-string&gt;&lt;pre-escaped-string&gt;First &amp;amp;amp; Last Name&lt;/pre-escaped-string&gt;&lt;/person&gt;'</span>
894:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_xml</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
895:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001860" class="method">
  <div id="M001860_title" class="title">
    <b>test_file_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001860_source')" id="l_M001860_source">show source</a> ]</p>
  <div id="M001860_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 776</span>
776:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_file_from_xml</span>
777:     <span class="ruby-identifier">blog_xml</span> = <span class="ruby-value str">&quot;&lt;blog&gt;\n&lt;logo type=\&quot;file\&quot; name=\&quot;logo.png\&quot; content_type=\&quot;image/png\&quot;&gt;\n&lt;/logo&gt;\n&lt;/blog&gt;\n&quot;</span>
778:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">blog_xml</span>)
779:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'blog'</span>)
780:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'blog'</span>].<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'logo'</span>)
781: 
782:     <span class="ruby-identifier">file</span> = <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'blog'</span>][<span class="ruby-value str">'logo'</span>]
783:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'logo.png'</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">original_filename</span>
784:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'image/png'</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">content_type</span>
785:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001861" class="method">
  <div id="M001861_title" class="title">
    <b>test_file_from_xml_with_defaults</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001861_source')" id="l_M001861_source">show source</a> ]</p>
  <div id="M001861_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 793</span>
793:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_file_from_xml_with_defaults</span>
794:     <span class="ruby-identifier">blog_xml</span> = <span class="ruby-value str">&quot;&lt;blog&gt;\n&lt;logo type=\&quot;file\&quot;&gt;\n&lt;/logo&gt;\n&lt;/blog&gt;\n&quot;</span>
795:     <span class="ruby-identifier">file</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">blog_xml</span>)[<span class="ruby-value str">'blog'</span>][<span class="ruby-value str">'logo'</span>]
796:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'untitled'</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">original_filename</span>
797:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'application/octet-stream'</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">content_type</span>
798:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001868" class="method">
  <div id="M001868_title" class="title">
    <b>test_kernel_method_names_to_xml</b>()
  </div>
  <div class="description">
  <p>
The XML builder seems to fail miserably when trying to tag something with
the same name as a <a href="index.html?a=C00001576&name=Kernel">Kernel</a>
method (throw, test, loop, select &#8230;)
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001868_source')" id="l_M001868_source">show source</a> ]</p>
  <div id="M001868_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 872</span>
872:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_kernel_method_names_to_xml</span>
873:     <span class="ruby-identifier">hash</span>     = { <span class="ruby-identifier">:throw</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:ball</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'red'</span> } }
874:     <span class="ruby-identifier">expected</span> = <span class="ruby-value str">'&lt;person&gt;&lt;throw&gt;&lt;ball&gt;red&lt;/ball&gt;&lt;/throw&gt;&lt;/person&gt;'</span>
875: 
876:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
877:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected</span>, <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
878:     <span class="ruby-keyword kw">end</span>
879:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001853" class="method">
  <div id="M001853_title" class="title">
    <b>test_multiple_records_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001853_source')" id="l_M001853_source">show source</a> ]</p>
  <div id="M001853_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 635</span>
635:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_multiple_records_from_xml</span>
636:     <span class="ruby-identifier">topics_xml</span> = <span class="ruby-value str">&quot;&lt;topics type=\&quot;array\&quot;&gt;\n&lt;topic&gt;\n&lt;title&gt;The First Topic&lt;/title&gt;\n&lt;author-name&gt;David&lt;/author-name&gt;\n&lt;id type=\&quot;integer\&quot;&gt;1&lt;/id&gt;\n&lt;approved type=\&quot;boolean\&quot;&gt;false&lt;/approved&gt;\n&lt;replies-count type=\&quot;integer\&quot;&gt;0&lt;/replies-count&gt;\n&lt;replies-close-in type=\&quot;integer\&quot;&gt;2592000000&lt;/replies-close-in&gt;\n&lt;written-on type=\&quot;date\&quot;&gt;2003-07-16&lt;/written-on&gt;\n&lt;viewed-at type=\&quot;datetime\&quot;&gt;2003-07-16T09:28:00+0000&lt;/viewed-at&gt;\n&lt;content&gt;Have a nice day&lt;/content&gt;\n&lt;author-email-address&gt;david@loudthinking.com&lt;/author-email-address&gt;\n&lt;parent-id nil=\&quot;true\&quot;&gt;&lt;/parent-id&gt;\n&lt;/topic&gt;\n&lt;topic&gt;\n&lt;title&gt;The Second Topic&lt;/title&gt;\n&lt;author-name&gt;Jason&lt;/author-name&gt;\n&lt;id type=\&quot;integer\&quot;&gt;1&lt;/id&gt;\n&lt;approved type=\&quot;boolean\&quot;&gt;false&lt;/approved&gt;\n&lt;replies-count type=\&quot;integer\&quot;&gt;0&lt;/replies-count&gt;\n&lt;replies-close-in type=\&quot;integer\&quot;&gt;2592000000&lt;/replies-close-in&gt;\n&lt;written-on type=\&quot;date\&quot;&gt;2003-07-16&lt;/written-on&gt;\n&lt;viewed-at type=\&quot;datetime\&quot;&gt;2003-07-16T09:28:00+0000&lt;/viewed-at&gt;\n&lt;content&gt;Have a nice day&lt;/content&gt;\n&lt;author-email-address&gt;david@loudthinking.com&lt;/author-email-address&gt;\n&lt;parent-id&gt;&lt;/parent-id&gt;\n&lt;/topic&gt;\n&lt;/topics&gt;\n&quot;</span>
637: 
638:     <span class="ruby-identifier">expected_topic_hash</span> = {
639:       <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;The First Topic&quot;</span>,
640:       <span class="ruby-identifier">:author_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>,
641:       <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
642:       <span class="ruby-identifier">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
643:       <span class="ruby-identifier">:replies_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>,
644:       <span class="ruby-identifier">:replies_close_in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2592000000</span>,
645:       <span class="ruby-identifier">:written_on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">7</span>, <span class="ruby-value">16</span>),
646:       <span class="ruby-identifier">:viewed_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">7</span>, <span class="ruby-value">16</span>, <span class="ruby-value">9</span>, <span class="ruby-value">28</span>),
647:       <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Have a nice day&quot;</span>,
648:       <span class="ruby-identifier">:author_email_address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>,
649:       <span class="ruby-identifier">:parent_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>
650:     }.<span class="ruby-identifier">stringify_keys</span>
651: 
652:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_topic_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">topics_xml</span>)[<span class="ruby-value str">&quot;topics&quot;</span>].<span class="ruby-identifier">first</span>
653:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001833" class="method">
  <div id="M001833_title" class="title">
    <b>test_one_level</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001833_source')" id="l_M001833_source">show source</a> ]</p>
  <div id="M001833_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 411</span>
411:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level</span>
412:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
413:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
414:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street&gt;Paulina&lt;/street&gt;)</span>)
415:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
416:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001839" class="method">
  <div id="M001839_title" class="title">
    <b>test_one_level_camelize_default_false</b>()
  </div>
  <div class="description">
  <p>
camelize=&gt;false is already tested above
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001839_source')" id="l_M001839_source">show source</a> ]</p>
  <div id="M001839_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 463</span>
463:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_camelize_default_false</span>
464:     <span class="ruby-identifier">current_default</span> = <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span>
465:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span> = <span class="ruby-keyword kw">false</span>
466:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:dasherize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>))
467:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
468:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street_name&gt;Paulina&lt;/street_name&gt;)</span>)
469:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
470:     <span class="ruby-keyword kw">ensure</span>
471:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span> = <span class="ruby-identifier">current_default</span>
472:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001840" class="method">
  <div id="M001840_title" class="title">
    <b>test_one_level_camelize_default_true</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001840_source')" id="l_M001840_source">show source</a> ]</p>
  <div id="M001840_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 474</span>
474:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_camelize_default_true</span>
475:     <span class="ruby-identifier">current_default</span> = <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span>
476:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span> = <span class="ruby-keyword kw">true</span>
477:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:dasherize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>))
478:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;Person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
479:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;StreetName&gt;Paulina&lt;/StreetName&gt;)</span>)
480:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;Name&gt;David&lt;/Name&gt;)</span>)
481:     <span class="ruby-keyword kw">ensure</span>
482:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">camelize_xml</span> = <span class="ruby-identifier">current_default</span>
483:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001838" class="method">
  <div id="M001838_title" class="title">
    <b>test_one_level_camelize_true</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001838_source')" id="l_M001838_source">show source</a> ]</p>
  <div id="M001838_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 454</span>
454:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_camelize_true</span>
455:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:camelize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">:dasherize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>))
456:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;Person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
457:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;StreetName&gt;Paulina&lt;/StreetName&gt;)</span>)
458:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;Name&gt;David&lt;/Name&gt;)</span>)
459:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001841" class="method">
  <div id="M001841_title" class="title">
    <b>test_one_level_camelize_true_dasherize_true</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001841_source')" id="l_M001841_source">show source</a> ]</p>
  <div id="M001841_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 485</span>
485:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_camelize_true_dasherize_true</span>
486:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:dasherize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">:camelize=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>))
487:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;Person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
488:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;StreetName&gt;Paulina&lt;/StreetName&gt;)</span>)
489:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;Name&gt;David&lt;/Name&gt;)</span>)
490:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001836" class="method">
  <div id="M001836_title" class="title">
    <b>test_one_level_dasherize_default_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001836_source')" id="l_M001836_source">show source</a> ]</p>
  <div id="M001836_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 432</span>
432:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_dasherize_default_false</span>
433:     <span class="ruby-identifier">current_default</span> = <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span>
434:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span> = <span class="ruby-keyword kw">false</span>
435:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:camelize=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>))
436:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
437:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street_name&gt;Paulina&lt;/street_name&gt;)</span>)
438:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
439:     <span class="ruby-keyword kw">ensure</span>
440:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span> = <span class="ruby-identifier">current_default</span>
441:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001837" class="method">
  <div id="M001837_title" class="title">
    <b>test_one_level_dasherize_default_true</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001837_source')" id="l_M001837_source">show source</a> ]</p>
  <div id="M001837_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 443</span>
443:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_dasherize_default_true</span>
444:     <span class="ruby-identifier">current_default</span> = <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span>
445:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span> = <span class="ruby-keyword kw">true</span>
446:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:camelize=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>))
447:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
448:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street-name&gt;Paulina&lt;/street-name&gt;)</span>)
449:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
450:     <span class="ruby-keyword kw">ensure</span>
451:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">dasherize_xml</span> = <span class="ruby-identifier">current_default</span>
452:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001834" class="method">
  <div id="M001834_title" class="title">
    <b>test_one_level_dasherize_false</b>()
  </div>
  <div class="description">
  <p>
we add :camelize =&gt; false because otherwise we&#8217;d be accidentally
testing the default value for :camelize
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001834_source')" id="l_M001834_source">show source</a> ]</p>
  <div id="M001834_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 418</span>
418:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_dasherize_false</span>
419:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:dasherize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">:camelize=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>))
420:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
421:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street_name&gt;Paulina&lt;/street_name&gt;)</span>)
422:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
423:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001835" class="method">
  <div id="M001835_title" class="title">
    <b>test_one_level_dasherize_true</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001835_source')" id="l_M001835_source">show source</a> ]</p>
  <div id="M001835_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 425</span>
425:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_dasherize_true</span>
426:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:dasherize</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">:camelize=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>))
427:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
428:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street-name&gt;Paulina&lt;/street-name&gt;)</span>)
429:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
430:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001843" class="method">
  <div id="M001843_title" class="title">
    <b>test_one_level_with_nils</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001843_source')" id="l_M001843_source">show source</a> ]</p>
  <div id="M001843_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 503</span>
503:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_with_nils</span>
504:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span>, <span class="ruby-identifier">:age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
505:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
506:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street&gt;Paulina&lt;/street&gt;)</span>)
507:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
508:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;age nil=&quot;true&quot;&gt;&lt;/age&gt;)</span>)
509:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001844" class="method">
  <div id="M001844_title" class="title">
    <b>test_one_level_with_skipping_types</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001844_source')" id="l_M001844_source">show source</a> ]</p>
  <div id="M001844_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 511</span>
511:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_with_skipping_types</span>
512:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span>, <span class="ruby-identifier">:age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:skip_types</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
513:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
514:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street&gt;Paulina&lt;/street&gt;)</span>)
515:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
516:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;age nil=&quot;true&quot;&gt;&lt;/age&gt;)</span>)
517:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001842" class="method">
  <div id="M001842_title" class="title">
    <b>test_one_level_with_types</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001842_source')" id="l_M001842_source">show source</a> ]</p>
  <div id="M001842_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 492</span>
492:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_with_types</span>
493:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span>, <span class="ruby-identifier">:age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">26</span>, <span class="ruby-identifier">:age_in_millis</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">820497600000</span>, <span class="ruby-identifier">:moved_on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">11</span>, <span class="ruby-value">15</span>), <span class="ruby-identifier">:resident</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:yes</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
494:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
495:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street&gt;Paulina&lt;/street&gt;)</span>)
496:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
497:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;age type=&quot;integer&quot;&gt;26&lt;/age&gt;)</span>)
498:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;age-in-millis type=&quot;integer&quot;&gt;820497600000&lt;/age-in-millis&gt;)</span>)
499:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;moved-on type=&quot;date&quot;&gt;2005-11-15&lt;/moved-on&gt;)</span>)
500:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;resident type=&quot;symbol&quot;&gt;yes&lt;/resident&gt;)</span>)
501:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001845" class="method">
  <div id="M001845_title" class="title">
    <b>test_one_level_with_yielding</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001845_source')" id="l_M001845_source">show source</a> ]</p>
  <div id="M001845_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 519</span>
519:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_one_level_with_yielding</span>
520:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
521:       <span class="ruby-identifier">x</span>.<span class="ruby-identifier">creator</span>(<span class="ruby-value str">&quot;Rails&quot;</span>)
522:     <span class="ruby-keyword kw">end</span>
523: 
524:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
525:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;street&gt;Paulina&lt;/street&gt;)</span>)
526:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
527:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;creator&gt;Rails&lt;/creator&gt;)</span>)
528:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001872" class="method">
  <div id="M001872_title" class="title">
    <b>test_roundtrip_to_xml_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001872_source')" id="l_M001872_source">show source</a> ]</p>
  <div id="M001872_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 906</span>
906:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_roundtrip_to_xml_from_xml</span>
907:     <span class="ruby-identifier">hash</span> = { 
908:       <span class="ruby-identifier">:bare_string</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'First &amp; Last Name'</span>, 
909:       <span class="ruby-identifier">:pre_escaped_string</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'First &amp;amp; Last Name'</span>
910:     }.<span class="ruby-identifier">stringify_keys</span>
911: 
912:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>))[<span class="ruby-value str">'person'</span>]
913:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001867" class="method">
  <div id="M001867_title" class="title">
    <b>test_should_copy_the_default_value_when_converting_to_hash_with_indifferent_access</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001867_source')" id="l_M001867_source">show source</a> ]</p>
  <div id="M001867_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 864</span>
864:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_copy_the_default_value_when_converting_to_hash_with_indifferent_access</span>
865:     <span class="ruby-identifier">hash</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">3</span>)
866:     <span class="ruby-identifier">hash_wia</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">with_indifferent_access</span>
867:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">hash_wia</span>.<span class="ruby-identifier">default</span>
868:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001866" class="method">
  <div id="M001866_title" class="title">
    <b>test_should_nil_if_no_default_value_is_supplied</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001866_source')" id="l_M001866_source">show source</a> ]</p>
  <div id="M001866_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 859</span>
859:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_nil_if_no_default_value_is_supplied</span>
860:     <span class="ruby-identifier">hash_wia</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>
861:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">hash_wia</span>.<span class="ruby-identifier">default</span>
862:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001864" class="method">
  <div id="M001864_title" class="title">
    <b>test_should_use_default_value_for_unknown_key</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001864_source')" id="l_M001864_source">show source</a> ]</p>
  <div id="M001864_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 849</span>
849:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_use_default_value_for_unknown_key</span>
850:     <span class="ruby-identifier">hash_wia</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">3</span>)
851:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">hash_wia</span>[<span class="ruby-identifier">:new_key</span>]
852:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001865" class="method">
  <div id="M001865_title" class="title">
    <b>test_should_use_default_value_if_no_key_is_supplied</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001865_source')" id="l_M001865_source">show source</a> ]</p>
  <div id="M001865_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 854</span>
854:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_should_use_default_value_if_no_key_is_supplied</span>
855:     <span class="ruby-identifier">hash_wia</span> = <span class="ruby-constant">HashWithIndifferentAccess</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">3</span>)
856:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">hash_wia</span>.<span class="ruby-identifier">default</span>
857:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001851" class="method">
  <div id="M001851_title" class="title">
    <b>test_single_record_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001851_source')" id="l_M001851_source">show source</a> ]</p>
  <div id="M001851_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 567</span>
567:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_single_record_from_xml</span>
568:     <span class="ruby-identifier">topic_xml</span> = <span class="ruby-value str">&quot;&lt;topic&gt;\n&lt;title&gt;The First Topic&lt;/title&gt;\n&lt;author-name&gt;David&lt;/author-name&gt;\n&lt;id type=\&quot;integer\&quot;&gt;1&lt;/id&gt;\n&lt;approved type=\&quot;boolean\&quot;&gt; true &lt;/approved&gt;\n&lt;replies-count type=\&quot;integer\&quot;&gt;0&lt;/replies-count&gt;\n&lt;replies-close-in type=\&quot;integer\&quot;&gt;2592000000&lt;/replies-close-in&gt;\n&lt;written-on type=\&quot;date\&quot;&gt;2003-07-16&lt;/written-on&gt;\n&lt;viewed-at type=\&quot;datetime\&quot;&gt;2003-07-16T09:28:00+0000&lt;/viewed-at&gt;\n&lt;content type=\&quot;yaml\&quot;&gt;--- \\n1: should be an integer\\n:message: Have a nice day\\narray: \\n- should-have-dashes: true\\n  should_have_underscores: true\\n&lt;/content&gt;\n&lt;author-email-address&gt;david@loudthinking.com&lt;/author-email-address&gt;\n&lt;parent-id&gt;&lt;/parent-id&gt;\n&lt;ad-revenue type=\&quot;decimal\&quot;&gt;1.5&lt;/ad-revenue&gt;\n&lt;optimum-viewing-angle type=\&quot;float\&quot;&gt;135&lt;/optimum-viewing-angle&gt;\n&lt;resident type=\&quot;symbol\&quot;&gt;yes&lt;/resident&gt;\n&lt;/topic&gt;\n&quot;</span>
569: 
570:     <span class="ruby-identifier">expected_topic_hash</span> = {
571:       <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;The First Topic&quot;</span>,
572:       <span class="ruby-identifier">:author_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>,
573:       <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
574:       <span class="ruby-identifier">:approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
575:       <span class="ruby-identifier">:replies_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>,
576:       <span class="ruby-identifier">:replies_close_in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2592000000</span>,
577:       <span class="ruby-identifier">:written_on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">7</span>, <span class="ruby-value">16</span>),
578:       <span class="ruby-identifier">:viewed_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">7</span>, <span class="ruby-value">16</span>, <span class="ruby-value">9</span>, <span class="ruby-value">28</span>),
579:       <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Have a nice day&quot;</span>, <span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;should be an integer&quot;</span>, <span class="ruby-value str">&quot;array&quot;</span> =<span class="ruby-operator">&gt;</span> [{ <span class="ruby-value str">&quot;should-have-dashes&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-value str">&quot;should_have_underscores&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> }] },
580:       <span class="ruby-identifier">:author_email_address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;david@loudthinking.com&quot;</span>,
581:       <span class="ruby-identifier">:parent_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
582:       <span class="ruby-identifier">:ad_revenue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">BigDecimal</span>(<span class="ruby-value str">&quot;1.50&quot;</span>),
583:       <span class="ruby-identifier">:optimum_viewing_angle</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">135.0</span>,
584:       <span class="ruby-identifier">:resident</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:yes</span>
585:     }.<span class="ruby-identifier">stringify_keys</span>
586: 
587:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_topic_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">topic_xml</span>)[<span class="ruby-value str">&quot;topic&quot;</span>]
588:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001854" class="method">
  <div id="M001854_title" class="title">
    <b>test_single_record_from_xml_with_attributes_other_than_type</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001854_source')" id="l_M001854_source">show source</a> ]</p>
  <div id="M001854_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 685</span>
685:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_single_record_from_xml_with_attributes_other_than_type</span>
686:     <span class="ruby-identifier">topic_xml</span> = <span class="ruby-value str">&quot;&lt;rsp stat=\&quot;ok\&quot;&gt;\n&lt;photos page=\&quot;1\&quot; pages=\&quot;1\&quot; perpage=\&quot;100\&quot; total=\&quot;16\&quot;&gt;\n&lt;photo id=\&quot;175756086\&quot; owner=\&quot;55569174@N00\&quot; secret=\&quot;0279bf37a1\&quot; server=\&quot;76\&quot; title=\&quot;Colored Pencil PhotoBooth Fun\&quot; ispublic=\&quot;1\&quot; isfriend=\&quot;0\&quot; isfamily=\&quot;0\&quot;/&gt;\n&lt;/photos&gt;\n&lt;/rsp&gt;\n&quot;</span>
687: 
688:     <span class="ruby-identifier">expected_topic_hash</span> = {
689:       <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;175756086&quot;</span>,
690:       <span class="ruby-identifier">:owner</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;55569174@N00&quot;</span>,
691:       <span class="ruby-identifier">:secret</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;0279bf37a1&quot;</span>,
692:       <span class="ruby-identifier">:server</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;76&quot;</span>,
693:       <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Colored Pencil PhotoBooth Fun&quot;</span>,
694:       <span class="ruby-identifier">:ispublic</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;1&quot;</span>,
695:       <span class="ruby-identifier">:isfriend</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;0&quot;</span>,
696:       <span class="ruby-identifier">:isfamily</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;0&quot;</span>,
697:     }.<span class="ruby-identifier">stringify_keys</span>
698: 
699:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_topic_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">topic_xml</span>)[<span class="ruby-value str">&quot;rsp&quot;</span>][<span class="ruby-value str">&quot;photos&quot;</span>][<span class="ruby-value str">&quot;photo&quot;</span>]
700:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001852" class="method">
  <div id="M001852_title" class="title">
    <b>test_single_record_from_xml_with_nil_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001852_source')" id="l_M001852_source">show source</a> ]</p>
  <div id="M001852_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 608</span>
608:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_single_record_from_xml_with_nil_values</span>
609:     <span class="ruby-identifier">topic_xml</span> = <span class="ruby-value str">&quot;&lt;topic&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;id type=\&quot;integer\&quot;&gt;&lt;/id&gt;\n&lt;approved type=\&quot;boolean\&quot;&gt;&lt;/approved&gt;\n&lt;written-on type=\&quot;date\&quot;&gt;&lt;/written-on&gt;\n&lt;viewed-at type=\&quot;datetime\&quot;&gt;&lt;/viewed-at&gt;\n&lt;content type=\&quot;yaml\&quot;&gt;&lt;/content&gt;\n&lt;parent-id&gt;&lt;/parent-id&gt;\n&lt;/topic&gt;\n&quot;</span>
610: 
611:     <span class="ruby-identifier">expected_topic_hash</span> = {
612:       <span class="ruby-identifier">:title</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>, 
613:       <span class="ruby-identifier">:id</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
614:       <span class="ruby-identifier">:approved</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
615:       <span class="ruby-identifier">:written_on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
616:       <span class="ruby-identifier">:viewed_at</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
617:       <span class="ruby-identifier">:content</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>, 
618:       <span class="ruby-identifier">:parent_id</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>
619:     }.<span class="ruby-identifier">stringify_keys</span>
620: 
621:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_topic_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">topic_xml</span>)[<span class="ruby-value str">&quot;topic&quot;</span>]
622:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001849" class="method">
  <div id="M001849_title" class="title">
    <b>test_three_levels_with_array</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001849_source')" id="l_M001849_source">show source</a> ]</p>
  <div id="M001849_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 553</span>
553:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_three_levels_with_array</span>
554:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:addresses</span> =<span class="ruby-operator">&gt;</span> [{ <span class="ruby-identifier">:streets</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }, { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> } ] } ] }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
555:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;addresses type=&quot;array&quot;&gt;&lt;address&gt;&lt;streets type=&quot;array&quot;&gt;&lt;street&gt;&lt;name&gt;)</span>)
556:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001850" class="method">
  <div id="M001850_title" class="title">
    <b>test_timezoned_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001850_source')" id="l_M001850_source">show source</a> ]</p>
  <div id="M001850_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 558</span>
558:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_timezoned_attributes</span>
559:     <span class="ruby-identifier">xml</span> = {
560:       <span class="ruby-identifier">:created_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">2</span>,<span class="ruby-value">2</span>),
561:       <span class="ruby-identifier">:local_created_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">2</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>)
562:     }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
563:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">%r{&lt;created-at type=\&quot;datetime\&quot;&gt;1999-02-02T00:00:00Z&lt;/created-at&gt;}</span>, <span class="ruby-identifier">xml</span>
564:     <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">%r{&lt;local-created-at type=\&quot;datetime\&quot;&gt;1999-02-01T19:00:00-05:00&lt;/local-created-at&gt;}</span>, <span class="ruby-identifier">xml</span>
565:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001873" class="method">
  <div id="M001873_title" class="title">
    <b>test_to_xml_dups_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001873_source')" id="l_M001873_source">show source</a> ]</p>
  <div id="M001873_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 915</span>
915:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_xml_dups_options</span>
916:     <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:skip_instruct</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}
917:     {}.<span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">options</span>)
918:     <span class="ruby-comment cmt"># :builder, etc, shouldn't be added to options</span>
919:     <span class="ruby-identifier">assert_equal</span>({<span class="ruby-identifier">:skip_instruct</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}, <span class="ruby-identifier">options</span>)
920:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001846" class="method">
  <div id="M001846_title" class="title">
    <b>test_two_levels</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001846_source')" id="l_M001846_source">show source</a> ]</p>
  <div id="M001846_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 530</span>
530:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_two_levels</span>
531:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:address</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> } }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
532:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
533:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;address&gt;&lt;street&gt;Paulina&lt;/street&gt;&lt;/address&gt;)</span>)
534:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
535:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001848" class="method">
  <div id="M001848_title" class="title">
    <b>test_two_levels_with_array</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001848_source')" id="l_M001848_source">show source</a> ]</p>
  <div id="M001848_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 544</span>
544:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_two_levels_with_array</span>
545:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:addresses</span> =<span class="ruby-operator">&gt;</span> [{ <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }, { <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Evergreen&quot;</span> }] }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
546:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
547:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;addresses type=&quot;array&quot;&gt;&lt;address&gt;)</span>)
548:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;address&gt;&lt;street&gt;Paulina&lt;/street&gt;&lt;/address&gt;)</span>)
549:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;address&gt;&lt;street&gt;Evergreen&lt;/street&gt;&lt;/address&gt;)</span>)
550:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;name&gt;David&lt;/name&gt;)</span>)
551:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001847" class="method">
  <div id="M001847_title" class="title">
    <b>test_two_levels_with_second_level_overriding_to_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001847_source')" id="l_M001847_source">show source</a> ]</p>
  <div id="M001847_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 537</span>
537:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_two_levels_with_second_level_overriding_to_xml</span>
538:     <span class="ruby-identifier">xml</span> = { <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>, <span class="ruby-identifier">:address</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:street</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Paulina&quot;</span> }, <span class="ruby-identifier">:child</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">IWriteMyOwnXML</span>.<span class="ruby-identifier">new</span> }.<span class="ruby-identifier">to_xml</span>(<span class="ruby-ivar">@xml_options</span>)
539:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;person&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value">8</span>)
540:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;address&gt;&lt;street&gt;Paulina&lt;/street&gt;&lt;/address&gt;)</span>)
541:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">%(&lt;level_one&gt;&lt;second_level&gt;content&lt;/second_level&gt;&lt;/level_one&gt;)</span>)
542:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001863" class="method">
  <div id="M001863_title" class="title">
    <b>test_type_trickles_through_when_unknown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001863_source')" id="l_M001863_source">show source</a> ]</p>
  <div id="M001863_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 831</span>
831:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_type_trickles_through_when_unknown</span>
832:     <span class="ruby-identifier">product_xml</span> = <span class="ruby-value str">&quot;&lt;product&gt;\n&lt;weight type=\&quot;double\&quot;&gt;0.5&lt;/weight&gt;\n&lt;image type=\&quot;ProductImage\&quot;&gt;&lt;filename&gt;image.gif&lt;/filename&gt;&lt;/image&gt;\n\n&lt;/product&gt;\n&quot;</span>
833: 
834:     <span class="ruby-identifier">expected_product_hash</span> = {
835:       <span class="ruby-identifier">:weight</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span><span class="ruby-value">.5</span>,
836:       <span class="ruby-identifier">:image</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value str">'type'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'ProductImage'</span>, <span class="ruby-value str">'filename'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'image.gif'</span> },
837:     }.<span class="ruby-identifier">stringify_keys</span>
838: 
839:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_product_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">product_xml</span>)[<span class="ruby-value str">&quot;product&quot;</span>]    
840:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001871" class="method">
  <div id="M001871_title" class="title">
    <b>test_unescaping_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001871_source')" id="l_M001871_source">show source</a> ]</p>
  <div id="M001871_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 897</span>
897:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_unescaping_from_xml</span>
898:     <span class="ruby-identifier">xml_string</span> = <span class="ruby-value str">'&lt;person&gt;&lt;bare-string&gt;First &amp;amp; Last Name&lt;/bare-string&gt;&lt;pre-escaped-string&gt;First &amp;amp;amp; Last Name&lt;/pre-escaped-string&gt;&lt;/person&gt;'</span>
899:     <span class="ruby-identifier">expected_hash</span> = { 
900:       <span class="ruby-identifier">:bare_string</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'First &amp; Last Name'</span>, 
901:       <span class="ruby-identifier">:pre_escaped_string</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'First &amp;amp; Last Name'</span>
902:     }.<span class="ruby-identifier">stringify_keys</span>
903:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">xml_string</span>)[<span class="ruby-value str">'person'</span>]
904:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001862" class="method">
  <div id="M001862_title" class="title">
    <b>test_xsd_like_types_from_xml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001862_source')" id="l_M001862_source">show source</a> ]</p>
  <div id="M001862_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/hash_ext_test.rb, line 806</span>
806:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xsd_like_types_from_xml</span>
807:     <span class="ruby-identifier">bacon_xml</span> = <span class="ruby-value str">&quot;&lt;bacon&gt;\n&lt;weight type=\&quot;double\&quot;&gt;0.5&lt;/weight&gt;\n&lt;price type=\&quot;decimal\&quot;&gt;12.50&lt;/price&gt;\n&lt;chunky type=\&quot;boolean\&quot;&gt; 1 &lt;/chunky&gt;\n&lt;expires-at type=\&quot;dateTime\&quot;&gt;2007-12-25T12:34:56+0000&lt;/expires-at&gt;\n&lt;notes type=\&quot;string\&quot;&gt;&lt;/notes&gt;\n&lt;illustration type=\&quot;base64Binary\&quot;&gt;YmFiZS5wbmc=&lt;/illustration&gt;\n&lt;/bacon&gt;\n&quot;</span>
808: 
809:     <span class="ruby-identifier">expected_bacon_hash</span> = {
810:       <span class="ruby-identifier">:weight</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span><span class="ruby-value">.5</span>,
811:       <span class="ruby-identifier">:chunky</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
812:       <span class="ruby-identifier">:price</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">BigDecimal</span>(<span class="ruby-value str">&quot;12.50&quot;</span>),
813:       <span class="ruby-identifier">:expires_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">12</span>,<span class="ruby-value">25</span>,<span class="ruby-value">12</span>,<span class="ruby-value">34</span>,<span class="ruby-value">56</span>),
814:       <span class="ruby-identifier">:notes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>,
815:       <span class="ruby-identifier">:illustration</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;babe.png&quot;</span>
816:     }.<span class="ruby-identifier">stringify_keys</span>
817: 
818:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expected_bacon_hash</span>, <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">from_xml</span>(<span class="ruby-identifier">bacon_xml</span>)[<span class="ruby-value str">&quot;bacon&quot;</span>]
819:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>