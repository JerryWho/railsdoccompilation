  <div id="C00000971">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />GeneratorTestCase<br/>
  In:
<a href="#" onclick="jsHref('files/railties/test/generators/generator_test_helper_rb.html');">railties/test/generators/generator_test_helper.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M006919&name=assert_added_route_for" >assert_added_route_for</a></li>
  <li><a href="index.html?a=M006909&name=assert_file_exists" >assert_file_exists</a></li>
  <li><a href="index.html?a=M006910&name=assert_generated_class" >assert_generated_class</a></li>
  <li><a href="index.html?a=M006921&name=assert_generated_column" >assert_generated_column</a></li>
  <li><a href="index.html?a=M006902&name=assert_generated_controller_for" >assert_generated_controller_for</a></li>
  <li><a href="index.html?a=M006908&name=assert_generated_file" >assert_generated_file</a></li>
  <li><a href="index.html?a=M006915&name=assert_generated_fixtures_for" >assert_generated_fixtures_for</a></li>
  <li><a href="index.html?a=M006905&name=assert_generated_functional_test_for" >assert_generated_functional_test_for</a></li>
  <li><a href="index.html?a=M006904&name=assert_generated_helper_for" >assert_generated_helper_for</a></li>
  <li><a href="index.html?a=M006906&name=assert_generated_helper_test_for" >assert_generated_helper_test_for</a></li>
  <li><a href="index.html?a=M006917&name=assert_generated_migration" >assert_generated_migration</a></li>
  <li><a href="index.html?a=M006903&name=assert_generated_model_for" >assert_generated_model_for</a></li>
  <li><a href="index.html?a=M006912&name=assert_generated_module" >assert_generated_module</a></li>
  <li><a href="index.html?a=M006913&name=assert_generated_stylesheet" >assert_generated_stylesheet</a></li>
  <li><a href="index.html?a=M006922&name=assert_generated_table" >assert_generated_table</a></li>
  <li><a href="index.html?a=M006907&name=assert_generated_unit_test_for" >assert_generated_unit_test_for</a></li>
  <li><a href="index.html?a=M006916&name=assert_generated_views_for" >assert_generated_views_for</a></li>
  <li><a href="index.html?a=M006914&name=assert_generated_yaml" >assert_generated_yaml</a></li>
  <li><a href="index.html?a=M006920&name=assert_has_method" >assert_has_method</a></li>
  <li><a href="index.html?a=M006918&name=assert_skipped_migration" >assert_skipped_migration</a></li>
  <li><a href="index.html?a=M006899&name=build_generator" >build_generator</a></li>
  <li><a href="index.html?a=M006911&name=class_name_from_path" >class_name_from_path</a></li>
  <li><a href="index.html?a=M006900&name=run_generator" >run_generator</a></li>
  <li><a href="index.html?a=M006896&name=setup" >setup</a></li>
  <li><a href="index.html?a=M006901&name=silence_generator" >silence_generator</a></li>
  <li><a href="index.html?a=M006897&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M006898&name=test_truth" >test_truth</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('');">FileUtils</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div id="M006919" class="method">
  <div id="M006919_title" class="title">
    <b>assert_added_route_for</b>(name)
  </div>
  <div class="description">
  <p>
Asserts that the given resource was added to the routes.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006919_source')" id="l_M006919_source">show source</a> ]</p>
  <div id="M006919_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 284</span>
284:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_added_route_for</span>(<span class="ruby-identifier">name</span>)
285:     <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-value str">&quot;config/routes.rb&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
286:       <span class="ruby-identifier">assert_match</span> <span class="ruby-node">/map.resources :#{name.to_s.underscore}/</span>, <span class="ruby-identifier">body</span>,
287:         <span class="ruby-node">&quot;should add route for :#{name.to_s.underscore}&quot;</span>
288:     <span class="ruby-keyword kw">end</span>
289:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006909" class="method">
  <div id="M006909_title" class="title">
    <b>assert_file_exists</b>(path)
  </div>
  <div class="description">
  <p>
asserts that the given file exists
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006909_source')" id="l_M006909_source">show source</a> ]</p>
  <div id="M006909_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_file_exists</span>(<span class="ruby-identifier">path</span>)
181:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/#{path}&quot;</span>),
182:       <span class="ruby-node">&quot;The file '#{RAILS_ROOT}/#{path}' should exist&quot;</span>
183:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006910" class="method">
  <div id="M006910_title" class="title">
    <b>assert_generated_class</b>(path, parent = nil, class_name = class_name_from_path(path)) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given class source file was generated. It takes a path
without the <tt>.rb</tt> part and an optional super class. The contents of
the class source file is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006910_source')" id="l_M006910_source">show source</a> ]</p>
  <div id="M006910_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_class</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">class_name</span> = <span class="ruby-identifier">class_name_from_path</span>(<span class="ruby-identifier">path</span>))
189:     <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-node">&quot;#{path}.rb&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
190:       <span class="ruby-identifier">assert_match</span> <span class="ruby-node">/class #{class_name}#{parent.nil? ? '':&quot; &lt; #{parent}&quot;}/</span>, <span class="ruby-identifier">body</span>, <span class="ruby-node">&quot;the file '#{path}.rb' should be a class&quot;</span>
191:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
192:     <span class="ruby-keyword kw">end</span>
193:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006921" class="method">
  <div id="M006921_title" class="title">
    <b>assert_generated_column</b>(body, name, type)
  </div>
  <div class="description">
  <p>
Asserts that the given column is defined in the migration.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006921_source')" id="l_M006921_source">show source</a> ]</p>
  <div id="M006921_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 302</span>
302:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_column</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">type</span>)
303:     <span class="ruby-identifier">assert_match</span> <span class="ruby-node">/t\.#{type.to_s} :#{name.to_s}/</span>, <span class="ruby-identifier">body</span>, <span class="ruby-node">&quot;should have column #{name.to_s} defined&quot;</span>
304:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006902" class="method">
  <div id="M006902_title" class="title">
    <b>assert_generated_controller_for</b>(name, parent = &quot;ApplicationController&quot;) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given controller was generated. It takes a name or symbol
without the <tt>_controller</tt> part and an optional super class. The
contents of the class source file is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006902_source')" id="l_M006902_source">show source</a> ]</p>
  <div id="M006902_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_controller_for</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ApplicationController&quot;</span>)
116:     <span class="ruby-identifier">assert_generated_class</span> <span class="ruby-node">&quot;app/controllers/#{name.to_s.underscore}_controller&quot;</span>, <span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
117:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
118:     <span class="ruby-keyword kw">end</span>
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006908" class="method">
  <div id="M006908_title" class="title">
    <b>assert_generated_file</b>(path) {|f.read if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given file was generated. The contents of the file is
passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006908_source')" id="l_M006908_source">show source</a> ]</p>
  <div id="M006908_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 172</span>
172:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-identifier">path</span>)
173:     <span class="ruby-identifier">assert_file_exists</span>(<span class="ruby-identifier">path</span>)
174:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/#{path}&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
175:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
176:     <span class="ruby-keyword kw">end</span>
177:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006915" class="method">
  <div id="M006915_title" class="title">
    <b>assert_generated_fixtures_for</b>(name) {|yaml if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given fixtures YAML file was generated. It takes a fixture
name without the <tt>.yml</tt> part. The parsed YAML tree is passed to a
block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006915_source')" id="l_M006915_source">show source</a> ]</p>
  <div id="M006915_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 248</span>
248:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_fixtures_for</span>(<span class="ruby-identifier">name</span>)
249:     <span class="ruby-identifier">assert_generated_yaml</span> <span class="ruby-node">&quot;test/fixtures/#{name.to_s.underscore}&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">yaml</span><span class="ruby-operator">|</span>
250:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">yaml</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
251:     <span class="ruby-keyword kw">end</span>
252:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006905" class="method">
  <div id="M006905_title" class="title">
    <b>assert_generated_functional_test_for</b>(name, parent = &quot;ActionController::TestCase&quot;) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given functional test was generated. It takes a name or
symbol without the <tt>_controller_test</tt> part and an optional super
class. The contents of the class source file is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006905_source')" id="l_M006905_source">show source</a> ]</p>
  <div id="M006905_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 142</span>
142:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_functional_test_for</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ActionController::TestCase&quot;</span>)
143:     <span class="ruby-identifier">assert_generated_class</span> <span class="ruby-node">&quot;test/functional/#{name.to_s.underscore}_controller_test&quot;</span>,<span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
144:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
145:     <span class="ruby-keyword kw">end</span>
146:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006904" class="method">
  <div id="M006904_title" class="title">
    <b>assert_generated_helper_for</b>(name) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given helper was generated. It takes a name or symbol
without the <tt>_helper</tt> part. The contents of the module source file
is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006904_source')" id="l_M006904_source">show source</a> ]</p>
  <div id="M006904_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_helper_for</span>(<span class="ruby-identifier">name</span>)
134:     <span class="ruby-identifier">assert_generated_module</span> <span class="ruby-node">&quot;app/helpers/#{name.to_s.underscore}_helper&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
135:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
136:     <span class="ruby-keyword kw">end</span>
137:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006906" class="method">
  <div id="M006906_title" class="title">
    <b>assert_generated_helper_test_for</b>(name, parent = &quot;ActionView::TestCase&quot;) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given helper test test was generated. It takes a name or
symbol without the <tt>_helper_test</tt> part and an optional super class.
The contents of the class source file is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006906_source')" id="l_M006906_source">show source</a> ]</p>
  <div id="M006906_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 151</span>
151:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_helper_test_for</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ActionView::TestCase&quot;</span>)
152:     <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;test/unit/helpers/#{name.to_s.underscore}_helper_test&quot;</span>
153:     <span class="ruby-comment cmt"># Have to pass the path without the &quot;test/&quot; part so that class_name_from_path will return a correct result</span>
154:     <span class="ruby-identifier">class_name</span> = <span class="ruby-identifier">class_name_from_path</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^test\//</span>, <span class="ruby-value str">''</span>))
155: 
156:     <span class="ruby-identifier">assert_generated_class</span> <span class="ruby-identifier">path</span>,<span class="ruby-identifier">parent</span>,<span class="ruby-identifier">class_name</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
157:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
158:     <span class="ruby-keyword kw">end</span>
159:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006917" class="method">
  <div id="M006917_title" class="title">
    <b>assert_generated_migration</b>(name, parent = &quot;ActiveRecord::Migration&quot;) {|body if block_given?| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006917_source')" id="l_M006917_source">show source</a> ]</p>
  <div id="M006917_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 265</span>
265:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_migration</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ActiveRecord::Migration&quot;</span>)
266:     <span class="ruby-identifier">file</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/db/migrate/*_#{name.to_s.underscore}.rb&quot;</span>).<span class="ruby-identifier">first</span>
267:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">file</span>.<span class="ruby-identifier">nil?</span>, <span class="ruby-value str">&quot;should have generated the migration file but didn't&quot;</span>
268: 
269:     <span class="ruby-identifier">file</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/db\/migrate\/[0-9]+_\w+/</span>).<span class="ruby-identifier">to_s</span>
270:     <span class="ruby-identifier">assert_generated_class</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
271:       <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp re">/timestamps/</span>, <span class="ruby-identifier">body</span>, <span class="ruby-value str">&quot;should have timestamps defined&quot;</span>
272:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
273:     <span class="ruby-keyword kw">end</span>
274:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006903" class="method">
  <div id="M006903_title" class="title">
    <b>assert_generated_model_for</b>(name, parent = &quot;ActiveRecord::Base&quot;) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given model was generated. It takes a name or symbol and
an optional super class. The contents of the class source file is passed to
a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006903_source')" id="l_M006903_source">show source</a> ]</p>
  <div id="M006903_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 124</span>
124:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_model_for</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ActiveRecord::Base&quot;</span>)
125:     <span class="ruby-identifier">assert_generated_class</span> <span class="ruby-node">&quot;app/models/#{name.to_s.underscore}&quot;</span>, <span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
126:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
127:     <span class="ruby-keyword kw">end</span>
128:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006912" class="method">
  <div id="M006912_title" class="title">
    <b>assert_generated_module</b>(path) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given module source file was generated. It takes a path
without the <tt>.rb</tt> part. The contents of the class source file is
passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006912_source')" id="l_M006912_source">show source</a> ]</p>
  <div id="M006912_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 209</span>
209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_module</span>(<span class="ruby-identifier">path</span>)
210:     <span class="ruby-comment cmt"># FIXME: Sucky way to detect namespaced modules</span>
211:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'/'</span>).<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
212:       <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\/?(\w+)\/(\w+)$/</span>
213:       <span class="ruby-identifier">module_name</span> = <span class="ruby-node">&quot;#{$1.camelize}::#{$2.camelize}&quot;</span>
214:     <span class="ruby-keyword kw">else</span>
215:       <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\/?(\w+)$/</span>
216:       <span class="ruby-identifier">module_name</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">camelize</span>
217:     <span class="ruby-keyword kw">end</span>
218: 
219:     <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-node">&quot;#{path}.rb&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
220:       <span class="ruby-identifier">assert_match</span> <span class="ruby-node">/module #{module_name}/</span>, <span class="ruby-identifier">body</span>, <span class="ruby-node">&quot;the file '#{path}.rb' should be a module&quot;</span>
221:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
222:     <span class="ruby-keyword kw">end</span>
223:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006913" class="method">
  <div id="M006913_title" class="title">
    <b>assert_generated_stylesheet</b>(path) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given CSS stylesheet file was generated. It takes a path
without the <tt>.css</tt> part. The contents of the stylesheet source file
is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006913_source')" id="l_M006913_source">show source</a> ]</p>
  <div id="M006913_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 228</span>
228:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_stylesheet</span>(<span class="ruby-identifier">path</span>)
229:     <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-node">&quot;public/stylesheets/#{path}.css&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
230:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
231:     <span class="ruby-keyword kw">end</span>
232:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006922" class="method">
  <div id="M006922_title" class="title">
    <b>assert_generated_table</b>(body, name)
  </div>
  <div class="description">
  <p>
Asserts that the given table is defined in the migration.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006922_source')" id="l_M006922_source">show source</a> ]</p>
  <div id="M006922_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 307</span>
307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_table</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">name</span>)
308:     <span class="ruby-identifier">assert_match</span> <span class="ruby-node">/create_table :#{name.to_s} do/</span>, <span class="ruby-identifier">body</span>, <span class="ruby-node">&quot;should have table #{name.to_s} defined&quot;</span>
309:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006907" class="method">
  <div id="M006907_title" class="title">
    <b>assert_generated_unit_test_for</b>(name, parent = &quot;ActiveSupport::TestCase&quot;) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given unit test was generated. It takes a name or symbol
without the <tt>_test</tt> part and an optional super class. The contents
of the class source file is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006907_source')" id="l_M006907_source">show source</a> ]</p>
  <div id="M006907_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 164</span>
164:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_unit_test_for</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ActiveSupport::TestCase&quot;</span>)
165:     <span class="ruby-identifier">assert_generated_class</span> <span class="ruby-node">&quot;test/unit/#{name.to_s.underscore}_test&quot;</span>, <span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
166:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
167:     <span class="ruby-keyword kw">end</span>
168:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006916" class="method">
  <div id="M006916_title" class="title">
    <b>assert_generated_views_for</b>(name, *actions) {|body if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given views were generated. It takes a controller name and
a list of views (including extensions). The body of each view is passed to
a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006916_source')" id="l_M006916_source">show source</a> ]</p>
  <div id="M006916_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 257</span>
257:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_views_for</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">actions</span>)
258:     <span class="ruby-identifier">actions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">action</span><span class="ruby-operator">|</span>
259:       <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-node">&quot;app/views/#{name.to_s.underscore}/#{action}&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
260:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">body</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
261:       <span class="ruby-keyword kw">end</span>
262:     <span class="ruby-keyword kw">end</span>
263:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006914" class="method">
  <div id="M006914_title" class="title">
    <b>assert_generated_yaml</b>(path) {|yaml if block_given?| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given YAML file was generated. It takes a path without the
<tt>.yml</tt> part. The parsed YAML tree is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006914_source')" id="l_M006914_source">show source</a> ]</p>
  <div id="M006914_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 237</span>
237:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_generated_yaml</span>(<span class="ruby-identifier">path</span>)
238:     <span class="ruby-identifier">assert_generated_file</span>(<span class="ruby-node">&quot;#{path}.yml&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">body</span><span class="ruby-operator">|</span>
239:       <span class="ruby-identifier">yaml</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">body</span>)
240:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">yaml</span>, <span class="ruby-value str">'YAML data missing'</span>
241:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">yaml</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
242:     <span class="ruby-keyword kw">end</span>
243:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006920" class="method">
  <div id="M006920_title" class="title">
    <b>assert_has_method</b>(body, *methods) {|name, $2| ...}
  </div>
  <div class="description">
  <p>
Asserts that the given methods are defined in the body. This does assume
standard rails code conventions with regards to the source code. The body
of each individual method is passed to a block.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006920_source')" id="l_M006920_source">show source</a> ]</p>
  <div id="M006920_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_has_method</span>(<span class="ruby-identifier">body</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
295:     <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
296:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">body</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^  def #{name}(\(.+\))?\n((\n|   .*\n)*)  end/</span>, <span class="ruby-node">&quot;should have method #{name}&quot;</span>
297:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">$2</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
298:     <span class="ruby-keyword kw">end</span>
299:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006918" class="method">
  <div id="M006918_title" class="title">
    <b>assert_skipped_migration</b>(name)
  </div>
  <div class="description">
  <p>
Asserts that the given migration file was not generated. It takes the name
of the migration as a parameter.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006918_source')" id="l_M006918_source">show source</a> ]</p>
  <div id="M006918_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 278</span>
278:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_skipped_migration</span>(<span class="ruby-identifier">name</span>)
279:     <span class="ruby-identifier">migration_file</span> = <span class="ruby-node">&quot;#{RAILS_ROOT}/db/migrate/001_#{name.to_s.underscore}.rb&quot;</span>
280:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">migration_file</span>), <span class="ruby-node">&quot;should not create migration #{migration_file}&quot;</span>
281:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006899" class="method">
  <div id="M006899_title" class="title">
    <b>build_generator</b>(name, params)
  </div>
  <div class="description">
  <p>
Instantiates the Generator.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006899_source')" id="l_M006899_source">show source</a> ]</p>
  <div id="M006899_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 91</span>
91:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_generator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">params</span>)
92:     <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">instance</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">params</span>)
93:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006911" class="method">
  <div id="M006911_title" class="title">
    <b>class_name_from_path</b>(path)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006911_source')" id="l_M006911_source">show source</a> ]</p>
  <div id="M006911_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 195</span>
195:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_name_from_path</span>(<span class="ruby-identifier">path</span>)
196:     <span class="ruby-comment cmt"># FIXME: Sucky way to detect namespaced classes</span>
197:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'/'</span>).<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
198:       <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\/?(\d+_)?(\w+)\/(\w+)$/</span>
199:       <span class="ruby-node">&quot;#{$2.camelize}::#{$3.camelize}&quot;</span>
200:     <span class="ruby-keyword kw">else</span>
201:       <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\/?(\d+_)?(\w+)$/</span>
202:       <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">camelize</span>
203:     <span class="ruby-keyword kw">end</span>
204:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006900" class="method">
  <div id="M006900_title" class="title">
    <b>run_generator</b>(name, params)
  </div>
  <div class="description">
  <p>
Runs the <tt>create</tt> command (like the command line does).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006900_source')" id="l_M006900_source">show source</a> ]</p>
  <div id="M006900_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 96</span>
 96:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_generator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">params</span>)
 97:     <span class="ruby-identifier">silence_generator</span> <span class="ruby-keyword kw">do</span>
 98:       <span class="ruby-identifier">build_generator</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">params</span>).<span class="ruby-identifier">command</span>(<span class="ruby-identifier">:create</span>).<span class="ruby-identifier">invoke!</span>
 99:     <span class="ruby-keyword kw">end</span>
100:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006896" class="method">
  <div id="M006896_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006896_source')" id="l_M006896_source">show source</a> ]</p>
  <div id="M006896_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
65:     <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">pluralize_table_names</span> = <span class="ruby-keyword kw">true</span>
66: 
67:     <span class="ruby-identifier">mkdir_p</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/app/views/layouts&quot;</span>
68:     <span class="ruby-identifier">mkdir_p</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/config&quot;</span>
69:     <span class="ruby-identifier">mkdir_p</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/db&quot;</span>
70:     <span class="ruby-identifier">mkdir_p</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/test/fixtures&quot;</span>
71:     <span class="ruby-identifier">mkdir_p</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/public/stylesheets&quot;</span>
72: 
73:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/config/routes.rb&quot;</span>, <span class="ruby-value str">'w'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
74:       <span class="ruby-identifier">f</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;ActionController::Routing::Routes.draw do |map|\n\nend&quot;</span>
75:     <span class="ruby-keyword kw">end</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006901" class="method">
  <div id="M006901_title" class="title">
    <b>silence_generator</b>() {|if block_given?| ...}
  </div>
  <div class="description">
  <p>
Silences the logger temporarily and returns the output as a String.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006901_source')" id="l_M006901_source">show source</a> ]</p>
  <div id="M006901_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 103</span>
103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">silence_generator</span>
104:     <span class="ruby-identifier">logger_original</span> = <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">logger</span>
105:     <span class="ruby-identifier">myout</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
106:     <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">SimpleLogger</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">myout</span>)
107:     <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
108:     <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Generator</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">logger_original</span>
109:     <span class="ruby-identifier">myout</span>.<span class="ruby-identifier">string</span>
110:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006897" class="method">
  <div id="M006897_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006897_source')" id="l_M006897_source">show source</a> ]</p>
  <div id="M006897_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 78</span>
78:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
79:     <span class="ruby-identifier">rm_rf</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/app&quot;</span>
80:     <span class="ruby-identifier">rm_rf</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/test&quot;</span>
81:     <span class="ruby-identifier">rm_rf</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/config&quot;</span>
82:     <span class="ruby-identifier">rm_rf</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/db&quot;</span>
83:     <span class="ruby-identifier">rm_rf</span> <span class="ruby-node">&quot;#{RAILS_ROOT}/public&quot;</span>
84:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M006898" class="method">
  <div id="M006898_title" class="title">
    <b>test_truth</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M006898_source')" id="l_M006898_source">show source</a> ]</p>
  <div id="M006898_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/generators/generator_test_helper.rb, line 86</span>
86:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truth</span>
87:     <span class="ruby-comment cmt"># don't complain, test/unit</span>
88:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>