  <div id="C00000132">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />CascadedEagerLoadingTest<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/test/cases/associations/cascaded_eager_loading_test_rb.html');">activerecord/test/cases/associations/cascaded_eager_loading_test.rb</a>

Parent:&nbsp;
ActiveRecord::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000898&name=test_eager_association_loading_of_stis_with_multiple_references" >test_eager_association_loading_of_stis_with_multiple_references</a></li>
  <li><a href="index.html?a=M000899&name=test_eager_association_loading_where_first_level_returns_nil" >test_eager_association_loading_where_first_level_returns_nil</a></li>
  <li><a href="index.html?a=M000896&name=test_eager_association_loading_with_belongs_to_sti" >test_eager_association_loading_with_belongs_to_sti</a></li>
  <li><a href="index.html?a=M000893&name=test_eager_association_loading_with_cascaded_three_levels_by_ping_pong" >test_eager_association_loading_with_cascaded_three_levels_by_ping_pong</a></li>
  <li><a href="index.html?a=M000888&name=test_eager_association_loading_with_cascaded_two_levels" >test_eager_association_loading_with_cascaded_two_levels</a></li>
  <li><a href="index.html?a=M000889&name=test_eager_association_loading_with_cascaded_two_levels_and_one_level" >test_eager_association_loading_with_cascaded_two_levels_and_one_level</a></li>
  <li><a href="index.html?a=M000891&name=test_eager_association_loading_with_cascaded_two_levels_and_self_table_reference" >test_eager_association_loading_with_cascaded_two_levels_and_self_table_reference</a></li>
  <li><a href="index.html?a=M000892&name=test_eager_association_loading_with_cascaded_two_levels_with_condition" >test_eager_association_loading_with_cascaded_two_levels_with_condition</a></li>
  <li><a href="index.html?a=M000890&name=test_eager_association_loading_with_cascaded_two_levels_with_two_has_many_associations" >test_eager_association_loading_with_cascaded_two_levels_with_two_has_many_associations</a></li>
  <li><a href="index.html?a=M000894&name=test_eager_association_loading_with_has_many_sti" >test_eager_association_loading_with_has_many_sti</a></li>
  <li><a href="index.html?a=M000895&name=test_eager_association_loading_with_has_many_sti_and_subclasses" >test_eager_association_loading_with_has_many_sti_and_subclasses</a></li>
  <li><a href="index.html?a=M000897&name=test_eager_association_loading_with_multiple_stis_and_order" >test_eager_association_loading_with_multiple_stis_and_order</a></li>
  <li><a href="index.html?a=M000901&name=test_eager_association_loading_with_recursive_cascading_four_levels_has_and_belongs_to_many" >test_eager_association_loading_with_recursive_cascading_four_levels_has_and_belongs_to_many</a></li>
  <li><a href="index.html?a=M000900&name=test_eager_association_loading_with_recursive_cascading_four_levels_has_many_through" >test_eager_association_loading_with_recursive_cascading_four_levels_has_many_through</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000898" class="method">
  <div id="M000898_title" class="title">
    <b>test_eager_association_loading_of_stis_with_multiple_references</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000898_source')" id="l_M000898_source">show source</a> ]</p>
  <div id="M000898_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 99</span>
 99:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_of_stis_with_multiple_references</span>
100:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:posts</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:special_comments</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:post</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">:special_comments</span>, <span class="ruby-identifier">:very_special_comment</span> ] } } }, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'comments.body, very_special_comments_posts.body'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts.id = 4'</span>)
101:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:david</span>)], <span class="ruby-identifier">authors</span>
102:     <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword kw">do</span>
103:       <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">special_comments</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">post</span>.<span class="ruby-identifier">special_comments</span>
104:       <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">special_comments</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">post</span>.<span class="ruby-identifier">very_special_comment</span>
105:     <span class="ruby-keyword kw">end</span>
106:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000899" class="method">
  <div id="M000899_title" class="title">
    <b>test_eager_association_loading_where_first_level_returns_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000899_source')" id="l_M000899_source">show source</a> ]</p>
  <div id="M000899_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 108</span>
108:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_where_first_level_returns_nil</span>
109:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:post_about_thinking</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:comments</span>}, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'authors.id DESC'</span>)
110:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:mary</span>), <span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:david</span>)], <span class="ruby-identifier">authors</span>
111:     <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword kw">do</span>
112:       <span class="ruby-identifier">authors</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">post_about_thinking</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">first</span>
113:     <span class="ruby-keyword kw">end</span>
114:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000896" class="method">
  <div id="M000896_title" class="title">
    <b>test_eager_association_loading_with_belongs_to_sti</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000896_source')" id="l_M000896_source">show source</a> ]</p>
  <div id="M000896_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_belongs_to_sti</span>
84:     <span class="ruby-identifier">replies</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:topic</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'topics.id'</span>)
85:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">replies</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">topics</span>(<span class="ruby-identifier">:second</span>))
86:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">replies</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">topics</span>(<span class="ruby-identifier">:first</span>))
87:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">topics</span>(<span class="ruby-identifier">:first</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">replies</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">topic</span> }
88:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000893" class="method">
  <div id="M000893_title" class="title">
    <b>test_eager_association_loading_with_cascaded_three_levels_by_ping_pong</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000893_source')" id="l_M000893_source">show source</a> ]</p>
  <div id="M000893_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_cascaded_three_levels_by_ping_pong</span>
55:     <span class="ruby-identifier">firms</span> = <span class="ruby-constant">Firm</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:account=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:firm=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">:account</span>}}, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;companies.id&quot;</span>)
56:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">firms</span>.<span class="ruby-identifier">size</span>
57:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">firms</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">account</span>, <span class="ruby-identifier">firms</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">account</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">account</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">companies</span>(<span class="ruby-identifier">:first_firm</span>).<span class="ruby-identifier">account</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">firms</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">account</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">account</span> }
59:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">companies</span>(<span class="ruby-identifier">:first_firm</span>).<span class="ruby-identifier">account</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">account</span>, <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">firms</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">account</span>.<span class="ruby-identifier">firm</span>.<span class="ruby-identifier">account</span> }
60:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000888" class="method">
  <div id="M000888_title" class="title">
    <b>test_eager_association_loading_with_cascaded_two_levels</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000888_source')" id="l_M000888_source">show source</a> ]</p>
  <div id="M000888_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_cascaded_two_levels</span>
15:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:posts=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">:comments</span>}, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;authors.id&quot;</span>)
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">size</span>
17:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
18:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
19:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span> }.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>}
20:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000889" class="method">
  <div id="M000889_title" class="title">
    <b>test_eager_association_loading_with_cascaded_two_levels_and_one_level</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000889_source')" id="l_M000889_source">show source</a> ]</p>
  <div id="M000889_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_cascaded_two_levels_and_one_level</span>
23:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>[{<span class="ruby-identifier">:posts=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">:comments</span>}, <span class="ruby-identifier">:categorizations</span>], <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;authors.id&quot;</span>)
24:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">size</span>
25:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
26:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
27:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span> }.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>}
28:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">categorizations</span>.<span class="ruby-identifier">size</span>
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">categorizations</span>.<span class="ruby-identifier">size</span>
30:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000891" class="method">
  <div id="M000891_title" class="title">
    <b>test_eager_association_loading_with_cascaded_two_levels_and_self_table_reference</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000891_source')" id="l_M000891_source">show source</a> ]</p>
  <div id="M000891_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 40</span>
40:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_cascaded_two_levels_and_self_table_reference</span>
41:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:posts=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:author</span>]}, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;authors.id&quot;</span>)
42:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">size</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:david</span>).<span class="ruby-identifier">name</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">name</span>
45:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:david</span>).<span class="ruby-identifier">name</span>], <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">author</span>.<span class="ruby-identifier">name</span>}.<span class="ruby-identifier">uniq</span>
46:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000892" class="method">
  <div id="M000892_title" class="title">
    <b>test_eager_association_loading_with_cascaded_two_levels_with_condition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000892_source')" id="l_M000892_source">show source</a> ]</p>
  <div id="M000892_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_cascaded_two_levels_with_condition</span>
49:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:posts=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">:comments</span>}, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;authors.id=1&quot;</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;authors.id&quot;</span>)
50:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">size</span>
51:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
52:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000890" class="method">
  <div id="M000890_title" class="title">
    <b>test_eager_association_loading_with_cascaded_two_levels_with_two_has_many_associations</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000890_source')" id="l_M000890_source">show source</a> ]</p>
  <div id="M000890_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 32</span>
32:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_cascaded_two_levels_with_two_has_many_associations</span>
33:     <span class="ruby-identifier">authors</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:posts=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">:categorizations</span>]}, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;authors.id&quot;</span>)
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">authors</span>.<span class="ruby-identifier">size</span>
35:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">size</span>
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">authors</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">post</span><span class="ruby-operator">|</span> <span class="ruby-identifier">post</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">size</span> }.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>}
38:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000894" class="method">
  <div id="M000894_title" class="title">
    <b>test_eager_association_loading_with_has_many_sti</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000894_source')" id="l_M000894_source">show source</a> ]</p>
  <div id="M000894_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 62</span>
62:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_has_many_sti</span>
63:     <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:replies</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'topics.id'</span>)
64:     <span class="ruby-identifier">first</span>, <span class="ruby-identifier">second</span>, = <span class="ruby-identifier">topics</span>(<span class="ruby-identifier">:first</span>).<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">size</span>, <span class="ruby-identifier">topics</span>(<span class="ruby-identifier">:second</span>).<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">size</span>
65:     <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword kw">do</span>
66:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">first</span>, <span class="ruby-identifier">topics</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">size</span>
67:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">second</span>, <span class="ruby-identifier">topics</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">size</span>
68:     <span class="ruby-keyword kw">end</span>
69:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000895" class="method">
  <div id="M000895_title" class="title">
    <b>test_eager_association_loading_with_has_many_sti_and_subclasses</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000895_source')" id="l_M000895_source">show source</a> ]</p>
  <div id="M000895_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 71</span>
71:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_has_many_sti_and_subclasses</span>
72:     <span class="ruby-identifier">silly</span> = <span class="ruby-constant">SillyReply</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;gaga&quot;</span>, <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;boo-boo&quot;</span>, <span class="ruby-identifier">:parent_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
73:     <span class="ruby-identifier">silly</span>.<span class="ruby-identifier">parent_id</span> = <span class="ruby-value">1</span>
74:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">silly</span>.<span class="ruby-identifier">save</span>
75: 
76:     <span class="ruby-identifier">topics</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:replies</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'topics.id, replies_topics.id'</span>)
77:     <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword kw">do</span>
78:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">topics</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">size</span>
79:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">topics</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">size</span>
80:     <span class="ruby-keyword kw">end</span>
81:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000897" class="method">
  <div id="M000897_title" class="title">
    <b>test_eager_association_loading_with_multiple_stis_and_order</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000897_source')" id="l_M000897_source">show source</a> ]</p>
  <div id="M000897_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 90</span>
90:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_multiple_stis_and_order</span>
91:     <span class="ruby-identifier">author</span> = <span class="ruby-constant">Author</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:include</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:posts</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">:special_comments</span> , <span class="ruby-identifier">:very_special_comment</span> ] }, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'authors.name, comments.body, very_special_comments_posts.body'</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'posts.id = 4'</span>)
92:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">authors</span>(<span class="ruby-identifier">:david</span>), <span class="ruby-identifier">author</span>
93:     <span class="ruby-identifier">assert_no_queries</span> <span class="ruby-keyword kw">do</span>
94:       <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">special_comments</span>
95:       <span class="ruby-identifier">author</span>.<span class="ruby-identifier">posts</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">very_special_comment</span>
96:     <span class="ruby-keyword kw">end</span>
97:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000901" class="method">
  <div id="M000901_title" class="title">
    <b>test_eager_association_loading_with_recursive_cascading_four_levels_has_and_belongs_to_many</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000901_source')" id="l_M000901_source">show source</a> ]</p>
  <div id="M000901_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_recursive_cascading_four_levels_has_and_belongs_to_many</span>
128:     <span class="ruby-identifier">sink</span> = <span class="ruby-constant">Vertex</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:sources=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:sources=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:sources=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">:sources</span>}}}, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'vertices.id DESC'</span>)
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">vertices</span>(<span class="ruby-identifier">:vertex_1</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">sink</span>.<span class="ruby-identifier">sources</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sources</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sources</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sources</span>.<span class="ruby-identifier">first</span> }
130:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000900" class="method">
  <div id="M000900_title" class="title">
    <b>test_eager_association_loading_with_recursive_cascading_four_levels_has_many_through</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000900_source')" id="l_M000900_source">show source</a> ]</p>
  <div id="M000900_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/associations/cascaded_eager_loading_test.rb, line 122</span>
122:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eager_association_loading_with_recursive_cascading_four_levels_has_many_through</span>
123:     <span class="ruby-identifier">source</span> = <span class="ruby-constant">Vertex</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:include=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:sinks=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:sinks=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:sinks=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">:sinks</span>}}}, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'vertices.id'</span>)
124:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">vertices</span>(<span class="ruby-identifier">:vertex_4</span>), <span class="ruby-identifier">assert_no_queries</span> { <span class="ruby-identifier">source</span>.<span class="ruby-identifier">sinks</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sinks</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">sinks</span>.<span class="ruby-identifier">first</span> }
125:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>