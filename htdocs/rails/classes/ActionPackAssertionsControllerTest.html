  <div id="C00000143">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />ActionPackAssertionsControllerTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/action_pack_assertions_test_rb.html');">actionpack/test/controller/action_pack_assertions_test.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
a test case to exercise the new capabilities TestRequest &amp; TestResponse
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000926&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000927&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M000931&name=test_assert_redirect_to_named_route" >test_assert_redirect_to_named_route</a></li>
  <li><a href="index.html?a=M000932&name=test_assert_redirect_to_named_route_failure" >test_assert_redirect_to_named_route_failure</a></li>
  <li><a href="index.html?a=M000933&name=test_assert_redirect_to_nested_named_route" >test_assert_redirect_to_nested_named_route</a></li>
  <li><a href="index.html?a=M000934&name=test_assert_redirected_to_top_level_named_route_from_nested_controller" >test_assert_redirected_to_top_level_named_route_from_nested_controller</a></li>
  <li><a href="index.html?a=M000935&name=test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces" >test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces</a></li>
  <li><a href="index.html?a=M000957&name=test_assert_redirection_fails_with_incorrect_controller" >test_assert_redirection_fails_with_incorrect_controller</a></li>
  <li><a href="index.html?a=M000958&name=test_assert_redirection_with_extra_controller_option" >test_assert_redirection_with_extra_controller_option</a></li>
  <li><a href="index.html?a=M000962&name=test_assert_redirection_with_symbol" >test_assert_redirection_with_symbol</a></li>
  <li><a href="index.html?a=M000967&name=test_assert_response_failure_response_with_no_exception" >test_assert_response_failure_response_with_no_exception</a></li>
  <li><a href="index.html?a=M000966&name=test_assert_response_uses_exception_message" >test_assert_response_uses_exception_message</a></li>
  <li><a href="index.html?a=M000928&name=test_assert_tag_and_url_for" >test_assert_tag_and_url_for</a></li>
  <li><a href="index.html?a=M000946&name=test_assert_template_with_bad_argument" >test_assert_template_with_bad_argument</a></li>
  <li><a href="index.html?a=M000943&name=test_assert_template_with_nil" >test_assert_template_with_nil</a></li>
  <li><a href="index.html?a=M000942&name=test_assert_template_with_partial" >test_assert_template_with_partial</a></li>
  <li><a href="index.html?a=M000944&name=test_assert_template_with_string" >test_assert_template_with_string</a></li>
  <li><a href="index.html?a=M000945&name=test_assert_template_with_symbol" >test_assert_template_with_symbol</a></li>
  <li><a href="index.html?a=M000964&name=test_assert_valid" >test_assert_valid</a></li>
  <li><a href="index.html?a=M000965&name=test_assert_valid_failing" >test_assert_valid_failing</a></li>
  <li><a href="index.html?a=M000951&name=test_client_error_response_code" >test_client_error_response_code</a></li>
  <li><a href="index.html?a=M000940&name=test_flash_have_nots" >test_flash_have_nots</a></li>
  <li><a href="index.html?a=M000939&name=test_flash_haves" >test_flash_haves</a></li>
  <li><a href="index.html?a=M000938&name=test_flash_me_naked" >test_flash_me_naked</a></li>
  <li><a href="index.html?a=M000929&name=test_get" >test_get</a></li>
  <li><a href="index.html?a=M000955&name=test_has_response" >test_has_response</a></li>
  <li><a href="index.html?a=M000950&name=test_missing_response_code" >test_missing_response_code</a></li>
  <li><a href="index.html?a=M000948&name=test_no_redirect_url" >test_no_redirect_url</a></li>
  <li><a href="index.html?a=M000930&name=test_post" >test_post</a></li>
  <li><a href="index.html?a=M000952&name=test_redirect_url_match" >test_redirect_url_match</a></li>
  <li><a href="index.html?a=M000961&name=test_redirected_to_url_full_url" >test_redirected_to_url_full_url</a></li>
  <li><a href="index.html?a=M000959&name=test_redirected_to_url_leading_slash" >test_redirected_to_url_leading_slash</a></li>
  <li><a href="index.html?a=M000960&name=test_redirected_to_url_no_leadling_slash" >test_redirected_to_url_no_leadling_slash</a></li>
  <li><a href="index.html?a=M000963&name=test_redirected_to_with_nested_controller" >test_redirected_to_with_nested_controller</a></li>
  <li><a href="index.html?a=M000953&name=test_redirection" >test_redirection</a></li>
  <li><a href="index.html?a=M000947&name=test_redirection_location" >test_redirection_location</a></li>
  <li><a href="index.html?a=M000956&name=test_render_based_on_parameters" >test_render_based_on_parameters</a></li>
  <li><a href="index.html?a=M000941&name=test_rendered_action" >test_rendered_action</a></li>
  <li><a href="index.html?a=M000949&name=test_server_error_response_code" >test_server_error_response_code</a></li>
  <li><a href="index.html?a=M000954&name=test_successful_response_code" >test_successful_response_code</a></li>
  <li><a href="index.html?a=M000937&name=test_template_object_missing" >test_template_object_missing</a></li>
  <li><a href="index.html?a=M000936&name=test_template_objects_alive" >test_template_objects_alive</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000926" class="method">
  <div id="M000926_title" class="title">
    <b>setup</b>()
  </div>
  <div class="description">
  <p>
let&#8217;s get this party started
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000926_source')" id="l_M000926_source">show source</a> ]</p>
  <div id="M000926_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
174:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">reload</span>
175:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">use_controllers!</span>(<span class="ruby-node">%w(action_pack_assertions admin/inner_module user content admin/user)</span>)
176:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000927" class="method">
  <div id="M000927_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000927_source')" id="l_M000927_source">show source</a> ]</p>
  <div id="M000927_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 178</span>
178:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
179:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">reload</span>
180:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000931" class="method">
  <div id="M000931_title" class="title">
    <b>test_assert_redirect_to_named_route</b>()
  </div>
  <div class="description">
  <p>
test the redirection to a named route
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000931_source')" id="l_M000931_source">show source</a> ]</p>
  <div id="M000931_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 217</span>
217:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirect_to_named_route</span>
218:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
219:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
220:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">route_one</span> <span class="ruby-value str">'route_one'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>
221:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
222:       <span class="ruby-keyword kw">end</span>
223:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">install_helpers</span>
224: 
225:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_named_route</span>
226:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'http://test.host/route_one'</span>
227:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">route_one_url</span>
228:     <span class="ruby-keyword kw">end</span>
229:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000932" class="method">
  <div id="M000932_title" class="title">
    <b>test_assert_redirect_to_named_route_failure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000932_source')" id="l_M000932_source">show source</a> ]</p>
  <div id="M000932_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 231</span>
231:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirect_to_named_route_failure</span>
232:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
233:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
234:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">route_one</span> <span class="ruby-value str">'route_one'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'one'</span>
235:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">route_two</span> <span class="ruby-value str">'route_two'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'two'</span>
236:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
237:       <span class="ruby-keyword kw">end</span>
238:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_named_route</span>
239:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
240:         <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'http://test.host/route_two'</span>
241:       <span class="ruby-keyword kw">end</span>
242:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
243:         <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'two'</span>
244:       <span class="ruby-keyword kw">end</span>
245:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
246:         <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">route_two_url</span>
247:       <span class="ruby-keyword kw">end</span>
248:     <span class="ruby-keyword kw">end</span>
249:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000933" class="method">
  <div id="M000933_title" class="title">
    <b>test_assert_redirect_to_nested_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000933_source')" id="l_M000933_source">show source</a> ]</p>
  <div id="M000933_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirect_to_nested_named_route</span>
252:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
253:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
254:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">admin_inner_module</span> <span class="ruby-value str">'admin/inner_module'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/inner_module'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
255:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>            <span class="ruby-value str">':controller/:action/:id'</span>
256:       <span class="ruby-keyword kw">end</span>
257:       <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
258:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_index</span>
259:       <span class="ruby-comment cmt"># redirection is &lt;{&quot;action&quot;=&gt;&quot;index&quot;, &quot;controller&quot;=&gt;&quot;admin/admin/inner_module&quot;}&gt;</span>
260:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">admin_inner_module_path</span>
261:     <span class="ruby-keyword kw">end</span>
262:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000934" class="method">
  <div id="M000934_title" class="title">
    <b>test_assert_redirected_to_top_level_named_route_from_nested_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000934_source')" id="l_M000934_source">show source</a> ]</p>
  <div id="M000934_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 264</span>
264:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirected_to_top_level_named_route_from_nested_controller</span>
265:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
266:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
267:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">top_level</span> <span class="ruby-value str">'/action_pack_assertions/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
268:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
269:       <span class="ruby-keyword kw">end</span>
270:       <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
271:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_top_level_named_route</span>
272:       <span class="ruby-comment cmt"># assert_redirected_to &quot;http://test.host/action_pack_assertions/foo&quot; would pass because of exact match early return</span>
273:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">&quot;/action_pack_assertions/foo&quot;</span>
274:     <span class="ruby-keyword kw">end</span>
275:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000935" class="method">
  <div id="M000935_title" class="title">
    <b>test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000935_source')" id="l_M000935_source">show source</a> ]</p>
  <div id="M000935_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 277</span>
277:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces</span>
278:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
279:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
280:         <span class="ruby-comment cmt"># this controller exists in the admin namespace as well which is the only difference from previous test</span>
281:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">top_level</span> <span class="ruby-value str">'/user/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'user'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
282:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
283:       <span class="ruby-keyword kw">end</span>
284:       <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
285:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_top_level_named_route</span>
286:       <span class="ruby-comment cmt"># assert_redirected_to top_level_url('foo') would pass because of exact match early return</span>
287:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">top_level_path</span>(<span class="ruby-value str">'foo'</span>)
288:     <span class="ruby-keyword kw">end</span>
289:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000957" class="method">
  <div id="M000957_title" class="title">
    <b>test_assert_redirection_fails_with_incorrect_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000957_source')" id="l_M000957_source">show source</a> ]</p>
  <div id="M000957_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 442</span>
442:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirection_fails_with_incorrect_controller</span>
443:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_controller</span>
444:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
445:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;action_pack_assertions&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;flash_me&quot;</span>
446:     <span class="ruby-keyword kw">end</span>
447:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000958" class="method">
  <div id="M000958_title" class="title">
    <b>test_assert_redirection_with_extra_controller_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000958_source')" id="l_M000958_source">show source</a> ]</p>
  <div id="M000958_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirection_with_extra_controller_option</span>
450:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:redirect_to_action</span>
451:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;flash_me&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:panda</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'fun'</span> }
452:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000962" class="method">
  <div id="M000962_title" class="title">
    <b>test_assert_redirection_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000962_source')" id="l_M000962_source">show source</a> ]</p>
  <div id="M000962_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 469</span>
469:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirection_with_symbol</span>
470:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_controller_with_symbol</span>
471:     <span class="ruby-identifier">assert_nothing_raised</span> {
472:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;elsewhere&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;flash_me&quot;</span>
473:     }
474:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_controller_with_symbol</span>
475:     <span class="ruby-identifier">assert_nothing_raised</span> {
476:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:elsewhere</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:flash_me</span>
477:     }
478:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000967" class="method">
  <div id="M000967_title" class="title">
    <b>test_assert_response_failure_response_with_no_exception</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000967_source')" id="l_M000967_source">show source</a> ]</p>
  <div id="M000967_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 513</span>
513:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_response_failure_response_with_no_exception</span>
514:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">AssertResponseWithUnexpectedErrorController</span>.<span class="ruby-identifier">new</span>
515:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:show</span>
516:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:success</span>
517:     <span class="ruby-identifier">flunk</span> <span class="ruby-value str">'Expected non-success response'</span>
518:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>
519:     <span class="ruby-comment cmt"># success</span>
520:   <span class="ruby-keyword kw">rescue</span>
521:     <span class="ruby-identifier">flunk</span> <span class="ruby-value str">&quot;assert_response failed to handle failure response with missing, but optional, exception.&quot;</span>
522:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000966" class="method">
  <div id="M000966_title" class="title">
    <b>test_assert_response_uses_exception_message</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000966_source')" id="l_M000966_source">show source</a> ]</p>
  <div id="M000966_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 504</span>
504:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_response_uses_exception_message</span>
505:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">AssertResponseWithUnexpectedErrorController</span>.<span class="ruby-identifier">new</span>
506:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:index</span>
507:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:success</span>
508:     <span class="ruby-identifier">flunk</span> <span class="ruby-value str">'Expected non-success response'</span>
509:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
510:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'FAIL'</span>)
511:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000928" class="method">
  <div id="M000928_title" class="title">
    <b>test_assert_tag_and_url_for</b>()
  </div>
  <div class="description">
  <p>
&#8212; assertion-based testing
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000928_source')" id="l_M000928_source">show source</a> ]</p>
  <div id="M000928_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 184</span>
184:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_and_url_for</span>
185:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:render_url</span>
186:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/action_pack_assertions/flash_me&quot;</span>
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000946" class="method">
  <div id="M000946_title" class="title">
    <b>test_assert_template_with_bad_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000946_source')" id="l_M000946_source">show source</a> ]</p>
  <div id="M000946_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 359</span>
359:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_bad_argument</span>
360:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">assert_template</span> <span class="ruby-value">1</span> }    
361:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000943" class="method">
  <div id="M000943_title" class="title">
    <b>test_assert_template_with_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000943_source')" id="l_M000943_source">show source</a> ]</p>
  <div id="M000943_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 344</span>
344:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_nil</span>
345:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:nothing</span>
346:     <span class="ruby-identifier">assert_template</span> <span class="ruby-keyword kw">nil</span>
347:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000942" class="method">
  <div id="M000942_title" class="title">
    <b>test_assert_template_with_partial</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000942_source')" id="l_M000942_source">show source</a> ]</p>
  <div id="M000942_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 339</span>
339:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_partial</span>
340:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:partial</span>
341:     <span class="ruby-identifier">assert_template</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'_partial'</span>
342:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000944" class="method">
  <div id="M000944_title" class="title">
    <b>test_assert_template_with_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000944_source')" id="l_M000944_source">show source</a> ]</p>
  <div id="M000944_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 349</span>
349:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_string</span>
350:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:hello_world</span>
351:     <span class="ruby-identifier">assert_template</span> <span class="ruby-value str">'hello_world'</span>    
352:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000945" class="method">
  <div id="M000945_title" class="title">
    <b>test_assert_template_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000945_source')" id="l_M000945_source">show source</a> ]</p>
  <div id="M000945_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 354</span>
354:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_symbol</span>
355:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:hello_world</span>
356:     <span class="ruby-identifier">assert_template</span> <span class="ruby-identifier">:hello_world</span>
357:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000964" class="method">
  <div id="M000964_title" class="title">
    <b>test_assert_valid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000964_source')" id="l_M000964_source">show source</a> ]</p>
  <div id="M000964_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 489</span>
489:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_valid</span>
490:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:get_valid_record</span>
491:     <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-identifier">assert_valid</span> <span class="ruby-identifier">assigns</span>(<span class="ruby-value str">'record'</span>) }
492:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000965" class="method">
  <div id="M000965_title" class="title">
    <b>test_assert_valid_failing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000965_source')" id="l_M000965_source">show source</a> ]</p>
  <div id="M000965_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 494</span>
494:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_valid_failing</span>
495:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:get_invalid_record</span>
496: 
497:     <span class="ruby-keyword kw">begin</span>
498:       <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-identifier">assert_valid</span> <span class="ruby-identifier">assigns</span>(<span class="ruby-value str">'record'</span>) }
499:       <span class="ruby-identifier">assert</span> <span class="ruby-keyword kw">false</span>
500:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
501:     <span class="ruby-keyword kw">end</span>
502:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000951" class="method">
  <div id="M000951_title" class="title">
    <b>test_client_error_response_code</b>()
  </div>
  <div class="description">
  <p>
check client errors
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000951_source')" id="l_M000951_source">show source</a> ]</p>
  <div id="M000951_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 397</span>
397:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_client_error_response_code</span>
398:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response404</span>
399:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">client_error?</span>
400:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000940" class="method">
  <div id="M000940_title" class="title">
    <b>test_flash_have_nots</b>()
  </div>
  <div class="description">
  <p>
ensure we don&#8217;t have flash objects
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000940_source')" id="l_M000940_source">show source</a> ]</p>
  <div id="M000940_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 322</span>
322:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flash_have_nots</span>
323:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
324:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash?</span>
325:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_with_contents?</span>
326:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">flash</span>[<span class="ruby-value str">'hello'</span>]
327:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000939" class="method">
  <div id="M000939_title" class="title">
    <b>test_flash_haves</b>()
  </div>
  <div class="description">
  <p>
check if we have flash objects
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000939_source')" id="l_M000939_source">show source</a> ]</p>
  <div id="M000939_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 314</span>
314:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flash_haves</span>
315:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:flash_me</span>
316:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash?</span>
317:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_with_contents?</span>
318:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_object?</span>(<span class="ruby-value str">'hello'</span>)
319:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000938" class="method">
  <div id="M000938_title" class="title">
    <b>test_flash_me_naked</b>()
  </div>
  <div class="description">
  <p>
check the empty flashing
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000938_source')" id="l_M000938_source">show source</a> ]</p>
  <div id="M000938_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 307</span>
307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flash_me_naked</span>
308:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:flash_me_naked</span>
309:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash?</span>
310:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_with_contents?</span>
311:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000929" class="method">
  <div id="M000929_title" class="title">
    <b>test_get</b>()
  </div>
  <div class="description">
  <p>
test the get method, make sure the request really was a get
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000929_source')" id="l_M000929_source">show source</a> ]</p>
  <div id="M000929_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 190</span>
190:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get</span>
191:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-identifier">get</span> <span class="ruby-identifier">:raise_on_get</span> }
192:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:raise_on_post</span>
193:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>, <span class="ruby-value str">'request method: GET'</span>
194:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000955" class="method">
  <div id="M000955_title" class="title">
    <b>test_has_response</b>()
  </div>
  <div class="description">
  <p>
a basic check to make sure we have a TestResponse object
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000955_source')" id="l_M000955_source">show source</a> ]</p>
  <div id="M000955_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 431</span>
431:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_has_response</span>
432:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
433:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>, <span class="ruby-ivar">@response</span>
434:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000950" class="method">
  <div id="M000950_title" class="title">
    <b>test_missing_response_code</b>()
  </div>
  <div class="description">
  <p>
check a 404 response code
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000950_source')" id="l_M000950_source">show source</a> ]</p>
  <div id="M000950_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 391</span>
391:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_missing_response_code</span>
392:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response404</span>
393:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">missing?</span>
394:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000948" class="method">
  <div id="M000948_title" class="title">
    <b>test_no_redirect_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000948_source')" id="l_M000948_source">show source</a> ]</p>
  <div id="M000948_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 372</span>
372:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_redirect_url</span>
373:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
374:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
375:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000930" class="method">
  <div id="M000930_title" class="title">
    <b>test_post</b>()
  </div>
  <div class="description">
  <p>
test the get method, make sure the request really was a get
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000930_source')" id="l_M000930_source">show source</a> ]</p>
  <div id="M000930_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_post</span>
198:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-identifier">post</span> <span class="ruby-identifier">:raise_on_post</span> }
199:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:raise_on_get</span>
200:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>, <span class="ruby-value str">'request method: POST'</span>
201:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000952" class="method">
  <div id="M000952_title" class="title">
    <b>test_redirect_url_match</b>()
  </div>
  <div class="description">
  <p>
check to see if our redirection matches a pattern
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000952_source')" id="l_M000952_source">show source</a> ]</p>
  <div id="M000952_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 403</span>
403:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_url_match</span>
404:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_external</span>
405:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
406:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-value str">&quot;rubyonrails&quot;</span>)
407:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-regexp re">/rubyonrails/</span>)
408:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-value str">&quot;phpoffrails&quot;</span>)
409:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-regexp re">/perloffrails/</span>)
410:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000961" class="method">
  <div id="M000961_title" class="title">
    <b>test_redirected_to_url_full_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000961_source')" id="l_M000961_source">show source</a> ]</p>
  <div id="M000961_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 464</span>
464:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_url_full_url</span>
465:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_path</span>
466:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'http://test.host/some/path'</span>
467:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000959" class="method">
  <div id="M000959_title" class="title">
    <b>test_redirected_to_url_leading_slash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000959_source')" id="l_M000959_source">show source</a> ]</p>
  <div id="M000959_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 454</span>
454:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_url_leading_slash</span>
455:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_path</span>
456:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'/some/path'</span>
457:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000960" class="method">
  <div id="M000960_title" class="title">
    <b>test_redirected_to_url_no_leadling_slash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000960_source')" id="l_M000960_source">show source</a> ]</p>
  <div id="M000960_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 459</span>
459:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_url_no_leadling_slash</span>
460:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_path</span>
461:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'some/path'</span>
462:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000963" class="method">
  <div id="M000963_title" class="title">
    <b>test_redirected_to_with_nested_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000963_source')" id="l_M000963_source">show source</a> ]</p>
  <div id="M000963_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 480</span>
480:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_with_nested_controller</span>
481:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
482:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:redirect_to_absolute_controller</span>
483:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/content'</span>
484: 
485:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:redirect_to_fellow_controller</span>
486:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/user'</span>
487:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000953" class="method">
  <div id="M000953_title" class="title">
    <b>test_redirection</b>()
  </div>
  <div class="description">
  <p>
check for a redirection
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000953_source')" id="l_M000953_source">show source</a> ]</p>
  <div id="M000953_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 413</span>
413:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirection</span>
414:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_internal</span>
415:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
416: 
417:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_external</span>
418:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
419: 
420:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
421:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
422:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000947" class="method">
  <div id="M000947_title" class="title">
    <b>test_redirection_location</b>()
  </div>
  <div class="description">
  <p>
check the redirection location
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000947_source')" id="l_M000947_source">show source</a> ]</p>
  <div id="M000947_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 364</span>
364:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirection_location</span>
365:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_internal</span>
366:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://test.host/nothing'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
367: 
368:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_external</span>
369:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://www.rubyonrails.org'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
370:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000956" class="method">
  <div id="M000956_title" class="title">
    <b>test_render_based_on_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000956_source')" id="l_M000956_source">show source</a> ]</p>
  <div id="M000956_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 436</span>
436:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_render_based_on_parameters</span>
437:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:render_based_on_parameters</span>, <span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>
438:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mr. David&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
439:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000941" class="method">
  <div id="M000941_title" class="title">
    <b>test_rendered_action</b>()
  </div>
  <div class="description">
  <p>
check if we were rendered by a file-based template?
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000941_source')" id="l_M000941_source">show source</a> ]</p>
  <div id="M000941_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 330</span>
330:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rendered_action</span>
331:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
332:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">rendered</span>[<span class="ruby-identifier">:template</span>]
333: 
334:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:hello_world</span>
335:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">rendered</span>[<span class="ruby-identifier">:template</span>]
336:     <span class="ruby-identifier">assert</span> <span class="ruby-value str">'hello_world'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">rendered</span>[<span class="ruby-identifier">:template</span>].<span class="ruby-identifier">to_s</span>
337:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000949" class="method">
  <div id="M000949_title" class="title">
    <b>test_server_error_response_code</b>()
  </div>
  <div class="description">
  <p>
check server errors
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000949_source')" id="l_M000949_source">show source</a> ]</p>
  <div id="M000949_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 379</span>
379:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_server_error_response_code</span>
380:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response500</span>
381:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">server_error?</span>
382: 
383:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response599</span>
384:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">server_error?</span>
385: 
386:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response404</span>
387:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">server_error?</span>
388:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000954" class="method">
  <div id="M000954_title" class="title">
    <b>test_successful_response_code</b>()
  </div>
  <div class="description">
  <p>
check a successful response code
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000954_source')" id="l_M000954_source">show source</a> ]</p>
  <div id="M000954_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 425</span>
425:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_successful_response_code</span>
426:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
427:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">success?</span>
428:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000937" class="method">
  <div id="M000937_title" class="title">
    <b>test_template_object_missing</b>()
  </div>
  <div class="description">
  <p>
make sure we don&#8217;t have template objects when we shouldn&#8217;t
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000937_source')" id="l_M000937_source">show source</a> ]</p>
  <div id="M000937_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 301</span>
301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_object_missing</span>
302:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
303:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">template_objects</span>[<span class="ruby-value str">'howdy'</span>]
304:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000936" class="method">
  <div id="M000936_title" class="title">
    <b>test_template_objects_alive</b>()
  </div>
  <div class="description">
  <p>
make sure that the template objects exist
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000936_source')" id="l_M000936_source">show source</a> ]</p>
  <div id="M000936_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_objects_alive</span>
295:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:assign_this</span>
296:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_template_object?</span>(<span class="ruby-value str">'hi'</span>)
297:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_template_object?</span>(<span class="ruby-value str">'howdy'</span>)
298:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>