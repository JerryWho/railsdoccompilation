  <div id="C00000137">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />ActionPackAssertionsControllerTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/action_pack_assertions_test_rb.html');">actionpack/test/controller/action_pack_assertions_test.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
a test case to exercise the new capabilities TestRequest &amp; TestResponse
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M000959&name=setup" >setup</a></li>
  <li><a href="index.html?a=M000960&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M000964&name=test_assert_redirect_to_named_route" >test_assert_redirect_to_named_route</a></li>
  <li><a href="index.html?a=M000965&name=test_assert_redirect_to_named_route_failure" >test_assert_redirect_to_named_route_failure</a></li>
  <li><a href="index.html?a=M000966&name=test_assert_redirect_to_nested_named_route" >test_assert_redirect_to_nested_named_route</a></li>
  <li><a href="index.html?a=M000967&name=test_assert_redirected_to_top_level_named_route_from_nested_controller" >test_assert_redirected_to_top_level_named_route_from_nested_controller</a></li>
  <li><a href="index.html?a=M000968&name=test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces" >test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces</a></li>
  <li><a href="index.html?a=M000990&name=test_assert_redirection_fails_with_incorrect_controller" >test_assert_redirection_fails_with_incorrect_controller</a></li>
  <li><a href="index.html?a=M000991&name=test_assert_redirection_with_extra_controller_option" >test_assert_redirection_with_extra_controller_option</a></li>
  <li><a href="index.html?a=M000995&name=test_assert_redirection_with_symbol" >test_assert_redirection_with_symbol</a></li>
  <li><a href="index.html?a=M001000&name=test_assert_response_failure_response_with_no_exception" >test_assert_response_failure_response_with_no_exception</a></li>
  <li><a href="index.html?a=M000999&name=test_assert_response_uses_exception_message" >test_assert_response_uses_exception_message</a></li>
  <li><a href="index.html?a=M000961&name=test_assert_tag_and_url_for" >test_assert_tag_and_url_for</a></li>
  <li><a href="index.html?a=M000979&name=test_assert_template_with_bad_argument" >test_assert_template_with_bad_argument</a></li>
  <li><a href="index.html?a=M000976&name=test_assert_template_with_nil" >test_assert_template_with_nil</a></li>
  <li><a href="index.html?a=M000975&name=test_assert_template_with_partial" >test_assert_template_with_partial</a></li>
  <li><a href="index.html?a=M000977&name=test_assert_template_with_string" >test_assert_template_with_string</a></li>
  <li><a href="index.html?a=M000978&name=test_assert_template_with_symbol" >test_assert_template_with_symbol</a></li>
  <li><a href="index.html?a=M000997&name=test_assert_valid" >test_assert_valid</a></li>
  <li><a href="index.html?a=M000998&name=test_assert_valid_failing" >test_assert_valid_failing</a></li>
  <li><a href="index.html?a=M000984&name=test_client_error_response_code" >test_client_error_response_code</a></li>
  <li><a href="index.html?a=M000973&name=test_flash_have_nots" >test_flash_have_nots</a></li>
  <li><a href="index.html?a=M000972&name=test_flash_haves" >test_flash_haves</a></li>
  <li><a href="index.html?a=M000971&name=test_flash_me_naked" >test_flash_me_naked</a></li>
  <li><a href="index.html?a=M000962&name=test_get" >test_get</a></li>
  <li><a href="index.html?a=M000988&name=test_has_response" >test_has_response</a></li>
  <li><a href="index.html?a=M000983&name=test_missing_response_code" >test_missing_response_code</a></li>
  <li><a href="index.html?a=M000981&name=test_no_redirect_url" >test_no_redirect_url</a></li>
  <li><a href="index.html?a=M000963&name=test_post" >test_post</a></li>
  <li><a href="index.html?a=M000985&name=test_redirect_url_match" >test_redirect_url_match</a></li>
  <li><a href="index.html?a=M000994&name=test_redirected_to_url_full_url" >test_redirected_to_url_full_url</a></li>
  <li><a href="index.html?a=M000992&name=test_redirected_to_url_leading_slash" >test_redirected_to_url_leading_slash</a></li>
  <li><a href="index.html?a=M000993&name=test_redirected_to_url_no_leadling_slash" >test_redirected_to_url_no_leadling_slash</a></li>
  <li><a href="index.html?a=M000996&name=test_redirected_to_with_nested_controller" >test_redirected_to_with_nested_controller</a></li>
  <li><a href="index.html?a=M000986&name=test_redirection" >test_redirection</a></li>
  <li><a href="index.html?a=M000980&name=test_redirection_location" >test_redirection_location</a></li>
  <li><a href="index.html?a=M000989&name=test_render_based_on_parameters" >test_render_based_on_parameters</a></li>
  <li><a href="index.html?a=M000974&name=test_rendered_action" >test_rendered_action</a></li>
  <li><a href="index.html?a=M000982&name=test_server_error_response_code" >test_server_error_response_code</a></li>
  <li><a href="index.html?a=M000987&name=test_successful_response_code" >test_successful_response_code</a></li>
  <li><a href="index.html?a=M000970&name=test_template_object_missing" >test_template_object_missing</a></li>
  <li><a href="index.html?a=M000969&name=test_template_objects_alive" >test_template_objects_alive</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M000959" class="method">
  <div id="M000959_title" class="title">
    <b>setup</b>()
  </div>
  <div class="description">
  <p>
let&#8217;s get this party started
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000959_source')" id="l_M000959_source">show source</a> ]</p>
  <div id="M000959_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
174:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">reload</span>
175:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span>.<span class="ruby-identifier">use_controllers!</span>(<span class="ruby-node">%w(action_pack_assertions admin/inner_module user content admin/user)</span>)
176:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000960" class="method">
  <div id="M000960_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000960_source')" id="l_M000960_source">show source</a> ]</p>
  <div id="M000960_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 178</span>
178:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
179:     <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Routing</span><span class="ruby-operator">::</span><span class="ruby-constant">Routes</span>.<span class="ruby-identifier">reload</span>
180:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000964" class="method">
  <div id="M000964_title" class="title">
    <b>test_assert_redirect_to_named_route</b>()
  </div>
  <div class="description">
  <p>
test the redirection to a named route
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000964_source')" id="l_M000964_source">show source</a> ]</p>
  <div id="M000964_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 217</span>
217:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirect_to_named_route</span>
218:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
219:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
220:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">route_one</span> <span class="ruby-value str">'route_one'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>
221:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
222:       <span class="ruby-keyword kw">end</span>
223:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">install_helpers</span>
224: 
225:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_named_route</span>
226:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'http://test.host/route_one'</span>
227:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">route_one_url</span>
228:     <span class="ruby-keyword kw">end</span>
229:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000965" class="method">
  <div id="M000965_title" class="title">
    <b>test_assert_redirect_to_named_route_failure</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000965_source')" id="l_M000965_source">show source</a> ]</p>
  <div id="M000965_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 231</span>
231:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirect_to_named_route_failure</span>
232:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
233:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
234:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">route_one</span> <span class="ruby-value str">'route_one'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'one'</span>
235:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">route_two</span> <span class="ruby-value str">'route_two'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'two'</span>
236:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
237:       <span class="ruby-keyword kw">end</span>
238:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_named_route</span>
239:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
240:         <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'http://test.host/route_two'</span>
241:       <span class="ruby-keyword kw">end</span>
242:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
243:         <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'nothing'</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'two'</span>
244:       <span class="ruby-keyword kw">end</span>
245:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
246:         <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">route_two_url</span>
247:       <span class="ruby-keyword kw">end</span>
248:     <span class="ruby-keyword kw">end</span>
249:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000966" class="method">
  <div id="M000966_title" class="title">
    <b>test_assert_redirect_to_nested_named_route</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000966_source')" id="l_M000966_source">show source</a> ]</p>
  <div id="M000966_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirect_to_nested_named_route</span>
252:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
253:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
254:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">admin_inner_module</span> <span class="ruby-value str">'admin/inner_module'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/inner_module'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
255:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>            <span class="ruby-value str">':controller/:action/:id'</span>
256:       <span class="ruby-keyword kw">end</span>
257:       <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
258:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_index</span>
259:       <span class="ruby-comment cmt"># redirection is &lt;{&quot;action&quot;=&gt;&quot;index&quot;, &quot;controller&quot;=&gt;&quot;admin/admin/inner_module&quot;}&gt;</span>
260:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">admin_inner_module_path</span>
261:     <span class="ruby-keyword kw">end</span>
262:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000967" class="method">
  <div id="M000967_title" class="title">
    <b>test_assert_redirected_to_top_level_named_route_from_nested_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000967_source')" id="l_M000967_source">show source</a> ]</p>
  <div id="M000967_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 264</span>
264:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirected_to_top_level_named_route_from_nested_controller</span>
265:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
266:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
267:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">top_level</span> <span class="ruby-value str">'/action_pack_assertions/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
268:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
269:       <span class="ruby-keyword kw">end</span>
270:       <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
271:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_top_level_named_route</span>
272:       <span class="ruby-comment cmt"># assert_redirected_to &quot;http://test.host/action_pack_assertions/foo&quot; would pass because of exact match early return</span>
273:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">&quot;/action_pack_assertions/foo&quot;</span>
274:     <span class="ruby-keyword kw">end</span>
275:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000968" class="method">
  <div id="M000968_title" class="title">
    <b>test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000968_source')" id="l_M000968_source">show source</a> ]</p>
  <div id="M000968_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 277</span>
277:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirected_to_top_level_named_route_with_same_controller_name_in_both_namespaces</span>
278:     <span class="ruby-identifier">with_routing</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
279:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">draw</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">map</span><span class="ruby-operator">|</span>
280:         <span class="ruby-comment cmt"># this controller exists in the admin namespace as well which is the only difference from previous test</span>
281:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">top_level</span> <span class="ruby-value str">'/user/:id'</span>, <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'user'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'index'</span>
282:         <span class="ruby-identifier">map</span>.<span class="ruby-identifier">connect</span>   <span class="ruby-value str">':controller/:action/:id'</span>
283:       <span class="ruby-keyword kw">end</span>
284:       <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
285:       <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_top_level_named_route</span>
286:       <span class="ruby-comment cmt"># assert_redirected_to top_level_url('foo') would pass because of exact match early return</span>
287:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">top_level_path</span>(<span class="ruby-value str">'foo'</span>)
288:     <span class="ruby-keyword kw">end</span>
289:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000990" class="method">
  <div id="M000990_title" class="title">
    <b>test_assert_redirection_fails_with_incorrect_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000990_source')" id="l_M000990_source">show source</a> ]</p>
  <div id="M000990_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 442</span>
442:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirection_fails_with_incorrect_controller</span>
443:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_controller</span>
444:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>) <span class="ruby-keyword kw">do</span>
445:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;action_pack_assertions&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;flash_me&quot;</span>
446:     <span class="ruby-keyword kw">end</span>
447:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000991" class="method">
  <div id="M000991_title" class="title">
    <b>test_assert_redirection_with_extra_controller_option</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000991_source')" id="l_M000991_source">show source</a> ]</p>
  <div id="M000991_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirection_with_extra_controller_option</span>
450:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:redirect_to_action</span>
451:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'action_pack_assertions'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;flash_me&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:panda</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'fun'</span> }
452:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000995" class="method">
  <div id="M000995_title" class="title">
    <b>test_assert_redirection_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000995_source')" id="l_M000995_source">show source</a> ]</p>
  <div id="M000995_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 471</span>
471:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_redirection_with_symbol</span>
472:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_controller_with_symbol</span>
473:     <span class="ruby-identifier">assert_nothing_raised</span> {
474:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;elsewhere&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;flash_me&quot;</span>
475:     }
476:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_controller_with_symbol</span>
477:     <span class="ruby-identifier">assert_nothing_raised</span> {
478:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:elsewhere</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:flash_me</span>
479:     }
480:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001000" class="method">
  <div id="M001000_title" class="title">
    <b>test_assert_response_failure_response_with_no_exception</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001000_source')" id="l_M001000_source">show source</a> ]</p>
  <div id="M001000_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 515</span>
515:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_response_failure_response_with_no_exception</span>
516:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">AssertResponseWithUnexpectedErrorController</span>.<span class="ruby-identifier">new</span>
517:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:show</span>
518:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:success</span>
519:     <span class="ruby-identifier">flunk</span> <span class="ruby-value str">'Expected non-success response'</span>
520:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>
521:     <span class="ruby-comment cmt"># success</span>
522:   <span class="ruby-keyword kw">rescue</span>
523:     <span class="ruby-identifier">flunk</span> <span class="ruby-value str">&quot;assert_response failed to handle failure response with missing, but optional, exception.&quot;</span>
524:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000999" class="method">
  <div id="M000999_title" class="title">
    <b>test_assert_response_uses_exception_message</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000999_source')" id="l_M000999_source">show source</a> ]</p>
  <div id="M000999_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 506</span>
506:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_response_uses_exception_message</span>
507:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">AssertResponseWithUnexpectedErrorController</span>.<span class="ruby-identifier">new</span>
508:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:index</span>
509:     <span class="ruby-identifier">assert_response</span> <span class="ruby-identifier">:success</span>
510:     <span class="ruby-identifier">flunk</span> <span class="ruby-value str">'Expected non-success response'</span>
511:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
512:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'FAIL'</span>)
513:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000961" class="method">
  <div id="M000961_title" class="title">
    <b>test_assert_tag_and_url_for</b>()
  </div>
  <div class="description">
  <p>
&#8212; assertion-based testing
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000961_source')" id="l_M000961_source">show source</a> ]</p>
  <div id="M000961_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 184</span>
184:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_tag_and_url_for</span>
185:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:render_url</span>
186:     <span class="ruby-identifier">assert_tag</span> <span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/action_pack_assertions/flash_me&quot;</span>
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000979" class="method">
  <div id="M000979_title" class="title">
    <b>test_assert_template_with_bad_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000979_source')" id="l_M000979_source">show source</a> ]</p>
  <div id="M000979_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 359</span>
359:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_bad_argument</span>
360:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">assert_template</span> <span class="ruby-value">1</span> }    
361:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000976" class="method">
  <div id="M000976_title" class="title">
    <b>test_assert_template_with_nil</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000976_source')" id="l_M000976_source">show source</a> ]</p>
  <div id="M000976_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 344</span>
344:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_nil</span>
345:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:nothing</span>
346:     <span class="ruby-identifier">assert_template</span> <span class="ruby-keyword kw">nil</span>
347:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000975" class="method">
  <div id="M000975_title" class="title">
    <b>test_assert_template_with_partial</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000975_source')" id="l_M000975_source">show source</a> ]</p>
  <div id="M000975_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 339</span>
339:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_partial</span>
340:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:partial</span>
341:     <span class="ruby-identifier">assert_template</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'_partial'</span>
342:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000977" class="method">
  <div id="M000977_title" class="title">
    <b>test_assert_template_with_string</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000977_source')" id="l_M000977_source">show source</a> ]</p>
  <div id="M000977_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 349</span>
349:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_string</span>
350:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:hello_world</span>
351:     <span class="ruby-identifier">assert_template</span> <span class="ruby-value str">'hello_world'</span>    
352:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000978" class="method">
  <div id="M000978_title" class="title">
    <b>test_assert_template_with_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000978_source')" id="l_M000978_source">show source</a> ]</p>
  <div id="M000978_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 354</span>
354:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_template_with_symbol</span>
355:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:hello_world</span>
356:     <span class="ruby-identifier">assert_template</span> <span class="ruby-identifier">:hello_world</span>
357:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000997" class="method">
  <div id="M000997_title" class="title">
    <b>test_assert_valid</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000997_source')" id="l_M000997_source">show source</a> ]</p>
  <div id="M000997_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 491</span>
491:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_valid</span>
492:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:get_valid_record</span>
493:     <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-identifier">assert_valid</span> <span class="ruby-identifier">assigns</span>(<span class="ruby-value str">'record'</span>) }
494:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000998" class="method">
  <div id="M000998_title" class="title">
    <b>test_assert_valid_failing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000998_source')" id="l_M000998_source">show source</a> ]</p>
  <div id="M000998_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 496</span>
496:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_valid_failing</span>
497:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:get_invalid_record</span>
498: 
499:     <span class="ruby-keyword kw">begin</span>
500:       <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-identifier">assert_valid</span> <span class="ruby-identifier">assigns</span>(<span class="ruby-value str">'record'</span>) }
501:       <span class="ruby-identifier">assert</span> <span class="ruby-keyword kw">false</span>
502:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
503:     <span class="ruby-keyword kw">end</span>
504:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000984" class="method">
  <div id="M000984_title" class="title">
    <b>test_client_error_response_code</b>()
  </div>
  <div class="description">
  <p>
check client errors
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000984_source')" id="l_M000984_source">show source</a> ]</p>
  <div id="M000984_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 397</span>
397:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_client_error_response_code</span>
398:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response404</span>
399:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">client_error?</span>
400:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000973" class="method">
  <div id="M000973_title" class="title">
    <b>test_flash_have_nots</b>()
  </div>
  <div class="description">
  <p>
ensure we don&#8217;t have flash objects
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000973_source')" id="l_M000973_source">show source</a> ]</p>
  <div id="M000973_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 322</span>
322:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flash_have_nots</span>
323:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
324:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash?</span>
325:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_with_contents?</span>
326:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">flash</span>[<span class="ruby-value str">'hello'</span>]
327:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000972" class="method">
  <div id="M000972_title" class="title">
    <b>test_flash_haves</b>()
  </div>
  <div class="description">
  <p>
check if we have flash objects
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000972_source')" id="l_M000972_source">show source</a> ]</p>
  <div id="M000972_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 314</span>
314:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flash_haves</span>
315:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:flash_me</span>
316:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash?</span>
317:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_with_contents?</span>
318:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_object?</span>(<span class="ruby-value str">'hello'</span>)
319:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000971" class="method">
  <div id="M000971_title" class="title">
    <b>test_flash_me_naked</b>()
  </div>
  <div class="description">
  <p>
check the empty flashing
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000971_source')" id="l_M000971_source">show source</a> ]</p>
  <div id="M000971_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 307</span>
307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_flash_me_naked</span>
308:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:flash_me_naked</span>
309:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash?</span>
310:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_flash_with_contents?</span>
311:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000962" class="method">
  <div id="M000962_title" class="title">
    <b>test_get</b>()
  </div>
  <div class="description">
  <p>
test the get method, make sure the request really was a get
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000962_source')" id="l_M000962_source">show source</a> ]</p>
  <div id="M000962_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 190</span>
190:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get</span>
191:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-identifier">get</span> <span class="ruby-identifier">:raise_on_get</span> }
192:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:raise_on_post</span>
193:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>, <span class="ruby-value str">'request method: GET'</span>
194:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000988" class="method">
  <div id="M000988_title" class="title">
    <b>test_has_response</b>()
  </div>
  <div class="description">
  <p>
a basic check to make sure we have a TestResponse object
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000988_source')" id="l_M000988_source">show source</a> ]</p>
  <div id="M000988_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 431</span>
431:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_has_response</span>
432:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
433:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">TestResponse</span>, <span class="ruby-ivar">@response</span>
434:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000983" class="method">
  <div id="M000983_title" class="title">
    <b>test_missing_response_code</b>()
  </div>
  <div class="description">
  <p>
check a 404 response code
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000983_source')" id="l_M000983_source">show source</a> ]</p>
  <div id="M000983_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 391</span>
391:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_missing_response_code</span>
392:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response404</span>
393:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">missing?</span>
394:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000981" class="method">
  <div id="M000981_title" class="title">
    <b>test_no_redirect_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000981_source')" id="l_M000981_source">show source</a> ]</p>
  <div id="M000981_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 372</span>
372:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_redirect_url</span>
373:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
374:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
375:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000963" class="method">
  <div id="M000963_title" class="title">
    <b>test_post</b>()
  </div>
  <div class="description">
  <p>
test the get method, make sure the request really was a get
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000963_source')" id="l_M000963_source">show source</a> ]</p>
  <div id="M000963_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_post</span>
198:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-identifier">post</span> <span class="ruby-identifier">:raise_on_post</span> }
199:     <span class="ruby-identifier">post</span> <span class="ruby-identifier">:raise_on_get</span>
200:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>, <span class="ruby-value str">'request method: POST'</span>
201:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000985" class="method">
  <div id="M000985_title" class="title">
    <b>test_redirect_url_match</b>()
  </div>
  <div class="description">
  <p>
check to see if our redirection matches a pattern
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000985_source')" id="l_M000985_source">show source</a> ]</p>
  <div id="M000985_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 403</span>
403:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_url_match</span>
404:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_external</span>
405:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
406:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-value str">&quot;rubyonrails&quot;</span>)
407:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-regexp re">/rubyonrails/</span>)
408:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-value str">&quot;phpoffrails&quot;</span>)
409:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url_match?</span>(<span class="ruby-regexp re">/perloffrails/</span>)
410:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000994" class="method">
  <div id="M000994_title" class="title">
    <b>test_redirected_to_url_full_url</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000994_source')" id="l_M000994_source">show source</a> ]</p>
  <div id="M000994_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 466</span>
466:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_url_full_url</span>
467:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_path</span>
468:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'http://test.host/some/path'</span>
469:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000992" class="method">
  <div id="M000992_title" class="title">
    <b>test_redirected_to_url_leading_slash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000992_source')" id="l_M000992_source">show source</a> ]</p>
  <div id="M000992_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 454</span>
454:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_url_leading_slash</span>
455:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_path</span>
456:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'/some/path'</span>
457:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000993" class="method">
  <div id="M000993_title" class="title">
    <b>test_redirected_to_url_no_leadling_slash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000993_source')" id="l_M000993_source">show source</a> ]</p>
  <div id="M000993_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 459</span>
459:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_url_no_leadling_slash</span>
460:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_to_path</span>
461:     <span class="ruby-identifier">assert_deprecated</span> <span class="ruby-regexp re">/leading/</span> <span class="ruby-keyword kw">do</span>
462:       <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-value str">'some/path'</span>
463:     <span class="ruby-keyword kw">end</span>
464:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000996" class="method">
  <div id="M000996_title" class="title">
    <b>test_redirected_to_with_nested_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000996_source')" id="l_M000996_source">show source</a> ]</p>
  <div id="M000996_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 482</span>
482:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirected_to_with_nested_controller</span>
483:     <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">Admin</span><span class="ruby-operator">::</span><span class="ruby-constant">InnerModuleController</span>.<span class="ruby-identifier">new</span>
484:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:redirect_to_absolute_controller</span>
485:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'/content'</span>
486: 
487:     <span class="ruby-identifier">get</span> <span class="ruby-identifier">:redirect_to_fellow_controller</span>
488:     <span class="ruby-identifier">assert_redirected_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admin/user'</span>
489:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000986" class="method">
  <div id="M000986_title" class="title">
    <b>test_redirection</b>()
  </div>
  <div class="description">
  <p>
check for a redirection
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000986_source')" id="l_M000986_source">show source</a> ]</p>
  <div id="M000986_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 413</span>
413:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirection</span>
414:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_internal</span>
415:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
416: 
417:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_external</span>
418:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
419: 
420:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
421:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect?</span>
422:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000980" class="method">
  <div id="M000980_title" class="title">
    <b>test_redirection_location</b>()
  </div>
  <div class="description">
  <p>
check the redirection location
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000980_source')" id="l_M000980_source">show source</a> ]</p>
  <div id="M000980_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 364</span>
364:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirection_location</span>
365:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_internal</span>
366:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://test.host/nothing'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
367: 
368:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:redirect_external</span>
369:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'http://www.rubyonrails.org'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect_url</span>
370:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000989" class="method">
  <div id="M000989_title" class="title">
    <b>test_render_based_on_parameters</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000989_source')" id="l_M000989_source">show source</a> ]</p>
  <div id="M000989_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 436</span>
436:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_render_based_on_parameters</span>
437:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:render_based_on_parameters</span>, <span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;David&quot;</span>
438:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mr. David&quot;</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span>
439:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000974" class="method">
  <div id="M000974_title" class="title">
    <b>test_rendered_action</b>()
  </div>
  <div class="description">
  <p>
check if we were rendered by a file-based template?
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000974_source')" id="l_M000974_source">show source</a> ]</p>
  <div id="M000974_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 330</span>
330:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rendered_action</span>
331:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
332:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">rendered</span>[<span class="ruby-identifier">:template</span>]
333: 
334:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:hello_world</span>
335:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">rendered</span>[<span class="ruby-identifier">:template</span>]
336:     <span class="ruby-identifier">assert</span> <span class="ruby-value str">'hello_world'</span>, <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">rendered</span>[<span class="ruby-identifier">:template</span>].<span class="ruby-identifier">to_s</span>
337:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000982" class="method">
  <div id="M000982_title" class="title">
    <b>test_server_error_response_code</b>()
  </div>
  <div class="description">
  <p>
check server errors
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000982_source')" id="l_M000982_source">show source</a> ]</p>
  <div id="M000982_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 379</span>
379:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_server_error_response_code</span>
380:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response500</span>
381:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">server_error?</span>
382: 
383:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response599</span>
384:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">server_error?</span>
385: 
386:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:response404</span>
387:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">server_error?</span>
388:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000987" class="method">
  <div id="M000987_title" class="title">
    <b>test_successful_response_code</b>()
  </div>
  <div class="description">
  <p>
check a successful response code
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000987_source')" id="l_M000987_source">show source</a> ]</p>
  <div id="M000987_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 425</span>
425:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_successful_response_code</span>
426:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
427:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">success?</span>
428:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000970" class="method">
  <div id="M000970_title" class="title">
    <b>test_template_object_missing</b>()
  </div>
  <div class="description">
  <p>
make sure we don&#8217;t have template objects when we shouldn&#8217;t
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000970_source')" id="l_M000970_source">show source</a> ]</p>
  <div id="M000970_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 301</span>
301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_object_missing</span>
302:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:nothing</span>
303:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">template_objects</span>[<span class="ruby-value str">'howdy'</span>]
304:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M000969" class="method">
  <div id="M000969_title" class="title">
    <b>test_template_objects_alive</b>()
  </div>
  <div class="description">
  <p>
make sure that the template objects exist
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000969_source')" id="l_M000969_source">show source</a> ]</p>
  <div id="M000969_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/action_pack_assertions_test.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_objects_alive</span>
295:     <span class="ruby-identifier">process</span> <span class="ruby-identifier">:assign_this</span>
296:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_template_object?</span>(<span class="ruby-value str">'hi'</span>)
297:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">has_template_object?</span>(<span class="ruby-value str">'howdy'</span>)
298:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>