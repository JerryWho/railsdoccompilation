  <div id="C00000160">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TimeWithZoneTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/time_with_zone_test_rb.html');">activesupport/test/core_ext/time_with_zone_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001082&name=beginning_of_day" >beginning_of_day</a></li>
  <li><a href="index.html?a=M001080&name=beginning_of_month" >beginning_of_month</a></li>
  <li><a href="index.html?a=M001078&name=beginning_of_year" >beginning_of_year</a></li>
  <li><a href="index.html?a=M001083&name=end_of_day" >end_of_day</a></li>
  <li><a href="index.html?a=M001081&name=end_of_month" >end_of_month</a></li>
  <li><a href="index.html?a=M001079&name=end_of_year" >end_of_year</a></li>
  <li><a href="index.html?a=M001037&name=future_with_time_current_as_time_with_zone" >future_with_time_current_as_time_with_zone</a></li>
  <li><a href="index.html?a=M001005&name=setup" >setup</a></li>
  <li><a href="index.html?a=M001059&name=test_acts_like_date" >test_acts_like_date</a></li>
  <li><a href="index.html?a=M001058&name=test_acts_like_time" >test_acts_like_time</a></li>
  <li><a href="index.html?a=M001077&name=test_advance" >test_advance</a></li>
  <li><a href="index.html?a=M001096&name=test_advance_1_day_across_fall_dst_transition" >test_advance_1_day_across_fall_dst_transition</a></li>
  <li><a href="index.html?a=M001097&name=test_advance_1_day_across_fall_dst_transition_backwards" >test_advance_1_day_across_fall_dst_transition_backwards</a></li>
  <li><a href="index.html?a=M001092&name=test_advance_1_day_across_spring_dst_transition" >test_advance_1_day_across_spring_dst_transition</a></li>
  <li><a href="index.html?a=M001093&name=test_advance_1_day_across_spring_dst_transition_backwards" >test_advance_1_day_across_spring_dst_transition_backwards</a></li>
  <li><a href="index.html?a=M001098&name=test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition" >test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition</a></li>
  <li><a href="index.html?a=M001099&name=test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition_backwards" >test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition_backwards</a></li>
  <li><a href="index.html?a=M001094&name=test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition" >test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition</a></li>
  <li><a href="index.html?a=M001095&name=test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition_backwards" >test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition_backwards</a></li>
  <li><a href="index.html?a=M001102&name=test_advance_1_month_across_fall_dst_transition" >test_advance_1_month_across_fall_dst_transition</a></li>
  <li><a href="index.html?a=M001103&name=test_advance_1_month_across_fall_dst_transition_backwards" >test_advance_1_month_across_fall_dst_transition_backwards</a></li>
  <li><a href="index.html?a=M001100&name=test_advance_1_month_across_spring_dst_transition" >test_advance_1_month_across_spring_dst_transition</a></li>
  <li><a href="index.html?a=M001101&name=test_advance_1_month_across_spring_dst_transition_backwards" >test_advance_1_month_across_spring_dst_transition_backwards</a></li>
  <li><a href="index.html?a=M001088&name=test_advance_1_month_from_last_day_of_january" >test_advance_1_month_from_last_day_of_january</a></li>
  <li><a href="index.html?a=M001089&name=test_advance_1_month_from_last_day_of_january_during_leap_year" >test_advance_1_month_from_last_day_of_january_during_leap_year</a></li>
  <li><a href="index.html?a=M001090&name=test_advance_1_month_into_spring_dst_gap" >test_advance_1_month_into_spring_dst_gap</a></li>
  <li><a href="index.html?a=M001091&name=test_advance_1_second_into_spring_dst_gap" >test_advance_1_second_into_spring_dst_gap</a></li>
  <li><a href="index.html?a=M001104&name=test_advance_1_year" >test_advance_1_year</a></li>
  <li><a href="index.html?a=M001105&name=test_advance_1_year_during_dst" >test_advance_1_year_during_dst</a></li>
  <li><a href="index.html?a=M001087&name=test_advance_1_year_from_leap_day" >test_advance_1_year_from_leap_day</a></li>
  <li><a href="index.html?a=M001085&name=test_ago" >test_ago</a></li>
  <li><a href="index.html?a=M001032&name=test_between?" >test_between?</a></li>
  <li><a href="index.html?a=M001076&name=test_change" >test_change</a></li>
  <li><a href="index.html?a=M001030&name=test_compare_with_datetime" >test_compare_with_datetime</a></li>
  <li><a href="index.html?a=M001029&name=test_compare_with_time" >test_compare_with_time</a></li>
  <li><a href="index.html?a=M001031&name=test_compare_with_time_with_zone" >test_compare_with_time_with_zone</a></li>
  <li><a href="index.html?a=M001067&name=test_date_part_value_methods" >test_date_part_value_methods</a></li>
  <li><a href="index.html?a=M001014&name=test_dst?" >test_dst?</a></li>
  <li><a href="index.html?a=M001038&name=test_eql?" >test_eql?</a></li>
  <li><a href="index.html?a=M001013&name=test_formatted_offset" >test_formatted_offset</a></li>
  <li><a href="index.html?a=M001064&name=test_freeze" >test_freeze</a></li>
  <li><a href="index.html?a=M001065&name=test_freeze_preloads_instance_variables" >test_freeze_preloads_instance_variables</a></li>
  <li><a href="index.html?a=M001036&name=test_future_with_time_current_as_time_local" >test_future_with_time_current_as_time_local</a></li>
  <li><a href="index.html?a=M001027&name=test_httpdate" >test_httpdate</a></li>
  <li><a href="index.html?a=M001009&name=test_in_time_zone" >test_in_time_zone</a></li>
  <li><a href="index.html?a=M001010&name=test_in_time_zone_with_argument" >test_in_time_zone_with_argument</a></li>
  <li><a href="index.html?a=M001011&name=test_in_time_zone_with_new_zone_equal_to_old_zone_does_not_create_new_object" >test_in_time_zone_with_new_zone_equal_to_old_zone_does_not_create_new_object</a></li>
  <li><a href="index.html?a=M001019&name=test_inspect" >test_inspect</a></li>
  <li><a href="index.html?a=M001072&name=test_instance_created_with_local_time_enforces_fall_dst_rules" >test_instance_created_with_local_time_enforces_fall_dst_rules</a></li>
  <li><a href="index.html?a=M001071&name=test_instance_created_with_local_time_enforces_spring_dst_rules" >test_instance_created_with_local_time_enforces_spring_dst_rules</a></li>
  <li><a href="index.html?a=M001070&name=test_instance_created_with_local_time_returns_correct_utc_time" >test_instance_created_with_local_time_returns_correct_utc_time</a></li>
  <li><a href="index.html?a=M001060&name=test_is_a" >test_is_a</a></li>
  <li><a href="index.html?a=M001075&name=test_local_to_utc_conversion_with_far_future_datetime" >test_local_to_utc_conversion_with_far_future_datetime</a></li>
  <li><a href="index.html?a=M001062&name=test_marshal_dump_and_load" >test_marshal_dump_and_load</a></li>
  <li><a href="index.html?a=M001063&name=test_marshal_dump_and_load_with_tzinfo_identifier" >test_marshal_dump_and_load_with_tzinfo_identifier</a></li>
  <li><a href="index.html?a=M001066&name=test_method_missing_with_non_time_return_value" >test_method_missing_with_non_time_return_value</a></li>
  <li><a href="index.html?a=M001061&name=test_method_missing_with_time_return_value" >test_method_missing_with_time_return_value</a></li>
  <li><a href="index.html?a=M001048&name=test_minus_with_datetime" >test_minus_with_datetime</a></li>
  <li><a href="index.html?a=M001045&name=test_minus_with_duration" >test_minus_with_duration</a></li>
  <li><a href="index.html?a=M001043&name=test_minus_with_integer" >test_minus_with_integer</a></li>
  <li><a href="index.html?a=M001044&name=test_minus_with_integer_when_self_wraps_datetime" >test_minus_with_integer_when_self_wraps_datetime</a></li>
  <li><a href="index.html?a=M001046&name=test_minus_with_time" >test_minus_with_time</a></li>
  <li><a href="index.html?a=M001047&name=test_minus_with_time_with_zone" >test_minus_with_time_with_zone</a></li>
  <li><a href="index.html?a=M001049&name=test_minus_with_wrapped_datetime" >test_minus_with_wrapped_datetime</a></li>
  <li><a href="index.html?a=M001034&name=test_past_with_time_current_as_time_local" >test_past_with_time_current_as_time_local</a></li>
  <li><a href="index.html?a=M001035&name=test_past_with_time_current_as_time_with_zone" >test_past_with_time_current_as_time_with_zone</a></li>
  <li><a href="index.html?a=M001051&name=test_plus_and_minus_enforce_fall_dst_rules" >test_plus_and_minus_enforce_fall_dst_rules</a></li>
  <li><a href="index.html?a=M001050&name=test_plus_and_minus_enforce_spring_dst_rules" >test_plus_and_minus_enforce_spring_dst_rules</a></li>
  <li><a href="index.html?a=M001041&name=test_plus_when_crossing_time_class_limit" >test_plus_when_crossing_time_class_limit</a></li>
  <li><a href="index.html?a=M001042&name=test_plus_with_duration" >test_plus_with_duration</a></li>
  <li><a href="index.html?a=M001039&name=test_plus_with_integer" >test_plus_with_integer</a></li>
  <li><a href="index.html?a=M001040&name=test_plus_with_integer_when_self_wraps_datetime" >test_plus_with_integer_when_self_wraps_datetime</a></li>
  <li><a href="index.html?a=M001028&name=test_rfc2822" >test_rfc2822</a></li>
  <li><a href="index.html?a=M001073&name=test_ruby_19_weekday_name_query_methods" >test_ruby_19_weekday_name_query_methods</a></li>
  <li><a href="index.html?a=M001026&name=test_ruby_to_yaml" >test_ruby_to_yaml</a></li>
  <li><a href="index.html?a=M001086&name=test_seconds_since_midnight" >test_seconds_since_midnight</a></li>
  <li><a href="index.html?a=M001084&name=test_since" >test_since</a></li>
  <li><a href="index.html?a=M001018&name=test_strftime" >test_strftime</a></li>
  <li><a href="index.html?a=M001007&name=test_time" >test_time</a></li>
  <li><a href="index.html?a=M001008&name=test_time_zone" >test_time_zone</a></li>
  <li><a href="index.html?a=M001052&name=test_to_a" >test_to_a</a></li>
  <li><a href="index.html?a=M001056&name=test_to_date" >test_to_date</a></li>
  <li><a href="index.html?a=M001057&name=test_to_datetime" >test_to_datetime</a></li>
  <li><a href="index.html?a=M001053&name=test_to_f" >test_to_f</a></li>
  <li><a href="index.html?a=M001021&name=test_to_formatted_s" >test_to_formatted_s</a></li>
  <li><a href="index.html?a=M001054&name=test_to_i" >test_to_i</a></li>
  <li><a href="index.html?a=M001016&name=test_to_json" >test_to_json</a></li>
  <li><a href="index.html?a=M001017&name=test_to_json_with_use_standard_json_time_format_config_set_to_true" >test_to_json_with_use_standard_json_time_format_config_set_to_true</a></li>
  <li><a href="index.html?a=M001020&name=test_to_s" >test_to_s</a></li>
  <li><a href="index.html?a=M001022&name=test_to_s_db" >test_to_s_db</a></li>
  <li><a href="index.html?a=M001055&name=test_to_time" >test_to_time</a></li>
  <li><a href="index.html?a=M001025&name=test_to_yaml" >test_to_yaml</a></li>
  <li><a href="index.html?a=M001033&name=test_today" >test_today</a></li>
  <li><a href="index.html?a=M001068&name=test_usec_returns_0_when_datetime_is_wrapped" >test_usec_returns_0_when_datetime_is_wrapped</a></li>
  <li><a href="index.html?a=M001006&name=test_utc" >test_utc</a></li>
  <li><a href="index.html?a=M001012&name=test_utc?" >test_utc?</a></li>
  <li><a href="index.html?a=M001069&name=test_utc_to_local_conversion_saves_period_in_instance_variable" >test_utc_to_local_conversion_saves_period_in_instance_variable</a></li>
  <li><a href="index.html?a=M001074&name=test_utc_to_local_conversion_with_far_future_datetime" >test_utc_to_local_conversion_with_far_future_datetime</a></li>
  <li><a href="index.html?a=M001023&name=test_xmlschema" >test_xmlschema</a></li>
  <li><a href="index.html?a=M001024&name=test_xmlschema_with_fractional_seconds" >test_xmlschema_with_fractional_seconds</a></li>
  <li><a href="index.html?a=M001015&name=test_zone" >test_zone</a></li>
  <li><a href="index.html?a=M001106&name=with_env_tz" >with_env_tz</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001082" class="method">
  <div id="M001082_title" class="title">
    <b>beginning_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001082_source')" id="l_M001082_source">show source</a> ]</p>
  <div id="M001082_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 467</span>
467:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_day</span>
468:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
469:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 00:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">beginning_of_day</span>.<span class="ruby-identifier">inspect</span>
470:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001080" class="method">
  <div id="M001080_title" class="title">
    <b>beginning_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001080_source')" id="l_M001080_source">show source</a> ]</p>
  <div id="M001080_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 457</span>
457:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_month</span>
458:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
459:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 01 Dec 1999 00:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">inspect</span>
460:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001078" class="method">
  <div id="M001078_title" class="title">
    <b>beginning_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001078_source')" id="l_M001078_source">show source</a> ]</p>
  <div id="M001078_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 447</span>
447:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_year</span>
448:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
449:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 01 Jan 1999 00:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">beginning_of_year</span>.<span class="ruby-identifier">inspect</span>
450:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001083" class="method">
  <div id="M001083_title" class="title">
    <b>end_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001083_source')" id="l_M001083_source">show source</a> ]</p>
  <div id="M001083_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 472</span>
472:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_day</span>
473:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
474:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 23:59:59 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">end_of_day</span>.<span class="ruby-identifier">inspect</span>
475:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001081" class="method">
  <div id="M001081_title" class="title">
    <b>end_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001081_source')" id="l_M001081_source">show source</a> ]</p>
  <div id="M001081_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 462</span>
462:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_month</span>
463:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
464:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 23:59:59 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">end_of_month</span>.<span class="ruby-identifier">inspect</span>
465:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001079" class="method">
  <div id="M001079_title" class="title">
    <b>end_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001079_source')" id="l_M001079_source">show source</a> ]</p>
  <div id="M001079_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 452</span>
452:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_year</span>
453:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
454:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 23:59:59 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">end_of_year</span>.<span class="ruby-identifier">inspect</span>
455:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001037" class="method">
  <div id="M001037_title" class="title">
    <b>future_with_time_current_as_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001037_source')" id="l_M001037_source">show source</a> ]</p>
  <div id="M001037_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 172</span>
172:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">future_with_time_current_as_time_with_zone</span>
173:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>) )
174:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">twz</span>)
175:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>)).<span class="ruby-identifier">future?</span>
176:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>)).<span class="ruby-identifier">future?</span>
177:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>)).<span class="ruby-identifier">future?</span>
178:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001005" class="method">
  <div id="M001005_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001005_source')" id="l_M001005_source">show source</a> ]</p>
  <div id="M001005_source" class="dyn-source">
<pre>
   <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 5</span>
5:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
6:     <span class="ruby-ivar">@utc</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>)
7:     <span class="ruby-ivar">@time_zone</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>]
8:     <span class="ruby-ivar">@twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@utc</span>, <span class="ruby-ivar">@time_zone</span>)
9:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001059" class="method">
  <div id="M001059_title" class="title">
    <b>test_acts_like_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001059_source')" id="l_M001059_source">show source</a> ]</p>
  <div id="M001059_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 310</span>
310:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_acts_like_date</span>
311:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">acts_like?</span>(<span class="ruby-identifier">:date</span>)
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>), <span class="ruby-ivar">@time_zone</span>).<span class="ruby-identifier">acts_like?</span>(<span class="ruby-identifier">:date</span>)
313:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001058" class="method">
  <div id="M001058_title" class="title">
    <b>test_acts_like_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001058_source')" id="l_M001058_source">show source</a> ]</p>
  <div id="M001058_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 305</span>
305:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_acts_like_time</span>
306:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">acts_like?</span>(<span class="ruby-identifier">:time</span>)
307:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>), <span class="ruby-ivar">@time_zone</span>).<span class="ruby-identifier">acts_like?</span>(<span class="ruby-identifier">:time</span>)
308:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001077" class="method">
  <div id="M001077_title" class="title">
    <b>test_advance</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001077_source')" id="l_M001077_source">show source</a> ]</p>
  <div id="M001077_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 437</span>
437:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance</span>
438:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
439:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 31 Dec 2001 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">inspect</span>
440:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Mar 2000 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>).<span class="ruby-identifier">inspect</span>
441:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 04 Jan 2000 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>).<span class="ruby-identifier">inspect</span>
442:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Jan 2000 01:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>).<span class="ruby-identifier">inspect</span>
443:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:15:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>).<span class="ruby-identifier">inspect</span>
444:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:30 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">30</span>).<span class="ruby-identifier">inspect</span>
445:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001096" class="method">
  <div id="M001096_title" class="title">
    <b>test_advance_1_day_across_fall_dst_transition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001096_source')" id="l_M001096_source">show source</a> ]</p>
  <div id="M001096_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 585</span>
585:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_across_fall_dst_transition</span>
586:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
587:     <span class="ruby-comment cmt"># In 2006, fall DST transition occurred Oct 29 at 2AM; this day was 25 hours long</span>
588:     <span class="ruby-comment cmt"># When we advance 1 day, we want to end up at the same time on the next day</span>
589:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
590:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
591:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
592:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 10:30:01 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
593:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 10:30:01 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
594:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001097" class="method">
  <div id="M001097_title" class="title">
    <b>test_advance_1_day_across_fall_dst_transition_backwards</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001097_source')" id="l_M001097_source">show source</a> ]</p>
  <div id="M001097_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 596</span>
596:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_across_fall_dst_transition_backwards</span>
597:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
598:     <span class="ruby-comment cmt"># In 2006, fall DST transition occurred Oct 29 at 2AM; this day was 25 hours long</span>
599:     <span class="ruby-comment cmt"># When we advance backwards 1 day, we want to end up at the same time on the previous day</span>
600:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>).<span class="ruby-identifier">inspect</span>
601:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
602:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
603:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:01 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
604:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001092" class="method">
  <div id="M001092_title" class="title">
    <b>test_advance_1_day_across_spring_dst_transition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001092_source')" id="l_M001092_source">show source</a> ]</p>
  <div id="M001092_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 530</span>
530:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_across_spring_dst_transition</span>
531:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
532:     <span class="ruby-comment cmt"># In 2006, spring DST transition occurred Apr 2 at 2AM; this day was only 23 hours long</span>
533:     <span class="ruby-comment cmt"># When we advance 1 day, we want to end up at the same time on the next day</span>
534:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
535:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
536:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
537:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 10:30:01 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
538:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 10:30:01 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
539:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001093" class="method">
  <div id="M001093_title" class="title">
    <b>test_advance_1_day_across_spring_dst_transition_backwards</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001093_source')" id="l_M001093_source">show source</a> ]</p>
  <div id="M001093_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 541</span>
541:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_across_spring_dst_transition_backwards</span>
542:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
543:     <span class="ruby-comment cmt"># In 2006, spring DST transition occurred Apr 2 at 2AM; this day was only 23 hours long</span>
544:     <span class="ruby-comment cmt"># When we advance back 1 day, we want to end up at the same time on the previous day</span>
545:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>).<span class="ruby-identifier">inspect</span>
546:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
547:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">inspect</span>
548:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:01 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">days</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
549:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001098" class="method">
  <div id="M001098_title" class="title">
    <b>test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001098_source')" id="l_M001098_source">show source</a> ]</p>
  <div id="M001098_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 606</span>
606:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition</span>
607:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
608:     <span class="ruby-comment cmt"># In 2006, fall DST transition occurred Oct 29 at 2AM; this day was 25 hours long</span>
609:     <span class="ruby-comment cmt"># When we advance a specific number of hours, minutes or seconds, we want to advance exactly that amount</span>
610:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
611:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
612:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
613:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
614:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
615:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
616:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
617:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1440</span>).<span class="ruby-identifier">inspect</span>
618:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
619:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
620:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 29 Oct 2006 09:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>).<span class="ruby-identifier">inspect</span>
621:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001099" class="method">
  <div id="M001099_title" class="title">
    <b>test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition_backwards</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001099_source')" id="l_M001099_source">show source</a> ]</p>
  <div id="M001099_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 623</span>
623:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_fall_dst_transition_backwards</span>
624:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>))
625:     <span class="ruby-comment cmt"># In 2006, fall DST transition occurred Oct 29 at 2AM; this day was 25 hours long</span>
626:     <span class="ruby-comment cmt"># When we advance a specific number of hours, minutes or seconds, we want to advance exactly that amount</span>
627:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
628:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
629:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
630:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
631:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-86400</span>).<span class="ruby-identifier">inspect</span>
632:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
633:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
634:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1440</span>).<span class="ruby-identifier">inspect</span>
635:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
636:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
637:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-24</span>).<span class="ruby-identifier">inspect</span>
638:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001094" class="method">
  <div id="M001094_title" class="title">
    <b>test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001094_source')" id="l_M001094_source">show source</a> ]</p>
  <div id="M001094_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 551</span>
551:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition</span>
552:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
553:     <span class="ruby-comment cmt"># In 2006, spring DST transition occurred Apr 2 at 2AM; this day was only 23 hours long</span>
554:     <span class="ruby-comment cmt"># When we advance a specific number of hours, minutes or seconds, we want to advance exactly that amount</span>
555:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
556:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
557:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
558:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
559:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
560:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
561:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
562:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1440</span>).<span class="ruby-identifier">inspect</span>
563:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
564:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
565:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 11:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>).<span class="ruby-identifier">inspect</span>
566:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001095" class="method">
  <div id="M001095_title" class="title">
    <b>test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition_backwards</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001095_source')" id="l_M001095_source">show source</a> ]</p>
  <div id="M001095_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 568</span>
568:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_day_expressed_as_number_of_seconds_minutes_or_hours_across_spring_dst_transition_backwards</span>
569:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">11</span>,<span class="ruby-value">30</span>))
570:     <span class="ruby-comment cmt"># In 2006, spring DST transition occurred Apr 2 at 2AM; this day was only 23 hours long</span>
571:     <span class="ruby-comment cmt"># When we advance a specific number of hours, minutes or seconds, we want to advance exactly that amount</span>
572:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
573:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
574:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>).<span class="ruby-identifier">inspect</span>
575:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">86400</span>.<span class="ruby-identifier">seconds</span>).<span class="ruby-identifier">inspect</span>
576:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-86400</span>).<span class="ruby-identifier">inspect</span>
577:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
578:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1440</span>.<span class="ruby-identifier">minutes</span>).<span class="ruby-identifier">inspect</span>
579:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:minutes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1440</span>).<span class="ruby-identifier">inspect</span>
580:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
581:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">24</span>.<span class="ruby-identifier">hours</span>).<span class="ruby-identifier">inspect</span>
582:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:hours</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-24</span>).<span class="ruby-identifier">inspect</span>
583:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001102" class="method">
  <div id="M001102_title" class="title">
    <b>test_advance_1_month_across_fall_dst_transition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001102_source')" id="l_M001102_source">show source</a> ]</p>
  <div id="M001102_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 656</span>
656:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_across_fall_dst_transition</span>
657:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
658:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 28 Nov 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
659:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 28 Nov 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
660:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 28 Nov 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
661:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 28 Nov 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
662:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001103" class="method">
  <div id="M001103_title" class="title">
    <b>test_advance_1_month_across_fall_dst_transition_backwards</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001103_source')" id="l_M001103_source">show source</a> ]</p>
  <div id="M001103_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 664</span>
664:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_across_fall_dst_transition_backwards</span>
665:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
666:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>).<span class="ruby-identifier">inspect</span>
667:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
668:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
669:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 28 Oct 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
670:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001100" class="method">
  <div id="M001100_title" class="title">
    <b>test_advance_1_month_across_spring_dst_transition</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001100_source')" id="l_M001100_source">show source</a> ]</p>
  <div id="M001100_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 640</span>
640:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_across_spring_dst_transition</span>
641:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
642:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 01 May 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
643:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 01 May 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
644:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 01 May 2006 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
645:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 01 May 2006 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
646:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001101" class="method">
  <div id="M001101_title" class="title">
    <b>test_advance_1_month_across_spring_dst_transition_backwards</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001101_source')" id="l_M001101_source">show source</a> ]</p>
  <div id="M001101_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 648</span>
648:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_across_spring_dst_transition_backwards</span>
649:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">5</span>,<span class="ruby-value">1</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
650:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>).<span class="ruby-identifier">inspect</span>
651:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
652:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
653:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sat, 01 Apr 2006 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
654:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001088" class="method">
  <div id="M001088_title" class="title">
    <b>test_advance_1_month_from_last_day_of_january</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001088_source')" id="l_M001088_source">show source</a> ]</p>
  <div id="M001088_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 497</span>
497:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_from_last_day_of_january</span>
498:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>))
499:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
500:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
501:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
502:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
503:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001089" class="method">
  <div id="M001089_title" class="title">
    <b>test_advance_1_month_from_last_day_of_january_during_leap_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001089_source')" id="l_M001089_source">show source</a> ]</p>
  <div id="M001089_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 505</span>
505:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_from_last_day_of_january_during_leap_year</span>
506:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>))
507:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 29 Feb 2000 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
508:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 29 Feb 2000 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
509:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 29 Feb 2000 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
510:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Tue, 29 Feb 2000 00:00:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
511:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001090" class="method">
  <div id="M001090_title" class="title">
    <b>test_advance_1_month_into_spring_dst_gap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001090_source')" id="l_M001090_source">show source</a> ]</p>
  <div id="M001090_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 513</span>
513:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_month_into_spring_dst_gap</span>
514:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>,<span class="ruby-value">2</span>))
515:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
516:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
517:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
518:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>).<span class="ruby-identifier">inspect</span>
519:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001091" class="method">
  <div id="M001091_title" class="title">
    <b>test_advance_1_second_into_spring_dst_gap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001091_source')" id="l_M001091_source">show source</a> ]</p>
  <div id="M001091_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 521</span>
521:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_second_into_spring_dst_gap</span>
522:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>))
523:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
524:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
525:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
526:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
527:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 02 Apr 2006 03:00:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">second</span>).<span class="ruby-identifier">inspect</span>
528:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001104" class="method">
  <div id="M001104_title" class="title">
    <b>test_advance_1_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001104_source')" id="l_M001104_source">show source</a> ]</p>
  <div id="M001104_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 672</span>
672:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_year</span>
673:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
674:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 15 Feb 2009 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
675:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 15 Feb 2009 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
676:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 15 Feb 2009 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">inspect</span>
677:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Thu, 15 Feb 2007 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>).<span class="ruby-identifier">inspect</span>
678:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Thu, 15 Feb 2007 10:30:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
679:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Thu, 15 Feb 2007 10:30:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">inspect</span>
680:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001105" class="method">
  <div id="M001105_title" class="title">
    <b>test_advance_1_year_during_dst</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001105_source')" id="l_M001105_source">show source</a> ]</p>
  <div id="M001105_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 682</span>
682:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_year_during_dst</span>
683:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">7</span>,<span class="ruby-value">15</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>))
684:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Wed, 15 Jul 2009 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
685:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Wed, 15 Jul 2009 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
686:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Wed, 15 Jul 2009 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">inspect</span>
687:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 15 Jul 2007 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>).<span class="ruby-identifier">inspect</span>
688:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 15 Jul 2007 10:30:00 EDT -04:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
689:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Sun, 15 Jul 2007 10:30:00 EDT -04:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">inspect</span>
690:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001087" class="method">
  <div id="M001087_title" class="title">
    <b>test_advance_1_year_from_leap_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001087_source')" id="l_M001087_source">show source</a> ]</p>
  <div id="M001087_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 489</span>
489:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance_1_year_from_leap_day</span>
490:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>))
491:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
492:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
493:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">inspect</span>
494:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 28 Feb 2005 00:00:00 EST -05:00&quot;</span>, (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">year</span>).<span class="ruby-identifier">inspect</span>
495:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001085" class="method">
  <div id="M001085_title" class="title">
    <b>test_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001085_source')" id="l_M001085_source">show source</a> ]</p>
  <div id="M001085_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 481</span>
481:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ago</span>
482:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 18:59:59 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
483:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001032" class="method">
  <div id="M001032_title" class="title">
    <b>test_between?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001032_source')" id="l_M001032_source">show source</a> ]</p>
  <div id="M001032_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_between?</span>
134:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">between?</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>))
135:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">between?</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">2</span>))
136:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001076" class="method">
  <div id="M001076_title" class="title">
    <b>test_change</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001076_source')" id="l_M001076_source">show source</a> ]</p>
  <div id="M001076_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 426</span>
426:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_change</span>
427:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
428:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 31 Dec 2001 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2001</span>).<span class="ruby-identifier">inspect</span>
429:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Wed, 31 Mar 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>).<span class="ruby-identifier">inspect</span>
430:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Wed, 03 Mar 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">inspect</span>
431:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Wed, 15 Dec 1999 19:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>).<span class="ruby-identifier">inspect</span>
432:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 06:00:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>).<span class="ruby-identifier">inspect</span>
433:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:15:00 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>).<span class="ruby-identifier">inspect</span>
434:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:30 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">30</span>).<span class="ruby-identifier">inspect</span>
435:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001030" class="method">
  <div id="M001030_title" class="title">
    <b>test_compare_with_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001030_source')" id="l_M001030_source">show source</a> ]</p>
  <div id="M001030_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_datetime</span>
122:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
123:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
124:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>))
125:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001029" class="method">
  <div id="M001029_title" class="title">
    <b>test_compare_with_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001029_source')" id="l_M001029_source">show source</a> ]</p>
  <div id="M001029_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_time</span>
116:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>)
117:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
118:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>))
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001031" class="method">
  <div id="M001031_title" class="title">
    <b>test_compare_with_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001031_source')" id="l_M001031_source">show source</a> ]</p>
  <div id="M001031_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compare_with_time_with_zone</span>
128:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">1</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
129:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">0</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
130:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">-1</span>, <span class="ruby-ivar">@twz</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ))
131:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001067" class="method">
  <div id="M001067_title" class="title">
    <b>test_date_part_value_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001067_source')" id="l_M001067_source">show source</a> ]</p>
  <div id="M001067_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 367</span>
367:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_date_part_value_methods</span>
368:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">19</span>,<span class="ruby-value">18</span>,<span class="ruby-value">17</span>,<span class="ruby-value">500</span>), <span class="ruby-ivar">@time_zone</span>)
369:     <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:method_missing</span>).<span class="ruby-identifier">never</span>
370:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1999</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">year</span>
371:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">12</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">month</span>
372:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">31</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">day</span>
373:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">14</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">hour</span>
374:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">18</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">min</span>
375:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">17</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">sec</span>
376:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">500</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">usec</span>
377:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">wday</span>
378:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">365</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">yday</span>
379:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001014" class="method">
  <div id="M001014_title" class="title">
    <b>test_dst?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001014_source')" id="l_M001014_source">show source</a> ]</p>
  <div id="M001014_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_dst?</span>
48:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">dst?</span>
49:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>), <span class="ruby-ivar">@time_zone</span>).<span class="ruby-identifier">dst?</span>
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001038" class="method">
  <div id="M001038_title" class="title">
    <b>test_eql?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001038_source')" id="l_M001038_source">show source</a> ]</p>
  <div id="M001038_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_eql?</span>
181:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>))
182:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">eql?</span>( <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">&quot;Hawaii&quot;</span>]) )
183:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001013" class="method">
  <div id="M001013_title" class="title">
    <b>test_formatted_offset</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001013_source')" id="l_M001013_source">show source</a> ]</p>
  <div id="M001013_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_formatted_offset</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-05:00'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">formatted_offset</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'-04:00'</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>), <span class="ruby-ivar">@time_zone</span>).<span class="ruby-identifier">formatted_offset</span> <span class="ruby-comment cmt">#dst</span>
45:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001064" class="method">
  <div id="M001064_title" class="title">
    <b>test_freeze</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001064_source')" id="l_M001064_source">show source</a> ]</p>
  <div id="M001064_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 349</span>
349:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_freeze</span>
350:     <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">freeze</span>
351:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">frozen?</span>
352:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001065" class="method">
  <div id="M001065_title" class="title">
    <b>test_freeze_preloads_instance_variables</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001065_source')" id="l_M001065_source">show source</a> ]</p>
  <div id="M001065_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 354</span>
354:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_freeze_preloads_instance_variables</span>
355:     <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">freeze</span>
356:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
357:       <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">period</span>
358:       <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">time</span>
359:     <span class="ruby-keyword kw">end</span>
360:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001036" class="method">
  <div id="M001036_title" class="title">
    <b>test_future_with_time_current_as_time_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001036_source')" id="l_M001036_source">show source</a> ]</p>
  <div id="M001036_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future_with_time_current_as_time_local</span>
164:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
165:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>))
166:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>)).<span class="ruby-identifier">future?</span>
167:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>)).<span class="ruby-identifier">future?</span>
168:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>)).<span class="ruby-identifier">future?</span>
169:     <span class="ruby-keyword kw">end</span>
170:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001027" class="method">
  <div id="M001027_title" class="title">
    <b>test_httpdate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001027_source')" id="l_M001027_source">show source</a> ]</p>
  <div id="M001027_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 107</span>
107:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_httpdate</span>
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Sat, 01 Jan 2000 00:00:00 GMT'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">httpdate</span>
109:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001009" class="method">
  <div id="M001009_title" class="title">
    <b>test_in_time_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001009_source')" id="l_M001009_source">show source</a> ]</p>
  <div id="M001009_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 23</span>
23:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_in_time_zone</span>
24:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">use_zone</span> <span class="ruby-value str">'Alaska'</span> <span class="ruby-keyword kw">do</span>
25:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@utc</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Alaska'</span>]), <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">in_time_zone</span>
26:     <span class="ruby-keyword kw">end</span>
27:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001010" class="method">
  <div id="M001010_title" class="title">
    <b>test_in_time_zone_with_argument</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001010_source')" id="l_M001010_source">show source</a> ]</p>
  <div id="M001010_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 29</span>
29:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_in_time_zone_with_argument</span>
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@utc</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Alaska'</span>]), <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-value str">'Alaska'</span>)
31:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001011" class="method">
  <div id="M001011_title" class="title">
    <b>test_in_time_zone_with_new_zone_equal_to_old_zone_does_not_create_new_object</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001011_source')" id="l_M001011_source">show source</a> ]</p>
  <div id="M001011_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 33</span>
33:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_in_time_zone_with_new_zone_equal_to_old_zone_does_not_create_new_object</span>
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>]).<span class="ruby-identifier">object_id</span>
35:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001019" class="method">
  <div id="M001019_title" class="title">
    <b>test_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001019_source')" id="l_M001019_source">show source</a> ]</p>
  <div id="M001019_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inspect</span>
73:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Fri, 31 Dec 1999 19:00:00 EST -05:00'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>
74:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001072" class="method">
  <div id="M001072_title" class="title">
    <b>test_instance_created_with_local_time_enforces_fall_dst_rules</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001072_source')" id="l_M001072_source">show source</a> ]</p>
  <div id="M001072_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 404</span>
404:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_instance_created_with_local_time_enforces_fall_dst_rules</span>
405:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">1</span>)) <span class="ruby-comment cmt"># 1AM can be either DST or non-DST; we'll pick DST</span>
406:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">1</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span>
407:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
408:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EDT'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
409:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001071" class="method">
  <div id="M001071_title" class="title">
    <b>test_instance_created_with_local_time_enforces_spring_dst_rules</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001071_source')" id="l_M001071_source">show source</a> ]</p>
  <div id="M001071_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 397</span>
397:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_instance_created_with_local_time_enforces_spring_dst_rules</span>
398:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">2</span>)) <span class="ruby-comment cmt"># first second of DST</span>
399:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span> <span class="ruby-comment cmt"># springs forward to 3AM</span>
400:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
401:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EDT'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
402:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001070" class="method">
  <div id="M001070_title" class="title">
    <b>test_instance_created_with_local_time_returns_correct_utc_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001070_source')" id="l_M001070_source">show source</a> ]</p>
  <div id="M001070_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 392</span>
392:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_instance_created_with_local_time_returns_correct_utc_time</span>
393:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>))
394:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">utc</span>
395:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001060" class="method">
  <div id="M001060_title" class="title">
    <b>test_is_a</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001060_source')" id="l_M001060_source">show source</a> ]</p>
  <div id="M001060_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 315</span>
315:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_is_a</span>
316:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>)
317:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Time</span>)
318:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>)
319:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001075" class="method">
  <div id="M001075_title" class="title">
    <b>test_local_to_utc_conversion_with_far_future_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001075_source')" id="l_M001075_source">show source</a> ]</p>
  <div id="M001075_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 422</span>
422:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_local_to_utc_conversion_with_far_future_datetime</span>
423:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2050</span>).<span class="ruby-identifier">to_f</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2049</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">19</span>)).<span class="ruby-identifier">to_f</span>
424:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001062" class="method">
  <div id="M001062_title" class="title">
    <b>test_marshal_dump_and_load</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001062_source')" id="l_M001062_source">show source</a> ]</p>
  <div id="M001062_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 326</span>
326:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_marshal_dump_and_load</span>
327:     <span class="ruby-identifier">marshal_str</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-ivar">@twz</span>)
328:     <span class="ruby-identifier">mtime</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">marshal_str</span>)
329:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">utc</span>
330:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">utc?</span>
331:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>], <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">time_zone</span>
332:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>), <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">time</span>
333:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">time</span>.<span class="ruby-identifier">utc?</span>
334:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>, <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">inspect</span>
335:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001063" class="method">
  <div id="M001063_title" class="title">
    <b>test_marshal_dump_and_load_with_tzinfo_identifier</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001063_source')" id="l_M001063_source">show source</a> ]</p>
  <div id="M001063_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 337</span>
337:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_marshal_dump_and_load_with_tzinfo_identifier</span>
338:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@utc</span>, <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-value str">'America/New_York'</span>))
339:     <span class="ruby-identifier">marshal_str</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">twz</span>)
340:     <span class="ruby-identifier">mtime</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">marshal_str</span>)
341:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">utc</span>
342:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">utc?</span>
343:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'America/New_York'</span>, <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">time_zone</span>.<span class="ruby-identifier">name</span>
344:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>), <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">time</span>
345:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">time</span>.<span class="ruby-identifier">utc?</span>
346:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">inspect</span>, <span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">inspect</span>
347:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001066" class="method">
  <div id="M001066_title" class="title">
    <b>test_method_missing_with_non_time_return_value</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001066_source')" id="l_M001066_source">show source</a> ]</p>
  <div id="M001066_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 362</span>
362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_method_missing_with_non_time_return_value</span>
363:     <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">time</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:foo</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'bar'</span>)
364:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'bar'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">foo</span>
365:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001061" class="method">
  <div id="M001061_title" class="title">
    <b>test_method_missing_with_time_return_value</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001061_source')" id="l_M001061_source">show source</a> ]</p>
  <div id="M001061_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 321</span>
321:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_method_missing_with_time_return_value</span>
322:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
323:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>, <span class="ruby-value">0</span> ,<span class="ruby-value">0</span>), <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">time</span>
324:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001048" class="method">
  <div id="M001048_title" class="title">
    <b>test_minus_with_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001048_source')" id="l_M001048_source">show source</a> ]</p>
  <div id="M001048_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 229</span>
229:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_datetime</span>
230:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ) <span class="ruby-operator">-</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)
231:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001045" class="method">
  <div id="M001045_title" class="title">
    <b>test_minus_with_duration</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001045_source')" id="l_M001045_source">show source</a> ]</p>
  <div id="M001045_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 214</span>
214:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_duration</span>
215:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">26</span>, <span class="ruby-value">19</span>, <span class="ruby-value">0</span> ,<span class="ruby-value">0</span>), (<span class="ruby-ivar">@twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">time</span>
216:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001043" class="method">
  <div id="M001043_title" class="title">
    <b>test_minus_with_integer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001043_source')" id="l_M001043_source">show source</a> ]</p>
  <div id="M001043_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 204</span>
204:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_integer</span>
205:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">18</span>, <span class="ruby-value">59</span> ,<span class="ruby-value">55</span>), (<span class="ruby-ivar">@twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">5</span>).<span class="ruby-identifier">time</span>
206:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001044" class="method">
  <div id="M001044_title" class="title">
    <b>test_minus_with_integer_when_self_wraps_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001044_source')" id="l_M001044_source">show source</a> ]</p>
  <div id="M001044_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 208</span>
208:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_integer_when_self_wraps_datetime</span>
209:     <span class="ruby-identifier">datetime</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>)
210:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">datetime</span>, <span class="ruby-ivar">@time_zone</span>)
211:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">18</span>, <span class="ruby-value">59</span> ,<span class="ruby-value">55</span>), (<span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">5</span>).<span class="ruby-identifier">time</span>
212:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001046" class="method">
  <div id="M001046_title" class="title">
    <b>test_minus_with_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001046_source')" id="l_M001046_source">show source</a> ]</p>
  <div id="M001046_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 218</span>
218:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_time</span>
219:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ) <span class="ruby-operator">-</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)
220:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Hawaii'</span>] ) <span class="ruby-operator">-</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)
221:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001047" class="method">
  <div id="M001047_title" class="title">
    <b>test_minus_with_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001047_source')" id="l_M001047_source">show source</a> ]</p>
  <div id="M001047_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 223</span>
223:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_time_with_zone</span>
224:     <span class="ruby-identifier">twz1</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
225:     <span class="ruby-identifier">twz2</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] )
226:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>,  <span class="ruby-identifier">twz2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">twz1</span>
227:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001049" class="method">
  <div id="M001049_title" class="title">
    <b>test_minus_with_wrapped_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001049_source')" id="l_M001049_source">show source</a> ]</p>
  <div id="M001049_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 233</span>
233:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_minus_with_wrapped_datetime</span>
234:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ) <span class="ruby-operator">-</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)
235:     <span class="ruby-identifier">assert_equal</span>  <span class="ruby-value">86_400.0</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>] ) <span class="ruby-operator">-</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)
236:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001034" class="method">
  <div id="M001034_title" class="title">
    <b>test_past_with_time_current_as_time_local</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001034_source')" id="l_M001034_source">show source</a> ]</p>
  <div id="M001034_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past_with_time_current_as_time_local</span>
147:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
148:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>))
149:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>)).<span class="ruby-identifier">past?</span>
150:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>)).<span class="ruby-identifier">past?</span>
151:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>)).<span class="ruby-identifier">past?</span>
152:     <span class="ruby-keyword kw">end</span>
153:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001035" class="method">
  <div id="M001035_title" class="title">
    <b>test_past_with_time_current_as_time_with_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001035_source')" id="l_M001035_source">show source</a> ]</p>
  <div id="M001035_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 155</span>
155:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past_with_time_current_as_time_with_zone</span>
156:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>) )
157:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">twz</span>)
158:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">44</span>)).<span class="ruby-identifier">past?</span>
159:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">45</span>)).<span class="ruby-identifier">past?</span>
160:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">10</span>,<span class="ruby-value">15</span>,<span class="ruby-value">30</span>,<span class="ruby-value">46</span>)).<span class="ruby-identifier">past?</span>
161:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001051" class="method">
  <div id="M001051_title" class="title">
    <b>test_plus_and_minus_enforce_fall_dst_rules</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001051_source')" id="l_M001051_source">show source</a> ]</p>
  <div id="M001051_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 254</span>
254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_and_minus_enforce_fall_dst_rules</span>
255:     <span class="ruby-identifier">utc</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">5</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>) <span class="ruby-comment cmt"># == Oct 29 2006 01:59:59 EST; i.e., 1 second before daylight savings end</span>
256:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">utc</span>, <span class="ruby-ivar">@time_zone</span>)
257:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span>
258:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
259:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EDT'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
260:     <span class="ruby-identifier">twz</span> = <span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
261:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">1</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span> <span class="ruby-comment cmt"># adding 1 sec falls back from 1:59:59 EDT to 1:00AM EST</span>
262:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
263:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EST'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
264:     <span class="ruby-identifier">twz</span> = <span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
265:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">29</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span> <span class="ruby-comment cmt"># subtracting 1 sec goes back to 1:59:59AM EDT</span>
266:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
267:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EDT'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
268:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001050" class="method">
  <div id="M001050_title" class="title">
    <b>test_plus_and_minus_enforce_spring_dst_rules</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001050_source')" id="l_M001050_source">show source</a> ]</p>
  <div id="M001050_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 238</span>
238:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_and_minus_enforce_spring_dst_rules</span>
239:     <span class="ruby-identifier">utc</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">6</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>) <span class="ruby-comment cmt"># == Apr 2 2006 01:59:59 EST; i.e., 1 second before daylight savings start</span>
240:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">utc</span>, <span class="ruby-ivar">@time_zone</span>)
241:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span>
242:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
243:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EST'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
244:     <span class="ruby-identifier">twz</span> = <span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
245:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span> <span class="ruby-comment cmt"># adding 1 sec springs forward to 3:00AM EDT</span>
246:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
247:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EDT'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
248:     <span class="ruby-identifier">twz</span> = <span class="ruby-identifier">twz</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span> <span class="ruby-comment cmt"># subtracting 1 second takes goes back to 1:59:59AM EST</span>
249:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">4</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>), <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">time</span>
250:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">dst?</span>
251:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EST'</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">zone</span>
252:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001041" class="method">
  <div id="M001041_title" class="title">
    <b>test_plus_when_crossing_time_class_limit</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001041_source')" id="l_M001041_source">show source</a> ]</p>
  <div id="M001041_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 195</span>
195:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_when_crossing_time_class_limit</span>
196:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2038</span>, <span class="ruby-value">1</span>, <span class="ruby-value">19</span>), <span class="ruby-ivar">@time_zone</span>)
197:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">19</span>, <span class="ruby-value">19</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2038</span>], (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">86_400</span>).<span class="ruby-identifier">to_a</span>[<span class="ruby-value">0</span>,<span class="ruby-value">6</span>]
198:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001042" class="method">
  <div id="M001042_title" class="title">
    <b>test_plus_with_duration</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001042_source')" id="l_M001042_source">show source</a> ]</p>
  <div id="M001042_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 200</span>
200:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_with_duration</span>
201:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">5</span>, <span class="ruby-value">19</span>, <span class="ruby-value">0</span> ,<span class="ruby-value">0</span>), (<span class="ruby-ivar">@twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">time</span>
202:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001039" class="method">
  <div id="M001039_title" class="title">
    <b>test_plus_with_integer</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001039_source')" id="l_M001039_source">show source</a> ]</p>
  <div id="M001039_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 185</span>
185:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_with_integer</span>
186:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>, <span class="ruby-value">0</span> ,<span class="ruby-value">5</span>), (<span class="ruby-ivar">@twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span>).<span class="ruby-identifier">time</span>
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001040" class="method">
  <div id="M001040_title" class="title">
    <b>test_plus_with_integer_when_self_wraps_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001040_source')" id="l_M001040_source">show source</a> ]</p>
  <div id="M001040_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 189</span>
189:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_plus_with_integer_when_self_wraps_datetime</span>
190:     <span class="ruby-identifier">datetime</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">0</span>)
191:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">datetime</span>, <span class="ruby-ivar">@time_zone</span>)
192:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>, <span class="ruby-value">0</span> ,<span class="ruby-value">5</span>), (<span class="ruby-identifier">twz</span> <span class="ruby-operator">+</span> <span class="ruby-value">5</span>).<span class="ruby-identifier">time</span>
193:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001028" class="method">
  <div id="M001028_title" class="title">
    <b>test_rfc2822</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001028_source')" id="l_M001028_source">show source</a> ]</p>
  <div id="M001028_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_rfc2822</span>
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:00 -0500&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">rfc2822</span>
113:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001073" class="method">
  <div id="M001073_title" class="title">
    <b>test_ruby_19_weekday_name_query_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001073_source')" id="l_M001073_source">show source</a> ]</p>
  <div id="M001073_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 411</span>
411:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ruby_19_weekday_name_query_methods</span>
412:     <span class="ruby-identifier">ruby_19_or_greater</span> = <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'1.9'</span>
413:     <span class="ruby-node">%w(sunday? monday? tuesday? wednesday? thursday? friday? saturday?)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
414:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">ruby_19_or_greater</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">name</span>)
415:     <span class="ruby-keyword kw">end</span>
416:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001026" class="method">
  <div id="M001026_title" class="title">
    <b>test_ruby_to_yaml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001026_source')" id="l_M001026_source">show source</a> ]</p>
  <div id="M001026_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 103</span>
103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ruby_to_yaml</span>
104:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;--- \n:twz: 2000-01-01 00:00:00 Z\n&quot;</span>, {<span class="ruby-identifier">:twz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@twz</span>}.<span class="ruby-identifier">to_yaml</span>
105:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001086" class="method">
  <div id="M001086_title" class="title">
    <b>test_seconds_since_midnight</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001086_source')" id="l_M001086_source">show source</a> ]</p>
  <div id="M001086_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 485</span>
485:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_seconds_since_midnight</span>
486:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">19</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">seconds_since_midnight</span>
487:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001084" class="method">
  <div id="M001084_title" class="title">
    <b>test_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001084_source')" id="l_M001084_source">show source</a> ]</p>
  <div id="M001084_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 477</span>
477:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_since</span>
478:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Fri, 31 Dec 1999 19:00:01 EST -05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">inspect</span>
479:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001018" class="method">
  <div id="M001018_title" class="title">
    <b>test_strftime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001018_source')" id="l_M001018_source">show source</a> ]</p>
  <div id="M001018_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 68</span>
68:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_strftime</span>
69:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1999-12-31 19:00:00 EST -0500'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">'%Y-%m-%d %H:%M:%S %Z %z'</span>)
70:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001007" class="method">
  <div id="M001007_title" class="title">
    <b>test_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001007_source')" id="l_M001007_source">show source</a> ]</p>
  <div id="M001007_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_time</span>
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>), <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">time</span>
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001008" class="method">
  <div id="M001008_title" class="title">
    <b>test_time_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001008_source')" id="l_M001008_source">show source</a> ]</p>
  <div id="M001008_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_time_zone</span>
20:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@time_zone</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">time_zone</span>
21:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001052" class="method">
  <div id="M001052_title" class="title">
    <b>test_to_a</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001052_source')" id="l_M001052_source">show source</a> ]</p>
  <div id="M001052_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 270</span>
270:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_a</span>
271:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">45</span>, <span class="ruby-value">30</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">32</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-value str">&quot;HST&quot;</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">15</span>, <span class="ruby-value">30</span>, <span class="ruby-value">45</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Hawaii'</span>] ).<span class="ruby-identifier">to_a</span>
272:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001056" class="method">
  <div id="M001056_title" class="title">
    <b>test_to_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001056_source')" id="l_M001056_source">show source</a> ]</p>
  <div id="M001056_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_date</span>
291:     <span class="ruby-comment cmt"># 1 sec before midnight Jan 1 EST</span>
292:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">4</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>] ).<span class="ruby-identifier">to_date</span>
293:     <span class="ruby-comment cmt"># midnight Jan 1 EST</span>
294:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>, <span class="ruby-value">5</span>,  <span class="ruby-value">0</span>,  <span class="ruby-value">0</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>] ).<span class="ruby-identifier">to_date</span>
295:     <span class="ruby-comment cmt"># 1 sec before midnight Jan 2 EST</span>
296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">4</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>] ).<span class="ruby-identifier">to_date</span>
297:     <span class="ruby-comment cmt"># midnight Jan 2 EST</span>
298:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">5</span>,  <span class="ruby-value">0</span>,  <span class="ruby-value">0</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>] ).<span class="ruby-identifier">to_date</span>
299:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001057" class="method">
  <div id="M001057_title" class="title">
    <b>test_to_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001057_source')" id="l_M001057_source">show source</a> ]</p>
  <div id="M001057_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 301</span>
301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_datetime</span>
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">19</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-constant">Rational</span>(<span class="ruby-value">-18_000</span>, <span class="ruby-value">86_400</span>)),  <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">to_datetime</span>
303:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001053" class="method">
  <div id="M001053_title" class="title">
    <b>test_to_f</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001053_source')" id="l_M001053_source">show source</a> ]</p>
  <div id="M001053_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_f</span>
275:     <span class="ruby-identifier">result</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Hawaii'</span>] ).<span class="ruby-identifier">to_f</span>
276:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">946684800.0</span>, <span class="ruby-identifier">result</span>
277:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Float</span>)
278:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001021" class="method">
  <div id="M001021_title" class="title">
    <b>test_to_formatted_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001021_source')" id="l_M001021_source">show source</a> ]</p>
  <div id="M001021_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 80</span>
80:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_formatted_s</span>
81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1999-12-31 19:00:00 -0500'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">to_formatted_s</span>
82:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001054" class="method">
  <div id="M001054_title" class="title">
    <b>test_to_i</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001054_source')" id="l_M001054_source">show source</a> ]</p>
  <div id="M001054_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 280</span>
280:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_i</span>
281:     <span class="ruby-identifier">result</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Hawaii'</span>] ).<span class="ruby-identifier">to_i</span>
282:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">946684800</span>, <span class="ruby-identifier">result</span>
283:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)
284:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001016" class="method">
  <div id="M001016_title" class="title">
    <b>test_to_json</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001016_source')" id="l_M001016_source">show source</a> ]</p>
  <div id="M001016_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 57</span>
57:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_json</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\&quot;1999/12/31 19:00:00 -0500\&quot;&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">JSON</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-ivar">@twz</span>)
59:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001017" class="method">
  <div id="M001017_title" class="title">
    <b>test_to_json_with_use_standard_json_time_format_config_set_to_true</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001017_source')" id="l_M001017_source">show source</a> ]</p>
  <div id="M001017_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 61</span>
61:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_json_with_use_standard_json_time_format_config_set_to_true</span>
62:     <span class="ruby-identifier">old</span>, <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">use_standard_json_time_format</span> = <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">use_standard_json_time_format</span>, <span class="ruby-keyword kw">true</span>
63:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\&quot;1999-12-31T19:00:00-05:00\&quot;&quot;</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">JSON</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-ivar">@twz</span>)
64:   <span class="ruby-keyword kw">ensure</span>
65:     <span class="ruby-constant">ActiveSupport</span>.<span class="ruby-identifier">use_standard_json_time_format</span> = <span class="ruby-identifier">old</span>
66:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001020" class="method">
  <div id="M001020_title" class="title">
    <b>test_to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001020_source')" id="l_M001020_source">show source</a> ]</p>
  <div id="M001020_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 76</span>
76:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_s</span>
77:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'1999-12-31 19:00:00 -0500'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">to_s</span>
78:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001022" class="method">
  <div id="M001022_title" class="title">
    <b>test_to_s_db</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001022_source')" id="l_M001022_source">show source</a> ]</p>
  <div id="M001022_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_s_db</span>
85:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'2000-01-01 00:00:00'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>)
86:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001055" class="method">
  <div id="M001055_title" class="title">
    <b>test_to_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001055_source')" id="l_M001055_source">show source</a> ]</p>
  <div id="M001055_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 286</span>
286:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_time</span>
287:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@twz</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">to_time</span>
288:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001025" class="method">
  <div id="M001025_title" class="title">
    <b>test_to_yaml</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001025_source')" id="l_M001025_source">show source</a> ]</p>
  <div id="M001025_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 99</span>
 99:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_yaml</span>
100:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;--- 1999-12-31 19:00:00 -05:00\n&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">to_yaml</span>
101:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001033" class="method">
  <div id="M001033_title" class="title">
    <b>test_today</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001033_source')" id="l_M001033_source">show source</a> ]</p>
  <div id="M001033_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 138</span>
138:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today</span>
139:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
140:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1999</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>) ).<span class="ruby-identifier">today?</span>
141:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">0</span>) ).<span class="ruby-identifier">today?</span>
142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>,  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>) ).<span class="ruby-identifier">today?</span>
143:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>( <span class="ruby-keyword kw">nil</span>, <span class="ruby-ivar">@time_zone</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">0</span>) ).<span class="ruby-identifier">today?</span>
144:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001068" class="method">
  <div id="M001068_title" class="title">
    <b>test_usec_returns_0_when_datetime_is_wrapped</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001068_source')" id="l_M001068_source">show source</a> ]</p>
  <div id="M001068_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 381</span>
381:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_usec_returns_0_when_datetime_is_wrapped</span>
382:     <span class="ruby-identifier">twz</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2000</span>), <span class="ruby-ivar">@time_zone</span>)
383:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">twz</span>.<span class="ruby-identifier">usec</span>
384:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001006" class="method">
  <div id="M001006_title" class="title">
    <b>test_utc</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001006_source')" id="l_M001006_source">show source</a> ]</p>
  <div id="M001006_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc</span>
12:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@utc</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">utc</span>
13:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001012" class="method">
  <div id="M001012_title" class="title">
    <b>test_utc?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001012_source')" id="l_M001012_source">show source</a> ]</p>
  <div id="M001012_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 37</span>
37:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc?</span>
38:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">utc?</span>
39:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>), <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'UTC'</span>]).<span class="ruby-identifier">utc?</span>
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001069" class="method">
  <div id="M001069_title" class="title">
    <b>test_utc_to_local_conversion_saves_period_in_instance_variable</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001069_source')" id="l_M001069_source">show source</a> ]</p>
  <div id="M001069_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 386</span>
386:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc_to_local_conversion_saves_period_in_instance_variable</span>
387:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">'@period'</span>)
388:     <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">time</span>
389:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">TimezonePeriod</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value str">'@period'</span>)
390:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001074" class="method">
  <div id="M001074_title" class="title">
    <b>test_utc_to_local_conversion_with_far_future_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001074_source')" id="l_M001074_source">show source</a> ]</p>
  <div id="M001074_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 418</span>
418:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_utc_to_local_conversion_with_far_future_datetime</span>
419:     <span class="ruby-identifier">assert_equal</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">19</span>,<span class="ruby-value">31</span>,<span class="ruby-value">12</span>,<span class="ruby-value">2049</span>], <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2050</span>), <span class="ruby-ivar">@time_zone</span>).<span class="ruby-identifier">to_a</span>[<span class="ruby-value">0</span>,<span class="ruby-value">6</span>]
420:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001023" class="method">
  <div id="M001023_title" class="title">
    <b>test_xmlschema</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001023_source')" id="l_M001023_source">show source</a> ]</p>
  <div id="M001023_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlschema</span>
89:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1999-12-31T19:00:00-05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">xmlschema</span>
90:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001024" class="method">
  <div id="M001024_title" class="title">
    <b>test_xmlschema_with_fractional_seconds</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001024_source')" id="l_M001024_source">show source</a> ]</p>
  <div id="M001024_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 92</span>
92:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlschema_with_fractional_seconds</span>
93:     <span class="ruby-ivar">@twz</span> <span class="ruby-operator">+=</span> <span class="ruby-value">0</span><span class="ruby-value">.1234560001</span> <span class="ruby-comment cmt"># advance the time by a fraction of a second</span>
94:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1999-12-31T19:00:00.123-05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">xmlschema</span>(<span class="ruby-value">3</span>)
95:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1999-12-31T19:00:00.123456-05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">xmlschema</span>(<span class="ruby-value">6</span>)
96:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1999-12-31T19:00:00.123456-05:00&quot;</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">xmlschema</span>(<span class="ruby-value">12</span>)
97:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001015" class="method">
  <div id="M001015_title" class="title">
    <b>test_zone</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001015_source')" id="l_M001015_source">show source</a> ]</p>
  <div id="M001015_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_zone</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EST'</span>, <span class="ruby-ivar">@twz</span>.<span class="ruby-identifier">zone</span>
54:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'EDT'</span>, <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeWithZone</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>), <span class="ruby-ivar">@time_zone</span>).<span class="ruby-identifier">zone</span> <span class="ruby-comment cmt">#dst</span>
55:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M001106" class="method">
  <div id="M001106_title" class="title">
    <b>with_env_tz</b>(new_tz = 'US/Eastern') {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001106_source')" id="l_M001106_source">show source</a> ]</p>
  <div id="M001106_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/time_with_zone_test.rb, line 693</span>
693:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_env_tz</span>(<span class="ruby-identifier">new_tz</span> = <span class="ruby-value str">'US/Eastern'</span>)
694:       <span class="ruby-identifier">old_tz</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>], <span class="ruby-identifier">new_tz</span>
695:       <span class="ruby-keyword kw">yield</span>
696:     <span class="ruby-keyword kw">ensure</span>
697:       <span class="ruby-identifier">old_tz</span> <span class="ruby-value">? </span><span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-identifier">old_tz</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'TZ'</span>)
698:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>