  <div id="C00001105">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />CompiledTemplatesTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/template/compiled_templates_test_rb.html');">actionpack/test/template/compiled_templates_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007466&name=setup" >setup</a></li>
  <li><a href="index.html?a=M007474&name=test_adding_localized_template_will_take_precedence_without_cached_template_loading" >test_adding_localized_template_will_take_precedence_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007469&name=test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns" >test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns</a></li>
  <li><a href="index.html?a=M007475&name=test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading" >test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007476&name=test_parallel_reloadable_view_paths_are_working" >test_parallel_reloadable_view_paths_are_working</a></li>
  <li><a href="index.html?a=M007473&name=test_swapping_template_handler_is_working_without_cached_template_loading" >test_swapping_template_handler_is_working_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007472&name=test_template_becomes_missing_if_deleted_without_cached_template_loading" >test_template_becomes_missing_if_deleted_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007470&name=test_template_changes_are_not_reflected_with_cached_template_loading" >test_template_changes_are_not_reflected_with_cached_template_loading</a></li>
  <li><a href="index.html?a=M007471&name=test_template_changes_are_reflected_without_cached_template_loading" >test_template_changes_are_reflected_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007467&name=test_template_gets_compiled" >test_template_gets_compiled</a></li>
  <li><a href="index.html?a=M007468&name=test_template_gets_recompiled_when_using_different_keys_in_local_assigns" >test_template_gets_recompiled_when_using_different_keys_in_local_assigns</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M007466" class="method">
  <div id="M007466_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007466_source')" id="l_M007466_source">show source</a> ]</p>
  <div id="M007466_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 6</span>
 6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 7:     <span class="ruby-ivar">@compiled_templates</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span><span class="ruby-operator">::</span><span class="ruby-constant">CompiledTemplates</span>
 8:     <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
 9:       <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_method</span>, <span class="ruby-identifier">m</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^_run_/</span>
10:     <span class="ruby-keyword kw">end</span>
11:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007474" class="method">
  <div id="M007474_title" class="title">
    <b>test_adding_localized_template_will_take_precedence_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007474_source')" id="l_M007474_source">show source</a> ]</p>
  <div id="M007474_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_adding_localized_template_will_take_precedence_without_cached_template_loading</span>
86:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
87:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
88:       <span class="ruby-identifier">rename_template</span> <span class="ruby-value str">'test/hello_world.da.html.erb'</span>, <span class="ruby-value str">'test/hello_world.en.html.erb'</span> <span class="ruby-keyword kw">do</span>
89:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hey verden'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
90:       <span class="ruby-keyword kw">end</span>
91:     <span class="ruby-keyword kw">end</span>
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007469" class="method">
  <div id="M007469_title" class="title">
    <b>test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007469_source')" id="l_M007469_source">show source</a> ]</p>
  <div id="M007469_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns</span>
31:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
32:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
33:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
34:       <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Template</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:compile!</span>).<span class="ruby-identifier">never</span>
35:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
36:     <span class="ruby-keyword kw">end</span>
37:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007475" class="method">
  <div id="M007475_title" class="title">
    <b>test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007475_source')" id="l_M007475_source">show source</a> ]</p>
  <div id="M007475_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 94</span>
 94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading</span>
 95:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
 96:       <span class="ruby-identifier">rename_template</span> <span class="ruby-value str">'test/hello_world.da.html.erb'</span>, <span class="ruby-value str">'test/hello_world.en.html.erb'</span> <span class="ruby-keyword kw">do</span>
 97:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hey verden'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
 98:         <span class="ruby-identifier">delete_template</span> <span class="ruby-value str">'test/hello_world.en.html.erb'</span> <span class="ruby-keyword kw">do</span>
 99:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
100:         <span class="ruby-keyword kw">end</span>
101:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hey verden'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
102:       <span class="ruby-keyword kw">end</span>
103:     <span class="ruby-keyword kw">end</span>
104:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007476" class="method">
  <div id="M007476_title" class="title">
    <b>test_parallel_reloadable_view_paths_are_working</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007476_source')" id="l_M007476_source">show source</a> ]</p>
  <div id="M007476_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parallel_reloadable_view_paths_are_working</span>
107:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
108:       <span class="ruby-identifier">view_paths_copy</span> = <span class="ruby-identifier">new_reloadable_view_paths</span>
109:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
110:       <span class="ruby-identifier">with_view_paths</span>(<span class="ruby-identifier">view_paths_copy</span>, <span class="ruby-identifier">new_reloadable_view_paths</span>) <span class="ruby-keyword kw">do</span>
111:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
112:       <span class="ruby-keyword kw">end</span>
113:       <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">'test/hello_world.erb'</span>, <span class="ruby-value str">'Goodbye world!'</span> <span class="ruby-keyword kw">do</span>
114:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Goodbye world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
115:         <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">'test/hello_world.erb'</span>, <span class="ruby-value str">'So long, world!'</span> <span class="ruby-keyword kw">do</span>
116:           <span class="ruby-identifier">with_view_paths</span>(<span class="ruby-identifier">view_paths_copy</span>, <span class="ruby-identifier">new_reloadable_view_paths</span>) <span class="ruby-keyword kw">do</span>
117:             <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'So long, world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
118:           <span class="ruby-keyword kw">end</span>
119:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'So long, world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
120:         <span class="ruby-keyword kw">end</span>
121:       <span class="ruby-keyword kw">end</span>
122:     <span class="ruby-keyword kw">end</span>
123:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007473" class="method">
  <div id="M007473_title" class="title">
    <b>test_swapping_template_handler_is_working_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007473_source')" id="l_M007473_source">show source</a> ]</p>
  <div id="M007473_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 73</span>
73:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_swapping_template_handler_is_working_without_cached_template_loading</span>
74:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
75:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
76:       <span class="ruby-identifier">delete_template</span> <span class="ruby-value str">'test/hello_world.erb'</span> <span class="ruby-keyword kw">do</span>
77:         <span class="ruby-identifier">rename_template</span> <span class="ruby-value str">'test/hello_world_from_rxml.builder'</span>, <span class="ruby-value str">'test/hello_world.builder'</span> <span class="ruby-keyword kw">do</span>
78:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;html&gt;\n  &lt;p&gt;Hello&lt;/p&gt;\n&lt;/html&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
79:         <span class="ruby-keyword kw">end</span>
80:       <span class="ruby-keyword kw">end</span>
81:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
82:     <span class="ruby-keyword kw">end</span>
83:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007472" class="method">
  <div id="M007472_title" class="title">
    <b>test_template_becomes_missing_if_deleted_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007472_source')" id="l_M007472_source">show source</a> ]</p>
  <div id="M007472_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 63</span>
63:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_becomes_missing_if_deleted_without_cached_template_loading</span>
64:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
65:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world.erb'</span>)
66:       <span class="ruby-identifier">delete_template</span> <span class="ruby-value str">'test/hello_world.erb'</span> <span class="ruby-keyword kw">do</span>
67:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingTemplate</span>) { <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world.erb'</span>) }
68:       <span class="ruby-keyword kw">end</span>
69:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world.erb'</span>)
70:     <span class="ruby-keyword kw">end</span>
71:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007470" class="method">
  <div id="M007470_title" class="title">
    <b>test_template_changes_are_not_reflected_with_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007470_source')" id="l_M007470_source">show source</a> ]</p>
  <div id="M007470_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 39</span>
39:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_changes_are_not_reflected_with_cached_template_loading</span>
40:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
41:       <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">false</span>) <span class="ruby-keyword kw">do</span>
42:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
43:         <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>, <span class="ruby-value str">&quot;Goodbye world!&quot;</span> <span class="ruby-keyword kw">do</span>
44:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
45:         <span class="ruby-keyword kw">end</span>
46:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
47:       <span class="ruby-keyword kw">end</span>
48:     <span class="ruby-keyword kw">end</span>
49:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007471" class="method">
  <div id="M007471_title" class="title">
    <b>test_template_changes_are_reflected_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007471_source')" id="l_M007471_source">show source</a> ]</p>
  <div id="M007471_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_changes_are_reflected_without_cached_template_loading</span>
52:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
53:       <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
54:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
55:         <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>, <span class="ruby-value str">&quot;Goodbye world!&quot;</span> <span class="ruby-keyword kw">do</span>
56:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Goodbye world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
57:         <span class="ruby-keyword kw">end</span>
58:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
59:       <span class="ruby-keyword kw">end</span>
60:     <span class="ruby-keyword kw">end</span>
61:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007467" class="method">
  <div id="M007467_title" class="title">
    <b>test_template_gets_compiled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007467_source')" id="l_M007467_source">show source</a> ]</p>
  <div id="M007467_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 13</span>
13:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_gets_compiled</span>
14:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
15:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
16:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
17:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
18:     <span class="ruby-keyword kw">end</span>
19:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007468" class="method">
  <div id="M007468_title" class="title">
    <b>test_template_gets_recompiled_when_using_different_keys_in_local_assigns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007468_source')" id="l_M007468_source">show source</a> ]</p>
  <div id="M007468_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 21</span>
21:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_gets_recompiled_when_using_different_keys_in_local_assigns</span>
22:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
23:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
24:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
25:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>, <span class="ruby-identifier">:locals</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>})
26:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
27:     <span class="ruby-keyword kw">end</span>
28:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>