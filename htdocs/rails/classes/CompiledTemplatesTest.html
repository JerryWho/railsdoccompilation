  <div id="C00001028">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />CompiledTemplatesTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/template/compiled_templates_test_rb.html');">actionpack/test/template/compiled_templates_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007530&name=setup" >setup</a></li>
  <li><a href="index.html?a=M007538&name=test_adding_localized_template_will_take_precedence_without_cached_template_loading" >test_adding_localized_template_will_take_precedence_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007533&name=test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns" >test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns</a></li>
  <li><a href="index.html?a=M007539&name=test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading" >test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007540&name=test_parallel_reloadable_view_paths_are_working" >test_parallel_reloadable_view_paths_are_working</a></li>
  <li><a href="index.html?a=M007537&name=test_swapping_template_handler_is_working_without_cached_template_loading" >test_swapping_template_handler_is_working_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007536&name=test_template_becomes_missing_if_deleted_without_cached_template_loading" >test_template_becomes_missing_if_deleted_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007534&name=test_template_changes_are_not_reflected_with_cached_template_loading" >test_template_changes_are_not_reflected_with_cached_template_loading</a></li>
  <li><a href="index.html?a=M007535&name=test_template_changes_are_reflected_without_cached_template_loading" >test_template_changes_are_reflected_without_cached_template_loading</a></li>
  <li><a href="index.html?a=M007531&name=test_template_gets_compiled" >test_template_gets_compiled</a></li>
  <li><a href="index.html?a=M007532&name=test_template_gets_recompiled_when_using_different_keys_in_local_assigns" >test_template_gets_recompiled_when_using_different_keys_in_local_assigns</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M007530" class="method">
  <div id="M007530_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007530_source')" id="l_M007530_source">show source</a> ]</p>
  <div id="M007530_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 6</span>
 6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 7:     <span class="ruby-ivar">@explicit_view_paths</span> = <span class="ruby-keyword kw">nil</span>
 8:     <span class="ruby-ivar">@compiled_templates</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span><span class="ruby-operator">::</span><span class="ruby-constant">CompiledTemplates</span>
 9:     <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
10:       <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:remove_method</span>, <span class="ruby-identifier">m</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^_run_/</span>
11:     <span class="ruby-keyword kw">end</span>
12:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007538" class="method">
  <div id="M007538_title" class="title">
    <b>test_adding_localized_template_will_take_precedence_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007538_source')" id="l_M007538_source">show source</a> ]</p>
  <div id="M007538_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 86</span>
86:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_adding_localized_template_will_take_precedence_without_cached_template_loading</span>
87:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
88:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
89:       <span class="ruby-identifier">rename_template</span> <span class="ruby-value str">'test/hello_world.da.html.erb'</span>, <span class="ruby-value str">'test/hello_world.en.html.erb'</span> <span class="ruby-keyword kw">do</span>
90:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hey verden'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
91:       <span class="ruby-keyword kw">end</span>
92:     <span class="ruby-keyword kw">end</span>
93:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007533" class="method">
  <div id="M007533_title" class="title">
    <b>test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007533_source')" id="l_M007533_source">show source</a> ]</p>
  <div id="M007533_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_compiled_template_will_not_be_recompiled_when_rendered_with_identical_local_assigns</span>
32:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
33:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
34:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
35:       <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Template</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:compile!</span>).<span class="ruby-identifier">never</span>
36:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
37:     <span class="ruby-keyword kw">end</span>
38:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007539" class="method">
  <div id="M007539_title" class="title">
    <b>test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007539_source')" id="l_M007539_source">show source</a> ]</p>
  <div id="M007539_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 95</span>
 95:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_deleting_localized_template_will_fall_back_to_non_localized_template_without_cached_template_loading</span>
 96:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
 97:       <span class="ruby-identifier">rename_template</span> <span class="ruby-value str">'test/hello_world.da.html.erb'</span>, <span class="ruby-value str">'test/hello_world.en.html.erb'</span> <span class="ruby-keyword kw">do</span>
 98:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hey verden'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
 99:         <span class="ruby-identifier">delete_template</span> <span class="ruby-value str">'test/hello_world.en.html.erb'</span> <span class="ruby-keyword kw">do</span>
100:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
101:         <span class="ruby-keyword kw">end</span>
102:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hey verden'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
103:       <span class="ruby-keyword kw">end</span>
104:     <span class="ruby-keyword kw">end</span>
105:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007540" class="method">
  <div id="M007540_title" class="title">
    <b>test_parallel_reloadable_view_paths_are_working</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007540_source')" id="l_M007540_source">show source</a> ]</p>
  <div id="M007540_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 107</span>
107:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parallel_reloadable_view_paths_are_working</span>
108:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
109:       <span class="ruby-identifier">view_paths_copy</span> = <span class="ruby-identifier">new_reloadable_view_paths</span>
110:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
111:       <span class="ruby-identifier">with_view_paths</span>(<span class="ruby-identifier">view_paths_copy</span>, <span class="ruby-identifier">new_reloadable_view_paths</span>) <span class="ruby-keyword kw">do</span>
112:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
113:       <span class="ruby-keyword kw">end</span>
114:       <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">'test/hello_world.erb'</span>, <span class="ruby-value str">'Goodbye world!'</span> <span class="ruby-keyword kw">do</span>
115:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Goodbye world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
116:         <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">'test/hello_world.erb'</span>, <span class="ruby-value str">'So long, world!'</span> <span class="ruby-keyword kw">do</span>
117:           <span class="ruby-identifier">with_view_paths</span>(<span class="ruby-identifier">view_paths_copy</span>, <span class="ruby-identifier">new_reloadable_view_paths</span>) <span class="ruby-keyword kw">do</span>
118:             <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'So long, world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
119:           <span class="ruby-keyword kw">end</span>
120:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'So long, world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
121:         <span class="ruby-keyword kw">end</span>
122:       <span class="ruby-keyword kw">end</span>
123:     <span class="ruby-keyword kw">end</span>
124:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007537" class="method">
  <div id="M007537_title" class="title">
    <b>test_swapping_template_handler_is_working_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007537_source')" id="l_M007537_source">show source</a> ]</p>
  <div id="M007537_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_swapping_template_handler_is_working_without_cached_template_loading</span>
75:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
76:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
77:       <span class="ruby-identifier">delete_template</span> <span class="ruby-value str">'test/hello_world.erb'</span> <span class="ruby-keyword kw">do</span>
78:         <span class="ruby-identifier">rename_template</span> <span class="ruby-value str">'test/hello_world_from_rxml.builder'</span>, <span class="ruby-value str">'test/hello_world.builder'</span> <span class="ruby-keyword kw">do</span>
79:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;html&gt;\n  &lt;p&gt;Hello&lt;/p&gt;\n&lt;/html&gt;\n&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
80:         <span class="ruby-keyword kw">end</span>
81:       <span class="ruby-keyword kw">end</span>
82:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world'</span>)
83:     <span class="ruby-keyword kw">end</span>
84:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007536" class="method">
  <div id="M007536_title" class="title">
    <b>test_template_becomes_missing_if_deleted_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007536_source')" id="l_M007536_source">show source</a> ]</p>
  <div id="M007536_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_becomes_missing_if_deleted_without_cached_template_loading</span>
65:     <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
66:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world.erb'</span>)
67:       <span class="ruby-identifier">delete_template</span> <span class="ruby-value str">'test/hello_world.erb'</span> <span class="ruby-keyword kw">do</span>
68:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingTemplate</span>) { <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world.erb'</span>) }
69:       <span class="ruby-keyword kw">end</span>
70:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'Hello world!'</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test/hello_world.erb'</span>)
71:     <span class="ruby-keyword kw">end</span>
72:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007534" class="method">
  <div id="M007534_title" class="title">
    <b>test_template_changes_are_not_reflected_with_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007534_source')" id="l_M007534_source">show source</a> ]</p>
  <div id="M007534_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 40</span>
40:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_changes_are_not_reflected_with_cached_template_loading</span>
41:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
42:       <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">false</span>) <span class="ruby-keyword kw">do</span>
43:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
44:         <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>, <span class="ruby-value str">&quot;Goodbye world!&quot;</span> <span class="ruby-keyword kw">do</span>
45:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
46:         <span class="ruby-keyword kw">end</span>
47:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
48:       <span class="ruby-keyword kw">end</span>
49:     <span class="ruby-keyword kw">end</span>
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007535" class="method">
  <div id="M007535_title" class="title">
    <b>test_template_changes_are_reflected_without_cached_template_loading</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007535_source')" id="l_M007535_source">show source</a> ]</p>
  <div id="M007535_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_changes_are_reflected_without_cached_template_loading</span>
53:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
54:       <span class="ruby-identifier">with_reloading</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
55:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
56:         <span class="ruby-identifier">modify_template</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>, <span class="ruby-value str">&quot;Goodbye world!&quot;</span> <span class="ruby-keyword kw">do</span>
57:           <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Goodbye world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
58:         <span class="ruby-keyword kw">end</span>
59:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
60:       <span class="ruby-keyword kw">end</span>
61:     <span class="ruby-keyword kw">end</span>
62:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007531" class="method">
  <div id="M007531_title" class="title">
    <b>test_template_gets_compiled</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007531_source')" id="l_M007531_source">show source</a> ]</p>
  <div id="M007531_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_gets_compiled</span>
15:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
16:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
17:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
18:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
19:     <span class="ruby-keyword kw">end</span>
20:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007532" class="method">
  <div id="M007532_title" class="title">
    <b>test_template_gets_recompiled_when_using_different_keys_in_local_assigns</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007532_source')" id="l_M007532_source">show source</a> ]</p>
  <div id="M007532_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/compiled_templates_test.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_template_gets_recompiled_when_using_different_keys_in_local_assigns</span>
23:     <span class="ruby-identifier">with_caching</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span>
24:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
25:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>)
26:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello world!&quot;</span>, <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;test/hello_world.erb&quot;</span>, <span class="ruby-identifier">:locals</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bar&quot;</span>})
27:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-ivar">@compiled_templates</span>.<span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">size</span>
28:     <span class="ruby-keyword kw">end</span>
29:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>