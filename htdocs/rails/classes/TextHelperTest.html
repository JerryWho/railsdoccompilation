  <div id="C00000592">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TextHelperTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/template/text_helper_test_rb.html');">actionpack/test/template/text_helper_test.rb</a>

Parent:&nbsp;
ActionView::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003798&name=generate_result" >generate_result</a></li>
  <li><a href="index.html?a=M003774&name=setup" >setup</a></li>
  <li><a href="index.html?a=M003800&name=test_auto_link_already_linked" >test_auto_link_already_linked</a></li>
  <li><a href="index.html?a=M003803&name=test_auto_link_at_eol" >test_auto_link_at_eol</a></li>
  <li><a href="index.html?a=M003802&name=test_auto_link_in_tags" >test_auto_link_in_tags</a></li>
  <li><a href="index.html?a=M003797&name=test_auto_link_parsing" >test_auto_link_parsing</a></li>
  <li><a href="index.html?a=M003804&name=test_auto_link_with_block" >test_auto_link_with_block</a></li>
  <li><a href="index.html?a=M003801&name=test_auto_link_with_brackets" >test_auto_link_with_brackets</a></li>
  <li><a href="index.html?a=M003805&name=test_auto_link_with_options_hash" >test_auto_link_with_options_hash</a></li>
  <li><a href="index.html?a=M003799&name=test_auto_linking" >test_auto_linking</a></li>
  <li><a href="index.html?a=M003775&name=test_concat" >test_concat</a></li>
  <li><a href="index.html?a=M003814&name=test_current_cycle_safe_call" >test_current_cycle_safe_call</a></li>
  <li><a href="index.html?a=M003812&name=test_current_cycle_with_default_name" >test_current_cycle_with_default_name</a></li>
  <li><a href="index.html?a=M003815&name=test_current_cycle_with_more_than_two_names" >test_current_cycle_with_more_than_two_names</a></li>
  <li><a href="index.html?a=M003813&name=test_current_cycle_with_named_cycles" >test_current_cycle_with_named_cycles</a></li>
  <li><a href="index.html?a=M003808&name=test_cycle" >test_cycle</a></li>
  <li><a href="index.html?a=M003806&name=test_cycle_class" >test_cycle_class</a></li>
  <li><a href="index.html?a=M003807&name=test_cycle_class_with_no_arguments" >test_cycle_class_with_no_arguments</a></li>
  <li><a href="index.html?a=M003820&name=test_cycle_no_instance_variable_clashes" >test_cycle_no_instance_variable_clashes</a></li>
  <li><a href="index.html?a=M003810&name=test_cycle_resets_with_new_values" >test_cycle_resets_with_new_values</a></li>
  <li><a href="index.html?a=M003809&name=test_cycle_with_no_arguments" >test_cycle_with_no_arguments</a></li>
  <li><a href="index.html?a=M003816&name=test_default_named_cycle" >test_default_named_cycle</a></li>
  <li><a href="index.html?a=M003787&name=test_excerpt" >test_excerpt</a></li>
  <li><a href="index.html?a=M003788&name=test_excerpt_in_borderline_cases" >test_excerpt_in_borderline_cases</a></li>
  <li><a href="index.html?a=M003790&name=test_excerpt_with_options_hash" >test_excerpt_with_options_hash</a></li>
  <li><a href="index.html?a=M003789&name=test_excerpt_with_regex" >test_excerpt_with_regex</a></li>
  <li><a href="index.html?a=M003792&name=test_excerpt_with_utf8" >test_excerpt_with_utf8</a></li>
  <li><a href="index.html?a=M003791&name=test_excerpt_with_utf8" >test_excerpt_with_utf8</a></li>
  <li><a href="index.html?a=M003786&name=test_highlight_with_html" >test_highlight_with_html</a></li>
  <li><a href="index.html?a=M003784&name=test_highlight_with_multiple_phrases_in_one_pass" >test_highlight_with_multiple_phrases_in_one_pass</a></li>
  <li><a href="index.html?a=M003785&name=test_highlight_with_options_hash" >test_highlight_with_options_hash</a></li>
  <li><a href="index.html?a=M003783&name=test_highlight_with_regexp" >test_highlight_with_regexp</a></li>
  <li><a href="index.html?a=M003782&name=test_highlighter" >test_highlighter</a></li>
  <li><a href="index.html?a=M003811&name=test_named_cycles" >test_named_cycles</a></li>
  <li><a href="index.html?a=M003796&name=test_pluralization" >test_pluralization</a></li>
  <li><a href="index.html?a=M003819&name=test_recet_named_cycle" >test_recet_named_cycle</a></li>
  <li><a href="index.html?a=M003817&name=test_reset_cycle" >test_reset_cycle</a></li>
  <li><a href="index.html?a=M003818&name=test_reset_unknown_cycle" >test_reset_unknown_cycle</a></li>
  <li><a href="index.html?a=M003776&name=test_simple_format" >test_simple_format</a></li>
  <li><a href="index.html?a=M003821&name=test_textilize" >test_textilize</a></li>
  <li><a href="index.html?a=M003822&name=test_textilize_with_blank" >test_textilize_with_blank</a></li>
  <li><a href="index.html?a=M003824&name=test_textilize_with_hard_breaks" >test_textilize_with_hard_breaks</a></li>
  <li><a href="index.html?a=M003823&name=test_textilize_with_options" >test_textilize_with_options</a></li>
  <li><a href="index.html?a=M003777&name=test_truncate" >test_truncate</a></li>
  <li><a href="index.html?a=M003780&name=test_truncate_multibyte" >test_truncate_multibyte</a></li>
  <li><a href="index.html?a=M003781&name=test_truncate_multibyte" >test_truncate_multibyte</a></li>
  <li><a href="index.html?a=M003778&name=test_truncate_should_use_default_length_of_30" >test_truncate_should_use_default_length_of_30</a></li>
  <li><a href="index.html?a=M003779&name=test_truncate_with_options_hash" >test_truncate_with_options_hash</a></li>
  <li><a href="index.html?a=M003793&name=test_word_wrap" >test_word_wrap</a></li>
  <li><a href="index.html?a=M003794&name=test_word_wrap_with_extra_newlines" >test_word_wrap_with_extra_newlines</a></li>
  <li><a href="index.html?a=M003795&name=test_word_wrap_with_options_hash" >test_word_wrap_with_options_hash</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/TestingSandbox.html');">TestingSandbox</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div id="M003798" class="method">
  <div id="M003798_title" class="title">
    <b>generate_result</b>(link_text, href = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003798_source')" id="l_M003798_source">show source</a> ]</p>
  <div id="M003798_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 263</span>
263:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link_text</span>, <span class="ruby-identifier">href</span> = <span class="ruby-keyword kw">nil</span>)
264:     <span class="ruby-identifier">href</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">link_text</span>
265:     <span class="ruby-node">%{&lt;a href=&quot;#{CGI::escapeHTML href}&quot;&gt;#{CGI::escapeHTML link_text}&lt;/a&gt;}</span>
266:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003774" class="method">
  <div id="M003774_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003774_source')" id="l_M003774_source">show source</a> ]</p>
  <div id="M003774_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 13</span>
13:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
14:     <span class="ruby-comment cmt"># This simulates the fact that instance variables are reset every time</span>
15:     <span class="ruby-comment cmt"># a view is rendered.  The cycle helper depends on this behavior.</span>
16:     <span class="ruby-ivar">@_cycles</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@_cycles</span>)
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003800" class="method">
  <div id="M003800_title" class="title">
    <b>test_auto_link_already_linked</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003800_source')" id="l_M003800_source">show source</a> ]</p>
  <div id="M003800_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 359</span>
359:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_already_linked</span>
360:     <span class="ruby-identifier">linked1</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-value str">'Ruby On Rails'</span>, <span class="ruby-value str">'http://www.rubyonrails.com'</span>)
361:     <span class="ruby-identifier">linked2</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-value str">'www.rubyonrails.com'</span>, <span class="ruby-value str">'http://www.rubyonrails.com'</span>)
362:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">linked1</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">linked1</span>)
363:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">linked2</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">linked2</span>)
364:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003803" class="method">
  <div id="M003803_title" class="title">
    <b>test_auto_link_at_eol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003803_source')" id="l_M003803_source">show source</a> ]</p>
  <div id="M003803_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 389</span>
389:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_at_eol</span>
390:     <span class="ruby-identifier">url1</span> = <span class="ruby-value str">&quot;http://api.rubyonrails.com/Foo.html&quot;</span>
391:     <span class="ruby-identifier">url2</span> = <span class="ruby-value str">&quot;http://www.ruby-doc.org/core/Bar.html&quot;</span>
392: 
393:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;&lt;a href=&quot;#{url1}&quot;&gt;#{url1}&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#{url2}&quot;&gt;#{url2}&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{url1}&lt;br /&gt;#{url2}&lt;br /&gt;&lt;/p&gt;&quot;</span>)
394:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003802" class="method">
  <div id="M003802_title" class="title">
    <b>test_auto_link_in_tags</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003802_source')" id="l_M003802_source">show source</a> ]</p>
  <div id="M003802_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 383</span>
383:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_in_tags</span>
384:     <span class="ruby-identifier">link_raw</span>    = <span class="ruby-value str">'http://www.rubyonrails.org/images/rails.png'</span>
385:     <span class="ruby-identifier">link_result</span> = <span class="ruby-node">%Q(&lt;img src=&quot;#{link_raw}&quot; /&gt;)</span>
386:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link_result</span>)
387:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003797" class="method">
  <div id="M003797_title" class="title">
    <b>test_auto_link_parsing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003797_source')" id="l_M003797_source">show source</a> ]</p>
  <div id="M003797_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 235</span>
235:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_parsing</span>
236:     <span class="ruby-identifier">urls</span> = <span class="ruby-node">%w(
237:       http://www.rubyonrails.com
238:       http://www.rubyonrails.com:80
239:       http://www.rubyonrails.com/~minam
240:       https://www.rubyonrails.com/~minam
241:       http://www.rubyonrails.com/~minam/url%20with%20spaces
242:       http://www.rubyonrails.com/foo.cgi?something=here
243:       http://www.rubyonrails.com/foo.cgi?something=here&amp;and=here
244:       http://www.rubyonrails.com/contact;new
245:       http://www.rubyonrails.com/contact;new%20with%20spaces
246:       http://www.rubyonrails.com/contact;new?with=query&amp;string=params
247:       http://www.rubyonrails.com/~minam/contact;new?with=query&amp;string=params
248:       http://en.wikipedia.org/wiki/Wikipedia:Today%27s_featured_picture_%28animation%29/January_20%2C_2007
249:       http://www.mail-archive.com/rails@lists.rubyonrails.org/
250:       http://www.amazon.com/Testing-Equal-Sign-In-Path/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1198861734&amp;sr=8-1
251:       http://en.wikipedia.org/wiki/Texas_hold'em
252:       https://www.google.com/doku.php?id=gps:resource:scs:start
253:       http://connect.oraclecorp.com/search?search[q]=green+france&amp;search[type]=Group
254:       http://of.openfoundry.org/projects/492/download#4th.Release.3
255:       http://maps.google.co.uk/maps?f=q&amp;q=the+london+eye&amp;ie=UTF8&amp;ll=51.503373,-0.11939&amp;spn=0.007052,0.012767&amp;z=16&amp;iwloc=A
256:     )</span>
257: 
258:     <span class="ruby-identifier">urls</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">url</span><span class="ruby-operator">|</span>
259:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">url</span>), <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">url</span>)
260:     <span class="ruby-keyword kw">end</span>
261:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003804" class="method">
  <div id="M003804_title" class="title">
    <b>test_auto_link_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003804_source')" id="l_M003804_source">show source</a> ]</p>
  <div id="M003804_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 396</span>
396:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_with_block</span>
397:     <span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://api.rubyonrails.com/Foo.html&quot;</span>
398:     <span class="ruby-identifier">email</span> = <span class="ruby-value str">&quot;fantabulous@shiznadel.ic&quot;</span>
399: 
400:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;&lt;a href=&quot;#{url}&quot;&gt;#{url[0...7]}...&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;mailto:#{email}&quot;&gt;#{email[0...7]}...&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{url}&lt;br /&gt;#{email}&lt;br /&gt;&lt;/p&gt;&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">url</span><span class="ruby-operator">|</span> <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>) }
401:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003801" class="method">
  <div id="M003801_title" class="title">
    <b>test_auto_link_with_brackets</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003801_source')" id="l_M003801_source">show source</a> ]</p>
  <div id="M003801_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 366</span>
366:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_with_brackets</span>
367:     <span class="ruby-identifier">link1_raw</span> = <span class="ruby-value str">'http://en.wikipedia.org/wiki/Sprite_(computer_graphics)'</span>
368:     <span class="ruby-identifier">link1_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link1_raw</span>)
369:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link1_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link1_raw</span>)
370:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;(link: #{link1_result})&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;(link: #{link1_raw})&quot;</span>)
371: 
372:     <span class="ruby-identifier">link2_raw</span> = <span class="ruby-value str">'http://en.wikipedia.org/wiki/Sprite_[computer_graphics]'</span>
373:     <span class="ruby-identifier">link2_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link2_raw</span>)
374:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link2_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link2_raw</span>)
375:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;[link: #{link2_result}]&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;[link: #{link2_raw}]&quot;</span>)
376: 
377:     <span class="ruby-identifier">link3_raw</span> = <span class="ruby-value str">'http://en.wikipedia.org/wiki/Sprite_{computer_graphics}'</span>
378:     <span class="ruby-identifier">link3_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link3_raw</span>)
379:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link3_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link3_raw</span>)
380:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;{link: #{link3_result}}&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;{link: #{link3_raw}}&quot;</span>)
381:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003805" class="method">
  <div id="M003805_title" class="title">
    <b>test_auto_link_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003805_source')" id="l_M003805_source">show source</a> ]</p>
  <div id="M003805_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 403</span>
403:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_with_options_hash</span>
404:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">'Welcome to my new blog at &lt;a href=&quot;http://www.myblog.com/&quot; class=&quot;menu&quot; target=&quot;_blank&quot;&gt;http://www.myblog.com/&lt;/a&gt;. Please e-mail me at &lt;a href=&quot;mailto:me@email.com&quot; class=&quot;menu&quot; target=&quot;_blank&quot;&gt;me@email.com&lt;/a&gt;.'</span>,
405:       <span class="ruby-identifier">auto_link</span>(<span class="ruby-value str">&quot;Welcome to my new blog at http://www.myblog.com/. Please e-mail me at me@email.com.&quot;</span>,
406:                 <span class="ruby-identifier">:link</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:html</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;menu&quot;</span>, <span class="ruby-identifier">:target</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;_blank&quot;</span> })
407:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003799" class="method">
  <div id="M003799_title" class="title">
    <b>test_auto_linking</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003799_source')" id="l_M003799_source">show source</a> ]</p>
  <div id="M003799_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 268</span>
268:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_linking</span>
269:     <span class="ruby-identifier">email_raw</span>    = <span class="ruby-value str">'david@loudthinking.com'</span>
270:     <span class="ruby-identifier">email_result</span> = <span class="ruby-node">%{&lt;a href=&quot;mailto:#{email_raw}&quot;&gt;#{email_raw}&lt;/a&gt;}</span>
271:     <span class="ruby-identifier">link_raw</span>     = <span class="ruby-value str">'http://www.rubyonrails.com'</span>
272:     <span class="ruby-identifier">link_result</span>  = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link_raw</span>)
273:     <span class="ruby-identifier">link_result_with_options</span> = <span class="ruby-node">%{&lt;a href=&quot;#{link_raw}&quot; target=&quot;_blank&quot;&gt;#{link_raw}&lt;/a&gt;}</span>
274: 
275:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-keyword kw">nil</span>)
276:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-value str">''</span>)
277:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;#{link_result} #{link_result} #{link_result}&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;#{link_raw} #{link_raw} #{link_raw}&quot;</span>)
278: 
279:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(hello #{email_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;hello #{email_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
280:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
281:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
282:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_result} and say hello to #{email_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link_raw} and say hello to #{email_raw}&quot;</span>)
283:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link_raw}&lt;/p&gt;&quot;</span>)
284:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link_raw} Link&lt;/p&gt;&quot;</span>)
285:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link_result_with_options}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link_raw}&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">:all</span>, {<span class="ruby-identifier">:target</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;_blank&quot;</span>})
286:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link_raw}.)</span>)
287:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link_result}, then say hello to #{email_result}.&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link_raw}, then say hello to #{email_raw}.&lt;/p&gt;)</span>)
288: 
289:     <span class="ruby-identifier">email2_raw</span>    = <span class="ruby-value str">'+david@loudthinking.com'</span>
290:     <span class="ruby-identifier">email2_result</span> = <span class="ruby-node">%{&lt;a href=&quot;mailto:#{email2_raw}&quot;&gt;#{email2_raw}&lt;/a&gt;}</span>
291:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">email2_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">email2_raw</span>)
292: 
293:     <span class="ruby-identifier">email3_raw</span>    = <span class="ruby-value str">'+david@loudthinking.com'</span>
294:     <span class="ruby-identifier">email3_result</span> = <span class="ruby-node">%{&lt;a href=&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;+%64%61%76%69%64@%6c%6f%75%64%74%68%69%6e%6b%69%6e%67.%63%6f%6d&quot;&gt;#{email3_raw}&lt;/a&gt;}</span>
295:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">email3_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">email3_raw</span>, <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:hex</span>)
296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">email3_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">email3_raw</span>, <span class="ruby-identifier">:email_addresses</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:hex</span>)
297: 
298:     <span class="ruby-identifier">link2_raw</span>    = <span class="ruby-value str">'www.rubyonrails.com'</span>
299:     <span class="ruby-identifier">link2_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link2_raw</span>, <span class="ruby-node">&quot;http://#{link2_raw}&quot;</span>)
300:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link2_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link2_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
301:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link2_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link2_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link2_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link2_raw}&lt;/p&gt;&quot;</span>)
303:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link2_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link2_raw} Link&lt;/p&gt;&quot;</span>)
304:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link2_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link2_raw}.)</span>)
305:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Say hello to #{email_result}, then go to #{link2_result}.&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Say hello to #{email_raw}, then go to #{link2_raw}.&lt;/p&gt;)</span>)
306: 
307:     <span class="ruby-identifier">link3_raw</span>    = <span class="ruby-value str">'http://manuals.ruby-on-rails.com/read/chapter.need_a-period/103#page281'</span>
308:     <span class="ruby-identifier">link3_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link3_raw</span>)
309:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link3_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link3_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
310:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link3_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link3_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
311:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link3_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link3_raw}&lt;/p&gt;&quot;</span>)
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link3_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link3_raw} Link&lt;/p&gt;&quot;</span>)
313:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link3_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link3_raw}.)</span>)
314:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link3_result}. Seriously, #{link3_result}? I think I'll say hello to #{email_result}. Instead.&lt;/p&gt;)</span>,
315:        <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link3_raw}. Seriously, #{link3_raw}? I think I'll say hello to #{email_raw}. Instead.&lt;/p&gt;)</span>)
316: 
317:     <span class="ruby-identifier">link4_raw</span>    = <span class="ruby-value str">'http://foo.example.com/controller/action?parm=value&amp;p2=v2#anchor123'</span>
318:     <span class="ruby-identifier">link4_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link4_raw</span>)
319:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link4_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link4_raw}&lt;/p&gt;&quot;</span>)
320:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link4_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link4_raw} Link&lt;/p&gt;&quot;</span>)
321: 
322:     <span class="ruby-identifier">link5_raw</span>    = <span class="ruby-value str">'http://foo.example.com:3000/controller/action'</span>
323:     <span class="ruby-identifier">link5_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link5_raw</span>)
324:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link5_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link5_raw} Link&lt;/p&gt;&quot;</span>)
325: 
326:     <span class="ruby-identifier">link6_raw</span>    = <span class="ruby-value str">'http://foo.example.com:3000/controller/action+pack'</span>
327:     <span class="ruby-identifier">link6_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link6_raw</span>)
328:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link6_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link6_raw} Link&lt;/p&gt;&quot;</span>)
329: 
330:     <span class="ruby-identifier">link7_raw</span>    = <span class="ruby-value str">'http://foo.example.com/controller/action?parm=value&amp;p2=v2#anchor-123'</span>
331:     <span class="ruby-identifier">link7_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link7_raw</span>)
332:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link7_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link7_raw} Link&lt;/p&gt;&quot;</span>)
333: 
334:     <span class="ruby-identifier">link8_raw</span>    = <span class="ruby-value str">'http://foo.example.com:3000/controller/action.html'</span>
335:     <span class="ruby-identifier">link8_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link8_raw</span>)
336:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link8_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link8_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
337:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link8_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link8_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
338:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link8_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link8_raw}&lt;/p&gt;&quot;</span>)
339:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link8_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link8_raw} Link&lt;/p&gt;&quot;</span>)
340:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link8_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link8_raw}.)</span>)
341:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link8_result}. Seriously, #{link8_result}? I think I'll say hello to #{email_result}. Instead.&lt;/p&gt;)</span>,
342:        <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link8_raw}. Seriously, #{link8_raw}? I think I'll say hello to #{email_raw}. Instead.&lt;/p&gt;)</span>)
343: 
344:     <span class="ruby-identifier">link9_raw</span>    = <span class="ruby-value str">'http://business.timesonline.co.uk/article/0,,9065-2473189,00.html'</span>
345:     <span class="ruby-identifier">link9_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link9_raw</span>)
346:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link9_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link9_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
347:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link9_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link9_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
348:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link9_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link9_raw}&lt;/p&gt;&quot;</span>)
349:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link9_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link9_raw} Link&lt;/p&gt;&quot;</span>)
350:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link9_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link9_raw}.)</span>)
351:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link9_result}. Seriously, #{link9_result}? I think I'll say hello to #{email_result}. Instead.&lt;/p&gt;)</span>,
352:        <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link9_raw}. Seriously, #{link9_raw}? I think I'll say hello to #{email_raw}. Instead.&lt;/p&gt;)</span>)
353: 
354:     <span class="ruby-identifier">link10_raw</span>    = <span class="ruby-value str">'http://www.mail-archive.com/ruby-talk@ruby-lang.org/'</span>
355:     <span class="ruby-identifier">link10_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link10_raw</span>)
356:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link10_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link10_raw} Link&lt;/p&gt;&quot;</span>)
357:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003775" class="method">
  <div id="M003775_title" class="title">
    <b>test_concat</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003775_source')" id="l_M003775_source">show source</a> ]</p>
  <div id="M003775_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_concat</span>
20:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">output_buffer</span> = <span class="ruby-value str">'foo'</span>
21:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foobar'</span>, <span class="ruby-identifier">concat</span>(<span class="ruby-value str">'bar'</span>)
22:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foobar'</span>, <span class="ruby-identifier">output_buffer</span>
23:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003814" class="method">
  <div id="M003814_title" class="title">
    <b>test_current_cycle_safe_call</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003814_source')" id="l_M003814_source">show source</a> ]</p>
  <div id="M003814_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 475</span>
475:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_safe_call</span>
476:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">current_cycle</span> }
477:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>) }
478:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003812" class="method">
  <div id="M003812_title" class="title">
    <b>test_current_cycle_with_default_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003812_source')" id="l_M003812_source">show source</a> ]</p>
  <div id="M003812_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 457</span>
457:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_with_default_name</span>
458:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>,<span class="ruby-value str">&quot;odd&quot;</span>)
459:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">current_cycle</span>
460:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>,<span class="ruby-value str">&quot;odd&quot;</span>)
461:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;odd&quot;</span>, <span class="ruby-identifier">current_cycle</span>
462:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>,<span class="ruby-value str">&quot;odd&quot;</span>)
463:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">current_cycle</span>
464:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003815" class="method">
  <div id="M003815_title" class="title">
    <b>test_current_cycle_with_more_than_two_names</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003815_source')" id="l_M003815_source">show source</a> ]</p>
  <div id="M003815_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 480</span>
480:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_with_more_than_two_names</span>
481:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
482:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">current_cycle</span>
483:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
484:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">current_cycle</span>
485:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
486:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">current_cycle</span>
487:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
488:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">current_cycle</span>
489:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003813" class="method">
  <div id="M003813_title" class="title">
    <b>test_current_cycle_with_named_cycles</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003813_source')" id="l_M003813_source">show source</a> ]</p>
  <div id="M003813_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 466</span>
466:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_with_named_cycles</span>
467:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>)
468:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
469:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>)
470:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
471:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>)
472:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
473:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003808" class="method">
  <div id="M003808_title" class="title">
    <b>test_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003808_source')" id="l_M003808_source">show source</a> ]</p>
  <div id="M003808_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 425</span>
425:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle</span>
426:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
427:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
428:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
429:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
430:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
431:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
432:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003806" class="method">
  <div id="M003806_title" class="title">
    <b>test_cycle_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003806_source')" id="l_M003806_source">show source</a> ]</p>
  <div id="M003806_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 409</span>
409:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_class</span>
410:     <span class="ruby-identifier">value</span> = <span class="ruby-constant">Cycle</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>)
411:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
412:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
413:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
414:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
415:     <span class="ruby-identifier">value</span>.<span class="ruby-identifier">reset</span>
416:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
417:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
418:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
419:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003807" class="method">
  <div id="M003807_title" class="title">
    <b>test_cycle_class_with_no_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003807_source')" id="l_M003807_source">show source</a> ]</p>
  <div id="M003807_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 421</span>
421:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_class_with_no_arguments</span>
422:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">value</span> = <span class="ruby-constant">Cycle</span>.<span class="ruby-identifier">new</span>() }
423:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003820" class="method">
  <div id="M003820_title" class="title">
    <b>test_cycle_no_instance_variable_clashes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003820_source')" id="l_M003820_source">show source</a> ]</p>
  <div id="M003820_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 518</span>
518:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_no_instance_variable_clashes</span>
519:     <span class="ruby-ivar">@cycles</span> = <span class="ruby-node">%w{Specialized Fuji Giant}</span>
520:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>))
521:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>))
522:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>))
523:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-node">%w{Specialized Fuji Giant}</span>, <span class="ruby-ivar">@cycles</span>)
524:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003810" class="method">
  <div id="M003810_title" class="title">
    <b>test_cycle_resets_with_new_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003810_source')" id="l_M003810_source">show source</a> ]</p>
  <div id="M003810_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 438</span>
438:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_resets_with_new_values</span>
439:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-value str">&quot;odd&quot;</span>))
440:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;odd&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-value str">&quot;odd&quot;</span>))
441:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-value str">&quot;odd&quot;</span>))
442:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
443:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
444:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
445:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
446:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003809" class="method">
  <div id="M003809_title" class="title">
    <b>test_cycle_with_no_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003809_source')" id="l_M003809_source">show source</a> ]</p>
  <div id="M003809_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 434</span>
434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_with_no_arguments</span>
435:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">value</span> = <span class="ruby-identifier">cycle</span>() }
436:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003816" class="method">
  <div id="M003816_title" class="title">
    <b>test_default_named_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003816_source')" id="l_M003816_source">show source</a> ]</p>
  <div id="M003816_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 491</span>
491:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_named_cycle</span>
492:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
493:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;default&quot;</span>))
494:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
495:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003787" class="method">
  <div id="M003787_title" class="title">
    <b>test_excerpt</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003787_source')" id="l_M003787_source">show source</a> ]</p>
  <div id="M003787_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt</span>
154:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...is a beautiful morn...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-value">5</span>))
155:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;This is a...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;this&quot;</span>, <span class="ruby-value">5</span>))
156:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...iful morning&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;morning&quot;</span>, <span class="ruby-value">5</span>))
157:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;day&quot;</span>)
158:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003788" class="method">
  <div id="M003788_title" class="title">
    <b>test_excerpt_in_borderline_cases</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003788_source')" id="l_M003788_source">show source</a> ]</p>
  <div id="M003788_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 160</span>
160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_in_borderline_cases</span>
161:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-value">0</span>))
162:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-value">0</span>))
163:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...b...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">0</span>))
164:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
165:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;abc...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;abcd&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
166:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...abc&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;zabc&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
167:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...abc...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
168:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">2</span>))
169: 
170:     <span class="ruby-comment cmt"># excerpt strips the resulting string before ap-/prepending excerpt_string.</span>
171:     <span class="ruby-comment cmt"># whether this behavior is meaningful when excerpt_string is not to be</span>
172:     <span class="ruby-comment cmt"># appended is questionable.</span>
173:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;  zabcd  &quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">4</span>))
174:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...abc...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;z  abc  d&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
175:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003790" class="method">
  <div id="M003790_title" class="title">
    <b>test_excerpt_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003790_source')" id="l_M003790_source">show source</a> ]</p>
  <div id="M003790_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 182</span>
182:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_options_hash</span>
183:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...is a beautiful morn...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-identifier">:radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
184:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;[...]is a beautiful morn[...]&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>,<span class="ruby-identifier">:radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
185:     <span class="ruby-identifier">assert_equal</span>(
186:       <span class="ruby-value str">&quot;This is the ultimate supercalifragilisticexpialidoceous very looooooooooooooooooong looooooooooooong beautiful morning with amazing sunshine and awesome tempera[...]&quot;</span>,
187:       <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is the ultimate supercalifragilisticexpialidoceous very looooooooooooooooooong looooooooooooong beautiful morning with amazing sunshine and awesome temperatures. So what are you gonna do about it?&quot;</span>, <span class="ruby-value str">&quot;very&quot;</span>,
188:       <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>)
189:     )
190:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003789" class="method">
  <div id="M003789_title" class="title">
    <b>test_excerpt_with_regex</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003789_source')" id="l_M003789_source">show source</a> ]</p>
  <div id="M003789_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_regex</span>
178:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'...is a beautiful! mor...'</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">'This is a beautiful! morning'</span>, <span class="ruby-value str">'beautiful'</span>, <span class="ruby-value">5</span>))
179:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'...is a beautiful? mor...'</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">'This is a beautiful? morning'</span>, <span class="ruby-value str">'beautiful'</span>, <span class="ruby-value">5</span>))
180:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003792" class="method">
  <div id="M003792_title" class="title">
    <b>test_excerpt_with_utf8</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003792_source')" id="l_M003792_source">show source</a> ]</p>
  <div id="M003792_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 202</span>
202:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_utf8</span>
203:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\357\254\203ciency could not be...&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>), <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>), <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
204:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\203ciency could not be...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>, <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
205:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003791" class="method">
  <div id="M003791_title" class="title">
    <b>test_excerpt_with_utf8</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003791_source')" id="l_M003791_source">show source</a> ]</p>
  <div id="M003791_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 193</span>
193:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_utf8</span>
194:       <span class="ruby-identifier">with_kcode</span>(<span class="ruby-value str">'u'</span>) <span class="ruby-keyword kw">do</span>
195:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\357\254\203ciency could not be...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>, <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
196:       <span class="ruby-keyword kw">end</span>
197:       <span class="ruby-identifier">with_kcode</span>(<span class="ruby-value str">'none'</span>) <span class="ruby-keyword kw">do</span>
198:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\203ciency could not be...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>, <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
199:       <span class="ruby-keyword kw">end</span>
200:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003786" class="method">
  <div id="M003786_title" class="title">
    <b>test_highlight_with_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003786_source')" id="l_M003786_source">show source</a> ]</p>
  <div id="M003786_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 130</span>
130:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_html</span>
131:     <span class="ruby-identifier">assert_equal</span>(
132:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
133:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a beautiful morning, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
134:     )
135:     <span class="ruby-identifier">assert_equal</span>(
136:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em&gt;&lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt;&lt;/em&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
137:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em&gt;beautiful&lt;/em&gt; morning, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
138:     )
139:     <span class="ruby-identifier">assert_equal</span>(
140:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em class=\&quot;error\&quot;&gt;&lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt;&lt;/em&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; &lt;span class=\&quot;last\&quot;&gt;day&lt;/span&gt;&lt;/p&gt;&quot;</span>,
141:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em class=\&quot;error\&quot;&gt;beautiful&lt;/em&gt; morning, but also a beautiful &lt;span class=\&quot;last\&quot;&gt;day&lt;/span&gt;&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
142:     )
143:     <span class="ruby-identifier">assert_equal</span>(
144:       <span class="ruby-value str">&quot;&lt;p class=\&quot;beautiful\&quot;&gt;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
145:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p class=\&quot;beautiful\&quot;&gt;This is a beautiful morning, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
146:     )
147:     <span class="ruby-identifier">assert_equal</span>(
148:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; &lt;a href=\&quot;http://example.com/beautiful\#top?what=beautiful%20morning&amp;when=now+then\&quot;&gt;morning&lt;/a&gt;, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
149:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a beautiful &lt;a href=\&quot;http://example.com/beautiful\#top?what=beautiful%20morning&amp;when=now+then\&quot;&gt;morning&lt;/a&gt;, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
150:     )
151:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003784" class="method">
  <div id="M003784_title" class="title">
    <b>test_highlight_with_multiple_phrases_in_one_pass</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003784_source')" id="l_M003784_source">show source</a> ]</p>
  <div id="M003784_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_multiple_phrases_in_one_pass</span>
120:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%(&lt;em&gt;wow&lt;/em&gt; &lt;em&gt;em&lt;/em&gt;)</span>, <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">'wow em'</span>, <span class="ruby-node">%w(wow em)</span>, <span class="ruby-value str">'&lt;em&gt;\1&lt;/em&gt;'</span>)
121:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003785" class="method">
  <div id="M003785_title" class="title">
    <b>test_highlight_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003785_source')" id="l_M003785_source">show source</a> ]</p>
  <div id="M003785_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_options_hash</span>
124:     <span class="ruby-identifier">assert_equal</span>(
125:       <span class="ruby-value str">&quot;This is a &lt;b&gt;beautiful&lt;/b&gt; morning, but also a &lt;b&gt;beautiful&lt;/b&gt; day&quot;</span>,
126:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning, but also a beautiful day&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-identifier">:highlighter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&lt;b&gt;\1&lt;/b&gt;'</span>)
127:     )
128:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003783" class="method">
  <div id="M003783_title" class="title">
    <b>test_highlight_with_regexp</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003783_source')" id="l_M003783_source">show source</a> ]</p>
  <div id="M003783_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 102</span>
102:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_regexp</span>
103:     <span class="ruby-identifier">assert_equal</span>(
104:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful!&lt;/strong&gt; morning&quot;</span>,
105:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful! morning&quot;</span>, <span class="ruby-value str">&quot;beautiful!&quot;</span>)
106:     )
107: 
108:     <span class="ruby-identifier">assert_equal</span>(
109:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful! morning&lt;/strong&gt;&quot;</span>,
110:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful! morning&quot;</span>, <span class="ruby-value str">&quot;beautiful! morning&quot;</span>)
111:     )
112: 
113:     <span class="ruby-identifier">assert_equal</span>(
114:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful? morning&lt;/strong&gt;&quot;</span>,
115:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful? morning&quot;</span>, <span class="ruby-value str">&quot;beautiful? morning&quot;</span>)
116:     )
117:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003782" class="method">
  <div id="M003782_title" class="title">
    <b>test_highlighter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003782_source')" id="l_M003782_source">show source</a> ]</p>
  <div id="M003782_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 78</span>
 78:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlighter</span>
 79:     <span class="ruby-identifier">assert_equal</span>(
 80:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning&quot;</span>,
 81:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
 82:     )
 83: 
 84:     <span class="ruby-identifier">assert_equal</span>(
 85:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&quot;</span>,
 86:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning, but also a beautiful day&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
 87:     )
 88: 
 89:     <span class="ruby-identifier">assert_equal</span>(
 90:       <span class="ruby-value str">&quot;This is a &lt;b&gt;beautiful&lt;/b&gt; morning, but also a &lt;b&gt;beautiful&lt;/b&gt; day&quot;</span>,
 91:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning, but also a beautiful day&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-value str">'&lt;b&gt;\1&lt;/b&gt;'</span>)
 92:     )
 93: 
 94:     <span class="ruby-identifier">assert_equal</span>(
 95:       <span class="ruby-value str">&quot;This text is not changed because we supplied an empty phrase&quot;</span>,
 96:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This text is not changed because we supplied an empty phrase&quot;</span>, <span class="ruby-keyword kw">nil</span>)
 97:     )
 98: 
 99:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'   '</span>, <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">'   '</span>, <span class="ruby-value str">'blank text is returned verbatim'</span>)
100:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003811" class="method">
  <div id="M003811_title" class="title">
    <b>test_named_cycles</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003811_source')" id="l_M003811_source">show source</a> ]</p>
  <div id="M003811_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 448</span>
448:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_cycles</span>
449:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
450:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
451:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
452:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
453:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
454:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
455:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003796" class="method">
  <div id="M003796_title" class="title">
    <b>test_pluralization</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003796_source')" id="l_M003796_source">show source</a> ]</p>
  <div id="M003796_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 220</span>
220:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pluralization</span>
221:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1 count&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;count&quot;</span>))
222:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-value str">&quot;count&quot;</span>))
223:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1 count&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
224:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'2'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
225:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1,066 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1,066'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
226:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1.25 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1.25'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
227:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 counters&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-value str">&quot;count&quot;</span>, <span class="ruby-value str">&quot;counters&quot;</span>))
228:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;0 counters&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;count&quot;</span>, <span class="ruby-value str">&quot;counters&quot;</span>))
229:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 people&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-value str">&quot;person&quot;</span>))
230:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;10 buffaloes&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">10</span>, <span class="ruby-value str">&quot;buffalo&quot;</span>))
231:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1 berry&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;berry&quot;</span>))
232:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;12 berries&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">12</span>, <span class="ruby-value str">&quot;berry&quot;</span>))
233:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003819" class="method">
  <div id="M003819_title" class="title">
    <b>test_recet_named_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003819_source')" id="l_M003819_source">show source</a> ]</p>
  <div id="M003819_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 508</span>
508:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recet_named_cycle</span>
509:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
510:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
511:     <span class="ruby-identifier">reset_cycle</span>(<span class="ruby-value str">&quot;numbers&quot;</span>)
512:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
513:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
514:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
515:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
516:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003817" class="method">
  <div id="M003817_title" class="title">
    <b>test_reset_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003817_source')" id="l_M003817_source">show source</a> ]</p>
  <div id="M003817_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 497</span>
497:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reset_cycle</span>
498:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
499:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
500:     <span class="ruby-identifier">reset_cycle</span>
501:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
502:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003818" class="method">
  <div id="M003818_title" class="title">
    <b>test_reset_unknown_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003818_source')" id="l_M003818_source">show source</a> ]</p>
  <div id="M003818_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 504</span>
504:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reset_unknown_cycle</span>
505:     <span class="ruby-identifier">reset_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
506:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003776" class="method">
  <div id="M003776_title" class="title">
    <b>test_simple_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003776_source')" id="l_M003776_source">show source</a> ]</p>
  <div id="M003776_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 25</span>
25:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_simple_format</span>
26:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-keyword kw">nil</span>)
27: 
28:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;crazy\n&lt;br /&gt; cross\n&lt;br /&gt; platform linebreaks&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;crazy\r\n cross\r platform linebreaks&quot;</span>)
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A paragraph&lt;/p&gt;\n\n&lt;p&gt;and another one!&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;A paragraph\n\nand another one!&quot;</span>)
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A paragraph\n&lt;br /&gt; With a newline&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;A paragraph\n With a newline&quot;</span>)
31: 
32:     <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;A\nB\nC\nD&quot;</span>.<span class="ruby-identifier">freeze</span>
33:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A\n&lt;br /&gt;B\n&lt;br /&gt;C\n&lt;br /&gt;D&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">text</span>)
34: 
35:     <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;A\r\n  \nB\n\n\r\n\t\nC\nD&quot;</span>.<span class="ruby-identifier">freeze</span>
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A\n&lt;br /&gt;  \n&lt;br /&gt;B&lt;/p&gt;\n\n&lt;p&gt;\t\n&lt;br /&gt;C\n&lt;br /&gt;D&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">text</span>)
37: 
38:      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%q(&lt;p class=&quot;test&quot;&gt;This is a classy test&lt;/p&gt;)</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;This is a classy test&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test'</span>)
39:      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%Q(&lt;p class=&quot;test&quot;&gt;para 1&lt;/p&gt;\n\n&lt;p class=&quot;test&quot;&gt;para 2&lt;/p&gt;)</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;para 1\n\npara 2&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test'</span>)
40:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003821" class="method">
  <div id="M003821_title" class="title">
    <b>test_textilize</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003821_source')" id="l_M003821_source">show source</a> ]</p>
  <div id="M003821_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 527</span>
527:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize</span>
528:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;&lt;strong&gt;This is Textile!&lt;/strong&gt;  Rejoice!&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;*This is Textile!*  Rejoice!&quot;</span>))
529:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003822" class="method">
  <div id="M003822_title" class="title">
    <b>test_textilize_with_blank</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003822_source')" id="l_M003822_source">show source</a> ]</p>
  <div id="M003822_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 531</span>
531:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize_with_blank</span>
532:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;&quot;</span>))
533:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003824" class="method">
  <div id="M003824_title" class="title">
    <b>test_textilize_with_hard_breaks</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003824_source')" id="l_M003824_source">show source</a> ]</p>
  <div id="M003824_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 539</span>
539:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize_with_hard_breaks</span>
540:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is one scary world.&lt;br /&gt;\n True.&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;This is one scary world.\n True.&quot;</span>))
541:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003823" class="method">
  <div id="M003823_title" class="title">
    <b>test_textilize_with_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003823_source')" id="l_M003823_source">show source</a> ]</p>
  <div id="M003823_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 535</span>
535:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize_with_options</span>
536:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is worded &amp;lt;strong&amp;gt;strongly&amp;lt;/strong&amp;gt;&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;This is worded &lt;strong&gt;strongly&lt;/strong&gt;&quot;</span>, <span class="ruby-identifier">:filter_html</span>))
537:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003777" class="method">
  <div id="M003777_title" class="title">
    <b>test_truncate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003777_source')" id="l_M003777_source">show source</a> ]</p>
  <div id="M003777_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>)
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello Wor...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!!&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>)
45:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003780" class="method">
  <div id="M003780_title" class="title">
    <b>test_truncate_multibyte</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003780_source')" id="l_M003780_source">show source</a> ]</p>
  <div id="M003780_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 59</span>
59:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_multibyte</span>
60:       <span class="ruby-identifier">with_kcode</span> <span class="ruby-value str">'none'</span> <span class="ruby-keyword kw">do</span>
61:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\210\353\205\225\355...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\210\353\205\225\355\225\230\354\204\270\354\232\224&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
62:       <span class="ruby-keyword kw">end</span>
63:       <span class="ruby-identifier">with_kcode</span> <span class="ruby-value str">'u'</span> <span class="ruby-keyword kw">do</span>
64:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 ...&quot;</span>,
65:           <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 \354\225\204\353\235\274\353\246\254\354\230\244&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
66:       <span class="ruby-keyword kw">end</span>
67:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003781" class="method">
  <div id="M003781_title" class="title">
    <b>test_truncate_multibyte</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003781_source')" id="l_M003781_source">show source</a> ]</p>
  <div id="M003781_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_multibyte</span>
70:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\210\353\205\225\355...&quot;</span>,
71:         <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\210\353\205\225\355\225\230\354\204\270\354\232\224&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
72: 
73:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 ...&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>),
74:         <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 \354\225\204\353\235\274\353\246\254\354\230\244&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>), <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
75:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003778" class="method">
  <div id="M003778_title" class="title">
    <b>test_truncate_should_use_default_length_of_30</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003778_source')" id="l_M003778_source">show source</a> ]</p>
  <div id="M003778_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_should_use_default_length_of_30</span>
48:     <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;This is a string that will go longer then the default truncate length of 30&quot;</span>
49:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">str</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-value">27</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">str</span>)
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003779" class="method">
  <div id="M003779_title" class="title">
    <b>test_truncate_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003779_source')" id="l_M003779_source">show source</a> ]</p>
  <div id="M003779_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_with_options_hash</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;This is a string that wil[...]&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;This is a string that will go longer then the default truncate length of 30&quot;</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>)
54:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello W...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
55:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello[...]&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
56:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003793" class="method">
  <div id="M003793_title" class="title">
    <b>test_word_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003793_source')" id="l_M003793_source">show source</a> ]</p>
  <div id="M003793_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 208</span>
208:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_word_wrap</span>
209:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my very very\nvery long\nstring&quot;</span>, <span class="ruby-identifier">word_wrap</span>(<span class="ruby-value str">&quot;my very very very long string&quot;</span>, <span class="ruby-value">15</span>))
210:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003794" class="method">
  <div id="M003794_title" class="title">
    <b>test_word_wrap_with_extra_newlines</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003794_source')" id="l_M003794_source">show source</a> ]</p>
  <div id="M003794_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 212</span>
212:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_word_wrap_with_extra_newlines</span>
213:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my very very\nvery long\nstring\n\nwith another\nline&quot;</span>, <span class="ruby-identifier">word_wrap</span>(<span class="ruby-value str">&quot;my very very very long string\n\nwith another line&quot;</span>, <span class="ruby-value">15</span>))
214:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003795" class="method">
  <div id="M003795_title" class="title">
    <b>test_word_wrap_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003795_source')" id="l_M003795_source">show source</a> ]</p>
  <div id="M003795_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 216</span>
216:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_word_wrap_with_options_hash</span>
217:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my very very\nvery long\nstring&quot;</span>, <span class="ruby-identifier">word_wrap</span>(<span class="ruby-value str">&quot;my very very very long string&quot;</span>, <span class="ruby-identifier">:line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>))
218:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>