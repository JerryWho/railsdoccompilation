  <div id="C00000550">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />TextHelperTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/template/text_helper_test_rb.html');">actionpack/test/template/text_helper_test.rb</a>

Parent:&nbsp;
ActionView::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003822&name=generate_result" >generate_result</a></li>
  <li><a href="index.html?a=M003796&name=setup" >setup</a></li>
  <li><a href="index.html?a=M003825&name=test_auto_link_already_linked" >test_auto_link_already_linked</a></li>
  <li><a href="index.html?a=M003828&name=test_auto_link_at_eol" >test_auto_link_at_eol</a></li>
  <li><a href="index.html?a=M003827&name=test_auto_link_in_tags" >test_auto_link_in_tags</a></li>
  <li><a href="index.html?a=M003824&name=test_auto_link_other_protocols" >test_auto_link_other_protocols</a></li>
  <li><a href="index.html?a=M003821&name=test_auto_link_parsing" >test_auto_link_parsing</a></li>
  <li><a href="index.html?a=M003829&name=test_auto_link_with_block" >test_auto_link_with_block</a></li>
  <li><a href="index.html?a=M003826&name=test_auto_link_with_brackets" >test_auto_link_with_brackets</a></li>
  <li><a href="index.html?a=M003830&name=test_auto_link_with_options_hash" >test_auto_link_with_options_hash</a></li>
  <li><a href="index.html?a=M003823&name=test_auto_linking" >test_auto_linking</a></li>
  <li><a href="index.html?a=M003797&name=test_concat" >test_concat</a></li>
  <li><a href="index.html?a=M003839&name=test_current_cycle_safe_call" >test_current_cycle_safe_call</a></li>
  <li><a href="index.html?a=M003837&name=test_current_cycle_with_default_name" >test_current_cycle_with_default_name</a></li>
  <li><a href="index.html?a=M003840&name=test_current_cycle_with_more_than_two_names" >test_current_cycle_with_more_than_two_names</a></li>
  <li><a href="index.html?a=M003838&name=test_current_cycle_with_named_cycles" >test_current_cycle_with_named_cycles</a></li>
  <li><a href="index.html?a=M003833&name=test_cycle" >test_cycle</a></li>
  <li><a href="index.html?a=M003831&name=test_cycle_class" >test_cycle_class</a></li>
  <li><a href="index.html?a=M003832&name=test_cycle_class_with_no_arguments" >test_cycle_class_with_no_arguments</a></li>
  <li><a href="index.html?a=M003845&name=test_cycle_no_instance_variable_clashes" >test_cycle_no_instance_variable_clashes</a></li>
  <li><a href="index.html?a=M003835&name=test_cycle_resets_with_new_values" >test_cycle_resets_with_new_values</a></li>
  <li><a href="index.html?a=M003834&name=test_cycle_with_no_arguments" >test_cycle_with_no_arguments</a></li>
  <li><a href="index.html?a=M003841&name=test_default_named_cycle" >test_default_named_cycle</a></li>
  <li><a href="index.html?a=M003811&name=test_excerpt" >test_excerpt</a></li>
  <li><a href="index.html?a=M003812&name=test_excerpt_in_borderline_cases" >test_excerpt_in_borderline_cases</a></li>
  <li><a href="index.html?a=M003814&name=test_excerpt_with_options_hash" >test_excerpt_with_options_hash</a></li>
  <li><a href="index.html?a=M003813&name=test_excerpt_with_regex" >test_excerpt_with_regex</a></li>
  <li><a href="index.html?a=M003815&name=test_excerpt_with_utf8" >test_excerpt_with_utf8</a></li>
  <li><a href="index.html?a=M003816&name=test_excerpt_with_utf8" >test_excerpt_with_utf8</a></li>
  <li><a href="index.html?a=M003810&name=test_highlight_with_html" >test_highlight_with_html</a></li>
  <li><a href="index.html?a=M003808&name=test_highlight_with_multiple_phrases_in_one_pass" >test_highlight_with_multiple_phrases_in_one_pass</a></li>
  <li><a href="index.html?a=M003809&name=test_highlight_with_options_hash" >test_highlight_with_options_hash</a></li>
  <li><a href="index.html?a=M003807&name=test_highlight_with_regexp" >test_highlight_with_regexp</a></li>
  <li><a href="index.html?a=M003806&name=test_highlighter" >test_highlighter</a></li>
  <li><a href="index.html?a=M003836&name=test_named_cycles" >test_named_cycles</a></li>
  <li><a href="index.html?a=M003820&name=test_pluralization" >test_pluralization</a></li>
  <li><a href="index.html?a=M003844&name=test_recet_named_cycle" >test_recet_named_cycle</a></li>
  <li><a href="index.html?a=M003842&name=test_reset_cycle" >test_reset_cycle</a></li>
  <li><a href="index.html?a=M003843&name=test_reset_unknown_cycle" >test_reset_unknown_cycle</a></li>
  <li><a href="index.html?a=M003798&name=test_simple_format" >test_simple_format</a></li>
  <li><a href="index.html?a=M003799&name=test_simple_format_should_be_html_safe" >test_simple_format_should_be_html_safe</a></li>
  <li><a href="index.html?a=M003800&name=test_simple_format_should_not_escape_safe_input" >test_simple_format_should_not_escape_safe_input</a></li>
  <li><a href="index.html?a=M003846&name=test_textilize" >test_textilize</a></li>
  <li><a href="index.html?a=M003847&name=test_textilize_with_blank" >test_textilize_with_blank</a></li>
  <li><a href="index.html?a=M003849&name=test_textilize_with_hard_breaks" >test_textilize_with_hard_breaks</a></li>
  <li><a href="index.html?a=M003848&name=test_textilize_with_options" >test_textilize_with_options</a></li>
  <li><a href="index.html?a=M003801&name=test_truncate" >test_truncate</a></li>
  <li><a href="index.html?a=M003804&name=test_truncate_multibyte" >test_truncate_multibyte</a></li>
  <li><a href="index.html?a=M003805&name=test_truncate_multibyte" >test_truncate_multibyte</a></li>
  <li><a href="index.html?a=M003802&name=test_truncate_should_use_default_length_of_30" >test_truncate_should_use_default_length_of_30</a></li>
  <li><a href="index.html?a=M003803&name=test_truncate_with_options_hash" >test_truncate_with_options_hash</a></li>
  <li><a href="index.html?a=M003817&name=test_word_wrap" >test_word_wrap</a></li>
  <li><a href="index.html?a=M003818&name=test_word_wrap_with_extra_newlines" >test_word_wrap_with_extra_newlines</a></li>
  <li><a href="index.html?a=M003819&name=test_word_wrap_with_options_hash" >test_word_wrap_with_options_hash</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/TestingSandbox.html');">TestingSandbox</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div id="M003822" class="method">
  <div id="M003822_title" class="title">
    <b>generate_result</b>(link_text, href = nil)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003822_source')" id="l_M003822_source">show source</a> ]</p>
  <div id="M003822_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link_text</span>, <span class="ruby-identifier">href</span> = <span class="ruby-keyword kw">nil</span>)
275:     <span class="ruby-identifier">href</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">link_text</span>
276:     <span class="ruby-node">%{&lt;a href=&quot;#{CGI::escapeHTML href}&quot;&gt;#{CGI::escapeHTML link_text}&lt;/a&gt;}</span>
277:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003796" class="method">
  <div id="M003796_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003796_source')" id="l_M003796_source">show source</a> ]</p>
  <div id="M003796_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
15:     <span class="ruby-comment cmt"># This simulates the fact that instance variables are reset every time</span>
16:     <span class="ruby-comment cmt"># a view is rendered.  The cycle helper depends on this behavior.</span>
17:     <span class="ruby-ivar">@_cycles</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@_cycles</span>)
18:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003825" class="method">
  <div id="M003825_title" class="title">
    <b>test_auto_link_already_linked</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003825_source')" id="l_M003825_source">show source</a> ]</p>
  <div id="M003825_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 384</span>
384:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_already_linked</span>
385:     <span class="ruby-identifier">linked1</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-value str">'Ruby On Rails'</span>, <span class="ruby-value str">'http://www.rubyonrails.com'</span>)
386:     <span class="ruby-identifier">linked2</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-value str">'www.rubyonrails.com'</span>, <span class="ruby-value str">'http://www.rubyonrails.com'</span>)
387:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">linked1</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">linked1</span>)
388:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">linked2</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">linked2</span>)
389:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003828" class="method">
  <div id="M003828_title" class="title">
    <b>test_auto_link_at_eol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003828_source')" id="l_M003828_source">show source</a> ]</p>
  <div id="M003828_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 414</span>
414:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_at_eol</span>
415:     <span class="ruby-identifier">url1</span> = <span class="ruby-value str">&quot;http://api.rubyonrails.com/Foo.html&quot;</span>
416:     <span class="ruby-identifier">url2</span> = <span class="ruby-value str">&quot;http://www.ruby-doc.org/core/Bar.html&quot;</span>
417: 
418:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;&lt;a href=&quot;#{url1}&quot;&gt;#{url1}&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#{url2}&quot;&gt;#{url2}&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{url1}&lt;br /&gt;#{url2}&lt;br /&gt;&lt;/p&gt;&quot;</span>)
419:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003827" class="method">
  <div id="M003827_title" class="title">
    <b>test_auto_link_in_tags</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003827_source')" id="l_M003827_source">show source</a> ]</p>
  <div id="M003827_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 408</span>
408:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_in_tags</span>
409:     <span class="ruby-identifier">link_raw</span>    = <span class="ruby-value str">'http://www.rubyonrails.org/images/rails.png'</span>
410:     <span class="ruby-identifier">link_result</span> = <span class="ruby-node">%Q(&lt;img src=&quot;#{link_raw}&quot; /&gt;)</span>
411:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link_result</span>)
412:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003824" class="method">
  <div id="M003824_title" class="title">
    <b>test_auto_link_other_protocols</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003824_source')" id="l_M003824_source">show source</a> ]</p>
  <div id="M003824_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 370</span>
370:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_other_protocols</span>
371:     <span class="ruby-identifier">silence_warnings</span> <span class="ruby-keyword kw">do</span>
372:       <span class="ruby-keyword kw">begin</span>
373:         <span class="ruby-identifier">old_re_value</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">TextHelper</span><span class="ruby-operator">::</span><span class="ruby-constant">AUTO_LINK_RE</span>
374:         <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">TextHelper</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-identifier">:AUTO_LINK_RE</span>, <span class="ruby-regexp re">%r{(ftp://)[^\s&lt;]+}</span>
375:         <span class="ruby-identifier">link_raw</span> = <span class="ruby-value str">'ftp://example.com/file.txt'</span>
376:         <span class="ruby-identifier">link_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link_raw</span>)
377:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Download #{link_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Download #{link_raw}&quot;</span>)
378:       <span class="ruby-keyword kw">ensure</span>
379:         <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">TextHelper</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-identifier">:AUTO_LINK_RE</span>, <span class="ruby-identifier">old_re_value</span>
380:       <span class="ruby-keyword kw">end</span>
381:     <span class="ruby-keyword kw">end</span>
382:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003821" class="method">
  <div id="M003821_title" class="title">
    <b>test_auto_link_parsing</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003821_source')" id="l_M003821_source">show source</a> ]</p>
  <div id="M003821_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 246</span>
246:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_parsing</span>
247:     <span class="ruby-identifier">urls</span> = <span class="ruby-node">%w(
248:       http://www.rubyonrails.com
249:       http://www.rubyonrails.com:80
250:       http://www.rubyonrails.com/~minam
251:       https://www.rubyonrails.com/~minam
252:       http://www.rubyonrails.com/~minam/url%20with%20spaces
253:       http://www.rubyonrails.com/foo.cgi?something=here
254:       http://www.rubyonrails.com/foo.cgi?something=here&amp;and=here
255:       http://www.rubyonrails.com/contact;new
256:       http://www.rubyonrails.com/contact;new%20with%20spaces
257:       http://www.rubyonrails.com/contact;new?with=query&amp;string=params
258:       http://www.rubyonrails.com/~minam/contact;new?with=query&amp;string=params
259:       http://en.wikipedia.org/wiki/Wikipedia:Today%27s_featured_picture_%28animation%29/January_20%2C_2007
260:       http://www.mail-archive.com/rails@lists.rubyonrails.org/
261:       http://www.amazon.com/Testing-Equal-Sign-In-Path/ref=pd_bbs_sr_1?ie=UTF8&amp;s=books&amp;qid=1198861734&amp;sr=8-1
262:       http://en.wikipedia.org/wiki/Texas_hold'em
263:       https://www.google.com/doku.php?id=gps:resource:scs:start
264:       http://connect.oraclecorp.com/search?search[q]=green+france&amp;search[type]=Group
265:       http://of.openfoundry.org/projects/492/download#4th.Release.3
266:       http://maps.google.co.uk/maps?f=q&amp;q=the+london+eye&amp;ie=UTF8&amp;ll=51.503373,-0.11939&amp;spn=0.007052,0.012767&amp;z=16&amp;iwloc=A
267:     )</span>
268: 
269:     <span class="ruby-identifier">urls</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">url</span><span class="ruby-operator">|</span>
270:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">url</span>), <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">url</span>)
271:     <span class="ruby-keyword kw">end</span>
272:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003829" class="method">
  <div id="M003829_title" class="title">
    <b>test_auto_link_with_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003829_source')" id="l_M003829_source">show source</a> ]</p>
  <div id="M003829_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 421</span>
421:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_with_block</span>
422:     <span class="ruby-identifier">url</span> = <span class="ruby-value str">&quot;http://api.rubyonrails.com/Foo.html&quot;</span>
423:     <span class="ruby-identifier">email</span> = <span class="ruby-value str">&quot;fantabulous@shiznadel.ic&quot;</span>
424: 
425:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;&lt;a href=&quot;#{url}&quot;&gt;#{url[0...7]}...&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;mailto:#{email}&quot;&gt;#{email[0...7]}...&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{url}&lt;br /&gt;#{email}&lt;br /&gt;&lt;/p&gt;&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">url</span><span class="ruby-operator">|</span> <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>) }
426:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003826" class="method">
  <div id="M003826_title" class="title">
    <b>test_auto_link_with_brackets</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003826_source')" id="l_M003826_source">show source</a> ]</p>
  <div id="M003826_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 391</span>
391:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_with_brackets</span>
392:     <span class="ruby-identifier">link1_raw</span> = <span class="ruby-value str">'http://en.wikipedia.org/wiki/Sprite_(computer_graphics)'</span>
393:     <span class="ruby-identifier">link1_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link1_raw</span>)
394:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link1_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link1_raw</span>)
395:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;(link: #{link1_result})&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;(link: #{link1_raw})&quot;</span>)
396: 
397:     <span class="ruby-identifier">link2_raw</span> = <span class="ruby-value str">'http://en.wikipedia.org/wiki/Sprite_[computer_graphics]'</span>
398:     <span class="ruby-identifier">link2_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link2_raw</span>)
399:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link2_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link2_raw</span>)
400:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;[link: #{link2_result}]&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;[link: #{link2_raw}]&quot;</span>)
401: 
402:     <span class="ruby-identifier">link3_raw</span> = <span class="ruby-value str">'http://en.wikipedia.org/wiki/Sprite_{computer_graphics}'</span>
403:     <span class="ruby-identifier">link3_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link3_raw</span>)
404:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">link3_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">link3_raw</span>)
405:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;{link: #{link3_result}}&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;{link: #{link3_raw}}&quot;</span>)
406:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003830" class="method">
  <div id="M003830_title" class="title">
    <b>test_auto_link_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003830_source')" id="l_M003830_source">show source</a> ]</p>
  <div id="M003830_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 428</span>
428:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_link_with_options_hash</span>
429:     <span class="ruby-identifier">assert_dom_equal</span> <span class="ruby-value str">'Welcome to my new blog at &lt;a href=&quot;http://www.myblog.com/&quot; class=&quot;menu&quot; target=&quot;_blank&quot;&gt;http://www.myblog.com/&lt;/a&gt;. Please e-mail me at &lt;a href=&quot;mailto:me@email.com&quot; class=&quot;menu&quot; target=&quot;_blank&quot;&gt;me@email.com&lt;/a&gt;.'</span>,
430:       <span class="ruby-identifier">auto_link</span>(<span class="ruby-value str">&quot;Welcome to my new blog at http://www.myblog.com/. Please e-mail me at me@email.com.&quot;</span>,
431:                 <span class="ruby-identifier">:link</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:html</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;menu&quot;</span>, <span class="ruby-identifier">:target</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;_blank&quot;</span> })
432:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003823" class="method">
  <div id="M003823_title" class="title">
    <b>test_auto_linking</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003823_source')" id="l_M003823_source">show source</a> ]</p>
  <div id="M003823_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 279</span>
279:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_auto_linking</span>
280:     <span class="ruby-identifier">email_raw</span>    = <span class="ruby-value str">'david@loudthinking.com'</span>
281:     <span class="ruby-identifier">email_result</span> = <span class="ruby-node">%{&lt;a href=&quot;mailto:#{email_raw}&quot;&gt;#{email_raw}&lt;/a&gt;}</span>
282:     <span class="ruby-identifier">link_raw</span>     = <span class="ruby-value str">'http://www.rubyonrails.com'</span>
283:     <span class="ruby-identifier">link_result</span>  = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link_raw</span>)
284:     <span class="ruby-identifier">link_result_with_options</span> = <span class="ruby-node">%{&lt;a href=&quot;#{link_raw}&quot; target=&quot;_blank&quot;&gt;#{link_raw}&lt;/a&gt;}</span>
285: 
286:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-keyword kw">nil</span>)
287:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-value str">''</span>)
288:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;#{link_result} #{link_result} #{link_result}&quot;</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;#{link_raw} #{link_raw} #{link_raw}&quot;</span>)
289: 
290:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(hello #{email_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;hello #{email_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
291:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
292:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
293:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_result} and say hello to #{email_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link_raw} and say hello to #{email_raw}&quot;</span>)
294:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link_raw}&lt;/p&gt;&quot;</span>)
295:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link_raw} Link&lt;/p&gt;&quot;</span>)
296:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link_result_with_options}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link_raw}&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">:all</span>, {<span class="ruby-identifier">:target</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;_blank&quot;</span>})
297:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link_raw}.)</span>)
298:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link_result}, then say hello to #{email_result}.&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link_raw}, then say hello to #{email_raw}.&lt;/p&gt;)</span>)
299: 
300:     <span class="ruby-identifier">email2_raw</span>    = <span class="ruby-value str">'+david@loudthinking.com'</span>
301:     <span class="ruby-identifier">email2_result</span> = <span class="ruby-node">%{&lt;a href=&quot;mailto:#{email2_raw}&quot;&gt;#{email2_raw}&lt;/a&gt;}</span>
302:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">email2_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">email2_raw</span>)
303: 
304:     <span class="ruby-identifier">email3_raw</span>    = <span class="ruby-value str">'+david@loudthinking.com'</span>
305:     <span class="ruby-identifier">email3_result</span> = <span class="ruby-node">%{&lt;a href=&quot;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;+%64%61%76%69%64@%6c%6f%75%64%74%68%69%6e%6b%69%6e%67.%63%6f%6d&quot;&gt;#{email3_raw}&lt;/a&gt;}</span>
306:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">email3_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">email3_raw</span>, <span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:hex</span>)
307:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">email3_result</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">email3_raw</span>, <span class="ruby-identifier">:email_addresses</span>, <span class="ruby-identifier">:encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:hex</span>)
308: 
309:     <span class="ruby-identifier">link2_raw</span>    = <span class="ruby-value str">'www.rubyonrails.com'</span>
310:     <span class="ruby-identifier">link2_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link2_raw</span>, <span class="ruby-node">&quot;http://#{link2_raw}&quot;</span>)
311:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link2_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link2_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
312:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link2_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link2_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
313:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link2_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link2_raw}&lt;/p&gt;&quot;</span>)
314:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link2_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link2_raw} Link&lt;/p&gt;&quot;</span>)
315:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link2_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link2_raw}.)</span>)
316:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Say hello to #{email_result}, then go to #{link2_result}.&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Say hello to #{email_raw}, then go to #{link2_raw}.&lt;/p&gt;)</span>)
317: 
318:     <span class="ruby-identifier">link3_raw</span>    = <span class="ruby-value str">'http://manuals.ruby-on-rails.com/read/chapter.need_a-period/103#page281'</span>
319:     <span class="ruby-identifier">link3_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link3_raw</span>)
320:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link3_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link3_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
321:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link3_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link3_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
322:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link3_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link3_raw}&lt;/p&gt;&quot;</span>)
323:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link3_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link3_raw} Link&lt;/p&gt;&quot;</span>)
324:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link3_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link3_raw}.)</span>)
325:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link3_result}. Seriously, #{link3_result}? I think I'll say hello to #{email_result}. Instead.&lt;/p&gt;)</span>,
326:        <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link3_raw}. Seriously, #{link3_raw}? I think I'll say hello to #{email_raw}. Instead.&lt;/p&gt;)</span>)
327: 
328:     <span class="ruby-identifier">link4_raw</span>    = <span class="ruby-value str">'http://foo.example.com/controller/action?parm=value&amp;p2=v2#anchor123'</span>
329:     <span class="ruby-identifier">link4_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link4_raw</span>)
330:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link4_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link4_raw}&lt;/p&gt;&quot;</span>)
331:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link4_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link4_raw} Link&lt;/p&gt;&quot;</span>)
332: 
333:     <span class="ruby-identifier">link5_raw</span>    = <span class="ruby-value str">'http://foo.example.com:3000/controller/action'</span>
334:     <span class="ruby-identifier">link5_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link5_raw</span>)
335:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link5_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link5_raw} Link&lt;/p&gt;&quot;</span>)
336: 
337:     <span class="ruby-identifier">link6_raw</span>    = <span class="ruby-value str">'http://foo.example.com:3000/controller/action+pack'</span>
338:     <span class="ruby-identifier">link6_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link6_raw</span>)
339:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link6_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link6_raw} Link&lt;/p&gt;&quot;</span>)
340: 
341:     <span class="ruby-identifier">link7_raw</span>    = <span class="ruby-value str">'http://foo.example.com/controller/action?parm=value&amp;p2=v2#anchor-123'</span>
342:     <span class="ruby-identifier">link7_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link7_raw</span>)
343:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link7_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link7_raw} Link&lt;/p&gt;&quot;</span>)
344: 
345:     <span class="ruby-identifier">link8_raw</span>    = <span class="ruby-value str">'http://foo.example.com:3000/controller/action.html'</span>
346:     <span class="ruby-identifier">link8_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link8_raw</span>)
347:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link8_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link8_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
348:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link8_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link8_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
349:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link8_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link8_raw}&lt;/p&gt;&quot;</span>)
350:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link8_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link8_raw} Link&lt;/p&gt;&quot;</span>)
351:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link8_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link8_raw}.)</span>)
352:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link8_result}. Seriously, #{link8_result}? I think I'll say hello to #{email_result}. Instead.&lt;/p&gt;)</span>,
353:        <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link8_raw}. Seriously, #{link8_raw}? I think I'll say hello to #{email_raw}. Instead.&lt;/p&gt;)</span>)
354: 
355:     <span class="ruby-identifier">link9_raw</span>    = <span class="ruby-value str">'http://business.timesonline.co.uk/article/0,,9065-2473189,00.html'</span>
356:     <span class="ruby-identifier">link9_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link9_raw</span>)
357:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link9_result})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link9_raw}&quot;</span>, <span class="ruby-identifier">:urls</span>)
358:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link9_raw})</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;Go to #{link9_raw}&quot;</span>, <span class="ruby-identifier">:email_addresses</span>)
359:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Link #{link9_result}&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;Link #{link9_raw}&lt;/p&gt;&quot;</span>)
360:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link9_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link9_raw} Link&lt;/p&gt;&quot;</span>)
361:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(Go to #{link9_result}.)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(Go to #{link9_raw}.)</span>)
362:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;Go to #{link9_result}. Seriously, #{link9_result}? I think I'll say hello to #{email_result}. Instead.&lt;/p&gt;)</span>,
363:        <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">%(&lt;p&gt;Go to #{link9_raw}. Seriously, #{link9_raw}? I think I'll say hello to #{email_raw}. Instead.&lt;/p&gt;)</span>)
364: 
365:     <span class="ruby-identifier">link10_raw</span>    = <span class="ruby-value str">'http://www.mail-archive.com/ruby-talk@ruby-lang.org/'</span>
366:     <span class="ruby-identifier">link10_result</span> = <span class="ruby-identifier">generate_result</span>(<span class="ruby-identifier">link10_raw</span>)
367:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%(&lt;p&gt;#{link10_result} Link&lt;/p&gt;)</span>, <span class="ruby-identifier">auto_link</span>(<span class="ruby-node">&quot;&lt;p&gt;#{link10_raw} Link&lt;/p&gt;&quot;</span>)
368:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003797" class="method">
  <div id="M003797_title" class="title">
    <b>test_concat</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003797_source')" id="l_M003797_source">show source</a> ]</p>
  <div id="M003797_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_concat</span>
21:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">output_buffer</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">SafeBuffer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'foo'</span>)
22:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foobar'</span>, <span class="ruby-identifier">concat</span>(<span class="ruby-value str">'bar'</span>)
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'foobar'</span>, <span class="ruby-identifier">output_buffer</span>
24:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003839" class="method">
  <div id="M003839_title" class="title">
    <b>test_current_cycle_safe_call</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003839_source')" id="l_M003839_source">show source</a> ]</p>
  <div id="M003839_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 500</span>
500:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_safe_call</span>
501:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">current_cycle</span> }
502:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>) }
503:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003837" class="method">
  <div id="M003837_title" class="title">
    <b>test_current_cycle_with_default_name</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003837_source')" id="l_M003837_source">show source</a> ]</p>
  <div id="M003837_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 482</span>
482:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_with_default_name</span>
483:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>,<span class="ruby-value str">&quot;odd&quot;</span>)
484:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">current_cycle</span>
485:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>,<span class="ruby-value str">&quot;odd&quot;</span>)
486:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;odd&quot;</span>, <span class="ruby-identifier">current_cycle</span>
487:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>,<span class="ruby-value str">&quot;odd&quot;</span>)
488:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">current_cycle</span>
489:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003840" class="method">
  <div id="M003840_title" class="title">
    <b>test_current_cycle_with_more_than_two_names</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003840_source')" id="l_M003840_source">show source</a> ]</p>
  <div id="M003840_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 505</span>
505:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_with_more_than_two_names</span>
506:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
507:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">current_cycle</span>
508:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
509:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">current_cycle</span>
510:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
511:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">current_cycle</span>
512:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
513:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">current_cycle</span>
514:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003838" class="method">
  <div id="M003838_title" class="title">
    <b>test_current_cycle_with_named_cycles</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003838_source')" id="l_M003838_source">show source</a> ]</p>
  <div id="M003838_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 491</span>
491:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_cycle_with_named_cycles</span>
492:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>)
493:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
494:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>)
495:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
496:     <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>)
497:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">current_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
498:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003833" class="method">
  <div id="M003833_title" class="title">
    <b>test_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003833_source')" id="l_M003833_source">show source</a> ]</p>
  <div id="M003833_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 450</span>
450:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle</span>
451:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
452:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
453:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
454:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
455:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
456:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>))
457:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003831" class="method">
  <div id="M003831_title" class="title">
    <b>test_cycle_class</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003831_source')" id="l_M003831_source">show source</a> ]</p>
  <div id="M003831_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 434</span>
434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_class</span>
435:     <span class="ruby-identifier">value</span> = <span class="ruby-constant">Cycle</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-value">2</span>, <span class="ruby-value str">&quot;3&quot;</span>)
436:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
437:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
438:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
439:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
440:     <span class="ruby-identifier">value</span>.<span class="ruby-identifier">reset</span>
441:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;one&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
442:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
443:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)
444:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003832" class="method">
  <div id="M003832_title" class="title">
    <b>test_cycle_class_with_no_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003832_source')" id="l_M003832_source">show source</a> ]</p>
  <div id="M003832_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 446</span>
446:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_class_with_no_arguments</span>
447:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">value</span> = <span class="ruby-constant">Cycle</span>.<span class="ruby-identifier">new</span>() }
448:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003845" class="method">
  <div id="M003845_title" class="title">
    <b>test_cycle_no_instance_variable_clashes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003845_source')" id="l_M003845_source">show source</a> ]</p>
  <div id="M003845_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 543</span>
543:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_no_instance_variable_clashes</span>
544:     <span class="ruby-ivar">@cycles</span> = <span class="ruby-node">%w{Specialized Fuji Giant}</span>
545:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>))
546:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>))
547:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>))
548:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-node">%w{Specialized Fuji Giant}</span>, <span class="ruby-ivar">@cycles</span>)
549:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003835" class="method">
  <div id="M003835_title" class="title">
    <b>test_cycle_resets_with_new_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003835_source')" id="l_M003835_source">show source</a> ]</p>
  <div id="M003835_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 463</span>
463:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_resets_with_new_values</span>
464:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-value str">&quot;odd&quot;</span>))
465:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;odd&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-value str">&quot;odd&quot;</span>))
466:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;even&quot;</span>, <span class="ruby-value str">&quot;odd&quot;</span>))
467:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
468:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
469:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
470:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
471:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003834" class="method">
  <div id="M003834_title" class="title">
    <b>test_cycle_with_no_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003834_source')" id="l_M003834_source">show source</a> ]</p>
  <div id="M003834_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 459</span>
459:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_cycle_with_no_arguments</span>
460:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">value</span> = <span class="ruby-identifier">cycle</span>() }
461:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003841" class="method">
  <div id="M003841_title" class="title">
    <b>test_default_named_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003841_source')" id="l_M003841_source">show source</a> ]</p>
  <div id="M003841_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 516</span>
516:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_default_named_cycle</span>
517:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
518:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;default&quot;</span>))
519:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
520:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003811" class="method">
  <div id="M003811_title" class="title">
    <b>test_excerpt</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003811_source')" id="l_M003811_source">show source</a> ]</p>
  <div id="M003811_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 162</span>
162:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt</span>
163:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...is a beautiful morn...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-value">5</span>))
164:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;This is a...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;this&quot;</span>, <span class="ruby-value">5</span>))
165:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...iful morning&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;morning&quot;</span>, <span class="ruby-value">5</span>))
166:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;day&quot;</span>)
167:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003812" class="method">
  <div id="M003812_title" class="title">
    <b>test_excerpt_in_borderline_cases</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003812_source')" id="l_M003812_source">show source</a> ]</p>
  <div id="M003812_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 169</span>
169:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_in_borderline_cases</span>
170:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-value">0</span>))
171:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-value">0</span>))
172:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...b...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">0</span>))
173:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;abc&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
174:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;abc...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;abcd&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
175:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...abc&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;zabc&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
176:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...abc...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
177:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">2</span>))
178: 
179:     <span class="ruby-comment cmt"># excerpt strips the resulting string before ap-/prepending excerpt_string.</span>
180:     <span class="ruby-comment cmt"># whether this behavior is meaningful when excerpt_string is not to be</span>
181:     <span class="ruby-comment cmt"># appended is questionable.</span>
182:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;zabcd&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;  zabcd  &quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">4</span>))
183:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...abc...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;z  abc  d&quot;</span>, <span class="ruby-value str">&quot;b&quot;</span>, <span class="ruby-value">1</span>))
184:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003814" class="method">
  <div id="M003814_title" class="title">
    <b>test_excerpt_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003814_source')" id="l_M003814_source">show source</a> ]</p>
  <div id="M003814_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 191</span>
191:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_options_hash</span>
192:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...is a beautiful morn...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-identifier">:radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
193:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;[...]is a beautiful morn[...]&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>,<span class="ruby-identifier">:radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>))
194:     <span class="ruby-identifier">assert_equal</span>(
195:       <span class="ruby-value str">&quot;This is the ultimate supercalifragilisticexpialidoceous very looooooooooooooooooong looooooooooooong beautiful morning with amazing sunshine and awesome tempera[...]&quot;</span>,
196:       <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;This is the ultimate supercalifragilisticexpialidoceous very looooooooooooooooooong looooooooooooong beautiful morning with amazing sunshine and awesome temperatures. So what are you gonna do about it?&quot;</span>, <span class="ruby-value str">&quot;very&quot;</span>,
197:       <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>)
198:     )
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003813" class="method">
  <div id="M003813_title" class="title">
    <b>test_excerpt_with_regex</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003813_source')" id="l_M003813_source">show source</a> ]</p>
  <div id="M003813_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 186</span>
186:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_regex</span>
187:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'...is a beautiful! mor...'</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">'This is a beautiful! morning'</span>, <span class="ruby-value str">'beautiful'</span>, <span class="ruby-value">5</span>))
188:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">'...is a beautiful? mor...'</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">'This is a beautiful? morning'</span>, <span class="ruby-value str">'beautiful'</span>, <span class="ruby-value">5</span>))
189:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003815" class="method">
  <div id="M003815_title" class="title">
    <b>test_excerpt_with_utf8</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003815_source')" id="l_M003815_source">show source</a> ]</p>
  <div id="M003815_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 202</span>
202:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_utf8</span>
203:       <span class="ruby-identifier">with_kcode</span>(<span class="ruby-value str">'u'</span>) <span class="ruby-keyword kw">do</span>
204:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\357\254\203ciency could not be...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>, <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
205:       <span class="ruby-keyword kw">end</span>
206:       <span class="ruby-identifier">with_kcode</span>(<span class="ruby-value str">'none'</span>) <span class="ruby-keyword kw">do</span>
207:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\203ciency could not be...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>, <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
208:       <span class="ruby-keyword kw">end</span>
209:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003816" class="method">
  <div id="M003816_title" class="title">
    <b>test_excerpt_with_utf8</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003816_source')" id="l_M003816_source">show source</a> ]</p>
  <div id="M003816_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 211</span>
211:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_excerpt_with_utf8</span>
212:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\357\254\203ciency could not be...&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>), <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>), <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
213:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;...\203ciency could not be...&quot;</span>, <span class="ruby-identifier">excerpt</span>(<span class="ruby-value str">&quot;That's why e\357\254\203ciency could not be helped&quot;</span>, <span class="ruby-value str">'could'</span>, <span class="ruby-value">8</span>))
214:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003810" class="method">
  <div id="M003810_title" class="title">
    <b>test_highlight_with_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003810_source')" id="l_M003810_source">show source</a> ]</p>
  <div id="M003810_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 139</span>
139:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_html</span>
140:     <span class="ruby-identifier">assert_equal</span>(
141:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
142:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a beautiful morning, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
143:     )
144:     <span class="ruby-identifier">assert_equal</span>(
145:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em&gt;&lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt;&lt;/em&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
146:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em&gt;beautiful&lt;/em&gt; morning, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
147:     )
148:     <span class="ruby-identifier">assert_equal</span>(
149:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em class=\&quot;error\&quot;&gt;&lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt;&lt;/em&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; &lt;span class=\&quot;last\&quot;&gt;day&lt;/span&gt;&lt;/p&gt;&quot;</span>,
150:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;em class=\&quot;error\&quot;&gt;beautiful&lt;/em&gt; morning, but also a beautiful &lt;span class=\&quot;last\&quot;&gt;day&lt;/span&gt;&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
151:     )
152:     <span class="ruby-identifier">assert_equal</span>(
153:       <span class="ruby-value str">&quot;&lt;p class=\&quot;beautiful\&quot;&gt;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
154:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p class=\&quot;beautiful\&quot;&gt;This is a beautiful morning, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
155:     )
156:     <span class="ruby-identifier">assert_equal</span>(
157:       <span class="ruby-value str">&quot;&lt;p&gt;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; &lt;a href=\&quot;http://example.com/beautiful\#top?what=beautiful%20morning&amp;when=now+then\&quot;&gt;morning&lt;/a&gt;, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&lt;/p&gt;&quot;</span>,
158:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is a beautiful &lt;a href=\&quot;http://example.com/beautiful\#top?what=beautiful%20morning&amp;when=now+then\&quot;&gt;morning&lt;/a&gt;, but also a beautiful day&lt;/p&gt;&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
159:     )
160:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003808" class="method">
  <div id="M003808_title" class="title">
    <b>test_highlight_with_multiple_phrases_in_one_pass</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003808_source')" id="l_M003808_source">show source</a> ]</p>
  <div id="M003808_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_multiple_phrases_in_one_pass</span>
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%(&lt;em&gt;wow&lt;/em&gt; &lt;em&gt;em&lt;/em&gt;)</span>, <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">'wow em'</span>, <span class="ruby-node">%w(wow em)</span>, <span class="ruby-value str">'&lt;em&gt;\1&lt;/em&gt;'</span>)
130:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003809" class="method">
  <div id="M003809_title" class="title">
    <b>test_highlight_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003809_source')" id="l_M003809_source">show source</a> ]</p>
  <div id="M003809_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 132</span>
132:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_options_hash</span>
133:     <span class="ruby-identifier">assert_equal</span>(
134:       <span class="ruby-value str">&quot;This is a &lt;b&gt;beautiful&lt;/b&gt; morning, but also a &lt;b&gt;beautiful&lt;/b&gt; day&quot;</span>,
135:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning, but also a beautiful day&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-identifier">:highlighter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&lt;b&gt;\1&lt;/b&gt;'</span>)
136:     )
137:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003807" class="method">
  <div id="M003807_title" class="title">
    <b>test_highlight_with_regexp</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003807_source')" id="l_M003807_source">show source</a> ]</p>
  <div id="M003807_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlight_with_regexp</span>
112:     <span class="ruby-identifier">assert_equal</span>(
113:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful!&lt;/strong&gt; morning&quot;</span>,
114:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful! morning&quot;</span>, <span class="ruby-value str">&quot;beautiful!&quot;</span>)
115:     )
116: 
117:     <span class="ruby-identifier">assert_equal</span>(
118:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful! morning&lt;/strong&gt;&quot;</span>,
119:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful! morning&quot;</span>, <span class="ruby-value str">&quot;beautiful! morning&quot;</span>)
120:     )
121: 
122:     <span class="ruby-identifier">assert_equal</span>(
123:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful? morning&lt;/strong&gt;&quot;</span>,
124:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful? morning&quot;</span>, <span class="ruby-value str">&quot;beautiful? morning&quot;</span>)
125:     )
126:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003806" class="method">
  <div id="M003806_title" class="title">
    <b>test_highlighter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003806_source')" id="l_M003806_source">show source</a> ]</p>
  <div id="M003806_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 87</span>
 87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_highlighter</span>
 88:     <span class="ruby-identifier">assert_equal</span>(
 89:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning&quot;</span>,
 90:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
 91:     )
 92: 
 93:     <span class="ruby-identifier">assert_equal</span>(
 94:       <span class="ruby-value str">&quot;This is a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; morning, but also a &lt;strong class=\&quot;highlight\&quot;&gt;beautiful&lt;/strong&gt; day&quot;</span>,
 95:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning, but also a beautiful day&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>)
 96:     )
 97: 
 98:     <span class="ruby-identifier">assert_equal</span>(
 99:       <span class="ruby-value str">&quot;This is a &lt;b&gt;beautiful&lt;/b&gt; morning, but also a &lt;b&gt;beautiful&lt;/b&gt; day&quot;</span>,
100:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This is a beautiful morning, but also a beautiful day&quot;</span>, <span class="ruby-value str">&quot;beautiful&quot;</span>, <span class="ruby-value str">'&lt;b&gt;\1&lt;/b&gt;'</span>)
101:     )
102: 
103:     <span class="ruby-identifier">assert_equal</span>(
104:       <span class="ruby-value str">&quot;This text is not changed because we supplied an empty phrase&quot;</span>,
105:       <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">&quot;This text is not changed because we supplied an empty phrase&quot;</span>, <span class="ruby-keyword kw">nil</span>)
106:     )
107: 
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'   '</span>, <span class="ruby-identifier">highlight</span>(<span class="ruby-value str">'   '</span>, <span class="ruby-value str">'blank text is returned verbatim'</span>)
109:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003836" class="method">
  <div id="M003836_title" class="title">
    <b>test_named_cycles</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003836_source')" id="l_M003836_source">show source</a> ]</p>
  <div id="M003836_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 473</span>
473:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_named_cycles</span>
474:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
475:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
476:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
477:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
478:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
479:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
480:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003820" class="method">
  <div id="M003820_title" class="title">
    <b>test_pluralization</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003820_source')" id="l_M003820_source">show source</a> ]</p>
  <div id="M003820_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 229</span>
229:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_pluralization</span>
230:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1 count&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;count&quot;</span>))
231:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-value str">&quot;count&quot;</span>))
232:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1 count&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
233:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'2'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
234:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1,066 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1,066'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
235:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1.25 counts&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1.25'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
236:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1.0 count&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1.0'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
237:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1.00 count&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value str">'1.00'</span>, <span class="ruby-value str">&quot;count&quot;</span>))
238:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 counters&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-value str">&quot;count&quot;</span>, <span class="ruby-value str">&quot;counters&quot;</span>))
239:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;0 counters&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;count&quot;</span>, <span class="ruby-value str">&quot;counters&quot;</span>))
240:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2 people&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-value str">&quot;person&quot;</span>))
241:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;10 buffaloes&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">10</span>, <span class="ruby-value str">&quot;buffalo&quot;</span>))
242:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1 berry&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;berry&quot;</span>))
243:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;12 berries&quot;</span>, <span class="ruby-identifier">pluralize</span>(<span class="ruby-value">12</span>, <span class="ruby-value str">&quot;berry&quot;</span>))
244:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003844" class="method">
  <div id="M003844_title" class="title">
    <b>test_recet_named_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003844_source')" id="l_M003844_source">show source</a> ]</p>
  <div id="M003844_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 533</span>
533:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_recet_named_cycle</span>
534:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
535:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
536:     <span class="ruby-identifier">reset_cycle</span>(<span class="ruby-value str">&quot;numbers&quot;</span>)
537:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
538:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
539:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;numbers&quot;</span>))
540:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value str">&quot;red&quot;</span>, <span class="ruby-value str">&quot;blue&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;colors&quot;</span>))
541:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003842" class="method">
  <div id="M003842_title" class="title">
    <b>test_reset_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003842_source')" id="l_M003842_source">show source</a> ]</p>
  <div id="M003842_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 522</span>
522:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reset_cycle</span>
523:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
524:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
525:     <span class="ruby-identifier">reset_cycle</span>
526:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;1&quot;</span>, <span class="ruby-identifier">cycle</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>))
527:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003843" class="method">
  <div id="M003843_title" class="title">
    <b>test_reset_unknown_cycle</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003843_source')" id="l_M003843_source">show source</a> ]</p>
  <div id="M003843_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 529</span>
529:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reset_unknown_cycle</span>
530:     <span class="ruby-identifier">reset_cycle</span>(<span class="ruby-value str">&quot;colors&quot;</span>)
531:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003798" class="method">
  <div id="M003798_title" class="title">
    <b>test_simple_format</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003798_source')" id="l_M003798_source">show source</a> ]</p>
  <div id="M003798_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_simple_format</span>
27:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-keyword kw">nil</span>)
28: 
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;crazy\n&lt;br /&gt; cross\n&lt;br /&gt; platform linebreaks&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;crazy\r\n cross\r platform linebreaks&quot;</span>)
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A paragraph&lt;/p&gt;\n\n&lt;p&gt;and another one!&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;A paragraph\n\nand another one!&quot;</span>)
31:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A paragraph\n&lt;br /&gt; With a newline&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;A paragraph\n With a newline&quot;</span>)
32: 
33:     <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;A\nB\nC\nD&quot;</span>.<span class="ruby-identifier">freeze</span>
34:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A\n&lt;br /&gt;B\n&lt;br /&gt;C\n&lt;br /&gt;D&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">text</span>)
35: 
36:     <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;A\r\n  \nB\n\n\r\n\t\nC\nD&quot;</span>.<span class="ruby-identifier">freeze</span>
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;A\n&lt;br /&gt;  \n&lt;br /&gt;B&lt;/p&gt;\n\n&lt;p&gt;\t\n&lt;br /&gt;C\n&lt;br /&gt;D&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">text</span>)
38: 
39:      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%q(&lt;p class=&quot;test&quot;&gt;This is a classy test&lt;/p&gt;)</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;This is a classy test&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test'</span>)
40:      <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">%Q(&lt;p class=&quot;test&quot;&gt;para 1&lt;/p&gt;\n\n&lt;p class=&quot;test&quot;&gt;para 2&lt;/p&gt;)</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;para 1\n\npara 2&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'test'</span>)
41:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003799" class="method">
  <div id="M003799_title" class="title">
    <b>test_simple_format_should_be_html_safe</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003799_source')" id="l_M003799_source">show source</a> ]</p>
  <div id="M003799_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_simple_format_should_be_html_safe</span>
44:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;&lt;b&gt; test with html tags &lt;/b&gt;&quot;</span>).<span class="ruby-identifier">html_safe?</span>
45:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003800" class="method">
  <div id="M003800_title" class="title">
    <b>test_simple_format_should_not_escape_safe_input</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003800_source')" id="l_M003800_source">show source</a> ]</p>
  <div id="M003800_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_simple_format_should_not_escape_safe_input</span>
48:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&lt;p&gt;&lt;b&gt; test with safe string &lt;/b&gt;&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">simple_format</span>(<span class="ruby-value str">&quot;&lt;b&gt; test with safe string &lt;/b&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>)
49:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003846" class="method">
  <div id="M003846_title" class="title">
    <b>test_textilize</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003846_source')" id="l_M003846_source">show source</a> ]</p>
  <div id="M003846_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 552</span>
552:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize</span>
553:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;&lt;strong&gt;This is Textile!&lt;/strong&gt;  Rejoice!&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;*This is Textile!*  Rejoice!&quot;</span>))
554:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003847" class="method">
  <div id="M003847_title" class="title">
    <b>test_textilize_with_blank</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003847_source')" id="l_M003847_source">show source</a> ]</p>
  <div id="M003847_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 556</span>
556:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize_with_blank</span>
557:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;&quot;</span>))
558:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003849" class="method">
  <div id="M003849_title" class="title">
    <b>test_textilize_with_hard_breaks</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003849_source')" id="l_M003849_source">show source</a> ]</p>
  <div id="M003849_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 564</span>
564:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize_with_hard_breaks</span>
565:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is one scary world.&lt;br /&gt;\n True.&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;This is one scary world.\n True.&quot;</span>))
566:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003848" class="method">
  <div id="M003848_title" class="title">
    <b>test_textilize_with_options</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003848_source')" id="l_M003848_source">show source</a> ]</p>
  <div id="M003848_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 560</span>
560:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_textilize_with_options</span>
561:       <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&lt;p&gt;This is worded &amp;lt;strong&amp;gt;strongly&amp;lt;/strong&amp;gt;&lt;/p&gt;&quot;</span>, <span class="ruby-identifier">textilize</span>(<span class="ruby-value str">&quot;This is worded &lt;strong&gt;strongly&lt;/strong&gt;&quot;</span>, <span class="ruby-identifier">:filter_html</span>))
562:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003801" class="method">
  <div id="M003801_title" class="title">
    <b>test_truncate</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003801_source')" id="l_M003801_source">show source</a> ]</p>
  <div id="M003801_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate</span>
52:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>)
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello Wor...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!!&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>)
54:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003804" class="method">
  <div id="M003804_title" class="title">
    <b>test_truncate_multibyte</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003804_source')" id="l_M003804_source">show source</a> ]</p>
  <div id="M003804_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 68</span>
68:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_multibyte</span>
69:       <span class="ruby-identifier">with_kcode</span> <span class="ruby-value str">'none'</span> <span class="ruby-keyword kw">do</span>
70:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\210\353\205\225\355...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\210\353\205\225\355\225\230\354\204\270\354\232\224&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
71:       <span class="ruby-keyword kw">end</span>
72:       <span class="ruby-identifier">with_kcode</span> <span class="ruby-value str">'u'</span> <span class="ruby-keyword kw">do</span>
73:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 ...&quot;</span>,
74:           <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 \354\225\204\353\235\274\353\246\254\354\230\244&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
75:       <span class="ruby-keyword kw">end</span>
76:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003805" class="method">
  <div id="M003805_title" class="title">
    <b>test_truncate_multibyte</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003805_source')" id="l_M003805_source">show source</a> ]</p>
  <div id="M003805_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_multibyte</span>
79:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\210\353\205\225\355...&quot;</span>,
80:         <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\210\353\205\225\355\225\230\354\204\270\354\232\224&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
81: 
82:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 ...&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>),
83:         <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;\354\225\204\353\246\254\353\236\221 \354\225\204\353\246\254 \354\225\204\353\235\274\353\246\254\354\230\244&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">'UTF-8'</span>), <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
84:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003802" class="method">
  <div id="M003802_title" class="title">
    <b>test_truncate_should_use_default_length_of_30</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003802_source')" id="l_M003802_source">show source</a> ]</p>
  <div id="M003802_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_should_use_default_length_of_30</span>
57:     <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;This is a string that will go longer then the default truncate length of 30&quot;</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">str</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-value">27</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">str</span>)
59:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003803" class="method">
  <div id="M003803_title" class="title">
    <b>test_truncate_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003803_source')" id="l_M003803_source">show source</a> ]</p>
  <div id="M003803_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 61</span>
61:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_truncate_with_options_hash</span>
62:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;This is a string that wil[...]&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;This is a string that will go longer then the default truncate length of 30&quot;</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>)
63:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello W...&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
64:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Hello[...]&quot;</span>, <span class="ruby-identifier">truncate</span>(<span class="ruby-value str">&quot;Hello World!&quot;</span>, <span class="ruby-identifier">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;[...]&quot;</span>, <span class="ruby-identifier">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
65:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003817" class="method">
  <div id="M003817_title" class="title">
    <b>test_word_wrap</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003817_source')" id="l_M003817_source">show source</a> ]</p>
  <div id="M003817_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 217</span>
217:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_word_wrap</span>
218:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my very very\nvery long\nstring&quot;</span>, <span class="ruby-identifier">word_wrap</span>(<span class="ruby-value str">&quot;my very very very long string&quot;</span>, <span class="ruby-value">15</span>))
219:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003818" class="method">
  <div id="M003818_title" class="title">
    <b>test_word_wrap_with_extra_newlines</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003818_source')" id="l_M003818_source">show source</a> ]</p>
  <div id="M003818_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 221</span>
221:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_word_wrap_with_extra_newlines</span>
222:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my very very\nvery long\nstring\n\nwith another\nline&quot;</span>, <span class="ruby-identifier">word_wrap</span>(<span class="ruby-value str">&quot;my very very very long string\n\nwith another line&quot;</span>, <span class="ruby-value">15</span>))
223:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003819" class="method">
  <div id="M003819_title" class="title">
    <b>test_word_wrap_with_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003819_source')" id="l_M003819_source">show source</a> ]</p>
  <div id="M003819_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/template/text_helper_test.rb, line 225</span>
225:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_word_wrap_with_options_hash</span>
226:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;my very very\nvery long\nstring&quot;</span>, <span class="ruby-identifier">word_wrap</span>(<span class="ruby-value str">&quot;my very very very long string&quot;</span>, <span class="ruby-identifier">:line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">15</span>))
227:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>