  <div id="C00000312">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />DateExtCalculationsTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/date_ext_test_rb.html');">activesupport/test/core_ext/date_ext_test.rb</a>

Parent:&nbsp;
ActiveSupport::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M002028&name=test_advance" >test_advance</a></li>
  <li><a href="index.html?a=M002036&name=test_ago" >test_ago</a></li>
  <li><a href="index.html?a=M002037&name=test_beginning_of_day" >test_beginning_of_day</a></li>
  <li><a href="index.html?a=M002012&name=test_beginning_of_month" >test_beginning_of_month</a></li>
  <li><a href="index.html?a=M002013&name=test_beginning_of_quarter" >test_beginning_of_quarter</a></li>
  <li><a href="index.html?a=M002011&name=test_beginning_of_week" >test_beginning_of_week</a></li>
  <li><a href="index.html?a=M002018&name=test_beginning_of_year" >test_beginning_of_year</a></li>
  <li><a href="index.html?a=M002010&name=test_change" >test_change</a></li>
  <li><a href="index.html?a=M002043&name=test_current_returns_date_today_when_zone_default_not_set" >test_current_returns_date_today_when_zone_default_not_set</a></li>
  <li><a href="index.html?a=M002044&name=test_current_returns_time_zone_today_when_zone_default_set" >test_current_returns_time_zone_today_when_zone_default_set</a></li>
  <li><a href="index.html?a=M002045&name=test_date_advance_should_not_change_passed_options_hash" >test_date_advance_should_not_change_passed_options_hash</a></li>
  <li><a href="index.html?a=M002038&name=test_end_of_day" >test_end_of_day</a></li>
  <li><a href="index.html?a=M002017&name=test_end_of_month" >test_end_of_month</a></li>
  <li><a href="index.html?a=M002015&name=test_end_of_quarter" >test_end_of_quarter</a></li>
  <li><a href="index.html?a=M002014&name=test_end_of_week" >test_end_of_week</a></li>
  <li><a href="index.html?a=M002016&name=test_end_of_year" >test_end_of_year</a></li>
  <li><a href="index.html?a=M002042&name=test_future" >test_future</a></li>
  <li><a href="index.html?a=M002031&name=test_last_month_is_deprecated" >test_last_month_is_deprecated</a></li>
  <li><a href="index.html?a=M002023&name=test_last_year_is_deprecated" >test_last_year_is_deprecated</a></li>
  <li><a href="index.html?a=M002019&name=test_months_ago" >test_months_ago</a></li>
  <li><a href="index.html?a=M002020&name=test_months_since" >test_months_since</a></li>
  <li><a href="index.html?a=M002030&name=test_next_month_on_31st" >test_next_month_on_31st</a></li>
  <li><a href="index.html?a=M002029&name=test_next_week" >test_next_week</a></li>
  <li><a href="index.html?a=M002025&name=test_next_year" >test_next_year</a></li>
  <li><a href="index.html?a=M002041&name=test_past" >test_past</a></li>
  <li><a href="index.html?a=M002032&name=test_prev_month_on_31st" >test_prev_month_on_31st</a></li>
  <li><a href="index.html?a=M002024&name=test_prev_year" >test_prev_year</a></li>
  <li><a href="index.html?a=M002006&name=test_readable_inspect" >test_readable_inspect</a></li>
  <li><a href="index.html?a=M002035&name=test_since" >test_since</a></li>
  <li><a href="index.html?a=M002009&name=test_to_date" >test_to_date</a></li>
  <li><a href="index.html?a=M002008&name=test_to_datetime" >test_to_datetime</a></li>
  <li><a href="index.html?a=M002005&name=test_to_s" >test_to_s</a></li>
  <li><a href="index.html?a=M002007&name=test_to_time" >test_to_time</a></li>
  <li><a href="index.html?a=M002040&name=test_today" >test_today</a></li>
  <li><a href="index.html?a=M002027&name=test_tomorrow" >test_tomorrow</a></li>
  <li><a href="index.html?a=M002034&name=test_tomorrow_constructor" >test_tomorrow_constructor</a></li>
  <li><a href="index.html?a=M002039&name=test_xmlschema" >test_xmlschema</a></li>
  <li><a href="index.html?a=M002021&name=test_years_ago" >test_years_ago</a></li>
  <li><a href="index.html?a=M002022&name=test_years_since" >test_years_since</a></li>
  <li><a href="index.html?a=M002026&name=test_yesterday" >test_yesterday</a></li>
  <li><a href="index.html?a=M002033&name=test_yesterday_constructor" >test_yesterday_constructor</a></li>
  <li><a href="index.html?a=M002046&name=with_env_tz" >with_env_tz</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M002028" class="method">
  <div id="M002028_title" class="title">
    <b>test_advance</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002028_source')" id="l_M002028_source">show source</a> ]</p>
  <div id="M002028_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 155</span>
155:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance</span>
156:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
157:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>)
158:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>)
159:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
160:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
161:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
162:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
163:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-comment cmt">#leap day plus one year</span>
164:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002036" class="method">
  <div id="M002036_title" class="title">
    <b>test_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002036_source')" id="l_M002036_source">show source</a> ]</p>
  <div id="M002036_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ago</span>
198:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">15</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">45</span>)
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002037" class="method">
  <div id="M002037_title" class="title">
    <b>test_beginning_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002037_source')" id="l_M002037_source">show source</a> ]</p>
  <div id="M002037_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_day</span>
202:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">beginning_of_day</span>
203:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002012" class="method">
  <div id="M002012_title" class="title">
    <b>test_beginning_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002012_source')" id="l_M002012_source">show source</a> ]</p>
  <div id="M002012_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_month</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">beginning_of_month</span>
54:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002013" class="method">
  <div id="M002013_title" class="title">
    <b>test_beginning_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002013_source')" id="l_M002013_source">show source</a> ]</p>
  <div id="M002013_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_quarter</span>
57:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>).<span class="ruby-identifier">beginning_of_quarter</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">beginning_of_quarter</span>
59:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">beginning_of_quarter</span>
60:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>).<span class="ruby-identifier">beginning_of_quarter</span>
61:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002011" class="method">
  <div id="M002011_title" class="title">
    <b>test_beginning_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002011_source')" id="l_M002011_source">show source</a> ]</p>
  <div id="M002011_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 41</span>
41:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_week</span>
42:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>).<span class="ruby-identifier">beginning_of_week</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#monday</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
45:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">30</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
46:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">01</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#thursday</span>
47:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">02</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#friday</span>
48:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">03</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#saturday</span>
49:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">04</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#sunday</span>
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002018" class="method">
  <div id="M002018_title" class="title">
    <b>test_beginning_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002018_source')" id="l_M002018_source">show source</a> ]</p>
  <div id="M002018_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 94</span>
94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_year</span>
95:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">beginning_of_year</span>.<span class="ruby-identifier">to_s</span>
96:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002010" class="method">
  <div id="M002010_title" class="title">
    <b>test_change</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002010_source')" id="l_M002010_source">show source</a> ]</p>
  <div id="M002010_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 34</span>
34:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_change</span>
35:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">11</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">21</span>)
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2007</span>, <span class="ruby-value">5</span>, <span class="ruby-value">11</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">11</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2007</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2006</span>)
38:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">22</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>)
39:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002043" class="method">
  <div id="M002043_title" class="title">
    <b>test_current_returns_date_today_when_zone_default_not_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002043_source')" id="l_M002043_source">show source</a> ]</p>
  <div id="M002043_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 242</span>
242:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_returns_date_today_when_zone_default_not_set</span>
243:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Central'</span> <span class="ruby-keyword kw">do</span>
244:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>)
245:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
246:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">current</span>
247:     <span class="ruby-keyword kw">end</span>
248:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002044" class="method">
  <div id="M002044_title" class="title">
    <b>test_current_returns_time_zone_today_when_zone_default_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002044_source')" id="l_M002044_source">show source</a> ]</p>
  <div id="M002044_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 250</span>
250:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_returns_time_zone_today_when_zone_default_set</span>
251:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>]
252:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Central'</span> <span class="ruby-keyword kw">do</span>
253:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>)
254:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
255:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">current</span>
256:     <span class="ruby-keyword kw">end</span>
257:   <span class="ruby-keyword kw">ensure</span>
258:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-keyword kw">nil</span>
259:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002045" class="method">
  <div id="M002045_title" class="title">
    <b>test_date_advance_should_not_change_passed_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002045_source')" id="l_M002045_source">show source</a> ]</p>
  <div id="M002045_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 261</span>
261:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_date_advance_should_not_change_passed_options_hash</span>
262:     <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">11</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
263:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">options</span>)
264:     <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">11</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }, <span class="ruby-identifier">options</span>)
265:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002038" class="method">
  <div id="M002038_title" class="title">
    <b>test_end_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002038_source')" id="l_M002038_source">show source</a> ]</p>
  <div id="M002038_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 205</span>
205:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_day</span>
206:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">end_of_day</span>
207:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002017" class="method">
  <div id="M002017_title" class="title">
    <b>test_end_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002017_source')" id="l_M002017_source">show source</a> ]</p>
  <div id="M002017_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_month</span>
88:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>).<span class="ruby-identifier">end_of_month</span>
89:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>).<span class="ruby-identifier">end_of_month</span>
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">20</span>).<span class="ruby-identifier">end_of_month</span>
91: 
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002015" class="method">
  <div id="M002015_title" class="title">
    <b>test_end_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002015_source')" id="l_M002015_source">show source</a> ]</p>
  <div id="M002015_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_quarter</span>
75:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>).<span class="ruby-identifier">end_of_quarter</span>
76:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">end_of_quarter</span>
77:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">10</span>,<span class="ruby-value">8</span>).<span class="ruby-identifier">end_of_quarter</span>
78:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">4</span>,<span class="ruby-value">14</span>).<span class="ruby-identifier">end_of_quarter</span>
79:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">5</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">end_of_quarter</span>
80:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">8</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">end_of_quarter</span>
81:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002014" class="method">
  <div id="M002014_title" class="title">
    <b>test_end_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002014_source')" id="l_M002014_source">show source</a> ]</p>
  <div id="M002014_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 63</span>
63:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_week</span>
64:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">24</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">end_of_week</span>
65:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">25</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#monday</span>
66:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">26</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
67:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">27</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
68:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#thursday</span>
69:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#friday</span>
70:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">01</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#saturday</span>
71:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">02</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#sunday</span>
72:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002016" class="method">
  <div id="M002016_title" class="title">
    <b>test_end_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002016_source')" id="l_M002016_source">show source</a> ]</p>
  <div id="M002016_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_year</span>
84:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">to_s</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">end_of_year</span>.<span class="ruby-identifier">to_s</span>
85:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002042" class="method">
  <div id="M002042_title" class="title">
    <b>test_future</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002042_source')" id="l_M002042_source">show source</a> ]</p>
  <div id="M002042_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 235</span>
235:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future</span>
236:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
237:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">future?</span>
238:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">future?</span>
239:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">future?</span>
240:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002031" class="method">
  <div id="M002031_title" class="title">
    <b>test_last_month_is_deprecated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002031_source')" id="l_M002031_source">show source</a> ]</p>
  <div id="M002031_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_last_month_is_deprecated</span>
178:     <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">last_month</span> }
179:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002023" class="method">
  <div id="M002023_title" class="title">
    <b>test_last_year_is_deprecated</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002023_source')" id="l_M002023_source">show source</a> ]</p>
  <div id="M002023_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_last_year_is_deprecated</span>
134:     <span class="ruby-identifier">assert_deprecated</span> { <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">last_year</span> }
135:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002019" class="method">
  <div id="M002019_title" class="title">
    <b>test_months_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002019_source')" id="l_M002019_source">show source</a> ]</p>
  <div id="M002019_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_ago</span>
 99:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">5</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>)
100:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">11</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">7</span>)
101:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">6</span>)
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">12</span>)
103:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">24</span>)
104:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002020" class="method">
  <div id="M002020_title" class="title">
    <b>test_months_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002020_source')" id="l_M002020_source">show source</a> ]</p>
  <div id="M002020_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_since</span>
107:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">7</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
109:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
110:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
111:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">7</span>)
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">12</span>)
113:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">24</span>)
114:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
115:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
116:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
117:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
118:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002030" class="method">
  <div id="M002030_title" class="title">
    <b>test_next_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002030_source')" id="l_M002030_source">show source</a> ]</p>
  <div id="M002030_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_month_on_31st</span>
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">9</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">8</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">next_month</span>
175:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002029" class="method">
  <div id="M002029_title" class="title">
    <b>test_next_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002029_source')" id="l_M002029_source">show source</a> ]</p>
  <div id="M002029_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 166</span>
166:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_week</span>
167:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">next_week</span>
168:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:friday</span>)
169:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>).<span class="ruby-identifier">next_week</span>
170:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">11</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:wednesday</span>)
171:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002025" class="method">
  <div id="M002025_title" class="title">
    <b>test_next_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002025_source')" id="l_M002025_source">show source</a> ]</p>
  <div id="M002025_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 141</span>
141:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_year</span>
142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">next_year</span>
143:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002041" class="method">
  <div id="M002041_title" class="title">
    <b>test_past</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002041_source')" id="l_M002041_source">show source</a> ]</p>
  <div id="M002041_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 228</span>
228:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past</span>
229:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">past?</span>
231:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">past?</span>
232:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">past?</span>
233:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002032" class="method">
  <div id="M002032_title" class="title">
    <b>test_prev_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002032_source')" id="l_M002032_source">show source</a> ]</p>
  <div id="M002032_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 181</span>
181:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prev_month_on_31st</span>
182:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">2</span>, <span class="ruby-value">29</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">3</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">prev_month</span>
183:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002024" class="method">
  <div id="M002024_title" class="title">
    <b>test_prev_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002024_source')" id="l_M002024_source">show source</a> ]</p>
  <div id="M002024_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 137</span>
137:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_prev_year</span>
138:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">prev_year</span>
139:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002006" class="method">
  <div id="M002006_title" class="title">
    <b>test_readable_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002006_source')" id="l_M002006_source">show source</a> ]</p>
  <div id="M002006_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_readable_inspect</span>
15:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 21 Feb 2005&quot;</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">readable_inspect</span>
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">readable_inspect</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">inspect</span>
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002035" class="method">
  <div id="M002035_title" class="title">
    <b>test_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002035_source')" id="l_M002035_source">show source</a> ]</p>
  <div id="M002035_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_since</span>
194:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">45</span>)
195:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002009" class="method">
  <div id="M002009_title" class="title">
    <b>test_to_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002009_source')" id="l_M002009_source">show source</a> ]</p>
  <div id="M002009_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_date</span>
31:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_date</span>
32:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002008" class="method">
  <div id="M002008_title" class="title">
    <b>test_to_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002008_source')" id="l_M002008_source">show source</a> ]</p>
  <div id="M002008_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_datetime</span>
25:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>
26:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">offset</span> <span class="ruby-comment cmt"># use UTC offset</span>
27:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-operator">::</span><span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">start</span> <span class="ruby-comment cmt"># use Ruby's default start value</span>
28:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002005" class="method">
  <div id="M002005_title" class="title">
    <b>test_to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002005_source')" id="l_M002005_source">show source</a> ]</p>
  <div id="M002005_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 4</span>
 4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_s</span>
 5:     <span class="ruby-identifier">date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>)
 6:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2005-02-21&quot;</span>,          <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>
 7:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;21 Feb&quot;</span>,              <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:short</span>)
 8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21, 2005&quot;</span>,   <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long</span>)
 9:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21st, 2005&quot;</span>, <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long_ordinal</span>)
10:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2005-02-21&quot;</span>,          <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>)
11:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;21 Feb 2005&quot;</span>,         <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:rfc822</span>)
12:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002007" class="method">
  <div id="M002007_title" class="title">
    <b>test_to_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002007_source')" id="l_M002007_source">show source</a> ]</p>
  <div id="M002007_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_time</span>
20:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_time</span>
21:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_time</span>
22:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002040" class="method">
  <div id="M002040_title" class="title">
    <b>test_today</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002040_source')" id="l_M002040_source">show source</a> ]</p>
  <div id="M002040_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 221</span>
221:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today</span>
222:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">today?</span>
224:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">today?</span>
225:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">today?</span>
226:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002027" class="method">
  <div id="M002027_title" class="title">
    <b>test_tomorrow</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002027_source')" id="l_M002027_source">show source</a> ]</p>
  <div id="M002027_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 150</span>
150:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tomorrow</span>
151:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">tomorrow</span>
152:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">tomorrow</span>.<span class="ruby-identifier">tomorrow</span>
153:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002034" class="method">
  <div id="M002034_title" class="title">
    <b>test_tomorrow_constructor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002034_source')" id="l_M002034_source">show source</a> ]</p>
  <div id="M002034_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 189</span>
189:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tomorrow_constructor</span>
190:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">tomorrow</span>
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002039" class="method">
  <div id="M002039_title" class="title">
    <b>test_xmlschema</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002039_source')" id="l_M002039_source">show source</a> ]</p>
  <div id="M002039_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 209</span>
209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlschema</span>
210:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
211:       <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1980-02-28T00:00:00-05:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>)
212:       <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1980-06-28T00:00:00-04:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">6</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>)
213:       <span class="ruby-comment cmt"># these tests are only of interest on platforms where older dates #to_time fail over to DateTime</span>
214:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">::</span><span class="ruby-constant">DateTime</span> <span class="ruby-operator">===</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">6</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">to_time</span>
215:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1880-02-28T00:00:00-05:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>)
216:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1880-06-28T00:00:00-05:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">6</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>) <span class="ruby-comment cmt"># DateTimes aren't aware of DST rules</span>
217:       <span class="ruby-keyword kw">end</span>
218:     <span class="ruby-keyword kw">end</span>
219:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002021" class="method">
  <div id="M002021_title" class="title">
    <b>test_years_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002021_source')" id="l_M002021_source">show source</a> ]</p>
  <div id="M002021_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 120</span>
120:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_ago</span>
121:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>)
122:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1998</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">7</span>)
123:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year ago from leap day</span>
124:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002022" class="method">
  <div id="M002022_title" class="title">
    <b>test_years_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002022_source')" id="l_M002022_source">show source</a> ]</p>
  <div id="M002022_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 126</span>
126:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_since</span>
127:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>)
128:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">7</span>)
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2182</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">177</span>)
130:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year since leap day</span>
131:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002026" class="method">
  <div id="M002026_title" class="title">
    <b>test_yesterday</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002026_source')" id="l_M002026_source">show source</a> ]</p>
  <div id="M002026_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 145</span>
145:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_yesterday</span>
146:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">yesterday</span>
147:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">yesterday</span>.<span class="ruby-identifier">yesterday</span>
148:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002033" class="method">
  <div id="M002033_title" class="title">
    <b>test_yesterday_constructor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002033_source')" id="l_M002033_source">show source</a> ]</p>
  <div id="M002033_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 185</span>
185:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_yesterday_constructor</span>
186:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">yesterday</span>
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M002046" class="method">
  <div id="M002046_title" class="title">
    <b>with_env_tz</b>(new_tz = 'US/Eastern') {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002046_source')" id="l_M002046_source">show source</a> ]</p>
  <div id="M002046_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 268</span>
268:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_env_tz</span>(<span class="ruby-identifier">new_tz</span> = <span class="ruby-value str">'US/Eastern'</span>)
269:       <span class="ruby-identifier">old_tz</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>], <span class="ruby-identifier">new_tz</span>
270:       <span class="ruby-keyword kw">yield</span>
271:     <span class="ruby-keyword kw">ensure</span>
272:       <span class="ruby-identifier">old_tz</span> <span class="ruby-value">? </span><span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-identifier">old_tz</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'TZ'</span>)
273:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>