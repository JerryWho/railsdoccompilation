  <div id="C00000340">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />DateExtCalculationsTest<br/>
  In:
<a href="#" onclick="jsHref('files/activesupport/test/core_ext/date_ext_test_rb.html');">activesupport/test/core_ext/date_ext_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001994&name=test_advance" >test_advance</a></li>
  <li><a href="index.html?a=M002001&name=test_ago" >test_ago</a></li>
  <li><a href="index.html?a=M002002&name=test_beginning_of_day" >test_beginning_of_day</a></li>
  <li><a href="index.html?a=M001979&name=test_beginning_of_month" >test_beginning_of_month</a></li>
  <li><a href="index.html?a=M001980&name=test_beginning_of_quarter" >test_beginning_of_quarter</a></li>
  <li><a href="index.html?a=M001978&name=test_beginning_of_week" >test_beginning_of_week</a></li>
  <li><a href="index.html?a=M001985&name=test_beginning_of_year" >test_beginning_of_year</a></li>
  <li><a href="index.html?a=M001977&name=test_change" >test_change</a></li>
  <li><a href="index.html?a=M002008&name=test_current_returns_date_today_when_zone_default_not_set" >test_current_returns_date_today_when_zone_default_not_set</a></li>
  <li><a href="index.html?a=M002009&name=test_current_returns_time_zone_today_when_zone_default_set" >test_current_returns_time_zone_today_when_zone_default_set</a></li>
  <li><a href="index.html?a=M002010&name=test_date_advance_should_not_change_passed_options_hash" >test_date_advance_should_not_change_passed_options_hash</a></li>
  <li><a href="index.html?a=M002003&name=test_end_of_day" >test_end_of_day</a></li>
  <li><a href="index.html?a=M001984&name=test_end_of_month" >test_end_of_month</a></li>
  <li><a href="index.html?a=M001982&name=test_end_of_quarter" >test_end_of_quarter</a></li>
  <li><a href="index.html?a=M001981&name=test_end_of_week" >test_end_of_week</a></li>
  <li><a href="index.html?a=M001983&name=test_end_of_year" >test_end_of_year</a></li>
  <li><a href="index.html?a=M002007&name=test_future" >test_future</a></li>
  <li><a href="index.html?a=M001997&name=test_last_month_on_31st" >test_last_month_on_31st</a></li>
  <li><a href="index.html?a=M001990&name=test_last_year" >test_last_year</a></li>
  <li><a href="index.html?a=M001986&name=test_months_ago" >test_months_ago</a></li>
  <li><a href="index.html?a=M001987&name=test_months_since" >test_months_since</a></li>
  <li><a href="index.html?a=M001996&name=test_next_month_on_31st" >test_next_month_on_31st</a></li>
  <li><a href="index.html?a=M001995&name=test_next_week" >test_next_week</a></li>
  <li><a href="index.html?a=M001991&name=test_next_year" >test_next_year</a></li>
  <li><a href="index.html?a=M002006&name=test_past" >test_past</a></li>
  <li><a href="index.html?a=M001973&name=test_readable_inspect" >test_readable_inspect</a></li>
  <li><a href="index.html?a=M002000&name=test_since" >test_since</a></li>
  <li><a href="index.html?a=M001976&name=test_to_date" >test_to_date</a></li>
  <li><a href="index.html?a=M001975&name=test_to_datetime" >test_to_datetime</a></li>
  <li><a href="index.html?a=M001972&name=test_to_s" >test_to_s</a></li>
  <li><a href="index.html?a=M001974&name=test_to_time" >test_to_time</a></li>
  <li><a href="index.html?a=M002005&name=test_today" >test_today</a></li>
  <li><a href="index.html?a=M001993&name=test_tomorrow" >test_tomorrow</a></li>
  <li><a href="index.html?a=M001999&name=test_tomorrow_constructor" >test_tomorrow_constructor</a></li>
  <li><a href="index.html?a=M002004&name=test_xmlschema" >test_xmlschema</a></li>
  <li><a href="index.html?a=M001988&name=test_years_ago" >test_years_ago</a></li>
  <li><a href="index.html?a=M001989&name=test_years_since" >test_years_since</a></li>
  <li><a href="index.html?a=M001992&name=test_yesterday" >test_yesterday</a></li>
  <li><a href="index.html?a=M001998&name=test_yesterday_constructor" >test_yesterday_constructor</a></li>
  <li><a href="index.html?a=M002011&name=with_env_tz" >with_env_tz</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001994" class="method">
  <div id="M001994_title" class="title">
    <b>test_advance</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001994_source')" id="l_M001994_source">show source</a> ]</p>
  <div id="M001994_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 151</span>
151:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_advance</span>
152:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
153:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>)
154:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>)
155:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
156:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">9</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>)
157:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">3</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
158:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2013</span>,<span class="ruby-value">10</span>,<span class="ruby-value">17</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">19</span>, <span class="ruby-identifier">:weeks</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
159:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-comment cmt">#leap day plus one year</span>
160:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002001" class="method">
  <div id="M002001_title" class="title">
    <b>test_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002001_source')" id="l_M002001_source">show source</a> ]</p>
  <div id="M002001_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 189</span>
189:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_ago</span>
190:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">15</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">ago</span>(<span class="ruby-value">45</span>)
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002002" class="method">
  <div id="M002002_title" class="title">
    <b>test_beginning_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002002_source')" id="l_M002002_source">show source</a> ]</p>
  <div id="M002002_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_day</span>
194:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">beginning_of_day</span>
195:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001979" class="method">
  <div id="M001979_title" class="title">
    <b>test_beginning_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001979_source')" id="l_M001979_source">show source</a> ]</p>
  <div id="M001979_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_month</span>
53:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">beginning_of_month</span>
54:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001980" class="method">
  <div id="M001980_title" class="title">
    <b>test_beginning_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001980_source')" id="l_M001980_source">show source</a> ]</p>
  <div id="M001980_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_quarter</span>
57:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>).<span class="ruby-identifier">beginning_of_quarter</span>
58:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">beginning_of_quarter</span>
59:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">10</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">beginning_of_quarter</span>
60:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">1</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>).<span class="ruby-identifier">beginning_of_quarter</span>
61:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001978" class="method">
  <div id="M001978_title" class="title">
    <b>test_beginning_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001978_source')" id="l_M001978_source">show source</a> ]</p>
  <div id="M001978_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 41</span>
41:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_week</span>
42:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">4</span>).<span class="ruby-identifier">beginning_of_week</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#monday</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
45:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">30</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
46:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">01</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#thursday</span>
47:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">02</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#friday</span>
48:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">03</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#saturday</span>
49:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">11</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">04</span>).<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-comment cmt">#sunday</span>
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001985" class="method">
  <div id="M001985_title" class="title">
    <b>test_beginning_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001985_source')" id="l_M001985_source">show source</a> ]</p>
  <div id="M001985_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 94</span>
94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_beginning_of_year</span>
95:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">beginning_of_year</span>.<span class="ruby-identifier">to_s</span>
96:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001977" class="method">
  <div id="M001977_title" class="title">
    <b>test_change</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001977_source')" id="l_M001977_source">show source</a> ]</p>
  <div id="M001977_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 34</span>
34:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_change</span>
35:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">11</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">21</span>)
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2007</span>, <span class="ruby-value">5</span>, <span class="ruby-value">11</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">11</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2007</span>, <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2006</span>)
38:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">22</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>)
39:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002008" class="method">
  <div id="M002008_title" class="title">
    <b>test_current_returns_date_today_when_zone_default_not_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002008_source')" id="l_M002008_source">show source</a> ]</p>
  <div id="M002008_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 234</span>
234:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_returns_date_today_when_zone_default_not_set</span>
235:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Central'</span> <span class="ruby-keyword kw">do</span>
236:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>)
237:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
238:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">current</span>
239:     <span class="ruby-keyword kw">end</span>
240:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002009" class="method">
  <div id="M002009_title" class="title">
    <b>test_current_returns_time_zone_today_when_zone_default_set</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002009_source')" id="l_M002009_source">show source</a> ]</p>
  <div id="M002009_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 242</span>
242:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_current_returns_time_zone_today_when_zone_default_set</span>
243:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">TimeZone</span>[<span class="ruby-value str">'Eastern Time (US &amp; Canada)'</span>]
244:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Central'</span> <span class="ruby-keyword kw">do</span>
245:       <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:now</span>).<span class="ruby-identifier">returns</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">23</span>)
246:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
247:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">current</span>
248:     <span class="ruby-keyword kw">end</span>
249:   <span class="ruby-keyword kw">ensure</span>
250:     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> = <span class="ruby-keyword kw">nil</span>
251:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002010" class="method">
  <div id="M002010_title" class="title">
    <b>test_date_advance_should_not_change_passed_options_hash</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002010_source')" id="l_M002010_source">show source</a> ]</p>
  <div id="M002010_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 253</span>
253:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_date_advance_should_not_change_passed_options_hash</span>
254:     <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">11</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
255:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">advance</span>(<span class="ruby-identifier">options</span>)
256:     <span class="ruby-identifier">assert_equal</span>({ <span class="ruby-identifier">:years</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:months</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">11</span>, <span class="ruby-identifier">:days</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }, <span class="ruby-identifier">options</span>)
257:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002003" class="method">
  <div id="M002003_title" class="title">
    <b>test_end_of_day</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002003_source')" id="l_M002003_source">show source</a> ]</p>
  <div id="M002003_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_day</span>
198:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">59</span>,<span class="ruby-value">999999.999</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">end_of_day</span>
199:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001984" class="method">
  <div id="M001984_title" class="title">
    <b>test_end_of_month</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001984_source')" id="l_M001984_source">show source</a> ]</p>
  <div id="M001984_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_month</span>
88:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">20</span>).<span class="ruby-identifier">end_of_month</span>
89:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">20</span>).<span class="ruby-identifier">end_of_month</span>
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">20</span>).<span class="ruby-identifier">end_of_month</span>
91: 
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001982" class="method">
  <div id="M001982_title" class="title">
    <b>test_end_of_quarter</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001982_source')" id="l_M001982_source">show source</a> ]</p>
  <div id="M001982_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_quarter</span>
75:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">15</span>).<span class="ruby-identifier">end_of_quarter</span>
76:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">end_of_quarter</span>
77:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">10</span>,<span class="ruby-value">8</span>).<span class="ruby-identifier">end_of_quarter</span>
78:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">4</span>,<span class="ruby-value">14</span>).<span class="ruby-identifier">end_of_quarter</span>
79:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">5</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">end_of_quarter</span>
80:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">9</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">8</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">end_of_quarter</span>
81:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001981" class="method">
  <div id="M001981_title" class="title">
    <b>test_end_of_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001981_source')" id="l_M001981_source">show source</a> ]</p>
  <div id="M001981_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 63</span>
63:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_week</span>
64:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">24</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">end_of_week</span>
65:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">25</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#monday</span>
66:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">26</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#tuesday</span>
67:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">27</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#wednesday</span>
68:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#thursday</span>
69:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#friday</span>
70:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">01</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#saturday</span>
71:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">3</span>,<span class="ruby-value">02</span>).<span class="ruby-identifier">end_of_week</span> <span class="ruby-comment cmt">#sunday</span>
72:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001983" class="method">
  <div id="M001983_title" class="title">
    <b>test_end_of_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001983_source')" id="l_M001983_source">show source</a> ]</p>
  <div id="M001983_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_end_of_year</span>
84:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">12</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">to_s</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">end_of_year</span>.<span class="ruby-identifier">to_s</span>
85:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002007" class="method">
  <div id="M002007_title" class="title">
    <b>test_future</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002007_source')" id="l_M002007_source">show source</a> ]</p>
  <div id="M002007_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 227</span>
227:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_future</span>
228:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
229:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">future?</span>
230:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">future?</span>
231:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">future?</span>
232:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001997" class="method">
  <div id="M001997_title" class="title">
    <b>test_last_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001997_source')" id="l_M001997_source">show source</a> ]</p>
  <div id="M001997_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_last_month_on_31st</span>
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">2</span>, <span class="ruby-value">29</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>, <span class="ruby-value">3</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">last_month</span>
175:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001990" class="method">
  <div id="M001990_title" class="title">
    <b>test_last_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001990_source')" id="l_M001990_source">show source</a> ]</p>
  <div id="M001990_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_last_year</span>
134:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">last_year</span>
135:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001986" class="method">
  <div id="M001986_title" class="title">
    <b>test_months_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001986_source')" id="l_M001986_source">show source</a> ]</p>
  <div id="M001986_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_ago</span>
 99:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">5</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>)
100:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">11</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">7</span>)
101:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">6</span>)
102:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">12</span>)
103:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_ago</span>(<span class="ruby-value">24</span>)
104:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001987" class="method">
  <div id="M001987_title" class="title">
    <b>test_months_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001987_source')" id="l_M001987_source">show source</a> ]</p>
  <div id="M001987_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_months_since</span>
107:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">7</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
108:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
109:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
110:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">12</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">6</span>)
111:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">1</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">7</span>)
112:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">12</span>)
113:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2007</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">24</span>)
114:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">4</span>,<span class="ruby-value">30</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
115:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
116:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
117:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">1</span>,<span class="ruby-value">31</span>).<span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
118:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001996" class="method">
  <div id="M001996_title" class="title">
    <b>test_next_month_on_31st</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001996_source')" id="l_M001996_source">show source</a> ]</p>
  <div id="M001996_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 169</span>
169:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_month_on_31st</span>
170:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">9</span>, <span class="ruby-value">30</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">8</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">next_month</span>
171:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001995" class="method">
  <div id="M001995_title" class="title">
    <b>test_next_week</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001995_source')" id="l_M001995_source">show source</a> ]</p>
  <div id="M001995_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 162</span>
162:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_week</span>
163:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">next_week</span>
164:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:friday</span>)
165:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">30</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>).<span class="ruby-identifier">next_week</span>
166:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">11</span>,<span class="ruby-value">1</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">10</span>,<span class="ruby-value">23</span>).<span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">:wednesday</span>)
167:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001991" class="method">
  <div id="M001991_title" class="title">
    <b>test_next_year</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001991_source')" id="l_M001991_source">show source</a> ]</p>
  <div id="M001991_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 137</span>
137:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_next_year</span>
138:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">next_year</span>
139:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002006" class="method">
  <div id="M002006_title" class="title">
    <b>test_past</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002006_source')" id="l_M002006_source">show source</a> ]</p>
  <div id="M002006_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 220</span>
220:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_past</span>
221:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
222:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">past?</span>
223:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">past?</span>
224:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">past?</span>
225:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001973" class="method">
  <div id="M001973_title" class="title">
    <b>test_readable_inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001973_source')" id="l_M001973_source">show source</a> ]</p>
  <div id="M001973_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_readable_inspect</span>
15:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Mon, 21 Feb 2005&quot;</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">readable_inspect</span>
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">readable_inspect</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">inspect</span>
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002000" class="method">
  <div id="M002000_title" class="title">
    <b>test_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002000_source')" id="l_M002000_source">show source</a> ]</p>
  <div id="M002000_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 185</span>
185:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_since</span>
186:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">45</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>).<span class="ruby-identifier">since</span>(<span class="ruby-value">45</span>)
187:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001976" class="method">
  <div id="M001976_title" class="title">
    <b>test_to_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001976_source')" id="l_M001976_source">show source</a> ]</p>
  <div id="M001976_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_date</span>
31:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_date</span>
32:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001975" class="method">
  <div id="M001975_title" class="title">
    <b>test_to_datetime</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001975_source')" id="l_M001975_source">show source</a> ]</p>
  <div id="M001975_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_datetime</span>
25:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">civil</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>
26:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">offset</span> <span class="ruby-comment cmt"># use UTC offset</span>
27:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-operator">::</span><span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">ITALY</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_datetime</span>.<span class="ruby-identifier">start</span> <span class="ruby-comment cmt"># use Ruby's default start value</span>
28:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001972" class="method">
  <div id="M001972_title" class="title">
    <b>test_to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001972_source')" id="l_M001972_source">show source</a> ]</p>
  <div id="M001972_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 4</span>
 4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_s</span>
 5:     <span class="ruby-identifier">date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>)
 6:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2005-02-21&quot;</span>,          <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>
 7:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;21 Feb&quot;</span>,              <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:short</span>)
 8:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21, 2005&quot;</span>,   <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long</span>)
 9:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;February 21st, 2005&quot;</span>, <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:long_ordinal</span>)
10:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;2005-02-21&quot;</span>,          <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>)
11:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;21 Feb 2005&quot;</span>,         <span class="ruby-identifier">date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:rfc822</span>)
12:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001974" class="method">
  <div id="M001974_title" class="title">
    <b>test_to_time</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001974_source')" id="l_M001974_source">show source</a> ]</p>
  <div id="M001974_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_time</span>
20:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_time</span>
21:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2039</span>, <span class="ruby-value">2</span>, <span class="ruby-value">21</span>).<span class="ruby-identifier">to_time</span>
22:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002005" class="method">
  <div id="M002005_title" class="title">
    <b>test_today</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002005_source')" id="l_M002005_source">show source</a> ]</p>
  <div id="M002005_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 213</span>
213:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_today</span>
214:     <span class="ruby-constant">Date</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:current</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
215:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1999</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>).<span class="ruby-identifier">today?</span>
216:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">1</span>).<span class="ruby-identifier">today?</span>
217:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2000</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">today?</span>
218:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001993" class="method">
  <div id="M001993_title" class="title">
    <b>test_tomorrow</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001993_source')" id="l_M001993_source">show source</a> ]</p>
  <div id="M001993_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tomorrow</span>
147:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">23</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">tomorrow</span>
148:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>).<span class="ruby-identifier">tomorrow</span>.<span class="ruby-identifier">tomorrow</span>
149:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001999" class="method">
  <div id="M001999_title" class="title">
    <b>test_tomorrow_constructor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001999_source')" id="l_M001999_source">show source</a> ]</p>
  <div id="M001999_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 181</span>
181:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_tomorrow_constructor</span>
182:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">tomorrow</span>
183:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M002004" class="method">
  <div id="M002004_title" class="title">
    <b>test_xmlschema</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002004_source')" id="l_M002004_source">show source</a> ]</p>
  <div id="M002004_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xmlschema</span>
202:     <span class="ruby-identifier">with_env_tz</span> <span class="ruby-value str">'US/Eastern'</span> <span class="ruby-keyword kw">do</span>
203:       <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1980-02-28T00:00:00-05:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>)
204:       <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1980-06-28T00:00:00-04:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">6</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>)
205:       <span class="ruby-comment cmt"># these tests are only of interest on platforms where older dates #to_time fail over to DateTime</span>
206:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">::</span><span class="ruby-constant">DateTime</span> <span class="ruby-operator">===</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">6</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">to_time</span>
207:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1880-02-28T00:00:00-05:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">2</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>)
208:         <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp re">/^1880-06-28T00:00:00-05:?00$/</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1880</span>, <span class="ruby-value">6</span>, <span class="ruby-value">28</span>).<span class="ruby-identifier">xmlschema</span>) <span class="ruby-comment cmt"># DateTimes aren't aware of DST rules</span>
209:       <span class="ruby-keyword kw">end</span>
210:     <span class="ruby-keyword kw">end</span>
211:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001988" class="method">
  <div id="M001988_title" class="title">
    <b>test_years_ago</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001988_source')" id="l_M001988_source">show source</a> ]</p>
  <div id="M001988_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 120</span>
120:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_ago</span>
121:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>)
122:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1998</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">7</span>)
123:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2003</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year ago from leap day</span>
124:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001989" class="method">
  <div id="M001989_title" class="title">
    <b>test_years_since</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001989_source')" id="l_M001989_source">show source</a> ]</p>
  <div id="M001989_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 126</span>
126:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_years_since</span>
127:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2006</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>)
128:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2012</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">7</span>)
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2182</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>),  <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">6</span>,<span class="ruby-value">5</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">177</span>)
130:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">2</span>,<span class="ruby-value">29</span>).<span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 1 year since leap day</span>
131:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001992" class="method">
  <div id="M001992_title" class="title">
    <b>test_yesterday</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001992_source')" id="l_M001992_source">show source</a> ]</p>
  <div id="M001992_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 141</span>
141:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_yesterday</span>
142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">21</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">22</span>).<span class="ruby-identifier">yesterday</span>
143:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">2</span>,<span class="ruby-value">28</span>), <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>).<span class="ruby-identifier">yesterday</span>.<span class="ruby-identifier">yesterday</span>
144:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001998" class="method">
  <div id="M001998_title" class="title">
    <b>test_yesterday_constructor</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001998_source')" id="l_M001998_source">show source</a> ]</p>
  <div id="M001998_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_yesterday_constructor</span>
178:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-constant">Date</span>.<span class="ruby-identifier">yesterday</span>
179:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M002011" class="method">
  <div id="M002011_title" class="title">
    <b>with_env_tz</b>(new_tz = 'US/Eastern') {|| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M002011_source')" id="l_M002011_source">show source</a> ]</p>
  <div id="M002011_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/core_ext/date_ext_test.rb, line 260</span>
260:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_env_tz</span>(<span class="ruby-identifier">new_tz</span> = <span class="ruby-value str">'US/Eastern'</span>)
261:       <span class="ruby-identifier">old_tz</span>, <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>], <span class="ruby-identifier">new_tz</span>
262:       <span class="ruby-keyword kw">yield</span>
263:     <span class="ruby-keyword kw">ensure</span>
264:       <span class="ruby-identifier">old_tz</span> <span class="ruby-value">? </span><span class="ruby-constant">ENV</span>[<span class="ruby-value str">'TZ'</span>] = <span class="ruby-identifier">old_tz</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'TZ'</span>)
265:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>