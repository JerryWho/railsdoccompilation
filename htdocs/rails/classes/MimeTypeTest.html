  <div id="C00000327">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />MimeTypeTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/mime_type_test_rb.html');">actionpack/test/controller/mime_type_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001929&name=test_custom_type" >test_custom_type</a></li>
  <li><a href="index.html?a=M001932&name=test_mime_all_is_html" >test_mime_all_is_html</a></li>
  <li><a href="index.html?a=M001927&name=test_parse_crappy_broken_acceptlines" >test_parse_crappy_broken_acceptlines</a></li>
  <li><a href="index.html?a=M001928&name=test_parse_crappy_broken_acceptlines2" >test_parse_crappy_broken_acceptlines2</a></li>
  <li><a href="index.html?a=M001924&name=test_parse_single" >test_parse_single</a></li>
  <li><a href="index.html?a=M001926&name=test_parse_with_q" >test_parse_with_q</a></li>
  <li><a href="index.html?a=M001925&name=test_parse_without_q" >test_parse_without_q</a></li>
  <li><a href="index.html?a=M001934&name=test_regexp_matcher" >test_regexp_matcher</a></li>
  <li><a href="index.html?a=M001931&name=test_type_convenience_methods" >test_type_convenience_methods</a></li>
  <li><a href="index.html?a=M001930&name=test_type_should_be_equal_to_symbol" >test_type_should_be_equal_to_symbol</a></li>
  <li><a href="index.html?a=M001933&name=test_verifiable_mime_types" >test_verifiable_mime_types</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001929" class="method">
  <div id="M001929_title" class="title">
    <b>test_custom_type</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001929_source')" id="l_M001929_source">show source</a> ]</p>
  <div id="M001929_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 39</span>
39:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_custom_type</span>
40:     <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">register</span>(<span class="ruby-value str">&quot;image/gif&quot;</span>, <span class="ruby-identifier">:gif</span>)
41:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span> 
42:       <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">GIF</span>
43:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">GIF</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">SET</span>.<span class="ruby-identifier">last</span>
44:     <span class="ruby-keyword kw">end</span>
45:   <span class="ruby-keyword kw">ensure</span>
46:     <span class="ruby-constant">Mime</span>.<span class="ruby-identifier">module_eval</span> { <span class="ruby-identifier">remove_const</span> <span class="ruby-identifier">:GIF</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">:GIF</span>) }
47:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001932" class="method">
  <div id="M001932_title" class="title">
    <b>test_mime_all_is_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001932_source')" id="l_M001932_source">show source</a> ]</p>
  <div id="M001932_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_mime_all_is_html</span>
71:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>.<span class="ruby-identifier">all?</span>,  <span class="ruby-value str">&quot;Mime::ALL is not all?&quot;</span>
72:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>.<span class="ruby-identifier">html?</span>, <span class="ruby-value str">&quot;Mime::ALL is not html?&quot;</span>
73:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001927" class="method">
  <div id="M001927_title" class="title">
    <b>test_parse_crappy_broken_acceptlines</b>()
  </div>
  <div class="description">
  <p>
Accept header send with user HTTP_USER_AGENT: Sunrise/0.42j (Windows XP)
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001927_source')" id="l_M001927_source">show source</a> ]</p>
  <div id="M001927_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_crappy_broken_acceptlines</span>
27:     <span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/*,,*/*;q=0.5&quot;</span>
28:     <span class="ruby-identifier">expect</span> = [<span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>, <span class="ruby-value str">&quot;image/*&quot;</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">TEXT</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>]
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expect</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">accept</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span> }
30:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001928" class="method">
  <div id="M001928_title" class="title">
    <b>test_parse_crappy_broken_acceptlines2</b>()
  </div>
  <div class="description">
  <p>
Accept header send with user HTTP_USER_AGENT: Mozilla/4.0 (compatible; MSIE
6.0; Windows NT 5.1; SV1; .NET CLR 1.1.4322; InfoPath.1)
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001928_source')" id="l_M001928_source">show source</a> ]</p>
  <div id="M001928_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 33</span>
33:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_crappy_broken_acceptlines2</span>
34:     <span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword,  , pronto/1.00.00, sslvpn/1.00.00.00, */*&quot;</span>
35:     <span class="ruby-identifier">expect</span> = [<span class="ruby-value str">'image/gif'</span>, <span class="ruby-value str">'image/x-xbitmap'</span>, <span class="ruby-value str">'image/jpeg'</span>,<span class="ruby-value str">'image/pjpeg'</span>, <span class="ruby-value str">'application/x-shockwave-flash'</span>, <span class="ruby-value str">'application/vnd.ms-excel'</span>, <span class="ruby-value str">'application/vnd.ms-powerpoint'</span>, <span class="ruby-value str">'application/msword'</span>, <span class="ruby-value str">'pronto/1.00.00'</span>, <span class="ruby-value str">'sslvpn/1.00.00.00'</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>  ]
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expect</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">accept</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span> }
37:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001924" class="method">
  <div id="M001924_title" class="title">
    <b>test_parse_single</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001924_source')" id="l_M001924_source">show source</a> ]</p>
  <div id="M001924_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 7</span>
 7:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_single</span>
 8:     <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">LOOKUP</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mime_type</span><span class="ruby-operator">|</span>
 9:       <span class="ruby-identifier">assert_equal</span> [<span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">lookup</span>(<span class="ruby-identifier">mime_type</span>)], <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">mime_type</span>)
10:     <span class="ruby-keyword kw">end</span>
11:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001926" class="method">
  <div id="M001926_title" class="title">
    <b>test_parse_with_q</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001926_source')" id="l_M001926_source">show source</a> ]</p>
  <div id="M001926_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_with_q</span>
20:     <span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/xml,application/xhtml+xml,text/yaml; q=0.3,application/xml,text/html; q=0.8,image/png,text/plain; q=0.5,application/pdf,*/*; q=0.2&quot;</span>
21:     <span class="ruby-identifier">expect</span> = [<span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">PNG</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">PDF</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">TEXT</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">YAML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>]
22:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expect</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">accept</span>)
23:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001925" class="method">
  <div id="M001925_title" class="title">
    <b>test_parse_without_q</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001925_source')" id="l_M001925_source">show source</a> ]</p>
  <div id="M001925_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 13</span>
13:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_parse_without_q</span>
14:     <span class="ruby-identifier">accept</span> = <span class="ruby-value str">&quot;text/xml,application/xhtml+xml,text/yaml,application/xml,text/html,image/png,text/plain,application/pdf,*/*&quot;</span>
15:     <span class="ruby-identifier">expect</span> = [<span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">YAML</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">PNG</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">TEXT</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">PDF</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>]
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">expect</span>, <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">accept</span>)
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001934" class="method">
  <div id="M001934_title" class="title">
    <b>test_regexp_matcher</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001934_source')" id="l_M001934_source">show source</a> ]</p>
  <div id="M001934_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_regexp_matcher</span>
86:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span> <span class="ruby-operator">=~</span> <span class="ruby-value str">&quot;text/javascript&quot;</span>
87:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span> <span class="ruby-operator">=~</span> <span class="ruby-value str">&quot;application/javascript&quot;</span>
88:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span> <span class="ruby-operator">!~</span> <span class="ruby-value str">&quot;text/html&quot;</span>
89:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span>(<span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span> <span class="ruby-operator">!~</span> <span class="ruby-value str">&quot;text/javascript&quot;</span>)
90:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span>(<span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span> <span class="ruby-operator">!~</span> <span class="ruby-value str">&quot;application/javascript&quot;</span>)
91:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span> <span class="ruby-operator">=~</span> <span class="ruby-value str">'application/xhtml+xml'</span>
92:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001931" class="method">
  <div id="M001931_title" class="title">
    <b>test_type_convenience_methods</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001931_source')" id="l_M001931_source">show source</a> ]</p>
  <div id="M001931_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_type_convenience_methods</span>
55:     <span class="ruby-comment cmt"># Don't test Mime::ALL, since it Mime::ALL#html? == true</span>
56:     <span class="ruby-identifier">types</span> = <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">SET</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_sym</span>).<span class="ruby-identifier">uniq</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">:all</span>]
57: 
58:     <span class="ruby-comment cmt"># Remove custom Mime::Type instances set in other tests, like Mime::GIF and Mime::IPHONE</span>
59:     <span class="ruby-identifier">types</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-constant">Mime</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>) }
60: 
61:     <span class="ruby-identifier">types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
62:       <span class="ruby-identifier">mime</span> = <span class="ruby-constant">Mime</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>)
63:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">mime</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{type}?&quot;</span>), <span class="ruby-node">&quot;#{mime.inspect} is not #{type}?&quot;</span>
64:       <span class="ruby-identifier">invalid_types</span> = <span class="ruby-identifier">types</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">type</span>]
65:       <span class="ruby-identifier">invalid_types</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:html</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">html_types</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
66:       <span class="ruby-identifier">invalid_types</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">other_type</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">mime</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{other_type}?&quot;</span>), <span class="ruby-node">&quot;#{mime.inspect} is #{other_type}?&quot;</span> }
67:     <span class="ruby-keyword kw">end</span>
68:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001930" class="method">
  <div id="M001930_title" class="title">
    <b>test_type_should_be_equal_to_symbol</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001930_source')" id="l_M001930_source">show source</a> ]</p>
  <div id="M001930_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 49</span>
49:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_type_should_be_equal_to_symbol</span>
50:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>, <span class="ruby-value str">'application/xhtml+xml'</span>
51:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>, <span class="ruby-identifier">:html</span>
52:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001933" class="method">
  <div id="M001933_title" class="title">
    <b>test_verifiable_mime_types</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001933_source')" id="l_M001933_source">show source</a> ]</p>
  <div id="M001933_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/mime_type_test.rb, line 75</span>
75:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_verifiable_mime_types</span>
76:     <span class="ruby-identifier">all_types</span> = <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">SET</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_sym</span>)
77:     <span class="ruby-identifier">all_types</span>.<span class="ruby-identifier">uniq!</span>
78:     <span class="ruby-comment cmt"># Remove custom Mime::Type instances set in other tests, like Mime::GIF and Mime::IPHONE</span>
79:     <span class="ruby-identifier">all_types</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-constant">Mime</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>) }
80:     <span class="ruby-identifier">verified</span>, <span class="ruby-identifier">unverified</span> = <span class="ruby-identifier">all_types</span>.<span class="ruby-identifier">partition</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">browser_generated_types</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">type</span> }
81:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">verified</span>.<span class="ruby-identifier">each</span>   { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert</span>  <span class="ruby-constant">Mime</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>).<span class="ruby-identifier">verify_request?</span>, <span class="ruby-node">&quot;Verifiable Mime Type is not verified: #{type.inspect}&quot;</span> }
82:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">unverified</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span> <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Mime</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>).<span class="ruby-identifier">verify_request?</span>, <span class="ruby-node">&quot;Nonverifiable Mime Type is verified: #{type.inspect}&quot;</span> }
83:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>