  <div id="C00002156">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Errors<br/>
  In:
<a href="#" onclick="jsHref('files/activemodel/lib/active_model/errors_rb.html');">activemodel/lib/active_model/errors.rb</a>

Parent:&nbsp;
Hash
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M011013&name=[]" >[]</a></li>
  <li><a href="index.html?a=M011014&name=[]=" >[]=</a></li>
  <li><a href="index.html?a=M011015&name=each" >each</a></li>
  <li><a href="index.html?a=M011016&name=size" >size</a></li>
  <li><a href="index.html?a=M011017&name=to_a" >to_a</a></li>
  <li><a href="index.html?a=M011018&name=to_xml" >to_xml</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('classes/ActiveModel/DeprecatedErrorMethods.html');">DeprecatedErrorMethods</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div id="M011013" class="method">
  <div id="M011013_title" class="title">
    <b>[]</b>(attribute)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M011013_source')" id="l_M011013_source">show source</a> ]</p>
  <div id="M011013_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activemodel/lib/active_model/errors.rb, line 35</span>
35:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">attribute</span>)
36:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">errors</span> = <span class="ruby-identifier">get</span>(<span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_sym</span>)
37:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">errors</span>
38:       <span class="ruby-keyword kw">else</span>
39:         <span class="ruby-identifier">set</span>(<span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_sym</span>, [])
40:       <span class="ruby-keyword kw">end</span>
41:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M011014" class="method">
  <div id="M011014_title" class="title">
    <b>[]=</b>(attribute, error)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M011014_source')" id="l_M011014_source">show source</a> ]</p>
  <div id="M011014_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activemodel/lib/active_model/errors.rb, line 43</span>
43:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">error</span>)
44:       <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_sym</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">error</span>
45:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M011015" class="method">
  <div id="M011015_title" class="title">
    <b>each</b>() {|attribute, error| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M011015_source')" id="l_M011015_source">show source</a> ]</p>
  <div id="M011015_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activemodel/lib/active_model/errors.rb, line 47</span>
47:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>
48:       <span class="ruby-identifier">each_key</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span> 
49:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">attribute</span>].<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">error</span> }
50:       <span class="ruby-keyword kw">end</span>
51:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M011016" class="method">
  <div id="M011016_title" class="title">
    <b>size</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M011016_source')" id="l_M011016_source">show source</a> ]</p>
  <div id="M011016_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activemodel/lib/active_model/errors.rb, line 53</span>
53:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">size</span>
54:       <span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">size</span>
55:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M011017" class="method">
  <div id="M011017_title" class="title">
    <b>to_a</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M011017_source')" id="l_M011017_source">show source</a> ]</p>
  <div id="M011017_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activemodel/lib/active_model/errors.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
58:       <span class="ruby-identifier">inject</span>([]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">errors_with_attributes</span>, (<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">errors</span>)<span class="ruby-operator">|</span>
59:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">blank?</span>
60:           <span class="ruby-identifier">errors_with_attributes</span>
61:         <span class="ruby-keyword kw">else</span>
62:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attr</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:base</span>
63:             <span class="ruby-identifier">errors_with_attributes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">error</span>
64:           <span class="ruby-keyword kw">else</span>
65:             <span class="ruby-identifier">errors_with_attributes</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">humanize</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">error</span>)
66:           <span class="ruby-keyword kw">end</span>
67:         <span class="ruby-keyword kw">end</span>
68:       <span class="ruby-keyword kw">end</span>
69:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M011018" class="method">
  <div id="M011018_title" class="title">
    <b>to_xml</b>(options={})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M011018_source')" id="l_M011018_source">show source</a> ]</p>
  <div id="M011018_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File activemodel/lib/active_model/errors.rb, line 71</span>
71:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_xml</span>(<span class="ruby-identifier">options</span>={})
72:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:root</span>]    <span class="ruby-operator">||=</span> <span class="ruby-value str">&quot;errors&quot;</span>
73:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:indent</span>]  <span class="ruby-operator">||=</span> <span class="ruby-value">2</span>
74:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:builder</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Builder</span><span class="ruby-operator">::</span><span class="ruby-constant">XmlMarkup</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:indent</span>])
75: 
76:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:builder</span>].<span class="ruby-identifier">instruct!</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:skip_instruct</span>)
77:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:builder</span>].<span class="ruby-identifier">errors</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
78:         <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">error</span>(<span class="ruby-identifier">error</span>) }
79:       <span class="ruby-keyword kw">end</span>
80:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>