  <div id="C00001431">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Mail<br/>
  In:
<a href="#" onclick="jsHref('files/actionmailer/lib/action_mailer/vendor/tmail-1_2_3/tmail/attachments_rb.html');">actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/attachments.rb</a>
<a href="#" onclick="jsHref('files/actionmailer/lib/action_mailer/vendor/tmail-1_2_3/tmail/interface_rb.html');">actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb</a>
<a href="#" onclick="jsHref('files/actionmailer/lib/action_mailer/vendor/tmail-1_2_3/tmail/mail_rb.html');">actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb</a>
<a href="#" onclick="jsHref('files/actionmailer/lib/action_mailer/vendor/tmail-1_2_3/tmail/net_rb.html');">actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb</a>
<a href="#" onclick="jsHref('files/actionmailer/lib/action_mailer/vendor/tmail-1_2_3/tmail/quoting_rb.html');">actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/quoting.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><h2><a href="index.html?a=C00001431&name=Mail">Mail</a> Class</h2>
<p>
Accessing a <a href="index.html?a=C00001425&name=TMail">TMail</a> object
done via the <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> class. As
email can be fairly complex creatures, you will find a large amount of
accessor and setter methods in this class!
</p>
<p>
Most of the below methods handle the header, in fact, what <a
href="index.html?a=C00001425&name=TMail">TMail</a> does best is handle the
header of the email object. There are only a few methods that deal directly
with the body of the email, such as <a
href="index.html?a=M008496&name=base64_encode">base64_encode</a> and <a
href="index.html?a=M008498&name=base64_decode">base64_decode</a>.
</p>
<h3>Using <a href="index.html?a=C00001425&name=TMail">TMail</a> inside your code</h3>
<p>
The usual way is to install the gem (see the {README}[<a href="/README"
target="_blank">link:/README</a>] on how to do this) and then put at the
top of your class:
</p>
<pre>
 require 'tmail'
</pre>
<p>
You can then create a new <a
href="index.html?a=C00001425&name=TMail">TMail</a> object in your code
with:
</p>
<pre>
 @email = TMail::Mail.new
</pre>
<p>
Or if you have an email as a string, you can initialize a new <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> object and
get it to parse that string for you like so:
</p>
<pre>
 @email = TMail::Mail.parse(email_text)
</pre>
<p>
You can also read a single email off the disk, for example:
</p>
<pre>
 @email = TMail::Mail.load('filename.txt')
</pre>
<p>
Also, you can read a mailbox (usual unix mbox format) and end up with an
array of <a href="index.html?a=C00001425&name=TMail">TMail</a> objects by
doing something like this:
</p>
<pre>
 # Note, we pass true as the last variable to open the mailbox read only
 mailbox = TMail::UNIXMbox.new(&quot;mailbox&quot;, nil, true)
 @emails = []
 mailbox.each_port { |m| @emails &lt;&lt; TMail::Mail.new(m) }
</pre>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M008513&name=[]" >[]</a></li>
  <li><a href="index.html?a=M008516&name=[]=" >[]=</a></li>
  <li><a href="index.html?a=M008511&name=accept" >accept</a></li>
  <li><a href="index.html?a=M008552&name=add_date" >add_date</a></li>
  <li><a href="index.html?a=M008551&name=add_message_id" >add_message_id</a></li>
  <li><a href="index.html?a=M008432&name=attachment?" >attachment?</a></li>
  <li><a href="index.html?a=M008433&name=attachments" >attachments</a></li>
  <li><a href="index.html?a=M008498&name=base64_decode" >base64_decode</a></li>
  <li><a href="index.html?a=M008497&name=base64_decode!" >base64_decode!</a></li>
  <li><a href="index.html?a=M008496&name=base64_encode" >base64_encode</a></li>
  <li><a href="index.html?a=M008495&name=base64_encode!" >base64_encode!</a></li>
  <li><a href="index.html?a=M008446&name=bcc" >bcc</a></li>
  <li><a href="index.html?a=M008449&name=bcc=" >bcc=</a></li>
  <li><a href="index.html?a=M008440&name=bcc_addrs" >bcc_addrs</a></li>
  <li><a href="index.html?a=M008443&name=bcc_addrs=" >bcc_addrs=</a></li>
  <li><a href="index.html?a=M008560&name=body" >body</a></li>
  <li><a href="index.html?a=M008537&name=body=" >body=</a></li>
  <li><a href="index.html?a=M008533&name=body_port" >body_port</a></li>
  <li><a href="index.html?a=M008445&name=cc" >cc</a></li>
  <li><a href="index.html?a=M008448&name=cc=" >cc=</a></li>
  <li><a href="index.html?a=M008439&name=cc_addrs" >cc_addrs</a></li>
  <li><a href="index.html?a=M008442&name=cc_addrs=" >cc_addrs=</a></li>
  <li><a href="index.html?a=M008480&name=charset" >charset</a></li>
  <li><a href="index.html?a=M008481&name=charset=" >charset=</a></li>
  <li><a href="index.html?a=M008525&name=clear" >clear</a></li>
  <li><a href="index.html?a=M008489&name=content_disposition" >content_disposition</a></li>
  <li><a href="index.html?a=M008493&name=content_disposition=" >content_disposition=</a></li>
  <li><a href="index.html?a=M008486&name=content_transfer_encoding" >content_transfer_encoding</a></li>
  <li><a href="index.html?a=M008487&name=content_transfer_encoding=" >content_transfer_encoding=</a></li>
  <li><a href="index.html?a=M008474&name=content_type" >content_type</a></li>
  <li><a href="index.html?a=M008478&name=content_type=" >content_type=</a></li>
  <li><a href="index.html?a=M008545&name=content_type_is_text?" >content_type_is_text?</a></li>
  <li><a href="index.html?a=M008506&name=create_forward" >create_forward</a></li>
  <li><a href="index.html?a=M008505&name=create_reply" >create_reply</a></li>
  <li><a href="index.html?a=M008435&name=date" >date</a></li>
  <li><a href="index.html?a=M008436&name=date=" >date=</a></li>
  <li><a href="index.html?a=M008526&name=delete" >delete</a></li>
  <li><a href="index.html?a=M008527&name=delete_if" >delete_if</a></li>
  <li><a href="index.html?a=M008550&name=delete_no_send_fields" >delete_no_send_fields</a></li>
  <li><a href="index.html?a=M008499&name=destinations" >destinations</a></li>
  <li><a href="index.html?a=M008488&name=disposition" >disposition</a></li>
  <li><a href="index.html?a=M008491&name=disposition=" >disposition=</a></li>
  <li><a href="index.html?a=M008544&name=disposition_is_attachment?" >disposition_is_attachment?</a></li>
  <li><a href="index.html?a=M008494&name=disposition_param" >disposition_param</a></li>
  <li><a href="index.html?a=M008534&name=each" >each</a></li>
  <li><a href="index.html?a=M008501&name=each_dest" >each_dest</a></li>
  <li><a href="index.html?a=M008500&name=each_destination" >each_destination</a></li>
  <li><a href="index.html?a=M008522&name=each_field" >each_field</a></li>
  <li><a href="index.html?a=M008518&name=each_header" >each_header</a></li>
  <li><a href="index.html?a=M008520&name=each_header_name" >each_header_name</a></li>
  <li><a href="index.html?a=M008521&name=each_key" >each_key</a></li>
  <li><a href="index.html?a=M008519&name=each_pair" >each_pair</a></li>
  <li><a href="index.html?a=M008543&name=each_part" >each_part</a></li>
  <li><a href="index.html?a=M008523&name=each_value" >each_value</a></li>
  <li><a href="index.html?a=M008484&name=encoding" >encoding</a></li>
  <li><a href="index.html?a=M008485&name=encoding=" >encoding=</a></li>
  <li><a href="index.html?a=M008540&name=epilogue" >epilogue</a></li>
  <li><a href="index.html?a=M008541&name=epilogue=" >epilogue=</a></li>
  <li><a href="index.html?a=M008503&name=error_reply_addresses" >error_reply_addresses</a></li>
  <li><a href="index.html?a=M008515&name=fetch" >fetch</a></li>
  <li><a href="index.html?a=M008454&name=friendly_from" >friendly_from</a></li>
  <li><a href="index.html?a=M008452&name=from" >from</a></li>
  <li><a href="index.html?a=M008453&name=from=" >from=</a></li>
  <li><a href="index.html?a=M008450&name=from_addrs" >from_addrs</a></li>
  <li><a href="index.html?a=M008451&name=from_addrs=" >from_addrs=</a></li>
  <li><a href="index.html?a=M008431&name=has_attachments?" >has_attachments?</a></li>
  <li><a href="index.html?a=M008512&name=header" >header</a></li>
  <li><a href="index.html?a=M008434&name=header_string" >header_string</a></li>
  <li><a href="index.html?a=M008468&name=in_reply_to" >in_reply_to</a></li>
  <li><a href="index.html?a=M008469&name=in_reply_to=" >in_reply_to=</a></li>
  <li><a href="index.html?a=M008531&name=indexes" >indexes</a></li>
  <li><a href="index.html?a=M008532&name=indices" >indices</a></li>
  <li><a href="index.html?a=M008509&name=inspect" >inspect</a></li>
  <li><a href="index.html?a=M008529&name=key?" >key?</a></li>
  <li><a href="index.html?a=M008528&name=keys" >keys</a></li>
  <li><a href="index.html?a=M008507&name=load" >load</a></li>
  <li><a href="index.html?a=M008475&name=main_type" >main_type</a></li>
  <li><a href="index.html?a=M008466&name=message_id" >message_id</a></li>
  <li><a href="index.html?a=M008467&name=message_id=" >message_id=</a></li>
  <li><a href="index.html?a=M008553&name=mime_encode" >mime_encode</a></li>
  <li><a href="index.html?a=M008556&name=mime_encode_binary" >mime_encode_binary</a></li>
  <li><a href="index.html?a=M008557&name=mime_encode_multipart" >mime_encode_multipart</a></li>
  <li><a href="index.html?a=M008554&name=mime_encode_singlepart" >mime_encode_singlepart</a></li>
  <li><a href="index.html?a=M008555&name=mime_encode_text" >mime_encode_text</a></li>
  <li><a href="index.html?a=M008472&name=mime_version" >mime_version</a></li>
  <li><a href="index.html?a=M008473&name=mime_version=" >mime_version=</a></li>
  <li><a href="index.html?a=M008504&name=multipart?" >multipart?</a></li>
  <li><a href="index.html?a=M008524&name=ordered_each" >ordered_each</a></li>
  <li><a href="index.html?a=M008508&name=parse" >parse</a></li>
  <li><a href="index.html?a=M008542&name=parts" >parts</a></li>
  <li><a href="index.html?a=M008538&name=preamble" >preamble</a></li>
  <li><a href="index.html?a=M008539&name=preamble=" >preamble=</a></li>
  <li><a href="index.html?a=M008535&name=quoted_body" >quoted_body</a></li>
  <li><a href="index.html?a=M008536&name=quoted_body=" >quoted_body=</a></li>
  <li><a href="index.html?a=M008464&name=quoted_subject" >quoted_subject</a></li>
  <li><a href="index.html?a=M008549&name=ready_to_send" >ready_to_send</a></li>
  <li><a href="index.html?a=M008470&name=references" >references</a></li>
  <li><a href="index.html?a=M008471&name=references=" >references=</a></li>
  <li><a href="index.html?a=M008502&name=reply_addresses" >reply_addresses</a></li>
  <li><a href="index.html?a=M008457&name=reply_to" >reply_to</a></li>
  <li><a href="index.html?a=M008458&name=reply_to=" >reply_to=</a></li>
  <li><a href="index.html?a=M008455&name=reply_to_addrs" >reply_to_addrs</a></li>
  <li><a href="index.html?a=M008456&name=reply_to_addrs=" >reply_to_addrs=</a></li>
  <li><a href="index.html?a=M008547&name=send_text_to" >send_text_to</a></li>
  <li><a href="index.html?a=M008546&name=send_to" >send_to</a></li>
  <li><a href="index.html?a=M008548&name=send_to_0" >send_to_0</a></li>
  <li><a href="index.html?a=M008461&name=sender" >sender</a></li>
  <li><a href="index.html?a=M008462&name=sender=" >sender=</a></li>
  <li><a href="index.html?a=M008459&name=sender_addr" >sender_addr</a></li>
  <li><a href="index.html?a=M008460&name=sender_addr=" >sender_addr=</a></li>
  <li><a href="index.html?a=M008492&name=set_content_disposition" >set_content_disposition</a></li>
  <li><a href="index.html?a=M008477&name=set_content_type" >set_content_type</a></li>
  <li><a href="index.html?a=M008490&name=set_disposition" >set_disposition</a></li>
  <li><a href="index.html?a=M008517&name=store" >store</a></li>
  <li><a href="index.html?a=M008437&name=strftime" >strftime</a></li>
  <li><a href="index.html?a=M008514&name=sub_header" >sub_header</a></li>
  <li><a href="index.html?a=M008476&name=sub_type" >sub_type</a></li>
  <li><a href="index.html?a=M008463&name=subject" >subject</a></li>
  <li><a href="index.html?a=M008558&name=subject" >subject</a></li>
  <li><a href="index.html?a=M008465&name=subject=" >subject=</a></li>
  <li><a href="index.html?a=M008444&name=to" >to</a></li>
  <li><a href="index.html?a=M008447&name=to=" >to=</a></li>
  <li><a href="index.html?a=M008438&name=to_addrs" >to_addrs</a></li>
  <li><a href="index.html?a=M008441&name=to_addrs=" >to_addrs=</a></li>
  <li><a href="index.html?a=M008482&name=transfer_encoding" >transfer_encoding</a></li>
  <li><a href="index.html?a=M008483&name=transfer_encoding=" >transfer_encoding=</a></li>
  <li><a href="index.html?a=M008479&name=type_param" >type_param</a></li>
  <li><a href="index.html?a=M008559&name=unquoted_body" >unquoted_body</a></li>
  <li><a href="index.html?a=M008530&name=values_at" >values_at</a></li>
  <li><a href="index.html?a=M008510&name=write_back" >write_back</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="#" onclick="jsHref('');">StrategyInterface</a></li>
</ul>



  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">ALLOW_MULTIPLE</td>
    <td>=</td>
    <td class="attr-value">{       'received'          =&gt; true,       'resent-date'       =&gt; true,       'resent-from'       =&gt; true,       'resent-sender'     =&gt; true,       'resent-to'         =&gt; true,       'resent-cc'         =&gt; true,       'resent-bcc'        =&gt; true,       'resent-message-id' =&gt; true,       'comments'          =&gt; true,       'keywords'          =&gt; true</td>
  </tr>
  <tr valign='top'>
    <td>&nbsp;</td>
    <td colspan="2" class="attr-desc">
header

</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">USE_ARRAY</td>
    <td>=</td>
    <td class="attr-value">ALLOW_MULTIPLE</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">FIELD_ORDER</td>
    <td>=</td>
    <td class="attr-value">%w(       return-path received       resent-date resent-from resent-sender resent-to       resent-cc resent-bcc resent-message-id       date from sender reply-to to cc bcc       message-id in-reply-to references       subject comments keywords       mime-version content-type content-transfer-encoding       content-disposition content-description     )</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">NOSEND_FIELDS</td>
    <td>=</td>
    <td class="attr-value">%w(       received       bcc     )</td>
  </tr>
  </table>

  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>port</td>
    <td class='attr-desc'>
Provides access to the port this email is using to hold it&#8217;s data

<p>
Example:
</p>
<pre>
 mail = TMail::Mail.parse(email_string)
 mail.port
 #=&gt; #&lt;TMail::StringPort:id=0xa2c952&gt;
</pre>
</td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M008507" class="method">
  <div id="M008507_title" class="title">
    <b>load</b>( fname )
  </div>
  <div class="description">
  <p>
Opens an email that has been saved out as a file by itself.
</p>
<p>
This function will read a file non-destructively and then parse the
contents and return a <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> object.
</p>
<p>
Does not handle multiple email mailboxes (like a unix mbox) for that use
the <a
href="index.html?a=C00001451&name=TMail::UNIXMbox">TMail::UNIXMbox</a>
class.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.load('filename')
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008507_source')" id="l_M008507_source">show source</a> ]</p>
  <div id="M008507_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load</span>( <span class="ruby-identifier">fname</span> )
 99:         <span class="ruby-identifier">new</span>(<span class="ruby-constant">FilePort</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fname</span>))
100:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008508" class="method">
  <div id="M008508_title" class="title">
    <b>parse</b>( str )
  </div>
  <div class="description">
  <p>
Parses an email from the supplied string and returns a <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> object.
</p>
<p>
Example:
</p>
<pre>
 require 'rubygems'; require 'tmail'
 email_string =&lt;&lt;HEREDOC
 To: mikel@lindsaar.net
 From: mikel@me.com
 Subject: This is a short Email

 Hello there Mikel!

 HEREDOC
 mail = TMail::Mail.parse(email_string)
 #=&gt; #&lt;TMail::Mail port=#&lt;TMail::StringPort:id=0xa30ac0&gt; bodyport=nil&gt;
 mail.body
 #=&gt; &quot;Hello there Mikel!\n\n&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008508_source')" id="l_M008508_source">show source</a> ]</p>
  <div id="M008508_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 122</span>
122:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>( <span class="ruby-identifier">str</span> )
123:         <span class="ruby-identifier">new</span>(<span class="ruby-constant">StringPort</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>))
124:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M008513" class="method">
  <div id="M008513_title" class="title">
    <b>[]</b>( key )
  </div>
  <div class="description">
  <p>
Returns a <a
href="index.html?a=C00001435&name=TMail::AddressHeader">TMail::AddressHeader</a>
object of the field you are querying. Examples:
</p>
<pre>
 @mail['from']  #=&gt; #&lt;TMail::AddressHeader &quot;mikel@test.com.au&quot;&gt;
 @mail['to']    #=&gt; #&lt;TMail::AddressHeader &quot;mikel@test.com.au&quot;&gt;
</pre>
<p>
You can get the string value of this by passing &quot;to_s&quot; to the
query: Example:
</p>
<pre>
 @mail['to'].to_s #=&gt; &quot;mikel@test.com.au&quot;
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008515&name=fetch">fetch</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008513_source')" id="l_M008513_source">show source</a> ]</p>
  <div id="M008513_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 247</span>
247:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>( <span class="ruby-identifier">key</span> )
248:       <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>]
249:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008516" class="method">
  <div id="M008516_title" class="title">
    <b>[]=</b>( key, val )
  </div>
  <div class="description">
  <p>
Allows you to set or delete <a
href="index.html?a=C00001425&name=TMail">TMail</a> header objects at will.
Examples:
</p>
<pre>
 @mail = TMail::Mail.new
 @mail['to'].to_s       # =&gt; 'mikel@test.com.au'
 @mail['to'] = 'mikel@elsewhere.org'
 @mail['to'].to_s       # =&gt; 'mikel@elsewhere.org'
 @mail.encoded          # =&gt; &quot;To: mikel@elsewhere.org\r\n\r\n&quot;
 @mail['to'] = nil
 @mail['to'].to_s       # =&gt; nil
 @mail.encoded          # =&gt; &quot;\r\n&quot;
</pre>
<p>
Note: setting mail[] = nil actually deletes the header field in question
from the object, it does not just set the value of the hash to nil
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008517&name=store">store</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008516_source')" id="l_M008516_source">show source</a> ]</p>
  <div id="M008516_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 270</span>
270:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span> )
271:       <span class="ruby-identifier">dkey</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>
272: 
273:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">nil?</span>
274:         <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">dkey</span>
275:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
276:       <span class="ruby-keyword kw">end</span>
277: 
278:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">val</span>
279:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
280:         <span class="ruby-identifier">header</span> = <span class="ruby-identifier">new_hf</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>)
281:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">HeaderField</span>
282:         ;
283:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
284:         <span class="ruby-constant">ALLOW_MULTIPLE</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">dkey</span> <span class="ruby-keyword kw">or</span>
285:                 <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;#{key}: Header must not be multiple&quot;</span>
286:         <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">dkey</span>] = <span class="ruby-identifier">val</span>
287:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span>
288:       <span class="ruby-keyword kw">else</span>
289:         <span class="ruby-identifier">header</span> = <span class="ruby-identifier">new_hf</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_s</span>)
290:       <span class="ruby-keyword kw">end</span>
291:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ALLOW_MULTIPLE</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">dkey</span>
292:         (<span class="ruby-ivar">@header</span>[<span class="ruby-identifier">dkey</span>] <span class="ruby-operator">||=</span> []).<span class="ruby-identifier">push</span> <span class="ruby-identifier">header</span>
293:       <span class="ruby-keyword kw">else</span>
294:         <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">dkey</span>] = <span class="ruby-identifier">header</span>
295:       <span class="ruby-keyword kw">end</span>
296: 
297:       <span class="ruby-identifier">val</span>
298:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008511" class="method">
  <div id="M008511_title" class="title">
    <b>accept</b>( strategy )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008511_source')" id="l_M008511_source">show source</a> ]</p>
  <div id="M008511_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 169</span>
169:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span>( <span class="ruby-identifier">strategy</span> )
170:       <span class="ruby-identifier">with_multipart_encoding</span>(<span class="ruby-identifier">strategy</span>) {
171:           <span class="ruby-identifier">ordered_each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
172:             <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">field</span>.<span class="ruby-identifier">empty?</span>
173:             <span class="ruby-identifier">strategy</span>.<span class="ruby-identifier">header_name</span> <span class="ruby-identifier">canonical</span>(<span class="ruby-identifier">name</span>)
174:             <span class="ruby-identifier">field</span>.<span class="ruby-identifier">accept</span> <span class="ruby-identifier">strategy</span>
175:             <span class="ruby-identifier">strategy</span>.<span class="ruby-identifier">puts</span>
176:           <span class="ruby-keyword kw">end</span>
177:           <span class="ruby-identifier">strategy</span>.<span class="ruby-identifier">puts</span>
178:           <span class="ruby-identifier">body_port</span>().<span class="ruby-identifier">ropen</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
179:               <span class="ruby-identifier">strategy</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read</span>
180:           }
181:       }
182:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008552" class="method">
  <div id="M008552_title" class="title">
    <b>add_date</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008552_source')" id="l_M008552_source">show source</a> ]</p>
  <div id="M008552_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 84</span>
84:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_date</span>
85:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">date</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
86:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008551" class="method">
  <div id="M008551_title" class="title">
    <b>add_message_id</b>( fqdn = nil )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008551_source')" id="l_M008551_source">show source</a> ]</p>
  <div id="M008551_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 80</span>
80:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_message_id</span>( <span class="ruby-identifier">fqdn</span> = <span class="ruby-keyword kw">nil</span> )
81:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">message_id</span> = <span class="ruby-operator">::</span><span class="ruby-constant">TMail</span><span class="ruby-operator">::</span><span class="ruby-identifier">new_message_id</span>(<span class="ruby-identifier">fqdn</span>)
82:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008432" class="method">
  <div id="M008432_title" class="title">
    <b>attachment?</b>(part)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008432_source')" id="l_M008432_source">show source</a> ]</p>
  <div id="M008432_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/attachments.rb, line 19</span>
19:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attachment?</span>(<span class="ruby-identifier">part</span>)
20:       <span class="ruby-identifier">part</span>.<span class="ruby-identifier">disposition_is_attachment?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content_type_is_text?</span>
21:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008433" class="method">
  <div id="M008433_title" class="title">
    <b>attachments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008433_source')" id="l_M008433_source">show source</a> ]</p>
  <div id="M008433_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/attachments.rb, line 23</span>
23:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attachments</span>
24:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">multipart?</span>
25:         <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> 
26:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">multipart?</span>
27:             <span class="ruby-identifier">part</span>.<span class="ruby-identifier">attachments</span>
28:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">attachment?</span>(<span class="ruby-identifier">part</span>)
29:             <span class="ruby-identifier">content</span>   = <span class="ruby-identifier">part</span>.<span class="ruby-identifier">body</span> <span class="ruby-comment cmt"># unquoted automatically by TMail#body</span>
30:             <span class="ruby-identifier">file_name</span> = (<span class="ruby-identifier">part</span>[<span class="ruby-value str">'content-location'</span>] <span class="ruby-operator">&amp;&amp;</span>
31:                           <span class="ruby-identifier">part</span>[<span class="ruby-value str">'content-location'</span>].<span class="ruby-identifier">body</span>) <span class="ruby-operator">||</span>
32:                         <span class="ruby-identifier">part</span>.<span class="ruby-identifier">sub_header</span>(<span class="ruby-value str">&quot;content-type&quot;</span>, <span class="ruby-value str">&quot;name&quot;</span>) <span class="ruby-operator">||</span>
33:                         <span class="ruby-identifier">part</span>.<span class="ruby-identifier">sub_header</span>(<span class="ruby-value str">&quot;content-disposition&quot;</span>, <span class="ruby-value str">&quot;filename&quot;</span>)
34:             
35:             <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file_name</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">content</span>.<span class="ruby-identifier">blank?</span>
36:             
37:             <span class="ruby-identifier">attachment</span> = <span class="ruby-constant">Attachment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">content</span>)
38:             <span class="ruby-identifier">attachment</span>.<span class="ruby-identifier">original_filename</span> = <span class="ruby-identifier">file_name</span>.<span class="ruby-identifier">strip</span>
39:             <span class="ruby-identifier">attachment</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">part</span>.<span class="ruby-identifier">content_type</span>
40:             <span class="ruby-identifier">attachment</span>
41:           <span class="ruby-keyword kw">end</span>
42:         }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>
43:       <span class="ruby-keyword kw">end</span>      
44:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008498" class="method">
  <div id="M008498_title" class="title">
    <b>base64_decode</b>()
  </div>
  <div class="description">
  <p>
Returns the result of decoding the <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> object body
without altering the current body
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008498_source')" id="l_M008498_source">show source</a> ]</p>
  <div id="M008498_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 998</span>
 998:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">base64_decode</span>
 999:       <span class="ruby-constant">Base64</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span>, <span class="ruby-ivar">@config</span>.<span class="ruby-identifier">strict_base64decode?</span>)
1000:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008497" class="method">
  <div id="M008497_title" class="title">
    <b>base64_decode!</b>()
  </div>
  <div class="description">
  <p>
Convert the <a href="index.html?a=C00001431&name=Mail">Mail</a>
object&#8217;s body into a Base64 decoded email returning the modified <a
href="index.html?a=C00001431&name=Mail">Mail</a> object
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008497_source')" id="l_M008497_source">show source</a> ]</p>
  <div id="M008497_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 989</span>
989:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">base64_decode!</span>
990:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/base64/i</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">transfer_encoding</span>(<span class="ruby-value str">''</span>)
991:         <span class="ruby-identifier">store</span> <span class="ruby-value str">'Content-Transfer-Encoding'</span>, <span class="ruby-value str">'8bit'</span>
992:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">base64_decode</span>
993:       <span class="ruby-keyword kw">end</span>
994:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008496" class="method">
  <div id="M008496_title" class="title">
    <b>base64_encode</b>()
  </div>
  <div class="description">
  <p>
Return the result of encoding the <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> object body
without altering the current body
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008496_source')" id="l_M008496_source">show source</a> ]</p>
  <div id="M008496_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 983</span>
983:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">base64_encode</span>
984:       <span class="ruby-constant">Base64</span>.<span class="ruby-identifier">folding_encode</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span>)
985:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008495" class="method">
  <div id="M008495_title" class="title">
    <b>base64_encode!</b>()
  </div>
  <div class="description">
  <p>
Convert the <a href="index.html?a=C00001431&name=Mail">Mail</a>
object&#8217;s body into a Base64 encoded email returning the modified <a
href="index.html?a=C00001431&name=Mail">Mail</a> object
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008495_source')" id="l_M008495_source">show source</a> ]</p>
  <div id="M008495_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 976</span>
976:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">base64_encode!</span>
977:       <span class="ruby-identifier">store</span> <span class="ruby-value str">'Content-Transfer-Encoding'</span>, <span class="ruby-value str">'Base64'</span>
978:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">base64_encode</span>
979:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008446" class="method">
  <div id="M008446_title" class="title">
    <b>bcc</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns who the email bcc&#8217;d as an Array of email addresses as opposed
to an Array of <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a>
objects which is what <a
href="index.html?a=M008438&name=Mail#to_addrs">Mail#to_addrs</a> returns
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.bcc = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.bcc #=&gt;  [&quot;mikel@me.org&quot;, &quot;mikel@you.org&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008446_source')" id="l_M008446_source">show source</a> ]</p>
  <div id="M008446_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 292</span>
292:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
293:       <span class="ruby-identifier">addrs2specs</span>(<span class="ruby-identifier">bcc_addrs</span>(<span class="ruby-keyword kw">nil</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
294:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008449" class="method">
  <div id="M008449_title" class="title">
    <b>bcc=</b>( *strs )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;Bcc:&quot; field to the passed array of
strings (which should be valid email addresses)
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.bcc = [&quot;mikel@abc.com&quot;, &quot;Mikel &lt;mikel@xyz.com&gt;&quot;]
 mail.bcc #=&gt;  [&quot;mikel@abc.org&quot;, &quot;mikel@xyz.org&quot;]
 mail['bcc'].to_s #=&gt; &quot;mikel@abc.com, Mikel &lt;mikel@xyz.com&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008449_source')" id="l_M008449_source">show source</a> ]</p>
  <div id="M008449_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 331</span>
331:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">strs</span> )
332:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'Bcc'</span>, <span class="ruby-identifier">strs</span>
333:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008440" class="method">
  <div id="M008440_title" class="title">
    <b>bcc_addrs</b>( default = nil )
  </div>
  <div class="description">
  <p>
Return a TMail::Addresses instance for each entry in the &quot;Bcc:&quot;
field of the mail object header.
</p>
<p>
If the &quot;Bcc:&quot; field does not exist, will return nil by default or
the value you pass as the optional parameter.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.bcc_addrs #=&gt; nil
 mail.bcc_addrs([]) #=&gt; []
 mail.bcc = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.bcc_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008440_source')" id="l_M008440_source">show source</a> ]</p>
  <div id="M008440_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 210</span>
210:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc_addrs</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
211:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'bcc'</span>]
212:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>
213:       <span class="ruby-keyword kw">else</span>
214:         <span class="ruby-identifier">default</span>
215:       <span class="ruby-keyword kw">end</span>
216:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008443" class="method">
  <div id="M008443_title" class="title">
    <b>bcc_addrs=</b>( arg )
  </div>
  <div class="description">
  <p>
Destructively set the to field of the &quot;Bcc:&quot; header to equal the
passed in string.
</p>
<p>
<a href="index.html?a=C00001425&name=TMail">TMail</a> will parse your
contents and turn each valid email address into a <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a> object
before assigning it to the mail message.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.bcc = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.bcc_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008443_source')" id="l_M008443_source">show source</a> ]</p>
  <div id="M008443_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 256</span>
256:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc_addrs=</span>( <span class="ruby-identifier">arg</span> )
257:       <span class="ruby-identifier">set_addrfield</span> <span class="ruby-value str">'bcc'</span>, <span class="ruby-identifier">arg</span>
258:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008560" class="method">
  <div id="M008560_title" class="title">
    <b>body</b>(to_charset = 'utf-8', &amp;block)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008560_source')" id="l_M008560_source">show source</a> ]</p>
  <div id="M008560_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/quoting.rb, line 36</span>
36:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body</span>(<span class="ruby-identifier">to_charset</span> = <span class="ruby-value str">'utf-8'</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
37:       <span class="ruby-identifier">attachment_presenter</span> = <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">file_name</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;Attachment: #{file_name}\n&quot;</span> }
38: 
39:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">multipart?</span>
40:         <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
41:           <span class="ruby-identifier">header</span> = <span class="ruby-identifier">part</span>[<span class="ruby-value str">&quot;content-type&quot;</span>]
42: 
43:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">multipart?</span>
44:             <span class="ruby-identifier">part</span>.<span class="ruby-identifier">body</span>(<span class="ruby-identifier">to_charset</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">attachment_presenter</span>)
45:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">header</span>.<span class="ruby-identifier">nil?</span>
46:             <span class="ruby-value str">&quot;&quot;</span>
47:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">attachment?</span>(<span class="ruby-identifier">part</span>)
48:             <span class="ruby-identifier">part</span>.<span class="ruby-identifier">unquoted_body</span>(<span class="ruby-identifier">to_charset</span>)
49:           <span class="ruby-keyword kw">else</span>
50:             <span class="ruby-identifier">attachment_presenter</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">header</span>[<span class="ruby-value str">&quot;name&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;(unnamed)&quot;</span>)
51:           <span class="ruby-keyword kw">end</span>
52:         }.<span class="ruby-identifier">join</span>
53:       <span class="ruby-keyword kw">else</span>
54:         <span class="ruby-identifier">unquoted_body</span>(<span class="ruby-identifier">to_charset</span>)
55:       <span class="ruby-keyword kw">end</span>
56:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008537" class="method">
  <div id="M008537_title" class="title">
    <b>body=</b>( str )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008537_source')" id="l_M008537_source">show source</a> ]</p>
  <div id="M008537_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 463</span>
463:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body=</span>( <span class="ruby-identifier">str</span> )
464:       <span class="ruby-comment cmt"># Sets the body of the email to a new (encoded) string.</span>
465:       <span class="ruby-comment cmt"># </span>
466:       <span class="ruby-comment cmt"># We also reparses the email if the body is ever reassigned, this is a performance hit, however when</span>
467:       <span class="ruby-comment cmt"># you assign the body, you usually want to be able to make sure that you can access the attachments etc.</span>
468:       <span class="ruby-comment cmt"># </span>
469:       <span class="ruby-comment cmt"># Usage:</span>
470:       <span class="ruby-comment cmt"># </span>
471:       <span class="ruby-comment cmt">#  mail.body = &quot;Hello, this is\nthe body text&quot;</span>
472:       <span class="ruby-comment cmt">#  # =&gt; &quot;Hello, this is\nthe body&quot;</span>
473:       <span class="ruby-comment cmt">#  mail.body</span>
474:       <span class="ruby-comment cmt">#  # =&gt; &quot;Hello, this is\nthe body&quot;</span>
475:       <span class="ruby-ivar">@body_parsed</span> = <span class="ruby-keyword kw">false</span>
476:       <span class="ruby-identifier">parse_body</span>(<span class="ruby-constant">StringInput</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>))
477:       <span class="ruby-identifier">parse_body</span>
478:       <span class="ruby-ivar">@body_port</span>.<span class="ruby-identifier">wopen</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span> }
479:       <span class="ruby-identifier">str</span>
480:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008533" class="method">
  <div id="M008533_title" class="title">
    <b>body_port</b>()
  </div>
  <div class="description">
  <p>
body
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008533_source')" id="l_M008533_source">show source</a> ]</p>
  <div id="M008533_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 445</span>
445:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body_port</span>
446:       <span class="ruby-identifier">parse_body</span>
447:       <span class="ruby-ivar">@body_port</span>
448:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008445" class="method">
  <div id="M008445_title" class="title">
    <b>cc</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns who the email cc&#8217;d as an Array of email addresses as opposed
to an Array of <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a>
objects which is what <a
href="index.html?a=M008438&name=Mail#to_addrs">Mail#to_addrs</a> returns
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.cc = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.cc #=&gt;  [&quot;mikel@me.org&quot;, &quot;mikel@you.org&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008445_source')" id="l_M008445_source">show source</a> ]</p>
  <div id="M008445_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 280</span>
280:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
281:       <span class="ruby-identifier">addrs2specs</span>(<span class="ruby-identifier">cc_addrs</span>(<span class="ruby-keyword kw">nil</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
282:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008448" class="method">
  <div id="M008448_title" class="title">
    <b>cc=</b>( *strs )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;Cc:&quot; field to the passed array of strings
(which should be valid email addresses)
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.cc = [&quot;mikel@abc.com&quot;, &quot;Mikel &lt;mikel@xyz.com&gt;&quot;]
 mail.cc #=&gt;  [&quot;mikel@abc.org&quot;, &quot;mikel@xyz.org&quot;]
 mail['cc'].to_s #=&gt; &quot;mikel@abc.com, Mikel &lt;mikel@xyz.com&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008448_source')" id="l_M008448_source">show source</a> ]</p>
  <div id="M008448_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 318</span>
318:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">strs</span> )
319:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'Cc'</span>, <span class="ruby-identifier">strs</span>
320:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008439" class="method">
  <div id="M008439_title" class="title">
    <b>cc_addrs</b>( default = nil )
  </div>
  <div class="description">
  <p>
Return a TMail::Addresses instance for each entry in the &quot;Cc:&quot;
field of the mail object header.
</p>
<p>
If the &quot;Cc:&quot; field does not exist, will return nil by default or
the value you pass as the optional parameter.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.cc_addrs #=&gt; nil
 mail.cc_addrs([]) #=&gt; []
 mail.cc = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.cc_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008439_source')" id="l_M008439_source">show source</a> ]</p>
  <div id="M008439_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 190</span>
190:      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc_addrs</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
191:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'cc'</span>]
192:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>
193:       <span class="ruby-keyword kw">else</span>
194:         <span class="ruby-identifier">default</span>
195:       <span class="ruby-keyword kw">end</span>
196:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008442" class="method">
  <div id="M008442_title" class="title">
    <b>cc_addrs=</b>( arg )
  </div>
  <div class="description">
  <p>
Destructively set the to field of the &quot;Cc:&quot; header to equal the
passed in string.
</p>
<p>
<a href="index.html?a=C00001425&name=TMail">TMail</a> will parse your
contents and turn each valid email address into a <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a> object
before assigning it to the mail message.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.cc = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.cc_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008442_source')" id="l_M008442_source">show source</a> ]</p>
  <div id="M008442_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 242</span>
242:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc_addrs=</span>( <span class="ruby-identifier">arg</span> )
243:       <span class="ruby-identifier">set_addrfield</span> <span class="ruby-value str">'cc'</span>, <span class="ruby-identifier">arg</span>
244:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008480" class="method">
  <div id="M008480_title" class="title">
    <b>charset</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the character set of the email. Returns nil if no encoding set or
returns whatever default you pass as a parameter - note passing the
parameter does NOT change the mail object in any way.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.load(&quot;path_to/utf8_email&quot;)
 mail.charset #=&gt; &quot;UTF-8&quot;

 mail = TMail::Mail.new
 mail.charset #=&gt; nil
 mail.charset(&quot;US-ASCII&quot;) #=&gt; &quot;US-ASCII&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008480_source')" id="l_M008480_source">show source</a> ]</p>
  <div id="M008480_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 842</span>
842:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">charset</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
843:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>]
844:         <span class="ruby-identifier">h</span>[<span class="ruby-value str">'charset'</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">default</span>
845:       <span class="ruby-keyword kw">else</span>
846:         <span class="ruby-identifier">default</span>
847:       <span class="ruby-keyword kw">end</span>
848:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008481" class="method">
  <div id="M008481_title" class="title">
    <b>charset=</b>( str )
  </div>
  <div class="description">
  <p>
Destructively sets the character set used by this mail object to the passed
string, you should note though that this does nothing to the mail body,
just changes the header value, you will need to transliterate the body as
well to match whatever you put in this header value if you are changing
character sets.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.charset #=&gt; nil
 mail.charset = &quot;UTF-8&quot;
 mail.charset #=&gt; &quot;UTF-8&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008481_source')" id="l_M008481_source">show source</a> ]</p>
  <div id="M008481_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 861</span>
861:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">charset=</span>( <span class="ruby-identifier">str</span> )
862:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span>
863:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[ <span class="ruby-value str">'content-type'</span> ]
864:           <span class="ruby-identifier">h</span>[<span class="ruby-value str">'charset'</span>] = <span class="ruby-identifier">str</span>
865:         <span class="ruby-keyword kw">else</span>
866:           <span class="ruby-identifier">store</span> <span class="ruby-value str">'Content-Type'</span>, <span class="ruby-node">&quot;text/plain; charset=#{str}&quot;</span>
867:         <span class="ruby-keyword kw">end</span>
868:       <span class="ruby-keyword kw">end</span>
869:       <span class="ruby-identifier">str</span>
870:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008525" class="method">
  <div id="M008525_title" class="title">
    <b>clear</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008525_source')" id="l_M008525_source">show source</a> ]</p>
  <div id="M008525_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 352</span>
352:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear</span>
353:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">clear</span>
354:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008489" class="method">
  <div id="M008489_title" class="title">
    <b>content_disposition</b>( default = nil )
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008488&name=disposition">disposition</a>
</p>
  </div>
</div>
<div id="M008493" class="method">
  <div id="M008493_title" class="title">
    <b>content_disposition=</b>( str, params = nil )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008490&name=set_disposition">set_disposition</a>
</p>
  </div>
</div>
<div id="M008486" class="method">
  <div id="M008486_title" class="title">
    <b>content_transfer_encoding</b>( default = nil )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008482&name=transfer_encoding">transfer_encoding</a>
</p>
  </div>
</div>
<div id="M008487" class="method">
  <div id="M008487_title" class="title">
    <b>content_transfer_encoding=</b>( str )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008483&name=transfer_encoding=">transfer_encoding=</a>
</p>
  </div>
</div>
<div id="M008474" class="method">
  <div id="M008474_title" class="title">
    <b>content_type</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the current &quot;Content-Type&quot; of the mail instance.
</p>
<p>
If the <a href="index.html?a=M008474&name=content_type">content_type</a>
field does not exist, returns nil by default or you can pass in as the
parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.content_type #=&gt; nil
 mail.content_type([]) #=&gt; []
 mail = TMail::Mail.load(&quot;../test/fixtures/raw_email&quot;)
 mail.content_type #=&gt; &quot;text/plain&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008474_source')" id="l_M008474_source">show source</a> ]</p>
  <div id="M008474_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 725</span>
725:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
726:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>]
727:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">content_type</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
728:       <span class="ruby-keyword kw">else</span>
729:         <span class="ruby-identifier">default</span>
730:       <span class="ruby-keyword kw">end</span>
731:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008478" class="method">
  <div id="M008478_title" class="title">
    <b>content_type=</b>( str, sub = nil, param = nil )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008477&name=set_content_type">set_content_type</a>
</p>
  </div>
</div>
<div id="M008545" class="method">
  <div id="M008545_title" class="title">
    <b>content_type_is_text?</b>()
  </div>
  <div class="description">
  <p>
Returns true if this part&#8217;s content main type is text, else returns
false. By main type is meant &quot;text/plain&quot; is text.
&quot;text/html&quot; is text
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008545_source')" id="l_M008545_source">show source</a> ]</p>
  <div id="M008545_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 513</span>
513:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type_is_text?</span>
514:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>] <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>].<span class="ruby-identifier">main_type</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;text&quot;</span>)
515:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008506" class="method">
  <div id="M008506_title" class="title">
    <b>create_forward</b>()
  </div>
  <div class="description">
  <p>
Creates a new email in reply to self. Sets the In-<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To and References
headers for you automagically.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.load(&quot;my_email&quot;)
 forward_email = mail.create_forward
 forward_email.class         #=&gt; TMail::Mail
 forward_email.content_type  #=&gt; &quot;multipart/mixed&quot;
 forward_email.body          #=&gt; &quot;Attachment: (unnamed)&quot;
 forward_email.encoded       #=&gt; Returns the original email as a MIME attachment
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008506_source')" id="l_M008506_source">show source</a> ]</p>
  <div id="M008506_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1090</span>
1090:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_forward</span>
1091:       <span class="ruby-identifier">setup_forward</span> <span class="ruby-identifier">create_empty_mail</span>()
1092:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008505" class="method">
  <div id="M008505_title" class="title">
    <b>create_reply</b>()
  </div>
  <div class="description">
  <p>
Creates a new email in reply to self. Sets the In-<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To and References
headers for you automagically.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.load(&quot;my_email&quot;)
 reply_email = mail.create_reply
 reply_email.class         #=&gt; TMail::Mail
 reply_email.references  #=&gt; [&quot;&lt;d3b8cf8e49f04480850c28713a1f473e@lindsaar.net&gt;&quot;]
 reply_email.in_reply_to #=&gt; [&quot;&lt;d3b8cf8e49f04480850c28713a1f473e@lindsaar.net&gt;&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008505_source')" id="l_M008505_source">show source</a> ]</p>
  <div id="M008505_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1076</span>
1076:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_reply</span>
1077:       <span class="ruby-identifier">setup_reply</span> <span class="ruby-identifier">create_empty_mail</span>()
1078:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008435" class="method">
  <div id="M008435_title" class="title">
    <b>date</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the date of the email message as per the &quot;date&quot; header
value or returns nil by default (if no date field exists).
</p>
<p>
You can also pass whatever default you want into this method and it will
return that instead of nil if there is no date already set.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008435_source')" id="l_M008435_source">show source</a> ]</p>
  <div id="M008435_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 115</span>
115:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">date</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
116:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'date'</span>]
117:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">date</span>
118:       <span class="ruby-keyword kw">else</span>
119:         <span class="ruby-identifier">default</span>
120:       <span class="ruby-keyword kw">end</span>
121:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008436" class="method">
  <div id="M008436_title" class="title">
    <b>date=</b>( time )
  </div>
  <div class="description">
  <p>
Destructively sets the date of the mail object with the passed Time
instance, returns a Time instance set to the date/time of the mail
</p>
<p>
Example:
</p>
<pre>
 now = Time.now
 mail.date = now
 mail.date #=&gt; Sat Nov 03 18:47:50 +1100 2007
 mail.date.class #=&gt; Time
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008436_source')" id="l_M008436_source">show source</a> ]</p>
  <div id="M008436_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 132</span>
132:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">date=</span>( <span class="ruby-identifier">time</span> )
133:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">time</span>
134:         <span class="ruby-identifier">store</span> <span class="ruby-value str">'Date'</span>, <span class="ruby-identifier">time2str</span>(<span class="ruby-identifier">time</span>)
135:       <span class="ruby-keyword kw">else</span>
136:         <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">'date'</span>
137:       <span class="ruby-keyword kw">end</span>
138:       <span class="ruby-identifier">time</span>
139:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008526" class="method">
  <div id="M008526_title" class="title">
    <b>delete</b>( key )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008526_source')" id="l_M008526_source">show source</a> ]</p>
  <div id="M008526_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 356</span>
356:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>( <span class="ruby-identifier">key</span> )
357:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>
358:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008527" class="method">
  <div id="M008527_title" class="title">
    <b>delete_if</b>() {|key, v| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008527_source')" id="l_M008527_source">show source</a> ]</p>
  <div id="M008527_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 360</span>
360:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_if</span>
361:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete_if</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>,<span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
362:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
363:           <span class="ruby-identifier">val</span>.<span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">v</span> }
364:           <span class="ruby-identifier">val</span>.<span class="ruby-identifier">empty?</span>
365:         <span class="ruby-keyword kw">else</span>
366:           <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>
367:         <span class="ruby-keyword kw">end</span>
368:       <span class="ruby-keyword kw">end</span>
369:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008550" class="method">
  <div id="M008550_title" class="title">
    <b>delete_no_send_fields</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008550_source')" id="l_M008550_source">show source</a> ]</p>
  <div id="M008550_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 73</span>
73:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_no_send_fields</span>
74:       <span class="ruby-constant">NOSEND_FIELDS</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">nm</span><span class="ruby-operator">|</span>
75:         <span class="ruby-identifier">delete</span> <span class="ruby-identifier">nm</span>
76:       <span class="ruby-keyword kw">end</span>
77:       <span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> }
78:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008499" class="method">
  <div id="M008499_title" class="title">
    <b>destinations</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns an array of each destination in the email message including to: cc:
or bcc:
</p>
<p>
Example:
</p>
<pre>
 mail.to = &quot;Mikel &lt;mikel@lindsaar.net&gt;&quot;
 mail.cc = &quot;Trans &lt;t@t.com&gt;&quot;
 mail.bcc = &quot;bob &lt;bob@me.com&gt;&quot;
 mail.destinations #=&gt; [&quot;mikel@lindsaar.net&quot;, &quot;t@t.com&quot;, &quot;bob@me.com&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008499_source')" id="l_M008499_source">show source</a> ]</p>
  <div id="M008499_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1010</span>
1010:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destinations</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
1011:       <span class="ruby-identifier">ret</span> = []
1012:       <span class="ruby-node">%w( to cc bcc )</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">nm</span><span class="ruby-operator">|</span>
1013:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">nm</span>]
1014:           <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">address</span> }
1015:         <span class="ruby-keyword kw">end</span>
1016:       <span class="ruby-keyword kw">end</span>
1017:       <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-identifier">default</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ret</span>
1018:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008488" class="method">
  <div id="M008488_title" class="title">
    <b>disposition</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the content-disposition of the mail object, returns nil or the
passed default value if given
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.load(&quot;path_to/raw_mail_with_attachment&quot;)
 mail.disposition #=&gt; &quot;attachment&quot;

 mail = TMail::Mail.load(&quot;path_to/plain_simple_email&quot;)
 mail.disposition #=&gt; nil
 mail.disposition(false) #=&gt; false
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008489&name=content_disposition">content_disposition</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008488_source')" id="l_M008488_source">show source</a> ]</p>
  <div id="M008488_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 923</span>
923:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">disposition</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
924:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-disposition'</span>]
925:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">disposition</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
926:       <span class="ruby-keyword kw">else</span>
927:         <span class="ruby-identifier">default</span>
928:       <span class="ruby-keyword kw">end</span>
929:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008491" class="method">
  <div id="M008491_title" class="title">
    <b>disposition=</b>( str, params = nil )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008490&name=set_disposition">set_disposition</a>
</p>
  </div>
</div>
<div id="M008544" class="method">
  <div id="M008544_title" class="title">
    <b>disposition_is_attachment?</b>()
  </div>
  <div class="description">
  <p>
Returns true if the content type of this part of the email is a disposition
attachment
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008544_source')" id="l_M008544_source">show source</a> ]</p>
  <div id="M008544_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 507</span>
507:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">disposition_is_attachment?</span>
508:       (<span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'content-disposition'</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'content-disposition'</span>].<span class="ruby-identifier">disposition</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;attachment&quot;</span>)
509:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008494" class="method">
  <div id="M008494_title" class="title">
    <b>disposition_param</b>( name, default = nil )
  </div>
  <div class="description">
  <p>
Returns the value of a parameter in an existing content-disposition header
</p>
<p>
Example:
</p>
<pre>
 mail.set_disposition(&quot;attachment&quot;, {:filename =&gt; &quot;test.rb&quot;})
 mail['content-disposition'].to_s #=&gt; &quot;attachment; filename=test.rb&quot;
 mail.disposition_param(&quot;filename&quot;) #=&gt; &quot;test.rb&quot;
 mail.disposition_param(&quot;missing_param_key&quot;) #=&gt; nil
 mail.disposition_param(&quot;missing_param_key&quot;, false) #=&gt; false
 mail.disposition_param(&quot;missing_param_key&quot;, &quot;Nothing to see here&quot;) #=&gt; &quot;Nothing to see here&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008494_source')" id="l_M008494_source">show source</a> ]</p>
  <div id="M008494_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 966</span>
966:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">disposition_param</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
967:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-disposition'</span>]
968:         <span class="ruby-identifier">h</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
969:       <span class="ruby-keyword kw">else</span>
970:         <span class="ruby-identifier">default</span>
971:       <span class="ruby-keyword kw">end</span>
972:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008534" class="method">
  <div id="M008534_title" class="title">
    <b>each</b>( &amp;block )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008534_source')" id="l_M008534_source">show source</a> ]</p>
  <div id="M008534_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 450</span>
450:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
451:       <span class="ruby-identifier">body_port</span>().<span class="ruby-identifier">ropen</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }
452:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008501" class="method">
  <div id="M008501_title" class="title">
    <b>each_dest</b>( &amp;block )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008500&name=each_destination">each_destination</a>
</p>
  </div>
</div>
<div id="M008500" class="method">
  <div id="M008500_title" class="title">
    <b>each_destination</b>( ) {|i| ...}
  </div>
  <div class="description">
  <p>
Yields a block of destination, yielding each as a string.
</p>
<pre>
 (from the destinations example)
 mail.each_destination { |d| puts &quot;#{d.class}: #{d}&quot; }
 String: mikel@lindsaar.net
 String: t@t.com
 String: bob@me.com
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008501&name=each_dest">each_dest</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008500_source')" id="l_M008500_source">show source</a> ]</p>
  <div id="M008500_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1026</span>
1026:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_destination</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
1027:       <span class="ruby-identifier">destinations</span>([]).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
1028:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Address</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">i</span>
1029:           <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">i</span>
1030:         <span class="ruby-keyword kw">else</span>
1031:           <span class="ruby-identifier">i</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1032:         <span class="ruby-keyword kw">end</span>
1033:       <span class="ruby-keyword kw">end</span>
1034:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008522" class="method">
  <div id="M008522_title" class="title">
    <b>each_field</b>( &amp;block )
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008523&name=each_value">each_value</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008522_source')" id="l_M008522_source">show source</a> ]</p>
  <div id="M008522_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 323</span>
323:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_field</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
324:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
325:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008518" class="method">
  <div id="M008518_title" class="title">
    <b>each_header</b>() {|key, v| ...}
  </div>
  <div class="description">
  <p>
Allows you to loop through each header in the <a
href="index.html?a=C00001431&name=TMail::Mail">TMail::Mail</a> object in a
block Example:
</p>
<pre>
  @mail['to'] = 'mikel@elsewhere.org'
  @mail['from'] = 'me@me.com'
  @mail.each_header { |k,v| puts &quot;#{k} = #{v}&quot; }
  # =&gt; from = me@me.com
  # =&gt; to = mikel@elsewhere.org
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008519&name=each_pair">each_pair</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008518_source')" id="l_M008518_source">show source</a> ]</p>
  <div id="M008518_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 309</span>
309:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_header</span>
310:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
311:         [<span class="ruby-identifier">val</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">v</span> }
312:       <span class="ruby-keyword kw">end</span>
313:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008520" class="method">
  <div id="M008520_title" class="title">
    <b>each_header_name</b>( &amp;block )
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008521&name=each_key">each_key</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008520_source')" id="l_M008520_source">show source</a> ]</p>
  <div id="M008520_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 317</span>
317:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_header_name</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
318:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">each_key</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
319:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008521" class="method">
  <div id="M008521_title" class="title">
    <b>each_key</b>( &amp;block )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008520&name=each_header_name">each_header_name</a>
</p>
  </div>
</div>
<div id="M008519" class="method">
  <div id="M008519_title" class="title">
    <b>each_pair</b>()
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008518&name=each_header">each_header</a>
</p>
  </div>
</div>
<div id="M008543" class="method">
  <div id="M008543_title" class="title">
    <b>each_part</b>( &amp;block )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008543_source')" id="l_M008543_source">show source</a> ]</p>
  <div id="M008543_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 501</span>
501:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_part</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
502:       <span class="ruby-identifier">parts</span>().<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
503:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008523" class="method">
  <div id="M008523_title" class="title">
    <b>each_value</b>( &amp;block )
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008522&name=each_field">each_field</a>
</p>
  </div>
</div>
<div id="M008484" class="method">
  <div id="M008484_title" class="title">
    <b>encoding</b>( default = nil )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008482&name=transfer_encoding">transfer_encoding</a>
</p>
  </div>
</div>
<div id="M008485" class="method">
  <div id="M008485_title" class="title">
    <b>encoding=</b>( str )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008483&name=transfer_encoding=">transfer_encoding=</a>
</p>
  </div>
</div>
<div id="M008540" class="method">
  <div id="M008540_title" class="title">
    <b>epilogue</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008540_source')" id="l_M008540_source">show source</a> ]</p>
  <div id="M008540_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 485</span>
485:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">epilogue</span>
486:       <span class="ruby-identifier">parse_body</span>
487:       <span class="ruby-ivar">@epilogue</span>.<span class="ruby-identifier">dup</span>
488:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008541" class="method">
  <div id="M008541_title" class="title">
    <b>epilogue=</b>( str )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008541_source')" id="l_M008541_source">show source</a> ]</p>
  <div id="M008541_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 490</span>
490:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">epilogue=</span>( <span class="ruby-identifier">str</span> )
491:       <span class="ruby-identifier">parse_body</span>
492:       <span class="ruby-ivar">@epilogue</span> = <span class="ruby-identifier">str</span>
493:       <span class="ruby-identifier">str</span>
494:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008503" class="method">
  <div id="M008503_title" class="title">
    <b>error_reply_addresses</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the &quot;sender&quot; field as an array -&gt; useful to find out
who to send an error email to.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008503_source')" id="l_M008503_source">show source</a> ]</p>
  <div id="M008503_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1054</span>
1054:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">error_reply_addresses</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
1055:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span> = <span class="ruby-identifier">sender</span>(<span class="ruby-keyword kw">nil</span>)
1056:         [<span class="ruby-identifier">s</span>]
1057:       <span class="ruby-keyword kw">else</span>
1058:         <span class="ruby-identifier">from_addrs</span>(<span class="ruby-identifier">default</span>)
1059:       <span class="ruby-keyword kw">end</span>
1060:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008515" class="method">
  <div id="M008515_title" class="title">
    <b>fetch</b>( key )
  </div>
  <div class="description">
  <p>
Alias for #[]
</p>
  </div>
</div>
<div id="M008454" class="method">
  <div id="M008454_title" class="title">
    <b>friendly_from</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the &quot;friendly&quot; human readable part of the address
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.from = &quot;Mikel Lindsaar &lt;mikel@abc.com&gt;&quot;
 mail.friendly_from #=&gt; &quot;Mikel Lindsaar&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008454_source')" id="l_M008454_source">show source</a> ]</p>
  <div id="M008454_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 403</span>
403:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">friendly_from</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
404:       <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'from'</span>]
405:       <span class="ruby-identifier">a</span>, = <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>
406:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">a</span>
407:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">phrase</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">phrase</span>
408:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">comments</span>.<span class="ruby-identifier">empty?</span>
409:       <span class="ruby-identifier">a</span>.<span class="ruby-identifier">spec</span>
410:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008452" class="method">
  <div id="M008452_title" class="title">
    <b>from</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns who the email is from as an Array of email address strings instead
to an Array of <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a>
objects which is what <a
href="index.html?a=M008450&name=Mail#from_addrs">Mail#from_addrs</a>
returns
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.from = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.from #=&gt;  [&quot;mikel@me.org&quot;, &quot;mikel@you.org&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008452_source')" id="l_M008452_source">show source</a> ]</p>
  <div id="M008452_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 379</span>
379:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
380:       <span class="ruby-identifier">addrs2specs</span>(<span class="ruby-identifier">from_addrs</span>(<span class="ruby-keyword kw">nil</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
381:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008453" class="method">
  <div id="M008453_title" class="title">
    <b>from=</b>( *strs )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;From:&quot; field to the passed array of
strings (which should be valid email addresses)
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.from = [&quot;mikel@abc.com&quot;, &quot;Mikel &lt;mikel@xyz.com&gt;&quot;]
 mail.from #=&gt;  [&quot;mikel@abc.org&quot;, &quot;mikel@xyz.org&quot;]
 mail['from'].to_s #=&gt; &quot;mikel@abc.com, Mikel &lt;mikel@xyz.com&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008453_source')" id="l_M008453_source">show source</a> ]</p>
  <div id="M008453_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 392</span>
392:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">strs</span> )
393:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'From'</span>, <span class="ruby-identifier">strs</span>
394:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008450" class="method">
  <div id="M008450_title" class="title">
    <b>from_addrs</b>( default = nil )
  </div>
  <div class="description">
  <p>
Return a TMail::Addresses instance for each entry in the &quot;From:&quot;
field of the mail object header.
</p>
<p>
If the &quot;From:&quot; field does not exist, will return nil by default
or the value you pass as the optional parameter.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.from_addrs #=&gt; nil
 mail.from_addrs([]) #=&gt; []
 mail.from = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.from_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008450_source')" id="l_M008450_source">show source</a> ]</p>
  <div id="M008450_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 349</span>
349:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from_addrs</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
350:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'from'</span>]
351:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>
352:       <span class="ruby-keyword kw">else</span>
353:         <span class="ruby-identifier">default</span>
354:       <span class="ruby-keyword kw">end</span>
355:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008451" class="method">
  <div id="M008451_title" class="title">
    <b>from_addrs=</b>( arg )
  </div>
  <div class="description">
  <p>
Destructively set the to value of the &quot;From:&quot; header to equal the
passed in string.
</p>
<p>
<a href="index.html?a=C00001425&name=TMail">TMail</a> will parse your
contents and turn each valid email address into a <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a> object
before assigning it to the mail message.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.from_addrs = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.from_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008451_source')" id="l_M008451_source">show source</a> ]</p>
  <div id="M008451_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 367</span>
367:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from_addrs=</span>( <span class="ruby-identifier">arg</span> )
368:       <span class="ruby-identifier">set_addrfield</span> <span class="ruby-value str">'from'</span>, <span class="ruby-identifier">arg</span>
369:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008431" class="method">
  <div id="M008431_title" class="title">
    <b>has_attachments?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008431_source')" id="l_M008431_source">show source</a> ]</p>
  <div id="M008431_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/attachments.rb, line 15</span>
15:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attachments?</span>
16:       <span class="ruby-identifier">multipart?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attachment?</span>(<span class="ruby-identifier">part</span>) }
17:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008512" class="method">
  <div id="M008512_title" class="title">
    <b>header</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008512_source')" id="l_M008512_source">show source</a> ]</p>
  <div id="M008512_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 235</span>
235:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header</span>
236:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">dup</span>
237:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008434" class="method">
  <div id="M008434_title" class="title">
    <b>header_string</b>( name, default = nil )
  </div>
  <div class="description">
  <p>
Allows you to query the mail object with a string to get the contents of
the field you want.
</p>
<p>
Returns a string of the exact contents of the field
</p>
<pre>
 mail.from = &quot;mikel &lt;mikel@lindsaar.net&gt;&quot;
 mail.header_string(&quot;From&quot;) #=&gt; &quot;mikel &lt;mikel@lindsaar.net&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008434_source')" id="l_M008434_source">show source</a> ]</p>
  <div id="M008434_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 49</span>
49:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header_string</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
50:       <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span>
51:       <span class="ruby-identifier">h</span>.<span class="ruby-identifier">to_s</span>
52:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008468" class="method">
  <div id="M008468_title" class="title">
    <b>in_reply_to</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the &quot;In-<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To:&quot; field contents
as an array of this mail instance if it exists
</p>
<p>
If the <a href="index.html?a=M008468&name=in_reply_to">in_reply_to</a>
field does not exist, returns nil by default or you can pass in as the
parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.in_reply_to #=&gt; nil
 mail.in_reply_to([]) #=&gt; []
 TMail::Mail.load(&quot;../test/fixtures/raw_email_reply&quot;)
 mail.in_reply_to #=&gt; [&quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008468_source')" id="l_M008468_source">show source</a> ]</p>
  <div id="M008468_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 621</span>
621:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_reply_to</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
622:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'in-reply-to'</span>]
623:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">ids</span>
624:       <span class="ruby-keyword kw">else</span>
625:         <span class="ruby-identifier">default</span>
626:       <span class="ruby-keyword kw">end</span>
627:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008469" class="method">
  <div id="M008469_title" class="title">
    <b>in_reply_to=</b>( *idstrs )
  </div>
  <div class="description">
  <p>
Destructively sets the value of the &quot;In-<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To:&quot; field of an
email.
</p>
<p>
Accepts an array of a single string of a message id
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.in_reply_to = [&quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;]
 mail.in_reply_to #=&gt; [&quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008469_source')" id="l_M008469_source">show source</a> ]</p>
  <div id="M008469_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 638</span>
638:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_reply_to=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">idstrs</span> )
639:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'In-Reply-To'</span>, <span class="ruby-identifier">idstrs</span>
640:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008531" class="method">
  <div id="M008531_title" class="title">
    <b>indexes</b>( *args )
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008530&name=values_at">values_at</a>
</p>
  </div>
</div>
<div id="M008532" class="method">
  <div id="M008532_title" class="title">
    <b>indices</b>( *args )
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008530&name=values_at">values_at</a>
</p>
  </div>
</div>
<div id="M008509" class="method">
  <div id="M008509_title" class="title">
    <b>inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008509_source')" id="l_M008509_source">show source</a> ]</p>
  <div id="M008509_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 152</span>
152:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
153:       <span class="ruby-node">&quot;\#&lt;#{self.class} port=#{@port.inspect} bodyport=#{@body_port.inspect}&gt;&quot;</span>
154:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008529" class="method">
  <div id="M008529_title" class="title">
    <b>key?</b>( key )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008529_source')" id="l_M008529_source">show source</a> ]</p>
  <div id="M008529_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 375</span>
375:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">key?</span>( <span class="ruby-identifier">key</span> )
376:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">downcase</span>
377:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008528" class="method">
  <div id="M008528_title" class="title">
    <b>keys</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008528_source')" id="l_M008528_source">show source</a> ]</p>
  <div id="M008528_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 371</span>
371:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keys</span>
372:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">keys</span>
373:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008475" class="method">
  <div id="M008475_title" class="title">
    <b>main_type</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the current main type of the &quot;Content-Type&quot; of the mail
instance.
</p>
<p>
If the <a href="index.html?a=M008474&name=content_type">content_type</a>
field does not exist, returns nil by default or you can pass in as the
parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.main_type #=&gt; nil
 mail.main_type([]) #=&gt; []
 mail = TMail::Mail.load(&quot;../test/fixtures/raw_email&quot;)
 mail.main_type #=&gt; &quot;text&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008475_source')" id="l_M008475_source">show source</a> ]</p>
  <div id="M008475_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 745</span>
745:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">main_type</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
746:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>]
747:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">main_type</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
748:       <span class="ruby-keyword kw">else</span>
749:         <span class="ruby-identifier">default</span>
750:       <span class="ruby-keyword kw">end</span>
751:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008466" class="method">
  <div id="M008466_title" class="title">
    <b>message_id</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the message ID for this mail object instance.
</p>
<p>
If the <a href="index.html?a=M008466&name=message_id">message_id</a> field
does not exist, returns nil by default or you can pass in as the parameter
for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.message_id #=&gt; nil
 mail.message_id(TMail.new_message_id) #=&gt; &quot;&lt;47404c5326d9c_2ad4fbb80161@baci.local.tmail&gt;&quot;
 mail.message_id = TMail.new_message_id
 mail.message_id #=&gt; &quot;&lt;47404c5326d9c_2ad4fbb80161@baci.local.tmail&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008466_source')" id="l_M008466_source">show source</a> ]</p>
  <div id="M008466_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 585</span>
585:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">message_id</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
586:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'message-id'</span>]
587:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
588:       <span class="ruby-keyword kw">else</span>
589:         <span class="ruby-identifier">default</span>
590:       <span class="ruby-keyword kw">end</span>
591:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008467" class="method">
  <div id="M008467_title" class="title">
    <b>message_id=</b>( str )
  </div>
  <div class="description">
  <p>
Destructively sets the message ID of the mail object instance to the passed
in string
</p>
<p>
Invalid message IDs are ignored (silently, unless configured otherwise) and
result in a nil message ID. Left and right angle brackets are required.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.message_id = &quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;
 mail.message_id #=&gt; &quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;
 mail.message_id = &quot;this_is_my_badly_formatted_message_id&quot;
 mail.message_id #=&gt; nil
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008467_source')" id="l_M008467_source">show source</a> ]</p>
  <div id="M008467_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 605</span>
605:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">message_id=</span>( <span class="ruby-identifier">str</span> )
606:       <span class="ruby-identifier">set_string_attr</span> <span class="ruby-value str">'Message-Id'</span>, <span class="ruby-identifier">str</span>
607:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008553" class="method">
  <div id="M008553_title" class="title">
    <b>mime_encode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008553_source')" id="l_M008553_source">show source</a> ]</p>
  <div id="M008553_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 88</span>
88:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_encode</span>
89:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">empty?</span>
90:         <span class="ruby-identifier">mime_encode_singlepart</span>
91:       <span class="ruby-keyword kw">else</span>
92:         <span class="ruby-identifier">mime_encode_multipart</span> <span class="ruby-keyword kw">true</span>
93:       <span class="ruby-keyword kw">end</span>
94:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008556" class="method">
  <div id="M008556_title" class="title">
    <b>mime_encode_binary</b>( body )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008556_source')" id="l_M008556_source">show source</a> ]</p>
  <div id="M008556_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 112</span>
112:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_encode_binary</span>( <span class="ruby-identifier">body</span> )
113:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = [<span class="ruby-identifier">body</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'m'</span>)
114:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_content_type</span> <span class="ruby-value str">'application'</span>, <span class="ruby-value str">'octet-stream'</span>
115:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-value str">'Base64'</span>
116:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008557" class="method">
  <div id="M008557_title" class="title">
    <b>mime_encode_multipart</b>( top = true )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008557_source')" id="l_M008557_source">show source</a> ]</p>
  <div id="M008557_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 118</span>
118:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_encode_multipart</span>( <span class="ruby-identifier">top</span> = <span class="ruby-keyword kw">true</span> )
119:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">mime_version</span> = <span class="ruby-value str">'1.0'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">top</span>
120:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_content_type</span> <span class="ruby-value str">'multipart'</span>, <span class="ruby-value str">'mixed'</span>
121:       <span class="ruby-identifier">e</span> = <span class="ruby-identifier">encoding</span>(<span class="ruby-keyword kw">nil</span>)
122:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-regexp re">/\A(?:7bit|8bit|binary)\z/i</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">e</span>
123:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
124:               <span class="ruby-value str">'using C.T.Encoding with multipart mail is not permitted'</span>
125:       <span class="ruby-keyword kw">end</span>
126:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008554" class="method">
  <div id="M008554_title" class="title">
    <b>mime_encode_singlepart</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008554_source')" id="l_M008554_source">show source</a> ]</p>
  <div id="M008554_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 96</span>
 96:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_encode_singlepart</span>
 97:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">mime_version</span> = <span class="ruby-value str">'1.0'</span>
 98:       <span class="ruby-identifier">b</span> = <span class="ruby-identifier">body</span>
 99:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">NKF</span>.<span class="ruby-identifier">guess</span>(<span class="ruby-identifier">b</span>) <span class="ruby-operator">!=</span> <span class="ruby-constant">NKF</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>
100:         <span class="ruby-identifier">mime_encode_text</span> <span class="ruby-identifier">b</span>
101:       <span class="ruby-keyword kw">else</span>
102:         <span class="ruby-identifier">mime_encode_binary</span> <span class="ruby-identifier">b</span>
103:       <span class="ruby-keyword kw">end</span>
104:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008555" class="method">
  <div id="M008555_title" class="title">
    <b>mime_encode_text</b>( body )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008555_source')" id="l_M008555_source">show source</a> ]</p>
  <div id="M008555_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 106</span>
106:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_encode_text</span>( <span class="ruby-identifier">body</span> )
107:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-constant">NKF</span>.<span class="ruby-identifier">nkf</span>(<span class="ruby-value str">'-j -m0'</span>, <span class="ruby-identifier">body</span>)
108:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_content_type</span> <span class="ruby-value str">'text'</span>, <span class="ruby-value str">'plain'</span>, {<span class="ruby-value str">'charset'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'iso-2022-jp'</span>}
109:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-value str">'7bit'</span>
110:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008472" class="method">
  <div id="M008472_title" class="title">
    <b>mime_version</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the listed MIME version of this email from the &quot;<a
href="index.html?a=C00001190&name=Mime">Mime</a>-Version:&quot; header
field
</p>
<p>
If the <a href="index.html?a=M008472&name=mime_version">mime_version</a>
field does not exist, returns nil by default or you can pass in as the
parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.mime_version #=&gt; nil
 mail.mime_version([]) #=&gt; []
 mail = TMail::Mail.load(&quot;../test/fixtures/raw_email&quot;)
 mail.mime_version #=&gt; &quot;1.0&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008472_source')" id="l_M008472_source">show source</a> ]</p>
  <div id="M008472_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 691</span>
691:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_version</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
692:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'mime-version'</span>]
693:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
694:       <span class="ruby-keyword kw">else</span>
695:         <span class="ruby-identifier">default</span>
696:       <span class="ruby-keyword kw">end</span>
697:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008473" class="method">
  <div id="M008473_title" class="title">
    <b>mime_version=</b>( m, opt = nil )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008473_source')" id="l_M008473_source">show source</a> ]</p>
  <div id="M008473_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 699</span>
699:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_version=</span>( <span class="ruby-identifier">m</span>, <span class="ruby-identifier">opt</span> = <span class="ruby-keyword kw">nil</span> )
700:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>
701:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'mime-version'</span>]
702:           <span class="ruby-identifier">h</span>.<span class="ruby-identifier">major</span> = <span class="ruby-identifier">m</span>
703:           <span class="ruby-identifier">h</span>.<span class="ruby-identifier">minor</span> = <span class="ruby-identifier">opt</span>
704:         <span class="ruby-keyword kw">else</span>
705:           <span class="ruby-identifier">store</span> <span class="ruby-value str">'Mime-Version'</span>, <span class="ruby-node">&quot;#{m}.#{opt}&quot;</span>
706:         <span class="ruby-keyword kw">end</span>
707:       <span class="ruby-keyword kw">else</span>
708:         <span class="ruby-identifier">store</span> <span class="ruby-value str">'Mime-Version'</span>, <span class="ruby-identifier">m</span>
709:       <span class="ruby-keyword kw">end</span>
710:       <span class="ruby-identifier">m</span>
711:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008504" class="method">
  <div id="M008504_title" class="title">
    <b>multipart?</b>()
  </div>
  <div class="description">
  <p>
Returns true if the <a href="index.html?a=C00001431&name=Mail">Mail</a>
object is a multipart message
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008504_source')" id="l_M008504_source">show source</a> ]</p>
  <div id="M008504_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1063</span>
1063:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">multipart?</span>
1064:       <span class="ruby-identifier">main_type</span>(<span class="ruby-value str">''</span>).<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'multipart'</span>
1065:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008524" class="method">
  <div id="M008524_title" class="title">
    <b>ordered_each</b>() {|name, v| ...}
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008524_source')" id="l_M008524_source">show source</a> ]</p>
  <div id="M008524_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 340</span>
340:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ordered_each</span>
341:       <span class="ruby-identifier">list</span> = <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">keys</span>
342:       <span class="ruby-constant">FIELD_ORDER</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
343:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
344:           [<span class="ruby-ivar">@header</span>[<span class="ruby-identifier">name</span>]].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">v</span> }
345:         <span class="ruby-keyword kw">end</span>
346:       <span class="ruby-keyword kw">end</span>
347:       <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
348:         [<span class="ruby-ivar">@header</span>[<span class="ruby-identifier">name</span>]].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">v</span> }
349:       <span class="ruby-keyword kw">end</span>
350:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008542" class="method">
  <div id="M008542_title" class="title">
    <b>parts</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008542_source')" id="l_M008542_source">show source</a> ]</p>
  <div id="M008542_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 496</span>
496:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parts</span>
497:       <span class="ruby-identifier">parse_body</span>
498:       <span class="ruby-ivar">@parts</span>
499:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008538" class="method">
  <div id="M008538_title" class="title">
    <b>preamble</b>()
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008535&name=quoted_body">quoted_body</a>
</p>
  </div>
</div>
<div id="M008539" class="method">
  <div id="M008539_title" class="title">
    <b>preamble=</b>(str)
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008536&name=quoted_body=">quoted_body=</a>
</p>
  </div>
</div>
<div id="M008535" class="method">
  <div id="M008535_title" class="title">
    <b>quoted_body</b>()
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008538&name=preamble">preamble</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008535_source')" id="l_M008535_source">show source</a> ]</p>
  <div id="M008535_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 454</span>
454:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_body</span>
455:       <span class="ruby-identifier">body_port</span>.<span class="ruby-identifier">ropen</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span> }
456:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008536" class="method">
  <div id="M008536_title" class="title">
    <b>quoted_body=</b>(str)
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008539&name=preamble=">preamble=</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008536_source')" id="l_M008536_source">show source</a> ]</p>
  <div id="M008536_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 458</span>
458:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_body=</span> <span class="ruby-identifier">str</span>
459:       <span class="ruby-identifier">body_port</span>.<span class="ruby-identifier">wopen</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span> }
460:       <span class="ruby-identifier">str</span>
461:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008464" class="method">
  <div id="M008464_title" class="title">
    <b>quoted_subject</b>( default = nil )
  </div>
  <div class="description">
  <p>
Alias for <a href="index.html?a=M008463&name=subject">subject</a>
</p>
  </div>
</div>
<div id="M008549" class="method">
  <div id="M008549_title" class="title">
    <b>ready_to_send</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008549_source')" id="l_M008549_source">show source</a> ]</p>
  <div id="M008549_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 62</span>
62:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ready_to_send</span>
63:       <span class="ruby-identifier">delete_no_send_fields</span>
64:       <span class="ruby-identifier">add_message_id</span>
65:       <span class="ruby-identifier">add_date</span>
66:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008470" class="method">
  <div id="M008470_title" class="title">
    <b>references</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the references of this email (prior messages relating to this
message) as an array of message ID strings. Useful when you are trying to
thread an email.
</p>
<p>
If the references field does not exist, returns nil by default or you can
pass in as the parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.references #=&gt; nil
 mail.references([]) #=&gt; []
 mail = TMail::Mail.load(&quot;../test/fixtures/raw_email_reply&quot;)
 mail.references #=&gt; [&quot;&lt;473FF3B8.9020707@xxx.org&gt;&quot;, &quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008470_source')" id="l_M008470_source">show source</a> ]</p>
  <div id="M008470_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 656</span>
656:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">references</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
657:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'references'</span>]
658:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">refs</span>
659:       <span class="ruby-keyword kw">else</span>
660:         <span class="ruby-identifier">default</span>
661:       <span class="ruby-keyword kw">end</span>
662:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008471" class="method">
  <div id="M008471_title" class="title">
    <b>references=</b>( *strs )
  </div>
  <div class="description">
  <p>
Destructively sets the value of the &quot;References:&quot; field of an
email.
</p>
<p>
Accepts an array of strings of message IDs
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.references = [&quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;]
 mail.references #=&gt; [&quot;&lt;348F04F142D69C21-291E56D292BC@xxxx.net&gt;&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008471_source')" id="l_M008471_source">show source</a> ]</p>
  <div id="M008471_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 673</span>
673:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">references=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">strs</span> )
674:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'References'</span>, <span class="ruby-identifier">strs</span>
675:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008502" class="method">
  <div id="M008502_title" class="title">
    <b>reply_addresses</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns an array of reply to addresses that the <a
href="index.html?a=C00001431&name=Mail">Mail</a> object has, or if the <a
href="index.html?a=C00001431&name=Mail">Mail</a> message has no reply-to,
returns an array of the <a href="index.html?a=C00001431&name=Mail">Mail</a>
objects from addresses. Else returns the default which can either be passed
as a parameter or defaults to nil
</p>
<p>
Example:
</p>
<pre>
 mail.from = &quot;Mikel &lt;mikel@lindsaar.net&gt;&quot;
 mail.reply_to = nil
 mail.reply_addresses #=&gt; [&quot;&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008502_source')" id="l_M008502_source">show source</a> ]</p>
  <div id="M008502_source" class="dyn-source">
<pre>
      <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 1048</span>
1048:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_addresses</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
1049:       <span class="ruby-identifier">reply_to_addrs</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">from_addrs</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">default</span>
1050:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008457" class="method">
  <div id="M008457_title" class="title">
    <b>reply_to</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns who the email is from as an Array of email address strings instead
to an Array of <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a>
objects which is what <a
href="index.html?a=M008455&name=Mail#reply_to_addrs">Mail#reply_to_addrs</a>
returns
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.reply_to = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.reply_to #=&gt;  [&quot;mikel@me.org&quot;, &quot;mikel@you.org&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008457_source')" id="l_M008457_source">show source</a> ]</p>
  <div id="M008457_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 454</span>
454:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_to</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
455:       <span class="ruby-identifier">addrs2specs</span>(<span class="ruby-identifier">reply_to_addrs</span>(<span class="ruby-keyword kw">nil</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
456:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008458" class="method">
  <div id="M008458_title" class="title">
    <b>reply_to=</b>( *strs )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To:&quot; field to the
passed array of strings (which should be valid email addresses)
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.reply_to = [&quot;mikel@abc.com&quot;, &quot;Mikel &lt;mikel@xyz.com&gt;&quot;]
 mail.reply_to #=&gt;  [&quot;mikel@abc.org&quot;, &quot;mikel@xyz.org&quot;]
 mail['reply_to'].to_s #=&gt; &quot;mikel@abc.com, Mikel &lt;mikel@xyz.com&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008458_source')" id="l_M008458_source">show source</a> ]</p>
  <div id="M008458_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 467</span>
467:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_to=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">strs</span> )
468:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'Reply-To'</span>, <span class="ruby-identifier">strs</span>
469:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008455" class="method">
  <div id="M008455_title" class="title">
    <b>reply_to_addrs</b>( default = nil )
  </div>
  <div class="description">
  <p>
Return a TMail::Addresses instance for each entry in the &quot;<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To:&quot; field of the
mail object header.
</p>
<p>
If the &quot;<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To:&quot; field does not
exist, will return nil by default or the value you pass as the optional
parameter.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.reply_to_addrs #=&gt; nil
 mail.reply_to_addrs([]) #=&gt; []
 mail.reply_to = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.reply_to_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008455_source')" id="l_M008455_source">show source</a> ]</p>
  <div id="M008455_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 424</span>
424:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_to_addrs</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
425:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'reply-to'</span>]
426:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-value">? </span><span class="ruby-identifier">default</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>
427:       <span class="ruby-keyword kw">else</span>
428:         <span class="ruby-identifier">default</span>
429:       <span class="ruby-keyword kw">end</span>
430:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008456" class="method">
  <div id="M008456_title" class="title">
    <b>reply_to_addrs=</b>( arg )
  </div>
  <div class="description">
  <p>
Destructively set the to value of the &quot;<a
href="index.html?a=C00000078&name=Reply">Reply</a>-To:&quot; header to
equal the passed in argument.
</p>
<p>
<a href="index.html?a=C00001425&name=TMail">TMail</a> will parse your
contents and turn each valid email address into a <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a> object
before assigning it to the mail message.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.reply_to_addrs = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.reply_to_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008456_source')" id="l_M008456_source">show source</a> ]</p>
  <div id="M008456_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 442</span>
442:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_to_addrs=</span>( <span class="ruby-identifier">arg</span> )
443:       <span class="ruby-identifier">set_addrfield</span> <span class="ruby-value str">'reply-to'</span>, <span class="ruby-identifier">arg</span>
444:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008547" class="method">
  <div id="M008547_title" class="title">
    <b>send_text_to</b>( smtp )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008547_source')" id="l_M008547_source">show source</a> ]</p>
  <div id="M008547_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 41</span>
41:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_text_to</span>( <span class="ruby-identifier">smtp</span> )
42:       <span class="ruby-identifier">do_send_to</span>(<span class="ruby-identifier">smtp</span>) <span class="ruby-keyword kw">do</span>
43:         <span class="ruby-identifier">ready_to_send</span>
44:         <span class="ruby-identifier">mime_encode</span>
45:       <span class="ruby-keyword kw">end</span>
46:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008546" class="method">
  <div id="M008546_title" class="title">
    <b>send_to</b>( smtp )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008546_source')" id="l_M008546_source">show source</a> ]</p>
  <div id="M008546_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 35</span>
35:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_to</span>( <span class="ruby-identifier">smtp</span> )
36:       <span class="ruby-identifier">do_send_to</span>(<span class="ruby-identifier">smtp</span>) <span class="ruby-keyword kw">do</span>
37:         <span class="ruby-identifier">ready_to_send</span>
38:       <span class="ruby-keyword kw">end</span>
39:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008548" class="method">
  <div id="M008548_title" class="title">
    <b>send_to_0</b>( smtp, from, to )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008548_source')" id="l_M008548_source">show source</a> ]</p>
  <div id="M008548_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/net.rb, line 56</span>
56:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_to_0</span>( <span class="ruby-identifier">smtp</span>, <span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span> )
57:       <span class="ruby-identifier">smtp</span>.<span class="ruby-identifier">ready</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
58:         <span class="ruby-identifier">encoded</span> <span class="ruby-value str">&quot;\r\n&quot;</span>, <span class="ruby-value str">'j'</span>, <span class="ruby-identifier">f</span>, <span class="ruby-value str">''</span>
59:       <span class="ruby-keyword kw">end</span>
60:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008461" class="method">
  <div id="M008461_title" class="title">
    <b>sender</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns who the sender of this mail is as string instead to an Array of <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a>
objects which is what <a
href="index.html?a=M008459&name=Mail#sender_addr">Mail#sender_addr</a>
returns
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.sender = &quot;Mikel &lt;mikel@me.org&gt;&quot;
 mail.sender #=&gt;  &quot;mikel@me.org&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008461_source')" id="l_M008461_source">show source</a> ]</p>
  <div id="M008461_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 517</span>
517:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sender</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
518:       <span class="ruby-identifier">f</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'sender'</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span>
519:       <span class="ruby-identifier">a</span> = <span class="ruby-identifier">f</span>.<span class="ruby-identifier">addr</span>            <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span>
520:       <span class="ruby-identifier">a</span>.<span class="ruby-identifier">spec</span>
521:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008462" class="method">
  <div id="M008462_title" class="title">
    <b>sender=</b>( str )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;Sender:&quot; field to the passed string
(which should be a valid email address)
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.sender = &quot;mikel@abc.com&quot;
 mail.sender #=&gt;  &quot;mikel@abc.org&quot;
 mail['sender'].to_s #=&gt; &quot;mikel@abc.com&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008462_source')" id="l_M008462_source">show source</a> ]</p>
  <div id="M008462_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 532</span>
532:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sender=</span>( <span class="ruby-identifier">str</span> )
533:       <span class="ruby-identifier">set_string_attr</span> <span class="ruby-value str">'Sender'</span>, <span class="ruby-identifier">str</span>
534:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008459" class="method">
  <div id="M008459_title" class="title">
    <b>sender_addr</b>( default = nil )
  </div>
  <div class="description">
  <p>
Return a TMail::Addresses instance of the &quot;Sender:&quot; field of the
mail object header.
</p>
<p>
If the &quot;Sender:&quot; field does not exist, will return nil by default
or the value you pass as the optional parameter.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.sender #=&gt; nil
 mail.sender([]) #=&gt; []
 mail.sender = &quot;Mikel &lt;mikel@me.org&gt;&quot;
 mail.reply_to_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008459_source')" id="l_M008459_source">show source</a> ]</p>
  <div id="M008459_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 483</span>
483:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sender_addr</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
484:       <span class="ruby-identifier">f</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'sender'</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span>
485:       <span class="ruby-identifier">f</span>.<span class="ruby-identifier">addr</span>                <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span>
486:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008460" class="method">
  <div id="M008460_title" class="title">
    <b>sender_addr=</b>( addr )
  </div>
  <div class="description">
  <p>
Destructively set the to value of the &quot;Sender:&quot; header to equal
the passed in argument.
</p>
<p>
<a href="index.html?a=C00001425&name=TMail">TMail</a> will parse your
contents and turn each valid email address into a <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a> object
before assigning it to the mail message.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.sender_addrs = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.sender_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008460_source')" id="l_M008460_source">show source</a> ]</p>
  <div id="M008460_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 498</span>
498:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sender_addr=</span>( <span class="ruby-identifier">addr</span> )
499:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">addr</span>
500:         <span class="ruby-identifier">h</span> = <span class="ruby-constant">HeaderField</span>.<span class="ruby-identifier">internal_new</span>(<span class="ruby-value str">'sender'</span>, <span class="ruby-ivar">@config</span>)
501:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addr</span> = <span class="ruby-identifier">addr</span>
502:         <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'sender'</span>] = <span class="ruby-identifier">h</span>
503:       <span class="ruby-keyword kw">else</span>
504:         <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">'sender'</span>
505:       <span class="ruby-keyword kw">end</span>
506:       <span class="ruby-identifier">addr</span>
507:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008492" class="method">
  <div id="M008492_title" class="title">
    <b>set_content_disposition</b>( str, params = nil )
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M008490&name=set_disposition">set_disposition</a>
</p>
  </div>
</div>
<div id="M008477" class="method">
  <div id="M008477_title" class="title">
    <b>set_content_type</b>( str, sub = nil, param = nil )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;Content-Type:&quot; header field of this mail
object
</p>
<p>
Allows you to set the main type, sub type as well as parameters to the
field. The main type and sub type need to be a string.
</p>
<p>
The optional params hash can be passed with keys as symbols and values as a
string, or strings as keys and values.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.set_content_type(&quot;text&quot;, &quot;plain&quot;)
 mail.to_s #=&gt; &quot;Content-Type: text/plain\n\n&quot;

 mail.set_content_type(&quot;text&quot;, &quot;plain&quot;, {:charset =&gt; &quot;EUC-KR&quot;, :format =&gt; &quot;flowed&quot;})
 mail.to_s #=&gt; &quot;Content-Type: text/plain; charset=EUC-KR; format=flowed\n\n&quot;

 mail.set_content_type(&quot;text&quot;, &quot;plain&quot;, {&quot;charset&quot; =&gt; &quot;EUC-KR&quot;, &quot;format&quot; =&gt; &quot;flowed&quot;})
 mail.to_s #=&gt; &quot;Content-Type: text/plain; charset=EUC-KR; format=flowed\n\n&quot;
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008478&name=content_type=">content_type=</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008477_source')" id="l_M008477_source">show source</a> ]</p>
  <div id="M008477_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 792</span>
792:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_content_type</span>( <span class="ruby-identifier">str</span>, <span class="ruby-identifier">sub</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">param</span> = <span class="ruby-keyword kw">nil</span> )
793:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sub</span>
794:         <span class="ruby-identifier">main</span>, <span class="ruby-identifier">sub</span> = <span class="ruby-identifier">str</span>, <span class="ruby-identifier">sub</span>
795:       <span class="ruby-keyword kw">else</span>
796:         <span class="ruby-identifier">main</span>, <span class="ruby-identifier">sub</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">%r&lt;/&gt;</span>, <span class="ruby-value">2</span>)
797:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;sub type missing: #{str.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">sub</span>
798:       <span class="ruby-keyword kw">end</span>
799:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>]
800:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">main_type</span> = <span class="ruby-identifier">main</span>
801:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">sub_type</span>  = <span class="ruby-identifier">sub</span>
802:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">params</span>.<span class="ruby-identifier">clear</span>
803:       <span class="ruby-keyword kw">else</span>
804:         <span class="ruby-identifier">store</span> <span class="ruby-value str">'Content-Type'</span>, <span class="ruby-node">&quot;#{main}/#{sub}&quot;</span>
805:       <span class="ruby-keyword kw">end</span>
806:       <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>].<span class="ruby-identifier">params</span>.<span class="ruby-identifier">replace</span> <span class="ruby-identifier">param</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">param</span>
807:       <span class="ruby-identifier">str</span>
808:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008490" class="method">
  <div id="M008490_title" class="title">
    <b>set_disposition</b>( str, params = nil )
  </div>
  <div class="description">
  <p>
Allows you to set the content-disposition of the mail object. Accepts a
type and a hash of parameters.
</p>
<p>
Example:
</p>
<pre>
 mail.set_disposition(&quot;attachment&quot;, {:filename =&gt; &quot;test.rb&quot;})
 mail.disposition #=&gt; &quot;attachment&quot;
 mail['content-disposition'].to_s #=&gt; &quot;attachment; filename=test.rb&quot;
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008491&name=disposition=">disposition=</a>
  <a href="index.html?a=M008492&name=set_content_disposition">set_content_disposition</a>
  <a href="index.html?a=M008493&name=content_disposition=">content_disposition=</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008490_source')" id="l_M008490_source">show source</a> ]</p>
  <div id="M008490_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 941</span>
941:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_disposition</span>( <span class="ruby-identifier">str</span>, <span class="ruby-identifier">params</span> = <span class="ruby-keyword kw">nil</span> )
942:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-disposition'</span>]
943:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">disposition</span> = <span class="ruby-identifier">str</span>
944:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">params</span>.<span class="ruby-identifier">clear</span>
945:       <span class="ruby-keyword kw">else</span>
946:         <span class="ruby-identifier">store</span>(<span class="ruby-value str">'Content-Disposition'</span>, <span class="ruby-identifier">str</span>)
947:         <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-disposition'</span>]
948:       <span class="ruby-keyword kw">end</span>
949:       <span class="ruby-identifier">h</span>.<span class="ruby-identifier">params</span>.<span class="ruby-identifier">replace</span> <span class="ruby-identifier">params</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>
950:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008517" class="method">
  <div id="M008517_title" class="title">
    <b>store</b>( key, val )
  </div>
  <div class="description">
  <p>
Alias for #[]=
</p>
  </div>
</div>
<div id="M008437" class="method">
  <div id="M008437_title" class="title">
    <b>strftime</b>( fmt, default = nil )
  </div>
  <div class="description">
  <p>
Returns the time of the mail message formatted to your taste using a
strftime format string. If no date set returns nil by default or whatever
value you pass as the second optional parameter.
</p>
<pre>
 time = Time.now # (on Nov 16 2007)
 mail.date = time
 mail.strftime(&quot;%D&quot;) #=&gt; &quot;11/16/07&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008437_source')" id="l_M008437_source">show source</a> ]</p>
  <div id="M008437_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 148</span>
148:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strftime</span>( <span class="ruby-identifier">fmt</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
149:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">t</span> = <span class="ruby-identifier">date</span>
150:         <span class="ruby-identifier">t</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-identifier">fmt</span>)
151:       <span class="ruby-keyword kw">else</span>
152:         <span class="ruby-identifier">default</span>
153:       <span class="ruby-keyword kw">end</span>
154:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008514" class="method">
  <div id="M008514_title" class="title">
    <b>sub_header</b>(key, param)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008514_source')" id="l_M008514_source">show source</a> ]</p>
  <div id="M008514_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 251</span>
251:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sub_header</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">param</span>)
252:       (<span class="ruby-identifier">hdr</span> = <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">key</span>]) <span class="ruby-operator">?</span> <span class="ruby-identifier">hdr</span>[<span class="ruby-identifier">param</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
253:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008476" class="method">
  <div id="M008476_title" class="title">
    <b>sub_type</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the current sub type of the &quot;Content-Type&quot; of the mail
instance.
</p>
<p>
If the <a href="index.html?a=M008474&name=content_type">content_type</a>
field does not exist, returns nil by default or you can pass in as the
parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.sub_type #=&gt; nil
 mail.sub_type([]) #=&gt; []
 mail = TMail::Mail.load(&quot;../test/fixtures/raw_email&quot;)
 mail.sub_type #=&gt; &quot;plain&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008476_source')" id="l_M008476_source">show source</a> ]</p>
  <div id="M008476_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 765</span>
765:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sub_type</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
766:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>]
767:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">sub_type</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
768:       <span class="ruby-keyword kw">else</span>
769:         <span class="ruby-identifier">default</span>
770:       <span class="ruby-keyword kw">end</span>
771:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008463" class="method">
  <div id="M008463_title" class="title">
    <b>subject</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the subject of the mail instance.
</p>
<p>
If the subject field does not exist, returns nil by default or you can pass
in as the parameter for what you want the default value to be.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.subject #=&gt; nil
 mail.subject(&quot;&quot;) #=&gt; &quot;&quot;
 mail.subject = &quot;Hello&quot;
 mail.subject #=&gt; &quot;Hello&quot;
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008464&name=quoted_subject">quoted_subject</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008463_source')" id="l_M008463_source">show source</a> ]</p>
  <div id="M008463_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 550</span>
550:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
551:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'subject'</span>]
552:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">body</span>
553:       <span class="ruby-keyword kw">else</span>
554:         <span class="ruby-identifier">default</span>
555:       <span class="ruby-keyword kw">end</span>
556:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008558" class="method">
  <div id="M008558_title" class="title">
    <b>subject</b>(to_charset = 'utf-8')
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008558_source')" id="l_M008558_source">show source</a> ]</p>
  <div id="M008558_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/quoting.rb, line 8</span>
 8:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject</span>(<span class="ruby-identifier">to_charset</span> = <span class="ruby-value str">'utf-8'</span>)
 9:       <span class="ruby-constant">Unquoter</span>.<span class="ruby-identifier">unquote_and_convert_to</span>(<span class="ruby-identifier">quoted_subject</span>, <span class="ruby-identifier">to_charset</span>)
10:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008465" class="method">
  <div id="M008465_title" class="title">
    <b>subject=</b>( str )
  </div>
  <div class="description">
  <p>
Destructively sets the passed string as the subject of the mail message.
</p>
<p>
Example
</p>
<pre>
 mail = TMail::Mail.new
 mail.subject #=&gt; &quot;This subject&quot;
 mail.subject = &quot;Another subject&quot;
 mail.subject #=&gt; &quot;Another subject&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008465_source')" id="l_M008465_source">show source</a> ]</p>
  <div id="M008465_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 567</span>
567:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject=</span>( <span class="ruby-identifier">str</span> )
568:       <span class="ruby-identifier">set_string_attr</span> <span class="ruby-value str">'Subject'</span>, <span class="ruby-identifier">str</span>
569:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008444" class="method">
  <div id="M008444_title" class="title">
    <b>to</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns who the email is to as an Array of email addresses as opposed to an
Array of <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a>
objects which is what <a
href="index.html?a=M008438&name=Mail#to_addrs">Mail#to_addrs</a> returns
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.to = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.to #=&gt;  [&quot;mikel@me.org&quot;, &quot;mikel@you.org&quot;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008444_source')" id="l_M008444_source">show source</a> ]</p>
  <div id="M008444_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 268</span>
268:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
269:       <span class="ruby-identifier">addrs2specs</span>(<span class="ruby-identifier">to_addrs</span>(<span class="ruby-keyword kw">nil</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
270:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008447" class="method">
  <div id="M008447_title" class="title">
    <b>to=</b>( *strs )
  </div>
  <div class="description">
  <p>
Destructively sets the &quot;To:&quot; field to the passed array of strings
(which should be valid email addresses)
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.to = [&quot;mikel@abc.com&quot;, &quot;Mikel &lt;mikel@xyz.com&gt;&quot;]
 mail.to #=&gt;  [&quot;mikel@abc.org&quot;, &quot;mikel@xyz.org&quot;]
 mail['to'].to_s #=&gt; &quot;mikel@abc.com, Mikel &lt;mikel@xyz.com&gt;&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008447_source')" id="l_M008447_source">show source</a> ]</p>
  <div id="M008447_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 305</span>
305:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to=</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">strs</span> )
306:       <span class="ruby-identifier">set_string_array_attr</span> <span class="ruby-value str">'To'</span>, <span class="ruby-identifier">strs</span>
307:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008438" class="method">
  <div id="M008438_title" class="title">
    <b>to_addrs</b>( default = nil )
  </div>
  <div class="description">
  <p>
Return a TMail::Addresses instance for each entry in the &quot;To:&quot;
field of the mail object header.
</p>
<p>
If the &quot;To:&quot; field does not exist, will return nil by default or
the value you pass as the optional parameter.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.to_addrs #=&gt; nil
 mail.to_addrs([]) #=&gt; []
 mail.to = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.to_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008438_source')" id="l_M008438_source">show source</a> ]</p>
  <div id="M008438_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 170</span>
170:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_addrs</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
171:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'to'</span>]
172:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">addrs</span>
173:       <span class="ruby-keyword kw">else</span>
174:         <span class="ruby-identifier">default</span>
175:       <span class="ruby-keyword kw">end</span>
176:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008441" class="method">
  <div id="M008441_title" class="title">
    <b>to_addrs=</b>( arg )
  </div>
  <div class="description">
  <p>
Destructively set the to field of the &quot;To:&quot; header to equal the
passed in string.
</p>
<p>
<a href="index.html?a=C00001425&name=TMail">TMail</a> will parse your
contents and turn each valid email address into a <a
href="index.html?a=C00001450&name=TMail::Address">TMail::Address</a> object
before assigning it to the mail message.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.to = &quot;Mikel &lt;mikel@me.org&gt;, another Mikel &lt;mikel@you.org&gt;&quot;
 mail.to_addrs #=&gt;  [#&lt;TMail::Address mikel@me.org&gt;, #&lt;TMail::Address mikel@you.org&gt;]
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008441_source')" id="l_M008441_source">show source</a> ]</p>
  <div id="M008441_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 228</span>
228:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_addrs=</span>( <span class="ruby-identifier">arg</span> )
229:       <span class="ruby-identifier">set_addrfield</span> <span class="ruby-value str">'to'</span>, <span class="ruby-identifier">arg</span>
230:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008482" class="method">
  <div id="M008482_title" class="title">
    <b>transfer_encoding</b>( default = nil )
  </div>
  <div class="description">
  <p>
Returns the transfer encoding of the email. Returns nil if no encoding set
or returns whatever default you pass as a parameter - note passing the
parameter does NOT change the mail object in any way.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.load(&quot;path_to/base64_encoded_email&quot;)
 mail.transfer_encoding #=&gt; &quot;base64&quot;

 mail = TMail::Mail.new
 mail.transfer_encoding #=&gt; nil
 mail.transfer_encoding(&quot;base64&quot;) #=&gt; &quot;base64&quot;
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008484&name=encoding">encoding</a>
  <a href="index.html?a=M008486&name=content_transfer_encoding">content_transfer_encoding</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008482_source')" id="l_M008482_source">show source</a> ]</p>
  <div id="M008482_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 884</span>
884:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transfer_encoding</span>( <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
885:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-transfer-encoding'</span>]
886:         <span class="ruby-identifier">h</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
887:       <span class="ruby-keyword kw">else</span>
888:         <span class="ruby-identifier">default</span>
889:       <span class="ruby-keyword kw">end</span>
890:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008483" class="method">
  <div id="M008483_title" class="title">
    <b>transfer_encoding=</b>( str )
  </div>
  <div class="description">
  <p>
Destructively sets the transfer encoding of the mail object to the passed
string, you should note though that this does nothing to the mail body,
just changes the header value, you will need to encode or decode the body
as well to match whatever you put in this header value.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.transfer_encoding #=&gt; nil
 mail.transfer_encoding = &quot;base64&quot;
 mail.transfer_encoding #=&gt; &quot;base64&quot;
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008485&name=encoding=">encoding=</a>
  <a href="index.html?a=M008487&name=content_transfer_encoding=">content_transfer_encoding=</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008483_source')" id="l_M008483_source">show source</a> ]</p>
  <div id="M008483_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 903</span>
903:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transfer_encoding=</span>( <span class="ruby-identifier">str</span> )
904:       <span class="ruby-identifier">set_string_attr</span> <span class="ruby-value str">'Content-Transfer-Encoding'</span>, <span class="ruby-identifier">str</span>
905:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008479" class="method">
  <div id="M008479_title" class="title">
    <b>type_param</b>( name, default = nil )
  </div>
  <div class="description">
  <p>
Returns the named type parameter as a string, from the
&quot;Content-Type:&quot; header.
</p>
<p>
Example:
</p>
<pre>
 mail = TMail::Mail.new
 mail.type_param(&quot;charset&quot;) #=&gt; nil
 mail.type_param(&quot;charset&quot;, []) #=&gt; []
 mail.set_content_type(&quot;text&quot;, &quot;plain&quot;, {:charset =&gt; &quot;EUC-KR&quot;, :format =&gt; &quot;flowed&quot;})
 mail.type_param(&quot;charset&quot;) #=&gt; &quot;EUC-KR&quot;
 mail.type_param(&quot;format&quot;) #=&gt; &quot;flowed&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008479_source')" id="l_M008479_source">show source</a> ]</p>
  <div id="M008479_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/interface.rb, line 822</span>
822:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_param</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span> )
823:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@header</span>[<span class="ruby-value str">'content-type'</span>]
824:         <span class="ruby-identifier">h</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
825:       <span class="ruby-keyword kw">else</span>
826:         <span class="ruby-identifier">default</span>
827:       <span class="ruby-keyword kw">end</span>
828:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008559" class="method">
  <div id="M008559_title" class="title">
    <b>unquoted_body</b>(to_charset = 'utf-8')
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008559_source')" id="l_M008559_source">show source</a> ]</p>
  <div id="M008559_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/quoting.rb, line 12</span>
12:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unquoted_body</span>(<span class="ruby-identifier">to_charset</span> = <span class="ruby-value str">'utf-8'</span>)
13:       <span class="ruby-identifier">from_charset</span> = <span class="ruby-identifier">sub_header</span>(<span class="ruby-value str">&quot;content-type&quot;</span>, <span class="ruby-value str">&quot;charset&quot;</span>)
14:       <span class="ruby-keyword kw">case</span> (<span class="ruby-identifier">content_transfer_encoding</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;7bit&quot;</span>).<span class="ruby-identifier">downcase</span>
15:         <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;quoted-printable&quot;</span>
16:           <span class="ruby-comment cmt"># the default charset is set to iso-8859-1 instead of 'us-ascii'.</span>
17:           <span class="ruby-comment cmt"># This is needed as many mailer do not set the charset but send in ISO. This is only used if no charset is set.</span>
18:           <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">from_charset</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">from_charset</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'us-ascii'</span>
19:             <span class="ruby-identifier">from_charset</span> = <span class="ruby-value str">'iso-8859-1'</span>
20:           <span class="ruby-keyword kw">end</span>
21: 
22:           <span class="ruby-constant">Unquoter</span>.<span class="ruby-identifier">unquote_quoted_printable_and_convert_to</span>(<span class="ruby-identifier">quoted_body</span>,
23:             <span class="ruby-identifier">to_charset</span>, <span class="ruby-identifier">from_charset</span>, <span class="ruby-keyword kw">true</span>)
24:         <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;base64&quot;</span>
25:           <span class="ruby-constant">Unquoter</span>.<span class="ruby-identifier">unquote_base64_and_convert_to</span>(<span class="ruby-identifier">quoted_body</span>, <span class="ruby-identifier">to_charset</span>,
26:             <span class="ruby-identifier">from_charset</span>)
27:         <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;7bit&quot;</span>, <span class="ruby-value str">&quot;8bit&quot;</span>
28:           <span class="ruby-constant">Unquoter</span>.<span class="ruby-identifier">convert_to</span>(<span class="ruby-identifier">quoted_body</span>, <span class="ruby-identifier">to_charset</span>, <span class="ruby-identifier">from_charset</span>)
29:         <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;binary&quot;</span>
30:           <span class="ruby-identifier">quoted_body</span>
31:         <span class="ruby-keyword kw">else</span>
32:           <span class="ruby-identifier">quoted_body</span>
33:       <span class="ruby-keyword kw">end</span>
34:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008530" class="method">
  <div id="M008530_title" class="title">
    <b>values_at</b>( *args )
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M008531&name=indexes">indexes</a>
  <a href="index.html?a=M008532&name=indices">indices</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008530_source')" id="l_M008530_source">show source</a> ]</p>
  <div id="M008530_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 379</span>
379:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values_at</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
380:       <span class="ruby-identifier">args</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@header</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">downcase</span>] }.<span class="ruby-identifier">flatten</span>
381:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008510" class="method">
  <div id="M008510_title" class="title">
    <b>write_back</b>( eol = &quot;\n&quot;, charset = 'e' )
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008510_source')" id="l_M008510_source">show source</a> ]</p>
  <div id="M008510_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionmailer/lib/action_mailer/vendor/tmail-1.2.3/tmail/mail.rb, line 164</span>
164:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_back</span>( <span class="ruby-identifier">eol</span> = <span class="ruby-value str">&quot;\n&quot;</span>, <span class="ruby-identifier">charset</span> = <span class="ruby-value str">'e'</span> )
165:       <span class="ruby-identifier">parse_body</span>
166:       <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">wopen</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">stream</span><span class="ruby-operator">|</span> <span class="ruby-identifier">encoded</span> <span class="ruby-identifier">eol</span>, <span class="ruby-identifier">charset</span>, <span class="ruby-identifier">stream</span> }
167:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>