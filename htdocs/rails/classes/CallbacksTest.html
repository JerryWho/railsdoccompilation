  <div id="C00000527">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />CallbacksTest<br/>
  In:
<a href="#" onclick="jsHref('files/activerecord/test/cases/callbacks_test_rb.html');">activerecord/test/cases/callbacks_test.rb</a>
<a href="#" onclick="jsHref('files/activesupport/test/callbacks_test_rb.html');">activesupport/test/callbacks_test.rb</a>

Parent:&nbsp;
ActiveRecord::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M003185&name=test_before_create_returning_false" >test_before_create_returning_false</a></li>
  <li><a href="index.html?a=M003187&name=test_before_destroy_returning_false" >test_before_destroy_returning_false</a></li>
  <li><a href="index.html?a=M003184&name=test_before_save_returning_false" >test_before_save_returning_false</a></li>
  <li><a href="index.html?a=M003186&name=test_before_update_returning_false" >test_before_update_returning_false</a></li>
  <li><a href="index.html?a=M003180&name=test_create" >test_create</a></li>
  <li><a href="index.html?a=M003183&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M003182&name=test_destroy" >test_destroy</a></li>
  <li><a href="index.html?a=M003179&name=test_existing_valid?" >test_existing_valid?</a></li>
  <li><a href="index.html?a=M003177&name=test_find" >test_find</a></li>
  <li><a href="index.html?a=M003189&name=test_inheritence_of_callbacks" >test_inheritence_of_callbacks</a></li>
  <li><a href="index.html?a=M003176&name=test_initialize" >test_initialize</a></li>
  <li><a href="index.html?a=M003178&name=test_new_valid?" >test_new_valid?</a></li>
  <li><a href="index.html?a=M003181&name=test_save" >test_save</a></li>
  <li><a href="index.html?a=M003190&name=test_save_person" >test_save_person</a></li>
  <li><a href="index.html?a=M003188&name=test_zzz_callback_returning_false" >test_zzz_callback_returning_false</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M003185" class="method">
  <div id="M003185_title" class="title">
    <b>test_before_create_returning_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003185_source')" id="l_M003185_source">show source</a> ]</p>
  <div id="M003185_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 370</span>
370:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_before_create_returning_false</span>
371:     <span class="ruby-identifier">someone</span> = <span class="ruby-constant">CallbackCancellationDeveloper</span>.<span class="ruby-identifier">new</span>
372:     <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">cancel_before_create</span> = <span class="ruby-keyword kw">true</span>
373:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">valid?</span>
374:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">someone</span>.<span class="ruby-identifier">save</span>
375:     <span class="ruby-identifier">assert_save_callbacks_not_called</span>(<span class="ruby-identifier">someone</span>)
376:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003187" class="method">
  <div id="M003187_title" class="title">
    <b>test_before_destroy_returning_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003187_source')" id="l_M003187_source">show source</a> ]</p>
  <div id="M003187_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 386</span>
386:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_before_destroy_returning_false</span>
387:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">ImmutableDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
388:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">david</span>.<span class="ruby-identifier">destroy</span>
389:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-constant">ImmutableDeveloper</span>.<span class="ruby-identifier">find_by_id</span>(<span class="ruby-value">1</span>)
390: 
391:     <span class="ruby-identifier">someone</span> = <span class="ruby-constant">CallbackCancellationDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
392:     <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">cancel_before_destroy</span> = <span class="ruby-keyword kw">true</span>
393:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">someone</span>.<span class="ruby-identifier">destroy</span>
394:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">someone</span>.<span class="ruby-identifier">after_destroy_called</span>
395:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003184" class="method">
  <div id="M003184_title" class="title">
    <b>test_before_save_returning_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003184_source')" id="l_M003184_source">show source</a> ]</p>
  <div id="M003184_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 351</span>
351:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_before_save_returning_false</span>
352:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">ImmutableDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
353:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">david</span>.<span class="ruby-identifier">valid?</span>
354:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">david</span>.<span class="ruby-identifier">save</span>
355:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordNotSaved</span>) { <span class="ruby-identifier">david</span>.<span class="ruby-identifier">save!</span> }
356: 
357:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">ImmutableDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
358:     <span class="ruby-identifier">david</span>.<span class="ruby-identifier">salary</span> = <span class="ruby-value">10_000_000</span>
359:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">david</span>.<span class="ruby-identifier">valid?</span>
360:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">david</span>.<span class="ruby-identifier">save</span>
361:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span>) { <span class="ruby-identifier">david</span>.<span class="ruby-identifier">save!</span> }
362: 
363:     <span class="ruby-identifier">someone</span> = <span class="ruby-constant">CallbackCancellationDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
364:     <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">cancel_before_save</span> = <span class="ruby-keyword kw">true</span>
365:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">valid?</span>
366:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">someone</span>.<span class="ruby-identifier">save</span>
367:     <span class="ruby-identifier">assert_save_callbacks_not_called</span>(<span class="ruby-identifier">someone</span>)
368:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003186" class="method">
  <div id="M003186_title" class="title">
    <b>test_before_update_returning_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003186_source')" id="l_M003186_source">show source</a> ]</p>
  <div id="M003186_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 378</span>
378:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_before_update_returning_false</span>
379:     <span class="ruby-identifier">someone</span> = <span class="ruby-constant">CallbackCancellationDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
380:     <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">cancel_before_update</span> = <span class="ruby-keyword kw">true</span>
381:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">someone</span>.<span class="ruby-identifier">valid?</span>
382:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">someone</span>.<span class="ruby-identifier">save</span>
383:     <span class="ruby-identifier">assert_save_callbacks_not_called</span>(<span class="ruby-identifier">someone</span>)
384:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003180" class="method">
  <div id="M003180_title" class="title">
    <b>test_create</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003180_source')" id="l_M003180_source">show source</a> ]</p>
  <div id="M003180_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 224</span>
224:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_create</span>
225:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value str">'name'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'David'</span>, <span class="ruby-value str">'salary'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1000000</span>)
226:     <span class="ruby-identifier">assert_equal</span> [
227:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
228:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
229:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
230:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
231:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:string</span> ],
232:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:proc</span>   ],
233:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:object</span> ],
234:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:block</span>  ],
235:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:string</span> ],
236:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:proc</span>   ],
237:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:object</span> ],
238:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:block</span>  ],
239:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:string</span> ],
240:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:proc</span>   ],
241:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:object</span> ],
242:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:block</span>  ],
243:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:string</span> ],
244:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:proc</span>   ],
245:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:object</span> ],
246:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:block</span>  ],
247:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:string</span> ],
248:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:proc</span>   ],
249:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:object</span> ],
250:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:block</span>  ],
251:       [ <span class="ruby-identifier">:before_create</span>,               <span class="ruby-identifier">:string</span> ],
252:       [ <span class="ruby-identifier">:before_create</span>,               <span class="ruby-identifier">:proc</span>   ],
253:       [ <span class="ruby-identifier">:before_create</span>,               <span class="ruby-identifier">:object</span> ],
254:       [ <span class="ruby-identifier">:before_create</span>,               <span class="ruby-identifier">:block</span>  ],
255:       [ <span class="ruby-identifier">:after_create</span>,                <span class="ruby-identifier">:string</span> ],
256:       [ <span class="ruby-identifier">:after_create</span>,                <span class="ruby-identifier">:proc</span>   ],
257:       [ <span class="ruby-identifier">:after_create</span>,                <span class="ruby-identifier">:object</span> ],
258:       [ <span class="ruby-identifier">:after_create</span>,                <span class="ruby-identifier">:block</span>  ],
259:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:string</span> ],
260:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:proc</span>   ],
261:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:object</span> ],
262:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:block</span>  ]
263:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
264:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003183" class="method">
  <div id="M003183_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003183_source')" id="l_M003183_source">show source</a> ]</p>
  <div id="M003183_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 336</span>
336:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
337:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
338:     <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">david</span>.<span class="ruby-identifier">id</span>)
339:     <span class="ruby-identifier">assert_equal</span> [
340:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:string</span> ],
341:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:proc</span>   ],
342:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:object</span> ],
343:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:block</span>  ],
344:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
345:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
346:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
347:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
348:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
349:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003182" class="method">
  <div id="M003182_title" class="title">
    <b>test_destroy</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003182_source')" id="l_M003182_source">show source</a> ]</p>
  <div id="M003182_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 313</span>
313:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_destroy</span>
314:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
315:     <span class="ruby-identifier">david</span>.<span class="ruby-identifier">destroy</span>
316:     <span class="ruby-identifier">assert_equal</span> [
317:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:string</span> ],
318:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:proc</span>   ],
319:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:object</span> ],
320:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:block</span>  ],
321:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
322:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
323:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
324:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
325:       [ <span class="ruby-identifier">:before_destroy</span>,              <span class="ruby-identifier">:string</span> ],
326:       [ <span class="ruby-identifier">:before_destroy</span>,              <span class="ruby-identifier">:proc</span>   ],
327:       [ <span class="ruby-identifier">:before_destroy</span>,              <span class="ruby-identifier">:object</span> ],
328:       [ <span class="ruby-identifier">:before_destroy</span>,              <span class="ruby-identifier">:block</span>  ],
329:       [ <span class="ruby-identifier">:after_destroy</span>,               <span class="ruby-identifier">:string</span> ],
330:       [ <span class="ruby-identifier">:after_destroy</span>,               <span class="ruby-identifier">:proc</span>   ],
331:       [ <span class="ruby-identifier">:after_destroy</span>,               <span class="ruby-identifier">:object</span> ],
332:       [ <span class="ruby-identifier">:after_destroy</span>,               <span class="ruby-identifier">:block</span>  ]
333:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
334:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003179" class="method">
  <div id="M003179_title" class="title">
    <b>test_existing_valid?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003179_source')" id="l_M003179_source">show source</a> ]</p>
  <div id="M003179_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_existing_valid?</span>
194:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
195:     <span class="ruby-identifier">david</span>.<span class="ruby-identifier">valid?</span>
196:     <span class="ruby-identifier">assert_equal</span> [
197:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:string</span> ],
198:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:proc</span>   ],
199:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:object</span> ],
200:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:block</span>  ],
201:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
202:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
203:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
204:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
205:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:string</span> ],
206:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:proc</span>   ],
207:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:object</span> ],
208:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:block</span>  ],
209:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:string</span> ],
210:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:proc</span>   ],
211:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:object</span> ],
212:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:block</span>  ],
213:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:string</span> ],
214:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:proc</span>   ],
215:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:object</span> ],
216:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:block</span>  ],
217:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:string</span> ],
218:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:proc</span>   ],
219:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:object</span> ],
220:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:block</span>  ]
221:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
222:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003177" class="method">
  <div id="M003177_title" class="title">
    <b>test_find</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003177_source')" id="l_M003177_source">show source</a> ]</p>
  <div id="M003177_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 152</span>
152:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_find</span>
153:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
154:     <span class="ruby-identifier">assert_equal</span> [
155:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:string</span> ],
156:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:proc</span>   ],
157:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:object</span> ],
158:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:block</span>  ],
159:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
160:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
161:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
162:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
163:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
164:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003189" class="method">
  <div id="M003189_title" class="title">
    <b>test_inheritence_of_callbacks</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003189_source')" id="l_M003189_source">show source</a> ]</p>
  <div id="M003189_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 426</span>
426:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_inheritence_of_callbacks</span>
427:     <span class="ruby-identifier">parent</span> = <span class="ruby-constant">ParentDeveloper</span>.<span class="ruby-identifier">new</span>
428:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">parent</span>.<span class="ruby-identifier">after_save_called</span>
429:     <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">save</span>
430:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">after_save_called</span>
431: 
432:     <span class="ruby-identifier">child</span> = <span class="ruby-constant">ChildDeveloper</span>.<span class="ruby-identifier">new</span>
433:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">child</span>.<span class="ruby-identifier">after_save_called</span>
434:     <span class="ruby-identifier">child</span>.<span class="ruby-identifier">save</span>
435:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">after_save_called</span>
436:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003176" class="method">
  <div id="M003176_title" class="title">
    <b>test_initialize</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003176_source')" id="l_M003176_source">show source</a> ]</p>
  <div id="M003176_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 142</span>
142:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_initialize</span>
143:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">new</span>
144:     <span class="ruby-identifier">assert_equal</span> [
145:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
146:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
147:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
148:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
149:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
150:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003178" class="method">
  <div id="M003178_title" class="title">
    <b>test_new_valid?</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003178_source')" id="l_M003178_source">show source</a> ]</p>
  <div id="M003178_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 166</span>
166:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_new_valid?</span>
167:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">new</span>
168:     <span class="ruby-identifier">david</span>.<span class="ruby-identifier">valid?</span>
169:     <span class="ruby-identifier">assert_equal</span> [
170:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
171:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
172:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
173:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
174:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:string</span> ],
175:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:proc</span>   ],
176:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:object</span> ],
177:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:block</span>  ],
178:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:string</span> ],
179:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:proc</span>   ],
180:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:object</span> ],
181:       [ <span class="ruby-identifier">:before_validation_on_create</span>, <span class="ruby-identifier">:block</span>  ],
182:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:string</span> ],
183:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:proc</span>   ],
184:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:object</span> ],
185:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:block</span>  ],
186:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:string</span> ],
187:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:proc</span>   ],
188:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:object</span> ],
189:       [ <span class="ruby-identifier">:after_validation_on_create</span>,  <span class="ruby-identifier">:block</span>  ]
190:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
191:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003181" class="method">
  <div id="M003181_title" class="title">
    <b>test_save</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003181_source')" id="l_M003181_source">show source</a> ]</p>
  <div id="M003181_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 266</span>
266:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save</span>
267:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
268:     <span class="ruby-identifier">david</span>.<span class="ruby-identifier">save</span>
269:     <span class="ruby-identifier">assert_equal</span> [
270:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:string</span> ],
271:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:proc</span>   ],
272:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:object</span> ],
273:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:block</span>  ],
274:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
275:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
276:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
277:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
278:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:string</span> ],
279:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:proc</span>   ],
280:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:object</span> ],
281:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:block</span>  ],
282:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:string</span> ],
283:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:proc</span>   ],
284:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:object</span> ],
285:       [ <span class="ruby-identifier">:before_validation_on_update</span>, <span class="ruby-identifier">:block</span>  ],
286:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:string</span> ],
287:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:proc</span>   ],
288:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:object</span> ],
289:       [ <span class="ruby-identifier">:after_validation</span>,            <span class="ruby-identifier">:block</span>  ],
290:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:string</span> ],
291:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:proc</span>   ],
292:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:object</span> ],
293:       [ <span class="ruby-identifier">:after_validation_on_update</span>,  <span class="ruby-identifier">:block</span>  ],
294:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:string</span> ],
295:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:proc</span>   ],
296:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:object</span> ],
297:       [ <span class="ruby-identifier">:before_save</span>,                 <span class="ruby-identifier">:block</span>  ],
298:       [ <span class="ruby-identifier">:before_update</span>,               <span class="ruby-identifier">:string</span> ],
299:       [ <span class="ruby-identifier">:before_update</span>,               <span class="ruby-identifier">:proc</span>   ],
300:       [ <span class="ruby-identifier">:before_update</span>,               <span class="ruby-identifier">:object</span> ],
301:       [ <span class="ruby-identifier">:before_update</span>,               <span class="ruby-identifier">:block</span>  ],
302:       [ <span class="ruby-identifier">:after_update</span>,                <span class="ruby-identifier">:string</span> ],
303:       [ <span class="ruby-identifier">:after_update</span>,                <span class="ruby-identifier">:proc</span>   ],
304:       [ <span class="ruby-identifier">:after_update</span>,                <span class="ruby-identifier">:object</span> ],
305:       [ <span class="ruby-identifier">:after_update</span>,                <span class="ruby-identifier">:block</span>  ],
306:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:string</span> ],
307:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:proc</span>   ],
308:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:object</span> ],
309:       [ <span class="ruby-identifier">:after_save</span>,                  <span class="ruby-identifier">:block</span>  ]
310:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
311:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003190" class="method">
  <div id="M003190_title" class="title">
    <b>test_save_person</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003190_source')" id="l_M003190_source">show source</a> ]</p>
  <div id="M003190_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activesupport/test/callbacks_test.rb, line 99</span>
 99:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_save_person</span>
100:     <span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">new</span>
101:     <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">person</span>.<span class="ruby-identifier">history</span>
102:     <span class="ruby-identifier">person</span>.<span class="ruby-identifier">save</span>
103:     <span class="ruby-identifier">assert_equal</span> [
104:       [<span class="ruby-identifier">:before_save</span>, <span class="ruby-identifier">:symbol</span>],
105:       [<span class="ruby-identifier">:before_save</span>, <span class="ruby-identifier">:string</span>],
106:       [<span class="ruby-identifier">:before_save</span>, <span class="ruby-identifier">:proc</span>],
107:       [<span class="ruby-identifier">:before_save</span>, <span class="ruby-identifier">:object</span>],
108:       [<span class="ruby-identifier">:before_save</span>, <span class="ruby-identifier">:block</span>],
109:       [<span class="ruby-identifier">:after_save</span>, <span class="ruby-identifier">:symbol</span>],
110:       [<span class="ruby-identifier">:after_save</span>, <span class="ruby-identifier">:string</span>],
111:       [<span class="ruby-identifier">:after_save</span>, <span class="ruby-identifier">:proc</span>],
112:       [<span class="ruby-identifier">:after_save</span>, <span class="ruby-identifier">:object</span>],
113:       [<span class="ruby-identifier">:after_save</span>, <span class="ruby-identifier">:block</span>]
114:     ], <span class="ruby-identifier">person</span>.<span class="ruby-identifier">history</span>
115:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M003188" class="method">
  <div id="M003188_title" class="title">
    <b>test_zzz_callback_returning_false</b>(
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M003188_source')" id="l_M003188_source">show source</a> ]</p>
  <div id="M003188_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File activerecord/test/cases/callbacks_test.rb, line 404</span>
404:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_zzz_callback_returning_false</span> <span class="ruby-comment cmt"># must be run last since we modify CallbackDeveloper</span>
405:     <span class="ruby-identifier">david</span> = <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)
406:     <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">before_validation</span> <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">model</span><span class="ruby-operator">|</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">history</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">:before_validation</span>, <span class="ruby-identifier">:returning_false</span>]; <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> }
407:     <span class="ruby-constant">CallbackDeveloper</span>.<span class="ruby-identifier">before_validation</span> <span class="ruby-identifier">proc</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">model</span><span class="ruby-operator">|</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">history</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">:before_validation</span>, <span class="ruby-identifier">:should_never_get_here</span>] }
408:     <span class="ruby-identifier">david</span>.<span class="ruby-identifier">save</span>
409:     <span class="ruby-identifier">assert_equal</span> [
410:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:string</span> ],
411:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:proc</span>   ],
412:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:object</span> ],
413:       [ <span class="ruby-identifier">:after_find</span>,            <span class="ruby-identifier">:block</span>  ],
414:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:string</span> ],
415:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:proc</span>   ],
416:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:object</span> ],
417:       [ <span class="ruby-identifier">:after_initialize</span>,            <span class="ruby-identifier">:block</span>  ],
418:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:string</span> ],
419:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:proc</span>   ],
420:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:object</span> ],
421:       [ <span class="ruby-identifier">:before_validation</span>,           <span class="ruby-identifier">:block</span>  ],
422:       [ <span class="ruby-identifier">:before_validation</span>, <span class="ruby-identifier">:returning_false</span>  ]
423:     ], <span class="ruby-identifier">david</span>.<span class="ruby-identifier">history</span>
424:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>