  <div id="C00000623">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />SessionTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/integration_test_rb.html');">actionpack/test/controller/integration_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M004010&name=setup" >setup</a></li>
  <li><a href="index.html?a=M004028&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M004020&name=test_delete_via_redirect" >test_delete_via_redirect</a></li>
  <li><a href="index.html?a=M004013&name=test_follow_redirect_raises_when_no_redirect" >test_follow_redirect_raises_when_no_redirect</a></li>
  <li><a href="index.html?a=M004025&name=test_get" >test_get</a></li>
  <li><a href="index.html?a=M004017&name=test_get_via_redirect" >test_get_via_redirect</a></li>
  <li><a href="index.html?a=M004029&name=test_head" >test_head</a></li>
  <li><a href="index.html?a=M004012&name=test_host!" >test_host!</a></li>
  <li><a href="index.html?a=M004011&name=test_https_bang_works_and_sets_truth_by_default" >test_https_bang_works_and_sets_truth_by_default</a></li>
  <li><a href="index.html?a=M004026&name=test_post" >test_post</a></li>
  <li><a href="index.html?a=M004018&name=test_post_via_redirect" >test_post_via_redirect</a></li>
  <li><a href="index.html?a=M004027&name=test_put" >test_put</a></li>
  <li><a href="index.html?a=M004019&name=test_put_via_redirect" >test_put_via_redirect</a></li>
  <li><a href="index.html?a=M004024&name=test_redirect_bool_with_status_in_200s" >test_redirect_bool_with_status_in_200s</a></li>
  <li><a href="index.html?a=M004023&name=test_redirect_bool_with_status_in_300s" >test_redirect_bool_with_status_in_300s</a></li>
  <li><a href="index.html?a=M004015&name=test_request_via_redirect_follows_redirects" >test_request_via_redirect_follows_redirects</a></li>
  <li><a href="index.html?a=M004016&name=test_request_via_redirect_returns_status" >test_request_via_redirect_returns_status</a></li>
  <li><a href="index.html?a=M004014&name=test_request_via_redirect_uses_given_method" >test_request_via_redirect_uses_given_method</a></li>
  <li><a href="index.html?a=M004021&name=test_url_for_with_controller" >test_url_for_with_controller</a></li>
  <li><a href="index.html?a=M004022&name=test_url_for_without_controller" >test_url_for_without_controller</a></li>
  <li><a href="index.html?a=M004033&name=test_xml_http_request_delete" >test_xml_http_request_delete</a></li>
  <li><a href="index.html?a=M004030&name=test_xml_http_request_get" >test_xml_http_request_get</a></li>
  <li><a href="index.html?a=M004034&name=test_xml_http_request_head" >test_xml_http_request_head</a></li>
  <li><a href="index.html?a=M004035&name=test_xml_http_request_override_accept" >test_xml_http_request_override_accept</a></li>
  <li><a href="index.html?a=M004031&name=test_xml_http_request_post" >test_xml_http_request_post</a></li>
  <li><a href="index.html?a=M004032&name=test_xml_http_request_put" >test_xml_http_request_put</a></li>
  </ul>




  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">StubApp</td>
    <td>=</td>
    <td class="attr-value">lambda { |env|     [200, {&quot;Content-Type&quot; =&gt; &quot;text/html&quot;, &quot;Content-Length&quot; =&gt; &quot;13&quot;}, [&quot;Hello, World!&quot;]]</td>
  </tr>
  </table>


<div class="sectiontitle">Public Instance methods</div>
<div id="M004010" class="method">
  <div id="M004010_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004010_source')" id="l_M004010_source">show source</a> ]</p>
  <div id="M004010_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:     <span class="ruby-ivar">@session</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Integration</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">StubApp</span>)
10:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004028" class="method">
  <div id="M004028_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004028_source')" id="l_M004028_source">show source</a> ]</p>
  <div id="M004028_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
122:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
123:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:delete</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
124:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
125:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004020" class="method">
  <div id="M004020_title" class="title">
    <b>test_delete_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004020_source')" id="l_M004020_source">show source</a> ]</p>
  <div id="M004020_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_via_redirect</span>
71:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
72:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:delete</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
73:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">delete_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
74:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004013" class="method">
  <div id="M004013_title" class="title">
    <b>test_follow_redirect_raises_when_no_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004013_source')" id="l_M004013_source">show source</a> ]</p>
  <div id="M004013_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_follow_redirect_raises_when_no_redirect</span>
27:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
28:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">follow_redirect!</span> }
29:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004025" class="method">
  <div id="M004025_title" class="title">
    <b>test_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004025_source')" id="l_M004025_source">show source</a> ]</p>
  <div id="M004025_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 103</span>
103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get</span>
104:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
105:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:get</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
106:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
107:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004017" class="method">
  <div id="M004017_title" class="title">
    <b>test_get_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004017_source')" id="l_M004017_source">show source</a> ]</p>
  <div id="M004017_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get_via_redirect</span>
53:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
54:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
55:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">get_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
56:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004029" class="method">
  <div id="M004029_title" class="title">
    <b>test_head</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004029_source')" id="l_M004029_source">show source</a> ]</p>
  <div id="M004029_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_head</span>
128:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
129:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:head</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
130:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">head</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
131:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004012" class="method">
  <div id="M004012_title" class="title">
    <b>test_host!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004012_source')" id="l_M004012_source">show source</a> ]</p>
  <div id="M004012_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_host!</span>
21:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-value str">&quot;glu.ttono.us&quot;</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">host</span>
22:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">host!</span> <span class="ruby-value str">&quot;rubyonrails.com&quot;</span>
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;rubyonrails.com&quot;</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">host</span>
24:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004011" class="method">
  <div id="M004011_title" class="title">
    <b>test_https_bang_works_and_sets_truth_by_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004011_source')" id="l_M004011_source">show source</a> ]</p>
  <div id="M004011_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_https_bang_works_and_sets_truth_by_default</span>
13:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https?</span>
14:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https!</span>
15:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https?</span>
16:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https!</span> <span class="ruby-keyword kw">false</span>
17:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https?</span>
18:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004026" class="method">
  <div id="M004026_title" class="title">
    <b>test_post</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004026_source')" id="l_M004026_source">show source</a> ]</p>
  <div id="M004026_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 109</span>
109:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_post</span>
110:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
111:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
112:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
113:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004018" class="method">
  <div id="M004018_title" class="title">
    <b>test_post_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004018_source')" id="l_M004018_source">show source</a> ]</p>
  <div id="M004018_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 58</span>
58:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_post_via_redirect</span>
59:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
60:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
61:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">post_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
62:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004027" class="method">
  <div id="M004027_title" class="title">
    <b>test_put</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004027_source')" id="l_M004027_source">show source</a> ]</p>
  <div id="M004027_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_put</span>
116:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
117:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:put</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
118:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">put</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004019" class="method">
  <div id="M004019_title" class="title">
    <b>test_put_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004019_source')" id="l_M004019_source">show source</a> ]</p>
  <div id="M004019_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_put_via_redirect</span>
65:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
66:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
67:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">put_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
68:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004024" class="method">
  <div id="M004024_title" class="title">
    <b>test_redirect_bool_with_status_in_200s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004024_source')" id="l_M004024_source">show source</a> ]</p>
  <div id="M004024_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_bool_with_status_in_200s</span>
 99:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:status</span>).<span class="ruby-identifier">returns</span> <span class="ruby-value">200</span>
100:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@session</span>.<span class="ruby-identifier">redirect?</span>
101:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004023" class="method">
  <div id="M004023_title" class="title">
    <b>test_redirect_bool_with_status_in_300s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004023_source')" id="l_M004023_source">show source</a> ]</p>
  <div id="M004023_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 93</span>
93:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_bool_with_status_in_300s</span>
94:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:status</span>).<span class="ruby-identifier">returns</span> <span class="ruby-value">301</span>
95:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">redirect?</span>
96:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004015" class="method">
  <div id="M004015_title" class="title">
    <b>test_request_via_redirect_follows_redirects</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004015_source')" id="l_M004015_source">show source</a> ]</p>
  <div id="M004015_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 38</span>
38:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_request_via_redirect_follows_redirects</span>
39:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span>}
40:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>)
41:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:follow_redirect!</span>).<span class="ruby-identifier">times</span>(<span class="ruby-value">2</span>)
42:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">request_via_redirect</span>(<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
43:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004016" class="method">
  <div id="M004016_title" class="title">
    <b>test_request_via_redirect_returns_status</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004016_source')" id="l_M004016_source">show source</a> ]</p>
  <div id="M004016_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 45</span>
45:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_request_via_redirect_returns_status</span>
46:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span>}
47:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
48:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:status</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value">200</span>)
49:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">200</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">request_via_redirect</span>(<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004014" class="method">
  <div id="M004014_title" class="title">
    <b>test_request_via_redirect_uses_given_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004014_source')" id="l_M004014_source">show source</a> ]</p>
  <div id="M004014_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_request_via_redirect_uses_given_method</span>
32:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span>}
33:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:put</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
34:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
35:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">request_via_redirect</span>(<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
36:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004021" class="method">
  <div id="M004021_title" class="title">
    <b>test_url_for_with_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004021_source')" id="l_M004021_source">show source</a> ]</p>
  <div id="M004021_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 76</span>
76:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_with_controller</span>
77:     <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
78:     <span class="ruby-identifier">mock_controller</span> = <span class="ruby-identifier">mock</span>()
79:     <span class="ruby-identifier">mock_controller</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:url_for</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'/show'</span>)
80:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:controller</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">mock_controller</span>)
81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/show'</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
82:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004022" class="method">
  <div id="M004022_title" class="title">
    <b>test_url_for_without_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004022_source')" id="l_M004022_source">show source</a> ]</p>
  <div id="M004022_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_without_controller</span>
85:     <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
86:     <span class="ruby-identifier">mock_rewriter</span> = <span class="ruby-identifier">mock</span>()
87:     <span class="ruby-identifier">mock_rewriter</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:rewrite</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'/show'</span>)
88:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:generic_url_rewriter</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">mock_rewriter</span>)
89:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:controller</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">nil</span>)
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/show'</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
91:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004033" class="method">
  <div id="M004033_title" class="title">
    <b>test_xml_http_request_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004033_source')" id="l_M004033_source">show source</a> ]</p>
  <div id="M004033_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_delete</span>
164:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
165:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
166:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
167:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
168:     )
169:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:delete</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
170:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:delete</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
171:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004030" class="method">
  <div id="M004030_title" class="title">
    <b>test_xml_http_request_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004030_source')" id="l_M004030_source">show source</a> ]</p>
  <div id="M004030_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_get</span>
134:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
135:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
136:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
137:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
138:     )
139:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:get</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
140:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:get</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
141:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004034" class="method">
  <div id="M004034_title" class="title">
    <b>test_xml_http_request_head</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004034_source')" id="l_M004034_source">show source</a> ]</p>
  <div id="M004034_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_head</span>
174:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
175:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
176:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
177:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
178:     )
179:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:head</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
180:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:head</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
181:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004035" class="method">
  <div id="M004035_title" class="title">
    <b>test_xml_http_request_override_accept</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004035_source')" id="l_M004035_source">show source</a> ]</p>
  <div id="M004035_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 183</span>
183:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_override_accept</span>
184:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>, <span class="ruby-value str">&quot;Accept&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;application/xml&quot;</span>}
185:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
186:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>
187:     )
188:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
189:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
190:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004031" class="method">
  <div id="M004031_title" class="title">
    <b>test_xml_http_request_post</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004031_source')" id="l_M004031_source">show source</a> ]</p>
  <div id="M004031_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 143</span>
143:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_post</span>
144:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
145:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
146:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
147:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
148:     )
149:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
150:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
151:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004032" class="method">
  <div id="M004032_title" class="title">
    <b>test_xml_http_request_put</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004032_source')" id="l_M004032_source">show source</a> ]</p>
  <div id="M004032_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_put</span>
154:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
155:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
156:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
157:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
158:     )
159:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:put</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
160:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:put</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
161:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>