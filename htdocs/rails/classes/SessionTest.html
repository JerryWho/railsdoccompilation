  <div id="C00000629">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />SessionTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/integration_test_rb.html');">actionpack/test/controller/integration_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M004039&name=setup" >setup</a></li>
  <li><a href="index.html?a=M004057&name=test_delete" >test_delete</a></li>
  <li><a href="index.html?a=M004049&name=test_delete_via_redirect" >test_delete_via_redirect</a></li>
  <li><a href="index.html?a=M004042&name=test_follow_redirect_raises_when_no_redirect" >test_follow_redirect_raises_when_no_redirect</a></li>
  <li><a href="index.html?a=M004054&name=test_get" >test_get</a></li>
  <li><a href="index.html?a=M004046&name=test_get_via_redirect" >test_get_via_redirect</a></li>
  <li><a href="index.html?a=M004058&name=test_head" >test_head</a></li>
  <li><a href="index.html?a=M004041&name=test_host!" >test_host!</a></li>
  <li><a href="index.html?a=M004040&name=test_https_bang_works_and_sets_truth_by_default" >test_https_bang_works_and_sets_truth_by_default</a></li>
  <li><a href="index.html?a=M004055&name=test_post" >test_post</a></li>
  <li><a href="index.html?a=M004047&name=test_post_via_redirect" >test_post_via_redirect</a></li>
  <li><a href="index.html?a=M004056&name=test_put" >test_put</a></li>
  <li><a href="index.html?a=M004048&name=test_put_via_redirect" >test_put_via_redirect</a></li>
  <li><a href="index.html?a=M004053&name=test_redirect_bool_with_status_in_200s" >test_redirect_bool_with_status_in_200s</a></li>
  <li><a href="index.html?a=M004052&name=test_redirect_bool_with_status_in_300s" >test_redirect_bool_with_status_in_300s</a></li>
  <li><a href="index.html?a=M004044&name=test_request_via_redirect_follows_redirects" >test_request_via_redirect_follows_redirects</a></li>
  <li><a href="index.html?a=M004045&name=test_request_via_redirect_returns_status" >test_request_via_redirect_returns_status</a></li>
  <li><a href="index.html?a=M004043&name=test_request_via_redirect_uses_given_method" >test_request_via_redirect_uses_given_method</a></li>
  <li><a href="index.html?a=M004050&name=test_url_for_with_controller" >test_url_for_with_controller</a></li>
  <li><a href="index.html?a=M004051&name=test_url_for_without_controller" >test_url_for_without_controller</a></li>
  <li><a href="index.html?a=M004062&name=test_xml_http_request_delete" >test_xml_http_request_delete</a></li>
  <li><a href="index.html?a=M004059&name=test_xml_http_request_get" >test_xml_http_request_get</a></li>
  <li><a href="index.html?a=M004063&name=test_xml_http_request_head" >test_xml_http_request_head</a></li>
  <li><a href="index.html?a=M004064&name=test_xml_http_request_override_accept" >test_xml_http_request_override_accept</a></li>
  <li><a href="index.html?a=M004060&name=test_xml_http_request_post" >test_xml_http_request_post</a></li>
  <li><a href="index.html?a=M004061&name=test_xml_http_request_put" >test_xml_http_request_put</a></li>
  </ul>




  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">StubApp</td>
    <td>=</td>
    <td class="attr-value">lambda { |env|     [200, {&quot;Content-Type&quot; =&gt; &quot;text/html&quot;, &quot;Content-Length&quot; =&gt; &quot;13&quot;}, [&quot;Hello, World!&quot;]]</td>
  </tr>
  </table>


<div class="sectiontitle">Public Instance methods</div>
<div id="M004039" class="method">
  <div id="M004039_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004039_source')" id="l_M004039_source">show source</a> ]</p>
  <div id="M004039_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
 9:     <span class="ruby-ivar">@session</span> = <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Integration</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">StubApp</span>)
10:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004057" class="method">
  <div id="M004057_title" class="title">
    <b>test_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004057_source')" id="l_M004057_source">show source</a> ]</p>
  <div id="M004057_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete</span>
122:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
123:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:delete</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
124:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
125:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004049" class="method">
  <div id="M004049_title" class="title">
    <b>test_delete_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004049_source')" id="l_M004049_source">show source</a> ]</p>
  <div id="M004049_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_delete_via_redirect</span>
71:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
72:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:delete</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
73:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">delete_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
74:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004042" class="method">
  <div id="M004042_title" class="title">
    <b>test_follow_redirect_raises_when_no_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004042_source')" id="l_M004042_source">show source</a> ]</p>
  <div id="M004042_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_follow_redirect_raises_when_no_redirect</span>
27:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
28:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">RuntimeError</span>) { <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">follow_redirect!</span> }
29:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004054" class="method">
  <div id="M004054_title" class="title">
    <b>test_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004054_source')" id="l_M004054_source">show source</a> ]</p>
  <div id="M004054_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 103</span>
103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get</span>
104:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
105:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:get</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
106:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
107:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004046" class="method">
  <div id="M004046_title" class="title">
    <b>test_get_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004046_source')" id="l_M004046_source">show source</a> ]</p>
  <div id="M004046_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get_via_redirect</span>
53:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
54:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
55:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">get_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
56:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004058" class="method">
  <div id="M004058_title" class="title">
    <b>test_head</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004058_source')" id="l_M004058_source">show source</a> ]</p>
  <div id="M004058_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_head</span>
128:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
129:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:head</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
130:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">head</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
131:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004041" class="method">
  <div id="M004041_title" class="title">
    <b>test_host!</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004041_source')" id="l_M004041_source">show source</a> ]</p>
  <div id="M004041_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_host!</span>
21:     <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-value str">&quot;glu.ttono.us&quot;</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">host</span>
22:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">host!</span> <span class="ruby-value str">&quot;rubyonrails.com&quot;</span>
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;rubyonrails.com&quot;</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">host</span>
24:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004040" class="method">
  <div id="M004040_title" class="title">
    <b>test_https_bang_works_and_sets_truth_by_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004040_source')" id="l_M004040_source">show source</a> ]</p>
  <div id="M004040_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_https_bang_works_and_sets_truth_by_default</span>
13:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https?</span>
14:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https!</span>
15:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https?</span>
16:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https!</span> <span class="ruby-keyword kw">false</span>
17:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@session</span>.<span class="ruby-identifier">https?</span>
18:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004055" class="method">
  <div id="M004055_title" class="title">
    <b>test_post</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004055_source')" id="l_M004055_source">show source</a> ]</p>
  <div id="M004055_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 109</span>
109:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_post</span>
110:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
111:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
112:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
113:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004047" class="method">
  <div id="M004047_title" class="title">
    <b>test_post_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004047_source')" id="l_M004047_source">show source</a> ]</p>
  <div id="M004047_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 58</span>
58:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_post_via_redirect</span>
59:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
60:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
61:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">post_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
62:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004056" class="method">
  <div id="M004056_title" class="title">
    <b>test_put</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004056_source')" id="l_M004056_source">show source</a> ]</p>
  <div id="M004056_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_put</span>
116:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
117:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:put</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
118:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">put</span>(<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
119:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004048" class="method">
  <div id="M004048_title" class="title">
    <b>test_put_via_redirect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004048_source')" id="l_M004048_source">show source</a> ]</p>
  <div id="M004048_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_put_via_redirect</span>
65:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span> }
66:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:request_via_redirect</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
67:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">put_via_redirect</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
68:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004053" class="method">
  <div id="M004053_title" class="title">
    <b>test_redirect_bool_with_status_in_200s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004053_source')" id="l_M004053_source">show source</a> ]</p>
  <div id="M004053_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_bool_with_status_in_200s</span>
 99:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:status</span>).<span class="ruby-identifier">returns</span> <span class="ruby-value">200</span>
100:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@session</span>.<span class="ruby-identifier">redirect?</span>
101:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004052" class="method">
  <div id="M004052_title" class="title">
    <b>test_redirect_bool_with_status_in_300s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004052_source')" id="l_M004052_source">show source</a> ]</p>
  <div id="M004052_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 93</span>
93:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_redirect_bool_with_status_in_300s</span>
94:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:status</span>).<span class="ruby-identifier">returns</span> <span class="ruby-value">301</span>
95:     <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">redirect?</span>
96:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004044" class="method">
  <div id="M004044_title" class="title">
    <b>test_request_via_redirect_follows_redirects</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004044_source')" id="l_M004044_source">show source</a> ]</p>
  <div id="M004044_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 38</span>
38:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_request_via_redirect_follows_redirects</span>
39:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span>}
40:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>)
41:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:follow_redirect!</span>).<span class="ruby-identifier">times</span>(<span class="ruby-value">2</span>)
42:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">request_via_redirect</span>(<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
43:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004045" class="method">
  <div id="M004045_title" class="title">
    <b>test_request_via_redirect_returns_status</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004045_source')" id="l_M004045_source">show source</a> ]</p>
  <div id="M004045_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 45</span>
45:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_request_via_redirect_returns_status</span>
46:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span>}
47:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
48:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:status</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value">200</span>)
49:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">200</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">request_via_redirect</span>(<span class="ruby-identifier">:get</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
50:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004043" class="method">
  <div id="M004043_title" class="title">
    <b>test_request_via_redirect_uses_given_method</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004043_source')" id="l_M004043_source">show source</a> ]</p>
  <div id="M004043_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_request_via_redirect_uses_given_method</span>
32:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/somepath&quot;</span>; <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1'</span>}; <span class="ruby-identifier">headers</span> = {<span class="ruby-value str">&quot;X-Test-Header&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;testvalue&quot;</span>}
33:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:put</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
34:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:redirect?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
35:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">request_via_redirect</span>(<span class="ruby-identifier">:put</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">args</span>, <span class="ruby-identifier">headers</span>)
36:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004050" class="method">
  <div id="M004050_title" class="title">
    <b>test_url_for_with_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004050_source')" id="l_M004050_source">show source</a> ]</p>
  <div id="M004050_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 76</span>
76:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_with_controller</span>
77:     <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
78:     <span class="ruby-identifier">mock_controller</span> = <span class="ruby-identifier">mock</span>()
79:     <span class="ruby-identifier">mock_controller</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:url_for</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'/show'</span>)
80:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:controller</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">mock_controller</span>)
81:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/show'</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
82:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004051" class="method">
  <div id="M004051_title" class="title">
    <b>test_url_for_without_controller</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004051_source')" id="l_M004051_source">show source</a> ]</p>
  <div id="M004051_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_url_for_without_controller</span>
85:     <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'show'</span>}
86:     <span class="ruby-identifier">mock_rewriter</span> = <span class="ruby-identifier">mock</span>()
87:     <span class="ruby-identifier">mock_rewriter</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:rewrite</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">options</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'/show'</span>)
88:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:generic_url_rewriter</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">mock_rewriter</span>)
89:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:controller</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">nil</span>)
90:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'/show'</span>, <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
91:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004062" class="method">
  <div id="M004062_title" class="title">
    <b>test_xml_http_request_delete</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004062_source')" id="l_M004062_source">show source</a> ]</p>
  <div id="M004062_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_delete</span>
164:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
165:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
166:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
167:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
168:     )
169:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:delete</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
170:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:delete</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
171:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004059" class="method">
  <div id="M004059_title" class="title">
    <b>test_xml_http_request_get</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004059_source')" id="l_M004059_source">show source</a> ]</p>
  <div id="M004059_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_get</span>
134:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
135:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
136:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
137:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
138:     )
139:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:get</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
140:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:get</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
141:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004063" class="method">
  <div id="M004063_title" class="title">
    <b>test_xml_http_request_head</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004063_source')" id="l_M004063_source">show source</a> ]</p>
  <div id="M004063_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_head</span>
174:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
175:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
176:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
177:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
178:     )
179:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:head</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
180:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:head</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
181:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004064" class="method">
  <div id="M004064_title" class="title">
    <b>test_xml_http_request_override_accept</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004064_source')" id="l_M004064_source">show source</a> ]</p>
  <div id="M004064_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 183</span>
183:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_override_accept</span>
184:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>, <span class="ruby-value str">&quot;Accept&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;application/xml&quot;</span>}
185:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
186:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>
187:     )
188:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
189:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
190:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004060" class="method">
  <div id="M004060_title" class="title">
    <b>test_xml_http_request_post</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004060_source')" id="l_M004060_source">show source</a> ]</p>
  <div id="M004060_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 143</span>
143:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_post</span>
144:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
145:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
146:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
147:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
148:     )
149:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
150:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:post</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
151:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M004061" class="method">
  <div id="M004061_title" class="title">
    <b>test_xml_http_request_put</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M004061_source')" id="l_M004061_source">show source</a> ]</p>
  <div id="M004061_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/integration_test.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_xml_http_request_put</span>
154:     <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;/index&quot;</span>; <span class="ruby-identifier">params</span> = <span class="ruby-value str">&quot;blah&quot;</span>; <span class="ruby-identifier">headers</span> = {<span class="ruby-identifier">:location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'blah'</span>}
155:     <span class="ruby-identifier">headers_after_xhr</span> = <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">merge</span>(
156:       <span class="ruby-value str">&quot;X-Requested-With&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;XMLHttpRequest&quot;</span>,
157:       <span class="ruby-value str">&quot;Accept&quot;</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;</span>
158:     )
159:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:process</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:put</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers_after_xhr</span>)
160:     <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">xml_http_request</span>(<span class="ruby-identifier">:put</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">headers</span>)
161:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>