  <div id="C00001009">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />AssertSelectTest<br/>
  In:
<a href="#" onclick="jsHref('files/actionpack/test/controller/assert_select_test_rb.html');">actionpack/test/controller/assert_select_test.rb</a>

Parent:&nbsp;
ActionController::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M007157&name=assert_failure" >assert_failure</a></li>
  <li><a href="index.html?a=M007199&name=render_html" >render_html</a></li>
  <li><a href="index.html?a=M007200&name=render_rjs" >render_rjs</a></li>
  <li><a href="index.html?a=M007201&name=render_xml" >render_xml</a></li>
  <li><a href="index.html?a=M007155&name=setup" >setup</a></li>
  <li><a href="index.html?a=M007156&name=teardown" >teardown</a></li>
  <li><a href="index.html?a=M007158&name=test_assert_select" >test_assert_select</a></li>
  <li><a href="index.html?a=M007198&name=test_assert_select_email" >test_assert_select_email</a></li>
  <li><a href="index.html?a=M007167&name=test_assert_select_from_rjs_with_multiple_results" >test_assert_select_from_rjs_with_multiple_results</a></li>
  <li><a href="index.html?a=M007166&name=test_assert_select_from_rjs_with_single_result" >test_assert_select_from_rjs_with_single_result</a></li>
  <li><a href="index.html?a=M007175&name=test_assert_select_rjs_fails_if_nothing_to_pick" >test_assert_select_rjs_fails_if_nothing_to_pick</a></li>
  <li><a href="index.html?a=M007179&name=test_assert_select_rjs_for_chained_replace" >test_assert_select_rjs_for_chained_replace</a></li>
  <li><a href="index.html?a=M007186&name=test_assert_select_rjs_for_hide" >test_assert_select_rjs_for_hide</a></li>
  <li><a href="index.html?a=M007188&name=test_assert_select_rjs_for_hide_ignores_block" >test_assert_select_rjs_for_hide_ignores_block</a></li>
  <li><a href="index.html?a=M007187&name=test_assert_select_rjs_for_hide_offers_useful_error_when_assertion_fails" >test_assert_select_rjs_for_hide_offers_useful_error_when_assertion_fails</a></li>
  <li><a href="index.html?a=M007192&name=test_assert_select_rjs_for_nonpositioned_insert" >test_assert_select_rjs_for_nonpositioned_insert</a></li>
  <li><a href="index.html?a=M007193&name=test_assert_select_rjs_for_positioned_insert" >test_assert_select_rjs_for_positioned_insert</a></li>
  <li><a href="index.html?a=M007168&name=test_assert_select_rjs_for_positioned_insert_should_fail_when_mixing_arguments" >test_assert_select_rjs_for_positioned_insert_should_fail_when_mixing_arguments</a></li>
  <li><a href="index.html?a=M007180&name=test_assert_select_rjs_for_remove" >test_assert_select_rjs_for_remove</a></li>
  <li><a href="index.html?a=M007182&name=test_assert_select_rjs_for_remove_ignores_block" >test_assert_select_rjs_for_remove_ignores_block</a></li>
  <li><a href="index.html?a=M007181&name=test_assert_select_rjs_for_remove_offers_useful_error_when_assertion_fails" >test_assert_select_rjs_for_remove_offers_useful_error_when_assertion_fails</a></li>
  <li><a href="index.html?a=M007178&name=test_assert_select_rjs_for_replace" >test_assert_select_rjs_for_replace</a></li>
  <li><a href="index.html?a=M007183&name=test_assert_select_rjs_for_show" >test_assert_select_rjs_for_show</a></li>
  <li><a href="index.html?a=M007185&name=test_assert_select_rjs_for_show_ignores_block" >test_assert_select_rjs_for_show_ignores_block</a></li>
  <li><a href="index.html?a=M007184&name=test_assert_select_rjs_for_show_offers_useful_error_when_assertion_fails" >test_assert_select_rjs_for_show_offers_useful_error_when_assertion_fails</a></li>
  <li><a href="index.html?a=M007189&name=test_assert_select_rjs_for_toggle" >test_assert_select_rjs_for_toggle</a></li>
  <li><a href="index.html?a=M007191&name=test_assert_select_rjs_for_toggle_ignores_block" >test_assert_select_rjs_for_toggle_ignores_block</a></li>
  <li><a href="index.html?a=M007190&name=test_assert_select_rjs_for_toggle_offers_useful_error_when_assertion_fails" >test_assert_select_rjs_for_toggle_offers_useful_error_when_assertion_fails</a></li>
  <li><a href="index.html?a=M007174&name=test_assert_select_rjs_picks_up_all_statements" >test_assert_select_rjs_picks_up_all_statements</a></li>
  <li><a href="index.html?a=M007194&name=test_assert_select_rjs_raise_errors" >test_assert_select_rjs_raise_errors</a></li>
  <li><a href="index.html?a=M007177&name=test_assert_select_rjs_with_id" >test_assert_select_rjs_with_id</a></li>
  <li><a href="index.html?a=M007176&name=test_assert_select_rjs_with_unicode" >test_assert_select_rjs_with_unicode</a></li>
  <li><a href="index.html?a=M007165&name=test_assert_select_text_match" >test_assert_select_text_match</a></li>
  <li><a href="index.html?a=M007162&name=test_counts" >test_counts</a></li>
  <li><a href="index.html?a=M007170&name=test_css_select" >test_css_select</a></li>
  <li><a href="index.html?a=M007173&name=test_css_select_from_rjs_with_multiple_results" >test_css_select_from_rjs_with_multiple_results</a></li>
  <li><a href="index.html?a=M007172&name=test_css_select_from_rjs_with_single_result" >test_css_select_from_rjs_with_single_result</a></li>
  <li><a href="index.html?a=M007169&name=test_elect_with_xml_namespace_attributes" >test_elect_with_xml_namespace_attributes</a></li>
  <li><a href="index.html?a=M007161&name=test_equality_of_html" >test_equality_of_html</a></li>
  <li><a href="index.html?a=M007160&name=test_equality_string_and_regexp" >test_equality_string_and_regexp</a></li>
  <li><a href="index.html?a=M007159&name=test_equality_true_false" >test_equality_true_false</a></li>
  <li><a href="index.html?a=M007197&name=test_feed_item_encoded" >test_feed_item_encoded</a></li>
  <li><a href="index.html?a=M007164&name=test_nested_assert_select" >test_nested_assert_select</a></li>
  <li><a href="index.html?a=M007195&name=test_nested_assert_select_rjs_with_single_result" >test_nested_assert_select_rjs_with_single_result</a></li>
  <li><a href="index.html?a=M007196&name=test_nested_assert_select_rjs_with_two_results" >test_nested_assert_select_rjs_with_two_results</a></li>
  <li><a href="index.html?a=M007171&name=test_nested_css_select" >test_nested_css_select</a></li>
  <li><a href="index.html?a=M007163&name=test_substitution_values" >test_substitution_values</a></li>
  </ul>



  <div class="sectiontitle">Classes and Modules</div>
  Class "<a href="#" onclick="jsHref('classes/AssertSelectTest/AssertSelectController.html');" class="link">AssertSelectTest::AssertSelectController</a>"<br />
Class "<a href="#" onclick="jsHref('classes/AssertSelectTest/AssertSelectMailer.html');" class="link">AssertSelectTest::AssertSelectMailer</a>"<br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">Assertion</td>
    <td>=</td>
    <td class="attr-value">ActiveSupport::TestCase::Assertion</td>
  </tr>
  </table>


<div class="sectiontitle">Public Instance methods</div>
<div id="M007157" class="method">
  <div id="M007157_title" class="title">
    <b>assert_failure</b>(message, &amp;block)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007157_source')" id="l_M007157_source">show source</a> ]</p>
  <div id="M007157_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 78</span>
78:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_failure</span>(<span class="ruby-identifier">message</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
79:     <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
80:     <span class="ruby-identifier">assert_match</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Regexp</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">message</span>
81:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">message</span>
82:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007155" class="method">
  <div id="M007155_title" class="title">
    <b>setup</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007155_source')" id="l_M007155_source">show source</a> ]</p>
  <div id="M007155_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 68</span>
68:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
69:     <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">delivery_method</span> = <span class="ruby-identifier">:test</span>
70:     <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">perform_deliveries</span> = <span class="ruby-keyword kw">true</span>
71:     <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">deliveries</span> = []
72:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007156" class="method">
  <div id="M007156_title" class="title">
    <b>teardown</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007156_source')" id="l_M007156_source">show source</a> ]</p>
  <div id="M007156_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
75:     <span class="ruby-constant">ActionMailer</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">deliveries</span>.<span class="ruby-identifier">clear</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007158" class="method">
  <div id="M007158_title" class="title">
    <b>test_assert_select</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> assert select.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007158_source')" id="l_M007158_source">show source</a> ]</p>
  <div id="M007158_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select</span>
89:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;&lt;/div&gt;}</span>
90:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">2</span>
91:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at least 3 elements matching \&quot;div\&quot;, found 2/</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">3</span> }
92:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at least 1 element matching \&quot;p\&quot;, found 0/</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span> }
93:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007198" class="method">
  <div id="M007198_title" class="title">
    <b>test_assert_select_email</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> assert_select_email
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007198_source')" id="l_M007198_source">show source</a> ]</p>
  <div id="M007198_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 709</span>
709:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_email</span>
710:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_email</span> {} }
711:     <span class="ruby-constant">AssertSelectMailer</span>.<span class="ruby-identifier">deliver_test</span> <span class="ruby-value str">&quot;&lt;div&gt;&lt;p&gt;foo&lt;/p&gt;&lt;p&gt;bar&lt;/p&gt;&lt;/div&gt;&quot;</span>
712:     <span class="ruby-identifier">assert_select_email</span> <span class="ruby-keyword kw">do</span>
713:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div:root&quot;</span> <span class="ruby-keyword kw">do</span>
714:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p:first-child&quot;</span>, <span class="ruby-value str">&quot;foo&quot;</span>
715:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p:last-child&quot;</span>, <span class="ruby-value str">&quot;bar&quot;</span>
716:       <span class="ruby-keyword kw">end</span>
717:     <span class="ruby-keyword kw">end</span>
718:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007167" class="method">
  <div id="M007167_title" class="title">
    <b>test_assert_select_from_rjs_with_multiple_results</b>()
  </div>
  <div class="description">
  <p>
With multiple results.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007167_source')" id="l_M007167_source">show source</a> ]</p>
  <div id="M007167_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 239</span>
239:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_from_rjs_with_multiple_results</span>
240:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
241:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
242:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
243:     <span class="ruby-keyword kw">end</span>
244:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
245:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
246:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
247:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
248:     <span class="ruby-keyword kw">end</span>
249:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007166" class="method">
  <div id="M007166_title" class="title">
    <b>test_assert_select_from_rjs_with_single_result</b>()
  </div>
  <div class="description">
  <p>
With single result.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007166_source')" id="l_M007166_source">show source</a> ]</p>
  <div id="M007166_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 223</span>
223:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_from_rjs_with_single_result</span>
224:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
225:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;\n&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
226:     <span class="ruby-keyword kw">end</span>
227:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
228:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
229:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
230:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
231:     <span class="ruby-keyword kw">end</span>
232:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div#?&quot;</span>, <span class="ruby-regexp re">/\d+/</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
233:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
234:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
235:     <span class="ruby-keyword kw">end</span>
236:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007175" class="method">
  <div id="M007175_title" class="title">
    <b>test_assert_select_rjs_fails_if_nothing_to_pick</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> that we fail if there
is nothing to pick.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007175_source')" id="l_M007175_source">show source</a> ]</p>
  <div id="M007175_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 337</span>
337:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_fails_if_nothing_to_pick</span>
338:     <span class="ruby-identifier">render_rjs</span> { }
339:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> }
340:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007179" class="method">
  <div id="M007179_title" class="title">
    <b>test_assert_select_rjs_for_chained_replace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007179_source')" id="l_M007179_source">show source</a> ]</p>
  <div id="M007179_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 412</span>
412:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_chained_replace</span>
413:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
414:       <span class="ruby-identifier">page</span>[<span class="ruby-value str">'test1'</span>].<span class="ruby-identifier">replace</span> <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
415:       <span class="ruby-identifier">page</span>[<span class="ruby-value str">'test2'</span>].<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
416:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test3&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;3\&quot;&gt;foo&lt;/div&gt;&quot;</span>
417:     <span class="ruby-keyword kw">end</span>
418:     <span class="ruby-comment cmt"># Replace.</span>
419:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:chained_replace</span> <span class="ruby-keyword kw">do</span>
420:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
421:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
422:     <span class="ruby-keyword kw">end</span>
423:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:chained_replace</span>, <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
424:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
425:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
426:     <span class="ruby-keyword kw">end</span>
427:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:chained_replace</span>, <span class="ruby-value str">&quot;test2&quot;</span> }
428:     <span class="ruby-comment cmt"># Replace HTML.</span>
429:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:chained_replace_html</span> <span class="ruby-keyword kw">do</span>
430:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
431:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
432:     <span class="ruby-keyword kw">end</span>
433:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:chained_replace_html</span>, <span class="ruby-value str">&quot;test2&quot;</span> <span class="ruby-keyword kw">do</span>
434:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
435:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
436:     <span class="ruby-keyword kw">end</span>
437:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace_html</span>, <span class="ruby-value str">&quot;test1&quot;</span> }
438:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007186" class="method">
  <div id="M007186_title" class="title">
    <b>test_assert_select_rjs_for_hide</b>()
  </div>
  <div class="description">
  <p>
Simple hide
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007186_source')" id="l_M007186_source">show source</a> ]</p>
  <div id="M007186_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 505</span>
505:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_hide</span>
506:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
507:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">hide</span> <span class="ruby-value str">&quot;test1&quot;</span>
508:     <span class="ruby-keyword kw">end</span>
509: 
510:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:hide</span>, <span class="ruby-value str">&quot;test1&quot;</span>
511:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007188" class="method">
  <div id="M007188_title" class="title">
    <b>test_assert_select_rjs_for_hide_ignores_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007188_source')" id="l_M007188_source">show source</a> ]</p>
  <div id="M007188_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 524</span>
524:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_hide_ignores_block</span>
525:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
526:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">hide</span> <span class="ruby-value str">&quot;test1&quot;</span>
527:     <span class="ruby-keyword kw">end</span>
528: 
529:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
530:       <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:hide</span>, <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
531:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>
532:       <span class="ruby-keyword kw">end</span>
533:     <span class="ruby-keyword kw">end</span>
534:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007187" class="method">
  <div id="M007187_title" class="title">
    <b>test_assert_select_rjs_for_hide_offers_useful_error_when_assertion_fails</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007187_source')" id="l_M007187_source">show source</a> ]</p>
  <div id="M007187_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 513</span>
513:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_hide_offers_useful_error_when_assertion_fails</span>
514:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
515:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">hide</span> <span class="ruby-value str">&quot;test_with_typo&quot;</span>
516:     <span class="ruby-keyword kw">end</span>
517: 
518:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:hide</span>, <span class="ruby-value str">&quot;test1&quot;</span>
519: 
520:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Assertion</span>
521:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;No RJS statement that hides 'test1' was rendered.&quot;</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
522:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007192" class="method">
  <div id="M007192_title" class="title">
    <b>test_assert_select_rjs_for_nonpositioned_insert</b>()
  </div>
  <div class="description">
  <p>
Non-positioned insert.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007192_source')" id="l_M007192_source">show source</a> ]</p>
  <div id="M007192_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 569</span>
569:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_nonpositioned_insert</span>
570:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
571:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace</span> <span class="ruby-value str">&quot;test1&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
572:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
573:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test3&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;3\&quot;&gt;foo&lt;/div&gt;&quot;</span>
574:     <span class="ruby-keyword kw">end</span>
575:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert_html</span> <span class="ruby-keyword kw">do</span>
576:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
577:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#3&quot;</span>
578:     <span class="ruby-keyword kw">end</span>
579:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert_html</span>, <span class="ruby-value str">&quot;test3&quot;</span> <span class="ruby-keyword kw">do</span>
580:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
581:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#3&quot;</span>
582:     <span class="ruby-keyword kw">end</span>
583:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert_html</span>, <span class="ruby-value str">&quot;test1&quot;</span> }
584:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007193" class="method">
  <div id="M007193_title" class="title">
    <b>test_assert_select_rjs_for_positioned_insert</b>()
  </div>
  <div class="description">
  <p>
Positioned insert.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007193_source')" id="l_M007193_source">show source</a> ]</p>
  <div id="M007193_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 587</span>
587:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_positioned_insert</span>
588:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
589:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test1&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
590:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:bottom</span>, <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
591:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:before</span>, <span class="ruby-value str">&quot;test3&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;3\&quot;&gt;foo&lt;/div&gt;&quot;</span>
592:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:after</span>, <span class="ruby-value str">&quot;test4&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;4\&quot;&gt;foo&lt;/div&gt;&quot;</span>
593:     <span class="ruby-keyword kw">end</span>
594:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert</span>, <span class="ruby-identifier">:top</span> <span class="ruby-keyword kw">do</span>
595:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
596:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
597:     <span class="ruby-keyword kw">end</span>
598:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert</span>, <span class="ruby-identifier">:bottom</span> <span class="ruby-keyword kw">do</span>
599:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
600:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
601:     <span class="ruby-keyword kw">end</span>
602:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert</span>, <span class="ruby-identifier">:before</span> <span class="ruby-keyword kw">do</span>
603:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
604:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#3&quot;</span>
605:     <span class="ruby-keyword kw">end</span>
606:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert</span>, <span class="ruby-identifier">:after</span> <span class="ruby-keyword kw">do</span>
607:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
608:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#4&quot;</span>
609:     <span class="ruby-keyword kw">end</span>
610:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert_html</span> <span class="ruby-keyword kw">do</span>
611:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">4</span>
612:     <span class="ruby-keyword kw">end</span>
613:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007168" class="method">
  <div id="M007168_title" class="title">
    <b>test_assert_select_rjs_for_positioned_insert_should_fail_when_mixing_arguments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007168_source')" id="l_M007168_source">show source</a> ]</p>
  <div id="M007168_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_positioned_insert_should_fail_when_mixing_arguments</span>
252:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
253:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test1&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
254:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:bottom</span>, <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
255:     <span class="ruby-keyword kw">end</span>
256:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) {<span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:insert</span>, <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test2&quot;</span>}
257:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007180" class="method">
  <div id="M007180_title" class="title">
    <b>test_assert_select_rjs_for_remove</b>()
  </div>
  <div class="description">
  <p>
Simple remove
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007180_source')" id="l_M007180_source">show source</a> ]</p>
  <div id="M007180_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 441</span>
441:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_remove</span>
442:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
443:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">remove</span> <span class="ruby-value str">&quot;test1&quot;</span>
444:     <span class="ruby-keyword kw">end</span>
445: 
446:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:remove</span>, <span class="ruby-value str">&quot;test1&quot;</span>
447:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007182" class="method">
  <div id="M007182_title" class="title">
    <b>test_assert_select_rjs_for_remove_ignores_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007182_source')" id="l_M007182_source">show source</a> ]</p>
  <div id="M007182_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 460</span>
460:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_remove_ignores_block</span>
461:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
462:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">remove</span> <span class="ruby-value str">&quot;test1&quot;</span>
463:     <span class="ruby-keyword kw">end</span>
464: 
465:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
466:       <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:remove</span>, <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
467:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>
468:       <span class="ruby-keyword kw">end</span>
469:     <span class="ruby-keyword kw">end</span>
470:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007181" class="method">
  <div id="M007181_title" class="title">
    <b>test_assert_select_rjs_for_remove_offers_useful_error_when_assertion_fails</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007181_source')" id="l_M007181_source">show source</a> ]</p>
  <div id="M007181_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_remove_offers_useful_error_when_assertion_fails</span>
450:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
451:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">remove</span> <span class="ruby-value str">&quot;test_with_typo&quot;</span>
452:     <span class="ruby-keyword kw">end</span>
453: 
454:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:remove</span>, <span class="ruby-value str">&quot;test1&quot;</span>
455: 
456:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Assertion</span>
457:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;No RJS statement that removes 'test1' was rendered.&quot;</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
458:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007178" class="method">
  <div id="M007178_title" class="title">
    <b>test_assert_select_rjs_for_replace</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007178_source')" id="l_M007178_source">show source</a> ]</p>
  <div id="M007178_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 384</span>
384:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_replace</span>
385:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
386:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace</span> <span class="ruby-value str">&quot;test1&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
387:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
388:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test3&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;3\&quot;&gt;foo&lt;/div&gt;&quot;</span>
389:     <span class="ruby-keyword kw">end</span>
390:     <span class="ruby-comment cmt"># Replace.</span>
391:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace</span> <span class="ruby-keyword kw">do</span>
392:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
393:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
394:     <span class="ruby-keyword kw">end</span>
395:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace</span>, <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
396:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
397:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
398:     <span class="ruby-keyword kw">end</span>
399:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace</span>, <span class="ruby-value str">&quot;test2&quot;</span> }
400:     <span class="ruby-comment cmt"># Replace HTML.</span>
401:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace_html</span> <span class="ruby-keyword kw">do</span>
402:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
403:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
404:     <span class="ruby-keyword kw">end</span>
405:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace_html</span>, <span class="ruby-value str">&quot;test2&quot;</span> <span class="ruby-keyword kw">do</span>
406:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
407:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
408:     <span class="ruby-keyword kw">end</span>
409:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:replace_html</span>, <span class="ruby-value str">&quot;test1&quot;</span> }
410:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007183" class="method">
  <div id="M007183_title" class="title">
    <b>test_assert_select_rjs_for_show</b>()
  </div>
  <div class="description">
  <p>
Simple show
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007183_source')" id="l_M007183_source">show source</a> ]</p>
  <div id="M007183_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 473</span>
473:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_show</span>
474:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
475:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">show</span> <span class="ruby-value str">&quot;test1&quot;</span>
476:     <span class="ruby-keyword kw">end</span>
477: 
478:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:show</span>, <span class="ruby-value str">&quot;test1&quot;</span>
479:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007185" class="method">
  <div id="M007185_title" class="title">
    <b>test_assert_select_rjs_for_show_ignores_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007185_source')" id="l_M007185_source">show source</a> ]</p>
  <div id="M007185_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 492</span>
492:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_show_ignores_block</span>
493:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
494:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">show</span> <span class="ruby-value str">&quot;test1&quot;</span>
495:     <span class="ruby-keyword kw">end</span>
496: 
497:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
498:       <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:show</span>, <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
499:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>
500:       <span class="ruby-keyword kw">end</span>
501:     <span class="ruby-keyword kw">end</span>
502:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007184" class="method">
  <div id="M007184_title" class="title">
    <b>test_assert_select_rjs_for_show_offers_useful_error_when_assertion_fails</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007184_source')" id="l_M007184_source">show source</a> ]</p>
  <div id="M007184_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 481</span>
481:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_show_offers_useful_error_when_assertion_fails</span>
482:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
483:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">show</span> <span class="ruby-value str">&quot;test_with_typo&quot;</span>
484:     <span class="ruby-keyword kw">end</span>
485: 
486:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:show</span>, <span class="ruby-value str">&quot;test1&quot;</span>
487: 
488:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Assertion</span>
489:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;No RJS statement that shows 'test1' was rendered.&quot;</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
490:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007189" class="method">
  <div id="M007189_title" class="title">
    <b>test_assert_select_rjs_for_toggle</b>()
  </div>
  <div class="description">
  <p>
Simple toggle
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007189_source')" id="l_M007189_source">show source</a> ]</p>
  <div id="M007189_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 537</span>
537:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_toggle</span>
538:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
539:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">toggle</span> <span class="ruby-value str">&quot;test1&quot;</span>
540:     <span class="ruby-keyword kw">end</span>
541: 
542:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:toggle</span>, <span class="ruby-value str">&quot;test1&quot;</span>
543:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007191" class="method">
  <div id="M007191_title" class="title">
    <b>test_assert_select_rjs_for_toggle_ignores_block</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007191_source')" id="l_M007191_source">show source</a> ]</p>
  <div id="M007191_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 556</span>
556:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_toggle_ignores_block</span>
557:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
558:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">toggle</span> <span class="ruby-value str">&quot;test1&quot;</span>
559:     <span class="ruby-keyword kw">end</span>
560: 
561:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
562:       <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:toggle</span>, <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
563:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>
564:       <span class="ruby-keyword kw">end</span>
565:     <span class="ruby-keyword kw">end</span>
566:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007190" class="method">
  <div id="M007190_title" class="title">
    <b>test_assert_select_rjs_for_toggle_offers_useful_error_when_assertion_fails</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007190_source')" id="l_M007190_source">show source</a> ]</p>
  <div id="M007190_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 545</span>
545:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_for_toggle_offers_useful_error_when_assertion_fails</span>
546:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
547:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">toggle</span> <span class="ruby-value str">&quot;test_with_typo&quot;</span>
548:     <span class="ruby-keyword kw">end</span>
549: 
550:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-identifier">:toggle</span>, <span class="ruby-value str">&quot;test1&quot;</span>
551: 
552:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Assertion</span>
553:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;No RJS statement that toggles 'test1' was rendered.&quot;</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
554:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007174" class="method">
  <div id="M007174_title" class="title">
    <b>test_assert_select_rjs_picks_up_all_statements</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> that we can pick up all
statements in the result.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007174_source')" id="l_M007174_source">show source</a> ]</p>
  <div id="M007174_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 319</span>
319:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_picks_up_all_statements</span>
320:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
321:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
322:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
323:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test3&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;3\&quot;&gt;foo&lt;/div&gt;&quot;</span>
324:     <span class="ruby-keyword kw">end</span>
325: 
326:     <span class="ruby-identifier">found</span> = <span class="ruby-keyword kw">false</span>
327:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-keyword kw">do</span>
328:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
329:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
330:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#3&quot;</span>
331:       <span class="ruby-identifier">found</span> = <span class="ruby-keyword kw">true</span>
332:     <span class="ruby-keyword kw">end</span>
333:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">found</span>
334:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007194" class="method">
  <div id="M007194_title" class="title">
    <b>test_assert_select_rjs_raise_errors</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007194_source')" id="l_M007194_source">show source</a> ]</p>
  <div id="M007194_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 615</span>
615:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_raise_errors</span>
616:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">assert_select_rjs</span>(<span class="ruby-identifier">:destroy</span>) }
617:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">assert_select_rjs</span>(<span class="ruby-identifier">:insert</span>, <span class="ruby-identifier">:left</span>) }
618:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007177" class="method">
  <div id="M007177_title" class="title">
    <b>test_assert_select_rjs_with_id</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007177_source')" id="l_M007177_source">show source</a> ]</p>
  <div id="M007177_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 362</span>
362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_with_id</span>
363:     <span class="ruby-comment cmt"># Test that we can pick up all statements in the result.</span>
364:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
365:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace</span> <span class="ruby-value str">&quot;test1&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
366:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
367:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">insert_html</span> <span class="ruby-identifier">:top</span>, <span class="ruby-value str">&quot;test3&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;3\&quot;&gt;foo&lt;/div&gt;&quot;</span>
368:     <span class="ruby-keyword kw">end</span>
369:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test1&quot;</span> <span class="ruby-keyword kw">do</span>
370:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
371:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
372:     <span class="ruby-keyword kw">end</span>
373:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test2&quot;</span> <span class="ruby-keyword kw">do</span>
374:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
375:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
376:     <span class="ruby-keyword kw">end</span>
377:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test3&quot;</span> <span class="ruby-keyword kw">do</span>
378:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span>
379:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#3&quot;</span>
380:     <span class="ruby-keyword kw">end</span>
381:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test4&quot;</span> }
382:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007176" class="method">
  <div id="M007176_title" class="title">
    <b>test_assert_select_rjs_with_unicode</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007176_source')" id="l_M007176_source">show source</a> ]</p>
  <div id="M007176_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 342</span>
342:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_rjs_with_unicode</span>
343:     <span class="ruby-comment cmt"># Test that non-ascii characters (which are converted into \uXXXX in RJS) are decoded correctly.</span>
344:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
345:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;\343\203\201\343\202\261\343\203\203\343\203\210&lt;/div&gt;&quot;</span>
346:     <span class="ruby-keyword kw">end</span>
347:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-keyword kw">do</span>
348:       <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;#1&quot;</span>
349:       <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">str</span>, <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;\343\203\201\343\202\261\343\203\203\343\203\210&quot;</span>
350:       <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">str</span>, <span class="ruby-value str">&quot;\343\203\201\343\202\261\343\203\203\343\203\210&quot;</span>
351:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:force_encoding</span>)
352:         <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>)
353:         <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">str</span>, <span class="ruby-regexp re">/\343\203\201..\343\203\210/</span><span class="ruby-identifier">u</span>
354:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">str</span>, <span class="ruby-regexp re">/\343\203\201.\343\203\210/</span><span class="ruby-identifier">u</span> }
355:       <span class="ruby-keyword kw">else</span>
356:         <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">str</span>, <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;\343\203\201..\343\203\210&quot;</span>,<span class="ruby-value">0</span>,<span class="ruby-value str">'U'</span>)
357:         <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">str</span>, <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;\343\203\201.\343\203\210&quot;</span>,<span class="ruby-value">0</span>,<span class="ruby-value str">'U'</span>) }
358:       <span class="ruby-keyword kw">end</span>
359:     <span class="ruby-keyword kw">end</span>
360:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007165" class="method">
  <div id="M007165_title" class="title">
    <b>test_assert_select_text_match</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007165_source')" id="l_M007165_source">show source</a> ]</p>
  <div id="M007165_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 206</span>
206:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assert_select_text_match</span>
207:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;span&gt;foo&lt;/span&gt;&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;&lt;span&gt;bar&lt;/span&gt;&lt;/div&gt;}</span>
208:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span>
209:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value str">&quot;foo&quot;</span> }
210:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value str">&quot;bar&quot;</span> }
211:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-regexp re">/\w*/</span> }
212:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-regexp re">/\w*/</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
213:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;foo&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
214:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;&lt;span&gt;bar&lt;/span&gt;&quot;</span> }
215:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;&lt;span&gt;bar&lt;/span&gt;&quot;</span> }
216:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/\w*/</span> }
217:       <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/\w*/</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
218:       <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;&lt;span&gt;foo&lt;/span&gt;&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
219:     <span class="ruby-keyword kw">end</span>
220:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007162" class="method">
  <div id="M007162_title" class="title">
    <b>test_counts</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007162_source')" id="l_M007162_source">show source</a> ]</p>
  <div id="M007162_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_counts</span>
137:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;foo&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;foo&lt;/div&gt;}</span>
138:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">2</span> }
139:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at least 3 elements matching \&quot;div\&quot;, found 2/</span>) <span class="ruby-keyword kw">do</span>
140:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">3</span>
141:     <span class="ruby-keyword kw">end</span>
142:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span> }
143:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected between 3 and 4 elements matching \&quot;div\&quot;, found 2/</span>) <span class="ruby-keyword kw">do</span>
144:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>
145:     <span class="ruby-keyword kw">end</span>
146:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
147:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at least 3 elements matching \&quot;div\&quot;, found 2/</span>) <span class="ruby-keyword kw">do</span>
148:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>
149:     <span class="ruby-keyword kw">end</span>
150:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span> }
151:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
152:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at least 3 elements matching \&quot;div\&quot;, found 2/</span>) <span class="ruby-keyword kw">do</span>
153:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>
154:     <span class="ruby-keyword kw">end</span>
155:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
156:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span> }
157:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at most 1 element matching \&quot;div\&quot;, found 2/</span>) <span class="ruby-keyword kw">do</span>
158:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
159:     <span class="ruby-keyword kw">end</span>
160:     <span class="ruby-identifier">assert_nothing_raised</span>               { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, <span class="ruby-identifier">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span> }
161:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected between 3 and 4 elements matching \&quot;div\&quot;, found 2/</span>) <span class="ruby-keyword kw">do</span>
162:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>, <span class="ruby-identifier">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>
163:     <span class="ruby-keyword kw">end</span>
164:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007170" class="method">
  <div id="M007170_title" class="title">
    <b>test_css_select</b>()
  </div>
  <div class="description">
  <p>
<a href="index.html?a=C00001760&name=Test">Test</a> css_select.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007170_source')" id="l_M007170_source">show source</a> ]</p>
  <div id="M007170_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 268</span>
268:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_select</span>
269:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;&lt;/div&gt;}</span>
270:     <span class="ruby-identifier">assert</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">size</span>
271:     <span class="ruby-identifier">assert</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;p&quot;</span>).<span class="ruby-identifier">size</span>
272:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007173" class="method">
  <div id="M007173_title" class="title">
    <b>test_css_select_from_rjs_with_multiple_results</b>()
  </div>
  <div class="description">
  <p>
With multiple results.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007173_source')" id="l_M007173_source">show source</a> ]</p>
  <div id="M007173_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 303</span>
303:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_select_from_rjs_with_multiple_results</span>
304:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
305:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
306:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
307:     <span class="ruby-keyword kw">end</span>
308: 
309:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">size</span>
310:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#1&quot;</span>).<span class="ruby-identifier">size</span>
311:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#2&quot;</span>).<span class="ruby-identifier">size</span>
312:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007172" class="method">
  <div id="M007172_title" class="title">
    <b>test_css_select_from_rjs_with_single_result</b>()
  </div>
  <div class="description">
  <p>
With one result.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007172_source')" id="l_M007172_source">show source</a> ]</p>
  <div id="M007172_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 293</span>
293:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_css_select_from_rjs_with_single_result</span>
294:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
295:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;\n&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
296:     <span class="ruby-keyword kw">end</span>
297:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">size</span>
298:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#1&quot;</span>).<span class="ruby-identifier">size</span>
299:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#2&quot;</span>).<span class="ruby-identifier">size</span>
300:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007169" class="method">
  <div id="M007169_title" class="title">
    <b>test_elect_with_xml_namespace_attributes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007169_source')" id="l_M007169_source">show source</a> ]</p>
  <div id="M007169_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 259</span>
259:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_elect_with_xml_namespace_attributes</span>
260:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;link xlink:href=&quot;http://nowhere.com&quot;&gt;&lt;/link&gt;}</span>
261:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;link[xlink:href=http://nowhere.com]&quot;</span> }
262:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007161" class="method">
  <div id="M007161_title" class="title">
    <b>test_equality_of_html</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007161_source')" id="l_M007161_source">show source</a> ]</p>
  <div id="M007161_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 118</span>
118:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_equality_of_html</span>
119:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;p&gt;\n&lt;em&gt;&quot;This is &lt;strong&gt;not&lt;/strong&gt; a big problem,&quot;&lt;/em&gt; he said.\n&lt;/p&gt;}</span>
120:     <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;\&quot;This is not a big problem,\&quot; he said.&quot;</span>
121:     <span class="ruby-identifier">html</span> = <span class="ruby-value str">&quot;&lt;em&gt;\&quot;This is &lt;strong&gt;not&lt;/strong&gt; a big problem,\&quot;&lt;/em&gt; he said.&quot;</span>
122:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">text</span> }
123:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">html</span> }
124:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">html</span> }
125:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">text</span> }
126:     <span class="ruby-comment cmt"># No stripping for pre.</span>
127:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;pre&gt;\n&lt;em&gt;&quot;This is &lt;strong&gt;not&lt;/strong&gt; a big problem,&quot;&lt;/em&gt; he said.\n&lt;/pre&gt;}</span>
128:     <span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;\n\&quot;This is not a big problem,\&quot; he said.\n&quot;</span>
129:     <span class="ruby-identifier">html</span> = <span class="ruby-value str">&quot;\n&lt;em&gt;\&quot;This is &lt;strong&gt;not&lt;/strong&gt; a big problem,\&quot;&lt;/em&gt; he said.\n&quot;</span>
130:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;pre&quot;</span>, <span class="ruby-identifier">text</span> }
131:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;pre&quot;</span>, <span class="ruby-identifier">html</span> }
132:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;pre&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">html</span> }
133:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;pre&quot;</span>, <span class="ruby-identifier">:html=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">text</span> }
134:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007160" class="method">
  <div id="M007160_title" class="title">
    <b>test_equality_string_and_regexp</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007160_source')" id="l_M007160_source">show source</a> ]</p>
  <div id="M007160_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 105</span>
105:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_equality_string_and_regexp</span>
106:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;foo&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;foo&lt;/div&gt;}</span>
107:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value str">&quot;foo&quot;</span> }
108:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value str">&quot;bar&quot;</span> }
109:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;foo&quot;</span> }
110:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;bar&quot;</span> }
111:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-regexp re">/(foo|bar)/</span> }
112:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-regexp re">/foobar/</span> }
113:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/(foo|bar)/</span> }
114:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/foobar/</span> }
115:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/foobar/</span> }
116:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007159" class="method">
  <div id="M007159_title" class="title">
    <b>test_equality_true_false</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007159_source')" id="l_M007159_source">show source</a> ]</p>
  <div id="M007159_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 95</span>
 95:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_equality_true_false</span>
 96:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;&lt;/div&gt;}</span>
 97:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> }
 98:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span> }
 99:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-keyword kw">true</span> }
100:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-keyword kw">true</span> }
101:     <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">Assertion</span>) { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-keyword kw">false</span> }
102:     <span class="ruby-identifier">assert_nothing_raised</span>    { <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-keyword kw">false</span> }
103:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007197" class="method">
  <div id="M007197_title" class="title">
    <b>test_feed_item_encoded</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007197_source')" id="l_M007197_source">show source</a> ]</p>
  <div id="M007197_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 651</span>
651:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_feed_item_encoded</span>
652:     <span class="ruby-identifier">render_xml</span> <span class="ruby-value str">&quot;&lt;rss version=\&quot;2.0\&quot;&gt;\n&lt;channel&gt;\n&lt;item&gt;\n&lt;description&gt;\n&lt;![CDATA[\n&lt;p&gt;Test 1&lt;/p&gt;\n]]&gt;\n&lt;/description&gt;\n&lt;/item&gt;\n&lt;item&gt;\n&lt;description&gt;\n&lt;![CDATA[\n&lt;p&gt;Test 2&lt;/p&gt;\n]]&gt;\n&lt;/description&gt;\n&lt;/item&gt;\n&lt;/channel&gt;\n&lt;/rss&gt;\n&quot;</span>
653:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;channel item description&quot;</span> <span class="ruby-keyword kw">do</span>
654:       <span class="ruby-comment cmt"># Test element regardless of wrapper.</span>
655:       <span class="ruby-identifier">assert_select_encoded</span> <span class="ruby-keyword kw">do</span>
656:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/Test/</span>
657:       <span class="ruby-keyword kw">end</span>
658:       <span class="ruby-comment cmt"># Test through encoded wrapper.</span>
659:       <span class="ruby-identifier">assert_select_encoded</span> <span class="ruby-keyword kw">do</span>
660:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;encoded p&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/Test/</span>
661:       <span class="ruby-keyword kw">end</span>
662:       <span class="ruby-comment cmt"># Use :root instead (recommended)</span>
663:       <span class="ruby-identifier">assert_select_encoded</span> <span class="ruby-keyword kw">do</span>
664:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;:root p&quot;</span>, <span class="ruby-identifier">:count=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-regexp re">/Test/</span>
665:       <span class="ruby-keyword kw">end</span>
666:       <span class="ruby-comment cmt"># Test individually.</span>
667:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;description&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
668:         <span class="ruby-identifier">assert_select_encoded</span> <span class="ruby-identifier">elements</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword kw">do</span>
669:           <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-value str">&quot;Test 1&quot;</span>
670:         <span class="ruby-keyword kw">end</span>
671:         <span class="ruby-identifier">assert_select_encoded</span> <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword kw">do</span>
672:           <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-value str">&quot;Test 2&quot;</span>
673:         <span class="ruby-keyword kw">end</span>
674:       <span class="ruby-keyword kw">end</span>
675:     <span class="ruby-keyword kw">end</span>
676: 
677:     <span class="ruby-comment cmt"># Test that we only un-encode element itself.</span>
678:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;channel item&quot;</span> <span class="ruby-keyword kw">do</span>
679:       <span class="ruby-identifier">assert_select_encoded</span> <span class="ruby-keyword kw">do</span>
680:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-value">0</span>
681:       <span class="ruby-keyword kw">end</span>
682:     <span class="ruby-keyword kw">end</span>
683:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007164" class="method">
  <div id="M007164_title" class="title">
    <b>test_nested_assert_select</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007164_source')" id="l_M007164_source">show source</a> ]</p>
  <div id="M007164_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_assert_select</span>
181:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;foo&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;foo&lt;/div&gt;}</span>
182:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
183:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
184:       <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">elements</span>[<span class="ruby-value">0</span>], <span class="ruby-value str">&quot;#1&quot;</span>
185:       <span class="ruby-identifier">assert_select</span> <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>], <span class="ruby-value str">&quot;#2&quot;</span>
186:     <span class="ruby-keyword kw">end</span>
187:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span>
188:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
189:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
190:         <span class="ruby-comment cmt"># Testing in a group is one thing</span>
191:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1,#2&quot;</span>
192:         <span class="ruby-comment cmt"># Testing individually is another.</span>
193:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
194:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
195:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#3&quot;</span>, <span class="ruby-keyword kw">false</span>
196:       <span class="ruby-keyword kw">end</span>
197:     <span class="ruby-keyword kw">end</span>
198: 
199:     <span class="ruby-identifier">assert_failure</span>(<span class="ruby-regexp re">/Expected at least 1 element matching \&quot;#4\&quot;, found 0\./</span>) <span class="ruby-keyword kw">do</span>
200:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span>
201:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#4&quot;</span>
202:       <span class="ruby-keyword kw">end</span>
203:     <span class="ruby-keyword kw">end</span>
204:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007195" class="method">
  <div id="M007195_title" class="title">
    <b>test_nested_assert_select_rjs_with_single_result</b>()
  </div>
  <div class="description">
  <p>
Simple selection from a single result.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007195_source')" id="l_M007195_source">show source</a> ]</p>
  <div id="M007195_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 621</span>
621:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_assert_select_rjs_with_single_result</span>
622:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
623:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;\n&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
624:     <span class="ruby-keyword kw">end</span>
625: 
626:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
627:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
628:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
629:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
630:     <span class="ruby-keyword kw">end</span>
631:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007196" class="method">
  <div id="M007196_title" class="title">
    <b>test_nested_assert_select_rjs_with_two_results</b>()
  </div>
  <div class="description">
  <p>
Deal with two results.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007196_source')" id="l_M007196_source">show source</a> ]</p>
  <div id="M007196_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 634</span>
634:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_assert_select_rjs_with_two_results</span>
635:     <span class="ruby-identifier">render_rjs</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
636:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;</span>
637:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;test2&quot;</span>, <span class="ruby-value str">&quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;</span>
638:     <span class="ruby-keyword kw">end</span>
639: 
640:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
641:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
642:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
643:     <span class="ruby-keyword kw">end</span>
644: 
645:     <span class="ruby-identifier">assert_select_rjs</span> <span class="ruby-value str">&quot;test2&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
646:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
647:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
648:     <span class="ruby-keyword kw">end</span>
649:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007171" class="method">
  <div id="M007171_title" class="title">
    <b>test_nested_css_select</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007171_source')" id="l_M007171_source">show source</a> ]</p>
  <div id="M007171_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nested_css_select</span>
275:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;foo&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;foo&lt;/div&gt;}</span>
276:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div#?&quot;</span>, <span class="ruby-regexp re">/\d+/</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
277:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-identifier">elements</span>[<span class="ruby-value">0</span>], <span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">size</span>
278:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>], <span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">size</span>
279:     <span class="ruby-keyword kw">end</span>
280:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span>
281:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">size</span>
282:       <span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;div&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">element</span><span class="ruby-operator">|</span>
283:         <span class="ruby-comment cmt"># Testing as a group is one thing</span>
284:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#1,#2&quot;</span>).<span class="ruby-identifier">empty?</span>
285:         <span class="ruby-comment cmt"># Testing individually is another</span>
286:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#1&quot;</span>).<span class="ruby-identifier">empty?</span>
287:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">css_select</span>(<span class="ruby-value str">&quot;#2&quot;</span>).<span class="ruby-identifier">empty?</span>
288:       <span class="ruby-keyword kw">end</span>
289:     <span class="ruby-keyword kw">end</span>
290:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007163" class="method">
  <div id="M007163_title" class="title">
    <b>test_substitution_values</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007163_source')" id="l_M007163_source">show source</a> ]</p>
  <div id="M007163_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 166</span>
166:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_substitution_values</span>
167:     <span class="ruby-identifier">render_html</span> <span class="ruby-value str">%Q{&lt;div id=&quot;1&quot;&gt;foo&lt;/div&gt;&lt;div id=&quot;2&quot;&gt;foo&lt;/div&gt;}</span>
168:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div#?&quot;</span>, <span class="ruby-regexp re">/\d+/</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
169:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
170:     <span class="ruby-keyword kw">end</span>
171:     <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div&quot;</span> <span class="ruby-keyword kw">do</span>
172:       <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;div#?&quot;</span>, <span class="ruby-regexp re">/\d+/</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elements</span><span class="ruby-operator">|</span>
173:         <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">elements</span>.<span class="ruby-identifier">size</span>
174:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#1&quot;</span>
175:         <span class="ruby-identifier">assert_select</span> <span class="ruby-value str">&quot;#2&quot;</span>
176:       <span class="ruby-keyword kw">end</span>
177:     <span class="ruby-keyword kw">end</span>
178:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Protected Instance methods</div>
<div id="M007199" class="method">
  <div id="M007199_title" class="title">
    <b>render_html</b>(html)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007199_source')" id="l_M007199_source">show source</a> ]</p>
  <div id="M007199_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 721</span>
721:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_html</span>(<span class="ruby-identifier">html</span>)
722:       <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">response_with</span> = <span class="ruby-identifier">html</span>
723:       <span class="ruby-identifier">get</span> <span class="ruby-identifier">:html</span>
724:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007200" class="method">
  <div id="M007200_title" class="title">
    <b>render_rjs</b>(&amp;block)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007200_source')" id="l_M007200_source">show source</a> ]</p>
  <div id="M007200_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 726</span>
726:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_rjs</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
727:       <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">response_with</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
728:       <span class="ruby-identifier">get</span> <span class="ruby-identifier">:rjs</span>
729:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M007201" class="method">
  <div id="M007201_title" class="title">
    <b>render_xml</b>(xml)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M007201_source')" id="l_M007201_source">show source</a> ]</p>
  <div id="M007201_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File actionpack/test/controller/assert_select_test.rb, line 731</span>
731:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_xml</span>(<span class="ruby-identifier">xml</span>)
732:       <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">response_with</span> = <span class="ruby-identifier">xml</span>
733:       <span class="ruby-identifier">get</span> <span class="ruby-identifier">:xml</span>
734:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>