  <div id="C00000235">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />BootTest<br/>
  In:
<a href="#" onclick="jsHref('files/railties/test/boot_test_rb.html');">railties/test/boot_test.rb</a>

Parent:&nbsp;
Test::Unit::TestCase
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M001394&name=test_boot_gem_rails_otherwise" >test_boot_gem_rails_otherwise</a></li>
  <li><a href="index.html?a=M001390&name=test_boot_preinitializes_then_picks_and_runs_if_not_booted" >test_boot_preinitializes_then_picks_and_runs_if_not_booted</a></li>
  <li><a href="index.html?a=M001389&name=test_boot_returns_if_booted" >test_boot_returns_if_booted</a></li>
  <li><a href="index.html?a=M001393&name=test_boot_vendor_rails_by_default" >test_boot_vendor_rails_by_default</a></li>
  <li><a href="index.html?a=M001392&name=test_load_preinitializer_loads_preinitializer_file" >test_load_preinitializer_loads_preinitializer_file</a></li>
  <li><a href="index.html?a=M001391&name=test_preinitialize_does_not_raise_exception_if_preinitializer_file_does_not_exist" >test_preinitialize_does_not_raise_exception_if_preinitializer_file_does_not_exist</a></li>
  <li><a href="index.html?a=M001395&name=test_run_loads_initializer_and_sets_load_path" >test_run_loads_initializer_and_sets_load_path</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M001394" class="method">
  <div id="M001394_title" class="title">
    <b>test_boot_gem_rails_otherwise</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001394_source')" id="l_M001394_source">show source</a> ]</p>
  <div id="M001394_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_boot_gem_rails_otherwise</span>
44:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:booted?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
45:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:preinitialize</span>)
46:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:exist?</span>).<span class="ruby-identifier">with</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/vendor/rails&quot;</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
47:     <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">GemBoot</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:run</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'result'</span>)
48:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'result'</span>, <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">boot!</span>
49:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001390" class="method">
  <div id="M001390_title" class="title">
    <b>test_boot_preinitializes_then_picks_and_runs_if_not_booted</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001390_source')" id="l_M001390_source">show source</a> ]</p>
  <div id="M001390_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_boot_preinitializes_then_picks_and_runs_if_not_booted</span>
13:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:booted?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
14:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:preinitialize</span>)
15:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:pick_boot</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-identifier">mock</span>(<span class="ruby-identifier">:run</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'result'</span>))
16:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'result'</span>, <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">boot!</span>
17:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001389" class="method">
  <div id="M001389_title" class="title">
    <b>test_boot_returns_if_booted</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001389_source')" id="l_M001389_source">show source</a> ]</p>
  <div id="M001389_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 6</span>
 6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_boot_returns_if_booted</span>
 7:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:booted?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>)
 8:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:pick_boot</span>).<span class="ruby-identifier">never</span>
 9:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">boot!</span>
10:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001393" class="method">
  <div id="M001393_title" class="title">
    <b>test_boot_vendor_rails_by_default</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001393_source')" id="l_M001393_source">show source</a> ]</p>
  <div id="M001393_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_boot_vendor_rails_by_default</span>
36:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:booted?</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">false</span>)
37:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:preinitialize</span>)
38:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:exist?</span>).<span class="ruby-identifier">with</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/vendor/rails&quot;</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-keyword kw">true</span>)
39:     <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">VendorBoot</span>.<span class="ruby-identifier">any_instance</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:run</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'result'</span>)
40:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'result'</span>, <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">boot!</span>
41:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001392" class="method">
  <div id="M001392_title" class="title">
    <b>test_load_preinitializer_loads_preinitializer_file</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001392_source')" id="l_M001392_source">show source</a> ]</p>
  <div id="M001392_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 25</span>
25:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_load_preinitializer_loads_preinitializer_file</span>
26:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:preinitializer_path</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-node">&quot;#{File.dirname(__FILE__)}/fixtures/environment_with_constant.rb&quot;</span>)
27: 
28:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">$initialize_test_set_from_env</span>
29:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">preinitialize</span>
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;success&quot;</span>, <span class="ruby-identifier">$initialize_test_set_from_env</span>
31:   <span class="ruby-keyword kw">ensure</span>
32:     <span class="ruby-identifier">$initialize_test_set_from_env</span> = <span class="ruby-keyword kw">nil</span>
33:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001391" class="method">
  <div id="M001391_title" class="title">
    <b>test_preinitialize_does_not_raise_exception_if_preinitializer_file_does_not_exist</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001391_source')" id="l_M001391_source">show source</a> ]</p>
  <div id="M001391_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_preinitialize_does_not_raise_exception_if_preinitializer_file_does_not_exist</span>
20:     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">stubs</span>(<span class="ruby-identifier">:preinitializer_path</span>).<span class="ruby-identifier">returns</span>(<span class="ruby-value str">'/there/is/no/such/file'</span>)
21: 
22:     <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">preinitialize</span> }
23:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M001395" class="method">
  <div id="M001395_title" class="title">
    <b>test_run_loads_initializer_and_sets_load_path</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M001395_source')" id="l_M001395_source">show source</a> ]</p>
  <div id="M001395_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File railties/test/boot_test.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_run_loads_initializer_and_sets_load_path</span>
52:     <span class="ruby-identifier">boot</span> = <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Boot</span>.<span class="ruby-identifier">new</span>
53:     <span class="ruby-identifier">boot</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:load_initializer</span>)
54:     <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Initializer</span>.<span class="ruby-identifier">expects</span>(<span class="ruby-identifier">:run</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">:set_load_path</span>)
55:     <span class="ruby-identifier">boot</span>.<span class="ruby-identifier">run</span>
56:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>