  <div id="C00001465">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Configuration<br/>
  In:
<a href="#" onclick="jsHref('files/railties/lib/initializer_rb.html');">railties/lib/initializer.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Object.html');">
Object
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
The <a href="index.html?a=C00001465&name=Configuration">Configuration</a>
class holds all the parameters for the <a
href="index.html?a=C00001461&name=Initializer">Initializer</a> and ships
with defaults that suites most <a
href="index.html?a=C00001417&name=Rails">Rails</a> applications. But
it&#8217;s possible to overwrite everything. Usually, you&#8217;ll create
an <a href="index.html?a=C00001465&name=Configuration">Configuration</a>
file implicitly through the block running on the <a
href="index.html?a=C00001461&name=Initializer">Initializer</a>, but
it&#8217;s also possible to create the <a
href="index.html?a=C00001465&name=Configuration">Configuration</a> instance
in advance and pass it in like this:
</p>
<pre>
  config = Rails::Configuration.new
  Rails::Initializer.run(:process, config)
</pre>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M009099&name=after_initialize" >after_initialize</a></li>
  <li><a href="index.html?a=M009100&name=after_initialize_blocks" >after_initialize_blocks</a></li>
  <li><a href="index.html?a=M009091&name=breakpoint_server" >breakpoint_server</a></li>
  <li><a href="index.html?a=M009092&name=breakpoint_server=" >breakpoint_server=</a></li>
  <li><a href="index.html?a=M009103&name=builtin_directories" >builtin_directories</a></li>
  <li><a href="index.html?a=M009096&name=database_configuration" >database_configuration</a></li>
  <li><a href="index.html?a=M009098&name=environment" >environment</a></li>
  <li><a href="index.html?a=M009097&name=environment_path" >environment_path</a></li>
  <li><a href="index.html?a=M009104&name=framework_paths" >framework_paths</a></li>
  <li><a href="index.html?a=M009090&name=gem" >gem</a></li>
  <li><a href="index.html?a=M009102&name=middleware" >middleware</a></li>
  <li><a href="index.html?a=M009093&name=new" >new</a></li>
  <li><a href="index.html?a=M009088&name=plugins=" >plugins=</a></li>
  <li><a href="index.html?a=M009089&name=reload_plugins?" >reload_plugins?</a></li>
  <li><a href="index.html?a=M009094&name=set_root_path!" >set_root_path!</a></li>
  <li><a href="index.html?a=M009095&name=threadsafe!" >threadsafe!</a></li>
  <li><a href="index.html?a=M009101&name=to_prepare" >to_prepare</a></li>
  </ul>





  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>action_controller</td>
    <td class='attr-desc'>
A stub for setting options on <a
href="index.html?a=C00001262&name=ActionController::Base">ActionController::Base</a>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>action_mailer</td>
    <td class='attr-desc'>
A stub for setting options on <a
href="index.html?a=C00001692&name=ActionMailer::Base">ActionMailer::Base</a>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>action_view</td>
    <td class='attr-desc'>
A stub for setting options on <a
href="index.html?a=C00001112&name=ActionView::Base">ActionView::Base</a>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>active_record</td>
    <td class='attr-desc'>
A stub for setting options on <a
href="index.html?a=C00001639&name=ActiveRecord::Base">ActiveRecord::Base</a>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>active_resource</td>
    <td class='attr-desc'>
A stub for setting options on <a
href="index.html?a=C00001329&name=ActiveResource::Base">ActiveResource::Base</a>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>active_support</td>
    <td class='attr-desc'>
A stub for setting options on ActiveSupport.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>cache_classes</td>
    <td class='attr-desc'>
Whether or not classes should be cached (set to false if you want
application classes to be reloaded on each request)

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>cache_store</td>
    <td class='attr-desc'>
The specific cache store to use. By default, the <a
href="index.html?a=C00001763&name=ActiveSupport::Cache::Store">ActiveSupport::Cache::Store</a>
will be used.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>controller_paths</td>
    <td class='attr-desc'>
The list of paths that should be searched for controllers. (Defaults to
<tt>app/controllers</tt>.)

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>database_configuration_file</td>
    <td class='attr-desc'>
The path to the database configuration file to use. (Defaults to
<tt>config/database.yml</tt>.)

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>dependency_loading</td>
    <td class='attr-desc'>
Enables or disables dependency loading during the request cycle. Setting
<tt>dependency_loading</tt> to true will allow new classes to be loaded
during a request. Setting it to false will disable this behavior.

<p>
Those who want to run in a threaded environment should disable this option
and eager load or require all there classes on initialization.
</p>
<p>
If <tt>cache_classes</tt> is disabled, dependency loaded will always be on.
</p>
</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>eager_load_paths</td>
    <td class='attr-desc'>
An array of paths from which <a
href="index.html?a=C00001417&name=Rails">Rails</a> will eager load on boot
if cache classes is enabled. All elements of this array must also be in
<tt>load_paths</tt>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>frameworks</td>
    <td class='attr-desc'>
The list of rails framework components that should be loaded. (Defaults to
<tt>:active_record</tt>, <tt>:action_controller</tt>,
<tt>:action_view</tt>, <tt>:action_mailer</tt>, and
<tt>:active_resource</tt>).

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>gems</td>
    <td class='attr-desc'>
An array of gems that this rails application depends on. <a
href="index.html?a=C00001417&name=Rails">Rails</a> will automatically load
these gems during installation, and allow you to install any missing gems
with:

<pre>
  rake gems:install
</pre>
<p>
You can add gems with the <a href="index.html?a=M009090&name=gem">gem</a>
method.
</p>
</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>i18n</td>
    <td class='attr-desc'>
Accessor for i18n settings.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>load_once_paths</td>
    <td class='attr-desc'>
An array of paths from which <a
href="index.html?a=C00001417&name=Rails">Rails</a> will automatically load
from only once. All elements of this array must also be in
<tt>load_paths</tt>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>load_paths</td>
    <td class='attr-desc'>
An array of additional paths to prepend to the load path. By default, all
<tt>app</tt>, <tt>lib</tt>, <tt>vendor</tt> and mock paths are included in
this list.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>log_level</td>
    <td class='attr-desc'>
The log level to use for the default <a
href="index.html?a=C00001417&name=Rails">Rails</a> logger. In production
mode, this defaults to <tt>:info</tt>. In development mode, it defaults to
<tt>:debug</tt>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>log_path</td>
    <td class='attr-desc'>
The path to the log file to use. Defaults to log/#{environment}.log (e.g.
log/development.log or log/production.log).

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>logger</td>
    <td class='attr-desc'>
The specific logger to use. By default, a logger will be created and
initialized using log_path and log_level, but a programmer may specifically
set the logger to use via this accessor and it will be used directly.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>metals</td>
    <td class='attr-desc'>
The list of metals to load. If this is set to <tt>nil</tt>, all metals will
be loaded in alphabetical order. If this is set to <tt>[]</tt>, no metals
will be loaded. Otherwise metals will be loaded in the order specified

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>plugin_loader</td>
    <td class='attr-desc'>
The class that handles loading each plugin. Defaults to <a
href="index.html?a=C00001475&name=Rails::Plugin::Loader">Rails::Plugin::Loader</a>,
but a sub class would have access to fine grained modification of the
loading behavior. See the implementation of <a
href="index.html?a=C00001475&name=Rails::Plugin::Loader">Rails::Plugin::Loader</a>
for more details.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>plugin_locators</td>
    <td class='attr-desc'>
The classes that handle finding the desired plugins that you&#8217;d like
to load for your application. By default it is the <a
href="index.html?a=C00001477&name=Rails::Plugin::FileSystemLocator">Rails::Plugin::FileSystemLocator</a>
which finds plugins to load in <tt>vendor/plugins</tt>. You can hook into
gem location by subclassing <a
href="index.html?a=C00001476&name=Rails::Plugin::Locator">Rails::Plugin::Locator</a>
and adding it onto the list of <tt>plugin_locators</tt>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>plugin_paths</td>
    <td class='attr-desc'>
The path to the root of the plugins directory. By default, it is in
<tt>vendor/plugins</tt>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>plugins</td>
    <td class='attr-desc'>
The list of plugins to load. If this is set to <tt>nil</tt>, all plugins
will be loaded. If this is set to <tt>[]</tt>, no plugins will be loaded.
Otherwise, plugins will be loaded in the order specified.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>preload_frameworks</td>
    <td class='attr-desc'>
Whether to preload all frameworks at startup.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>reload_plugins</td>
    <td class='attr-desc'>
Enables or disables plugin reloading. You can get around this setting per
plugin. If <tt><a
href="index.html?a=M009089&name=reload_plugins?">reload_plugins?</a></tt>
is false, add this to your plugin&#8217;s <tt>init.rb</tt> to make it
reloadable:

<pre>
  ActiveSupport::Dependencies.load_once_paths.delete lib_path
</pre>
<p>
If <tt><a
href="index.html?a=M009089&name=reload_plugins?">reload_plugins?</a></tt>
is true, add this to your plugin&#8217;s <tt>init.rb</tt> to only load it
once:
</p>
<pre>
  ActiveSupport::Dependencies.load_once_paths &lt;&lt; lib_path
</pre>
</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>root_path</td>
    <td class='attr-desc'>
The application&#8217;s base directory.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>routes_configuration_file</td>
    <td class='attr-desc'>
The path to the routes configuration file to use. (Defaults to
<tt>config/routes.rb</tt>.)

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>time_zone</td>
    <td class='attr-desc'>
Sets the default <tt>time_zone</tt>. Setting this will enable
<tt>time_zone</tt> awareness for Active <a
href="index.html?a=C00001012&name=Record">Record</a> models and set the
Active <a href="index.html?a=C00001012&name=Record">Record</a> default
timezone to <tt>:utc</tt>.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>view_path</td>
    <td class='attr-desc'>
The root of the application&#8217;s views. (Defaults to
<tt>app/views</tt>.)

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[RW]
    </td>
    <td class='attr-name'>whiny_nils</td>
    <td class='attr-desc'>
Set to <tt>true</tt> if you want to be warned (noisily) when you try to
invoke any method of <tt>nil</tt>. Set to <tt>false</tt> for the standard
Ruby behavior.

</td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div id="M009093" class="method">
  <div id="M009093_title" class="title">
    <b>new</b>()
  </div>
  <div class="description">
  <p>
Create a new <a
href="index.html?a=C00001465&name=Configuration">Configuration</a>
instance, initialized with the default values.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009093_source')" id="l_M009093_source">show source</a> ]</p>
  <div id="M009093_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 838</span>
838:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
839:       <span class="ruby-identifier">set_root_path!</span>
840: 
841:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">frameworks</span>                   = <span class="ruby-identifier">default_frameworks</span>
842:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load_paths</span>                   = <span class="ruby-identifier">default_load_paths</span>
843:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load_once_paths</span>              = <span class="ruby-identifier">default_load_once_paths</span>
844:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">eager_load_paths</span>             = <span class="ruby-identifier">default_eager_load_paths</span>
845:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">log_path</span>                     = <span class="ruby-identifier">default_log_path</span>
846:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">log_level</span>                    = <span class="ruby-identifier">default_log_level</span>
847:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">view_path</span>                    = <span class="ruby-identifier">default_view_path</span>
848:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">controller_paths</span>             = <span class="ruby-identifier">default_controller_paths</span>
849:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">preload_frameworks</span>           = <span class="ruby-identifier">default_preload_frameworks</span>
850:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">cache_classes</span>                = <span class="ruby-identifier">default_cache_classes</span>
851:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependency_loading</span>           = <span class="ruby-identifier">default_dependency_loading</span>
852:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">whiny_nils</span>                   = <span class="ruby-identifier">default_whiny_nils</span>
853:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">plugins</span>                      = <span class="ruby-identifier">default_plugins</span>
854:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">plugin_paths</span>                 = <span class="ruby-identifier">default_plugin_paths</span>
855:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">plugin_locators</span>              = <span class="ruby-identifier">default_plugin_locators</span>
856:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">plugin_loader</span>                = <span class="ruby-identifier">default_plugin_loader</span>
857:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">database_configuration_file</span>  = <span class="ruby-identifier">default_database_configuration_file</span>
858:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">routes_configuration_file</span>    = <span class="ruby-identifier">default_routes_configuration_file</span>
859:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">gems</span>                         = <span class="ruby-identifier">default_gems</span>
860:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">i18n</span>                         = <span class="ruby-identifier">default_i18n</span>
861: 
862:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">framework</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">default_frameworks</span>
863:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{framework}=&quot;</span>, <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedOptions</span>.<span class="ruby-identifier">new</span>)
864:       <span class="ruby-keyword kw">end</span>
865:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">active_support</span> = <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedOptions</span>.<span class="ruby-identifier">new</span>
866:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div id="M009099" class="method">
  <div id="M009099_title" class="title">
    <b>after_initialize</b>(&amp;after_initialize_block)
  </div>
  <div class="description">
  <p>
Adds a block which will be executed after rails has been fully initialized.
Useful for per-environment configuration which depends on the framework
being fully initialized.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009099_source')" id="l_M009099_source">show source</a> ]</p>
  <div id="M009099_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 923</span>
923:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_initialize</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">after_initialize_block</span>)
924:       <span class="ruby-identifier">after_initialize_blocks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">after_initialize_block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">after_initialize_block</span>
925:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009100" class="method">
  <div id="M009100_title" class="title">
    <b>after_initialize_blocks</b>()
  </div>
  <div class="description">
  <p>
Returns the blocks added with <a
href="index.html?a=M009099&name=Configuration#after_initialize">Configuration#after_initialize</a>
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009100_source')" id="l_M009100_source">show source</a> ]</p>
  <div id="M009100_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 928</span>
928:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_initialize_blocks</span>
929:       <span class="ruby-ivar">@after_initialize_blocks</span> <span class="ruby-operator">||=</span> []
930:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009091" class="method">
  <div id="M009091_title" class="title">
    <b>breakpoint_server</b>(_ = nil)
  </div>
  <div class="description">
  <p>
Deprecated options:
</p>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="index.html?a=M009092&name=breakpoint_server=">breakpoint_server=</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009091_source')" id="l_M009091_source">show source</a> ]</p>
  <div id="M009091_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 819</span>
819:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">breakpoint_server</span>(<span class="ruby-identifier">_</span> = <span class="ruby-keyword kw">nil</span>)
820:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">%(
821:       *******************************************************************
822:       * config.breakpoint_server has been deprecated and has no effect. *
823:       *******************************************************************
824:       )</span>
825:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009092" class="method">
  <div id="M009092_title" class="title">
    <b>breakpoint_server=</b>(_ = nil)
  </div>
  <div class="description">
  <p>
Alias for <a
href="index.html?a=M009091&name=breakpoint_server">breakpoint_server</a>
</p>
  </div>
</div>
<div id="M009103" class="method">
  <div id="M009103_title" class="title">
    <b>builtin_directories</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009103_source')" id="l_M009103_source">show source</a> ]</p>
  <div id="M009103_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 948</span>
948:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">builtin_directories</span>
949:       <span class="ruby-comment cmt"># Include builtins only in the development environment.</span>
950:       (<span class="ruby-identifier">environment</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'development'</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{RAILTIES_PATH}/builtin/*/&quot;</span>] <span class="ruby-operator">:</span> []
951:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009096" class="method">
  <div id="M009096_title" class="title">
    <b>database_configuration</b>()
  </div>
  <div class="description">
  <p>
Loads and returns the contents of the database_configuration_file. The
contents of the file are processed via <a
href="index.html?a=C00000438&name=ERB">ERB</a> before being sent through
YAML::load.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009096_source')" id="l_M009096_source">show source</a> ]</p>
  <div id="M009096_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 903</span>
903:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">database_configuration</span>
904:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'erb'</span>
905:       <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load</span>(<span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">database_configuration_file</span>)).<span class="ruby-identifier">result</span>)
906:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009098" class="method">
  <div id="M009098_title" class="title">
    <b>environment</b>()
  </div>
  <div class="description">
  <p>
Return the currently selected environment. By default, it returns the value
of the RAILS_ENV constant.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009098_source')" id="l_M009098_source">show source</a> ]</p>
  <div id="M009098_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 916</span>
916:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">environment</span>
917:       <span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ENV</span>
918:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009097" class="method">
  <div id="M009097_title" class="title">
    <b>environment_path</b>()
  </div>
  <div class="description">
  <p>
The path to the current environment&#8217;s file (<tt>development.rb</tt>,
etc.). By default the file is at
<tt>config/environments/#{environment}.rb</tt>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009097_source')" id="l_M009097_source">show source</a> ]</p>
  <div id="M009097_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 910</span>
910:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">environment_path</span>
911:       <span class="ruby-node">&quot;#{root_path}/config/environments/#{environment}.rb&quot;</span>
912:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009104" class="method">
  <div id="M009104_title" class="title">
    <b>framework_paths</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009104_source')" id="l_M009104_source">show source</a> ]</p>
  <div id="M009104_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 953</span>
953:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">framework_paths</span>
954:       <span class="ruby-identifier">paths</span> = <span class="ruby-node">%w(railties railties/lib activesupport/lib)</span>
955:       <span class="ruby-identifier">paths</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'actionpack/lib'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_controller</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:action_view</span>)
956: 
957:       [<span class="ruby-identifier">:active_record</span>, <span class="ruby-identifier">:action_mailer</span>, <span class="ruby-identifier">:active_resource</span>, <span class="ruby-identifier">:action_web_service</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">framework</span><span class="ruby-operator">|</span>
958:         <span class="ruby-identifier">paths</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{framework.to_s.gsub('_', '')}/lib&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">frameworks</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">framework</span>)
959:       <span class="ruby-keyword kw">end</span>
960: 
961:       <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{framework_root_path}/#{dir}&quot;</span> }.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">dir</span>) }
962:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009090" class="method">
  <div id="M009090_title" class="title">
    <b>gem</b>(name, options = {})
  </div>
  <div class="description">
  <p>
Adds a single <a href="index.html?a=C00001416&name=Gem">Gem</a> dependency
to the rails application. By default, it will require the library with the
same name as the gem. Use :lib to specify a different name.
</p>
<pre>
  # gem 'aws-s3', '&gt;= 0.4.0'
  # require 'aws/s3'
  config.gem 'aws-s3', :lib =&gt; 'aws/s3', :version =&gt; '&gt;= 0.4.0',      #     :source =&gt; &quot;http://code.whytheluckystiff.net&quot;
</pre>
<p>
To require a library be installed, but not attempt to load it, pass :lib
=&gt; false
</p>
<pre>
  config.gem 'qrp', :version =&gt; '0.4.1', :lib =&gt; false
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009090_source')" id="l_M009090_source">show source</a> ]</p>
  <div id="M009090_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 814</span>
814:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gem</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
815:       <span class="ruby-ivar">@gems</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">GemDependency</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
816:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009102" class="method">
  <div id="M009102_title" class="title">
    <b>middleware</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009102_source')" id="l_M009102_source">show source</a> ]</p>
  <div id="M009102_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 943</span>
943:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">middleware</span>
944:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'action_controller'</span>
945:       <span class="ruby-constant">ActionController</span><span class="ruby-operator">::</span><span class="ruby-constant">Dispatcher</span>.<span class="ruby-identifier">middleware</span>
946:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009088" class="method">
  <div id="M009088_title" class="title">
    <b>plugins=</b>(plugins)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009088_source')" id="l_M009088_source">show source</a> ]</p>
  <div id="M009088_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 742</span>
742:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plugins=</span>(<span class="ruby-identifier">plugins</span>)
743:       <span class="ruby-ivar">@plugins</span> = <span class="ruby-identifier">plugins</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">plugins</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">to_sym</span> }
744:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009089" class="method">
  <div id="M009089_title" class="title">
    <b>reload_plugins?</b>()
  </div>
  <div class="description">
  <p>
Returns true if plugin reloading is enabled.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009089_source')" id="l_M009089_source">show source</a> ]</p>
  <div id="M009089_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 780</span>
780:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload_plugins?</span>
781:       <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-ivar">@reload_plugins</span>
782:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009094" class="method">
  <div id="M009094_title" class="title">
    <b>set_root_path!</b>()
  </div>
  <div class="description">
  <p>
Set the root_path to RAILS_ROOT and canonicalize it.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009094_source')" id="l_M009094_source">show source</a> ]</p>
  <div id="M009094_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 869</span>
869:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_root_path!</span>
870:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">'RAILS_ROOT is not set'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ROOT</span>)
871:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">'RAILS_ROOT is not a directory'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ROOT</span>)
872: 
873:       <span class="ruby-ivar">@root_path</span> =
874:         <span class="ruby-comment cmt"># Pathname is incompatible with Windows, but Windows doesn't have</span>
875:         <span class="ruby-comment cmt"># real symlinks so File.expand_path is safe.</span>
876:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RUBY_PLATFORM</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(:?mswin|mingw)/</span>
877:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ROOT</span>)
878: 
879:         <span class="ruby-comment cmt"># Otherwise use Pathname#realpath which respects symlinks.</span>
880:         <span class="ruby-keyword kw">else</span>
881:           <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ROOT</span>).<span class="ruby-identifier">realpath</span>.<span class="ruby-identifier">to_s</span>
882:         <span class="ruby-keyword kw">end</span>
883: 
884:       <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">:RELATIVE_RAILS_ROOT</span>, <span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ROOT</span>.<span class="ruby-identifier">dup</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RELATIVE_RAILS_ROOT</span>)
885:       <span class="ruby-operator">::</span><span class="ruby-constant">RAILS_ROOT</span>.<span class="ruby-identifier">replace</span> <span class="ruby-ivar">@root_path</span>
886:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009095" class="method">
  <div id="M009095_title" class="title">
    <b>threadsafe!</b>()
  </div>
  <div class="description">
  <p>
Enable threaded mode. Allows concurrent requests to controller actions and
multiple database connections. Also disables automatic dependency loading
after boot, and disables reloading code on every request, as these are
fundamentally incompatible with thread safety.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009095_source')" id="l_M009095_source">show source</a> ]</p>
  <div id="M009095_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 892</span>
892:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">threadsafe!</span>
893:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">preload_frameworks</span> = <span class="ruby-keyword kw">true</span>
894:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">cache_classes</span> = <span class="ruby-keyword kw">true</span>
895:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependency_loading</span> = <span class="ruby-keyword kw">false</span>
896:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">action_controller</span>.<span class="ruby-identifier">allow_concurrency</span> = <span class="ruby-keyword kw">true</span>
897:       <span class="ruby-keyword kw">self</span>
898:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M009101" class="method">
  <div id="M009101_title" class="title">
    <b>to_prepare</b>(&amp;callback)
  </div>
  <div class="description">
  <p>
Add a preparation callback that will run before every request in
development mode, or before the first request in production.
</p>
<p>
See Dispatcher#to_prepare.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M009101_source')" id="l_M009101_source">show source</a> ]</p>
  <div id="M009101_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/initializer.rb, line 936</span>
936:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_prepare</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
937:       <span class="ruby-identifier">after_initialize</span> <span class="ruby-keyword kw">do</span>
938:         <span class="ruby-identifier">require</span> <span class="ruby-value str">'dispatcher'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Dispatcher</span>)
939:         <span class="ruby-constant">Dispatcher</span>.<span class="ruby-identifier">to_prepare</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">callback</span>)
940:       <span class="ruby-keyword kw">end</span>
941:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>