  <div id="C00001521">
<div class='banner'>
  <span class="file-title-prefix">Class</span><br />Update<br/>
  In:
<a href="#" onclick="jsHref('files/railties/lib/rails_generator/commands_rb.html');">railties/lib/rails_generator/commands.rb</a>

Parent:&nbsp;
        <a href="#" onclick="jsHref('classes/Rails/Generator/Commands/Create.html');">
Create
         </a>
</div>
 <!-- banner header -->

  <div id="bodyContent" >
      <div id="content">

  <div class="description"><p>
<a href="index.html?a=C00001521&name=Update">Update</a> generator&#8217;s
action manifest.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="index.html?a=M008906&name=complex_template" >complex_template</a></li>
  <li><a href="index.html?a=M008907&name=directory" >directory</a></li>
  <li><a href="index.html?a=M008904&name=file" >file</a></li>
  <li><a href="index.html?a=M008905&name=template" >template</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div id="M008906" class="method">
  <div id="M008906_title" class="title">
    <b>complex_template</b>(relative_source, relative_destination, template_options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008906_source')" id="l_M008906_source">show source</a> ]</p>
  <div id="M008906_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/rails_generator/commands.rb, line 594</span>
594:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">complex_template</span>(<span class="ruby-identifier">relative_source</span>, <span class="ruby-identifier">relative_destination</span>, <span class="ruby-identifier">template_options</span> = {})
595: 
596:            <span class="ruby-keyword kw">begin</span>
597:              <span class="ruby-identifier">dest_file</span> = <span class="ruby-identifier">destination_path</span>(<span class="ruby-identifier">relative_destination</span>)
598:              <span class="ruby-identifier">source_to_update</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">readlines</span>(<span class="ruby-identifier">dest_file</span>).<span class="ruby-identifier">join</span>
599:            <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
600:              <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">missing</span> <span class="ruby-identifier">relative_destination</span>
601:              <span class="ruby-keyword kw">return</span>
602:            <span class="ruby-keyword kw">end</span>
603: 
604:            <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">refreshing</span> <span class="ruby-node">&quot;#{template_options[:insert].gsub(/\.erb/,'')} inside #{relative_destination}&quot;</span>
605: 
606:            <span class="ruby-identifier">begin_mark</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">template_part_mark</span>(<span class="ruby-identifier">template_options</span>[<span class="ruby-identifier">:begin_mark</span>], <span class="ruby-identifier">template_options</span>[<span class="ruby-identifier">:mark_id</span>]))
607:            <span class="ruby-identifier">end_mark</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">template_part_mark</span>(<span class="ruby-identifier">template_options</span>[<span class="ruby-identifier">:end_mark</span>], <span class="ruby-identifier">template_options</span>[<span class="ruby-identifier">:mark_id</span>]))
608: 
609:            <span class="ruby-comment cmt"># Refreshing inner part of the template with freshly rendered part.</span>
610:            <span class="ruby-identifier">rendered_part</span> = <span class="ruby-identifier">render_template_part</span>(<span class="ruby-identifier">template_options</span>)
611:            <span class="ruby-identifier">source_to_update</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-node">/#{begin_mark}.*?#{end_mark}/</span><span class="ruby-identifier">m</span>, <span class="ruby-identifier">rendered_part</span>)
612: 
613:            <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">dest_file</span>, <span class="ruby-value str">'w'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">source_to_update</span>) }
614:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008907" class="method">
  <div id="M008907_title" class="title">
    <b>directory</b>(relative_path)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008907_source')" id="l_M008907_source">show source</a> ]</p>
  <div id="M008907_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/rails_generator/commands.rb, line 616</span>
616:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">directory</span>(<span class="ruby-identifier">relative_path</span>)
617:           <span class="ruby-comment cmt"># logger.directory &quot;#{destination_path(relative_path)}/&quot;</span>
618:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008904" class="method">
  <div id="M008904_title" class="title">
    <b>file</b>(relative_source, relative_destination, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008904_source')" id="l_M008904_source">show source</a> ]</p>
  <div id="M008904_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/rails_generator/commands.rb, line 586</span>
586:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file</span>(<span class="ruby-identifier">relative_source</span>, <span class="ruby-identifier">relative_destination</span>, <span class="ruby-identifier">options</span> = {})
587:           <span class="ruby-comment cmt"># logger.file relative_destination</span>
588:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div id="M008905" class="method">
  <div id="M008905_title" class="title">
    <b>template</b>(relative_source, relative_destination, options = {})
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M008905_source')" id="l_M008905_source">show source</a> ]</p>
  <div id="M008905_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File railties/lib/rails_generator/commands.rb, line 590</span>
590:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">template</span>(<span class="ruby-identifier">relative_source</span>, <span class="ruby-identifier">relative_destination</span>, <span class="ruby-identifier">options</span> = {})
591:           <span class="ruby-comment cmt"># logger.template relative_destination</span>
592:         <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>