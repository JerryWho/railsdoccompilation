<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: File</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (F)</a> &raquo; 
    
    
    <span class="title">File</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: File
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></li>
          
            <li class="next">File</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">file.c</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
A <tt>File</tt> is an abstraction of any file object accessible by the
program and is closely associated with class <tt>IO</tt> <tt>File</tt>
includes the methods of module <tt>FileTest</tt> as class methods, allowing
you to write (for example) <tt>File.exist?(&quot;foo&quot;)</tt>.
</p>
<p>
In the description of File methods, <em>permission bits</em> are a
platform-specific set of bits that indicate permissions of a file. On
Unix-based systems, permissions are viewed as a set of three octets, for
the owner, the group, and the rest of the world. For each of these
entities, permissions may be set to read, write, or execute the file:
</p>
<p>
The permission bits <tt>0644</tt> (in octal) would thus be interpreted as
read/write for owner, and read-only for group and other. Higher-order bits
may also be used to indicate the type of file (plain, directory, pipe,
socket, and so on) and various other special features. If the permissions
are for a directory, the meaning of the execute bit changes; when set the
directory can be searched.
</p>
<p>
On non-Posix operating systems, there may be only the ability to make a
file read-only or read-write. In this case, the remaining permission bits
will be synthesized to resemble typical values. For instance, on Windows NT
the default permission bits are <tt>0644</tt>, which means read/write for
owner, read-only for all others. The only change that can be made is to
make the file read-only, which is reported as <tt>0444</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="File/Stat.html" title="File::Stat (class)">Stat</a></span>
    
  
</p>


  
  
  
  
  
  
  
  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#absolute_path-class_method" title="absolute_path (class method)">+ (Object) <strong>absolute_path</strong>(file_name[, dir_string]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Converts a pathname to an absolute pathname.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#atime-class_method" title="atime (class method)">+ (Time) <strong>atime</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the last access time for the named file as a Time object).
</p>
<pre class="code">
   <span class='const'>File</span><span class='period'>.</span><span class='id atime'>atime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testfile</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; Wed Apr 09 08:51:48 CDT 2003.</span></pre>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basename-class_method" title="basename (class method)">+ (Object) <strong>basename</strong>(file_name[, suffix]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the last component of the filename given in <em>file_name</em>,
which must be formed using forward slashes (``<tt>/</tt>&#8217;&#8217;)
regardless of the separator used on the local file system.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chmod-class_method" title="chmod (class method)">+ (Integer) <strong>chmod</strong>(mode_int, file_name, ...) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Changes permission bits on the named file(s) to the bit pattern represented
by <em>mode_int</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chown-class_method" title="chown (class method)">+ (Integer) <strong>chown</strong>(owner_int, group_int, file_name, ...) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Changes the owner and group of the named file(s) to the given numeric owner
and group id&#8217;s.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ctime-class_method" title="ctime (class method)">+ (Time) <strong>ctime</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the change time for the named file (the time at which directory
information about the file was changed, not the file itself).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-class_method" title="delete (class method)">+ (Object) <strong>delete</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Deletes the named files, returning the number of names passed as arguments.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dirname-class_method" title="dirname (class method)">+ (Object) <strong>dirname</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns all components of the filename given in <em>file_name</em> except
the last one.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand_path-class_method" title="expand_path (class method)">+ (Object) <strong>expand_path</strong>(file_name[, dir_string]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Converts a pathname to an absolute pathname.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extname-class_method" title="extname (class method)">+ (String) <strong>extname</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the extension (the portion of file name in <em>path</em> after the
period).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fnmatch%3F-class_method" title="fnmatch? (class method)">+ (Object) <strong>fnmatch?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if <em>path</em> matches against <em>pattern</em> The pattern
is not a regular expression; instead it follows rules similar to shell
filename globbing.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ftype-class_method" title="ftype (class method)">+ (String) <strong>ftype</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Identifies the type of the named file; the return string is one of
``<tt>file</tt>&#8217;&#8217;, ``<tt>directory</tt>&#8217;&#8217;,
``<tt>characterSpecial</tt>&#8217;&#8217;,
``<tt>blockSpecial</tt>&#8217;&#8217;, ``<tt>fifo</tt>&#8217;&#8217;,
``<tt>link</tt>&#8217;&#8217;, ``<tt>socket</tt>&#8217;&#8217;, or
``<tt>unknown</tt>&#8217;&#8217;.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join-class_method" title="join (class method)">+ (Object) <strong>join</strong>(string, ...) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a new string formed by joining the strings using
<tt>File::SEPARATOR</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lchmod-class_method" title="lchmod (class method)">+ (Integer) <strong>lchmod</strong>(mode_int, file_name, ...) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Equivalent to <tt>File::chmod</tt>, but does not follow symbolic links (so
it will change the permissions associated with the link, not the file
referenced by the link).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lchown-class_method" title="lchown (class method)">+ (Integer) <strong>lchown</strong>(owner_int, group_int, file_name, ..) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Equivalent to <tt>File::chown</tt>, but does not follow symbolic links (so
it will change the owner associated with the link, not the file referenced
by the link).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link-class_method" title="link (class method)">+ (0) <strong>link</strong>(old_name, new_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a new name for an existing file using a hard link.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lstat-class_method" title="lstat (class method)">+ (Object) <strong>lstat</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same as <tt>File::stat</tt>, but does not follow the last symbolic link.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mtime-class_method" title="mtime (class method)">+ (Time) <strong>mtime</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the modification time for the named file as a Time object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-class_method" title="open (class method)">+ (Object) <strong>open</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
With no associated block, <tt>open</tt> is a synonym for <tt>File.new</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-class_method" title="path (class method)">+ (String) <strong>path</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the string representation of the path.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readlink-class_method" title="readlink (class method)">+ (Object) <strong>readlink</strong>(link_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the name of the file referenced by the given link.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#realdirpath-class_method" title="realdirpath (class method)">+ (Object) <strong>realdirpath</strong>(pathname[, dir_string]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the real (absolute) pathname of <em>pathname</em> in the actual
filesystem.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#realpath-class_method" title="realpath (class method)">+ (Object) <strong>realpath</strong>(pathname[, dir_string]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the real (absolute) pathname of <em>pathname</em> in the actual.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rename-class_method" title="rename (class method)">+ (0) <strong>rename</strong>(old_name, new_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Renames the given file to the new name.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#split-class_method" title="split (class method)">+ (Array) <strong>split</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Splits the given string into a directory and a file component and returns
them in a two-element array.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stat-class_method" title="stat (class method)">+ (Object) <strong>stat</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns a <tt>File::Stat</tt> object for the named file (see
<tt>File::Stat</tt>).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#symlink-class_method" title="symlink (class method)">+ (0) <strong>symlink</strong>(old_name, new_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Creates a symbolic link called <em>new_name</em> for the existing file
<em>old_name</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#truncate-class_method" title="truncate (class method)">+ (0) <strong>truncate</strong>(file_name, integer) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Truncates the file <em>file_name</em> to be at most <em>integer</em> bytes
long.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#umask-class_method" title="umask (class method)">+ (Object) <strong>umask</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the current umask value for this process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink-class_method" title="unlink (class method)">+ (Object) <strong>unlink</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Deletes the named files, returning the number of names passed as arguments.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#utime-class_method" title="utime (class method)">+ (Integer) <strong>utime</strong>(atime, mtime, file_name, ...) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Sets the access and modification times of each named file to the first two
arguments.
</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#atime-instance_method" title="#atime (instance method)">- (Time) <strong>atime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the last access time (a <tt>Time</tt> object).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chmod-instance_method" title="#chmod (instance method)">- (0) <strong>chmod</strong>(mode_int) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Changes permission bits on <em>file</em> to the bit pattern represented by
<em>mode_int</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chown-instance_method" title="#chown (instance method)">- (0) <strong>chown</strong>(owner_int, group_int) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Changes the owner and group of <em>file</em> to the given numeric owner and
group id&#8217;s.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ctime-instance_method" title="#ctime (instance method)">- (Time) <strong>ctime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the change time for <em>file</em> (that is, the time directory
information about the file was changed, not the file itself).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flock-instance_method" title="#flock (instance method)">- (Object) <strong>flock</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Locks or unlocks a file according to <em>locking_constant</em> (a logical
<em>or</em> of the values in the table below).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Object) <strong>initialize</strong> </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Opens the file named by <em>filename</em> according to <em>mode</em>
(default is ``r&#8217;&#8217;) and returns a new <tt>File</tt> object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lstat-instance_method" title="#lstat (instance method)">- (Object) <strong>lstat</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same as <tt>IO#stat</tt>, but does not follow the last symbolic link.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mtime-instance_method" title="#mtime (instance method)">- (Time) <strong>mtime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the modification time for <em>file</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the pathname used to create <em>file</em> as a string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">- (Integer) <strong>size</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the size of <em>file</em> in bytes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the pathname used to create <em>file</em> as a string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#truncate-instance_method" title="#truncate (instance method)">- (0) <strong>truncate</strong>(integer) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Truncates <em>file</em> to at most <em>integer</em> bytes.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="IO.html#%3C%3C-instance_method" title="IO#<< (method)">#<<</a></span>, <span class='object_link'><a href="IO.html#autoclose%3D-instance_method" title="IO#autoclose= (method)">#autoclose=</a></span>, <span class='object_link'><a href="IO.html#autoclose%3F-instance_method" title="IO#autoclose? (method)">#autoclose?</a></span>, <span class='object_link'><a href="IO.html#binmode-instance_method" title="IO#binmode (method)">#binmode</a></span>, <span class='object_link'><a href="IO.html#binmode%3F-instance_method" title="IO#binmode? (method)">#binmode?</a></span>, <span class='object_link'><a href="IO.html#binread-class_method" title="IO.binread (method)">binread</a></span>, <span class='object_link'><a href="IO.html#bytes-instance_method" title="IO#bytes (method)">#bytes</a></span>, <span class='object_link'><a href="IO.html#chars-instance_method" title="IO#chars (method)">#chars</a></span>, <span class='object_link'><a href="IO.html#close-instance_method" title="IO#close (method)">#close</a></span>, <span class='object_link'><a href="IO.html#close_on_exec%3D-instance_method" title="IO#close_on_exec= (method)">#close_on_exec=</a></span>, <span class='object_link'><a href="IO.html#close_on_exec%3F-instance_method" title="IO#close_on_exec? (method)">#close_on_exec?</a></span>, <span class='object_link'><a href="IO.html#close_read-instance_method" title="IO#close_read (method)">#close_read</a></span>, <span class='object_link'><a href="IO.html#close_write-instance_method" title="IO#close_write (method)">#close_write</a></span>, <span class='object_link'><a href="IO.html#closed%3F-instance_method" title="IO#closed? (method)">#closed?</a></span>, <span class='object_link'><a href="IO.html#codepoints-instance_method" title="IO#codepoints (method)">#codepoints</a></span>, <span class='object_link'><a href="IO.html#copy_stream-class_method" title="IO.copy_stream (method)">copy_stream</a></span>, <span class='object_link'><a href="IO.html#each-instance_method" title="IO#each (method)">#each</a></span>, <span class='object_link'><a href="IO.html#each_byte-instance_method" title="IO#each_byte (method)">#each_byte</a></span>, <span class='object_link'><a href="IO.html#each_char-instance_method" title="IO#each_char (method)">#each_char</a></span>, <span class='object_link'><a href="IO.html#each_codepoint-instance_method" title="IO#each_codepoint (method)">#each_codepoint</a></span>, <span class='object_link'><a href="IO.html#each_line-instance_method" title="IO#each_line (method)">#each_line</a></span>, <span class='object_link'><a href="IO.html#eof-instance_method" title="IO#eof (method)">#eof</a></span>, <span class='object_link'><a href="IO.html#eof%3F-instance_method" title="IO#eof? (method)">#eof?</a></span>, <span class='object_link'><a href="IO.html#external_encoding-instance_method" title="IO#external_encoding (method)">#external_encoding</a></span>, <span class='object_link'><a href="IO.html#fcntl-instance_method" title="IO#fcntl (method)">#fcntl</a></span>, <span class='object_link'><a href="IO.html#fdatasync-instance_method" title="IO#fdatasync (method)">#fdatasync</a></span>, <span class='object_link'><a href="IO.html#fileno-instance_method" title="IO#fileno (method)">#fileno</a></span>, <span class='object_link'><a href="IO.html#flush-instance_method" title="IO#flush (method)">#flush</a></span>, <span class='object_link'><a href="IO.html#for_fd-class_method" title="IO.for_fd (method)">for_fd</a></span>, <span class='object_link'><a href="IO.html#foreach-class_method" title="IO.foreach (method)">foreach</a></span>, <span class='object_link'><a href="IO.html#fsync-instance_method" title="IO#fsync (method)">#fsync</a></span>, <span class='object_link'><a href="IO.html#getbyte-instance_method" title="IO#getbyte (method)">#getbyte</a></span>, <span class='object_link'><a href="IO.html#getc-instance_method" title="IO#getc (method)">#getc</a></span>, <span class='object_link'><a href="IO.html#gets-instance_method" title="IO#gets (method)">#gets</a></span>, <span class='object_link'><a href="IO.html#initialize_copy-instance_method" title="IO#initialize_copy (method)">#initialize_copy</a></span>, <span class='object_link'><a href="IO.html#inspect-instance_method" title="IO#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="IO.html#internal_encoding-instance_method" title="IO#internal_encoding (method)">#internal_encoding</a></span>, <span class='object_link'><a href="IO.html#ioctl-instance_method" title="IO#ioctl (method)">#ioctl</a></span>, <span class='object_link'><a href="IO.html#isatty-instance_method" title="IO#isatty (method)">#isatty</a></span>, <span class='object_link'><a href="IO.html#lineno-instance_method" title="IO#lineno (method)">#lineno</a></span>, <span class='object_link'><a href="IO.html#lineno%3D-instance_method" title="IO#lineno= (method)">#lineno=</a></span>, <span class='object_link'><a href="IO.html#lines-instance_method" title="IO#lines (method)">#lines</a></span>, <span class='object_link'><a href="IO.html#new-class_method" title="IO.new (method)">new</a></span>, <span class='object_link'><a href="IO.html#pid-instance_method" title="IO#pid (method)">#pid</a></span>, <span class='object_link'><a href="IO.html#pipe-class_method" title="IO.pipe (method)">pipe</a></span>, <span class='object_link'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span>, <span class='object_link'><a href="IO.html#pos-instance_method" title="IO#pos (method)">#pos</a></span>, <span class='object_link'><a href="IO.html#pos%3D-instance_method" title="IO#pos= (method)">#pos=</a></span>, <span class='object_link'><a href="IO.html#print-instance_method" title="IO#print (method)">#print</a></span>, <span class='object_link'><a href="IO.html#printf-instance_method" title="IO#printf (method)">#printf</a></span>, <span class='object_link'><a href="IO.html#putc-instance_method" title="IO#putc (method)">#putc</a></span>, <span class='object_link'><a href="IO.html#puts-instance_method" title="IO#puts (method)">#puts</a></span>, <span class='object_link'><a href="IO.html#read-class_method" title="IO.read (method)">read</a></span>, <span class='object_link'><a href="IO.html#read-instance_method" title="IO#read (method)">#read</a></span>, <span class='object_link'><a href="IO.html#read_nonblock-instance_method" title="IO#read_nonblock (method)">#read_nonblock</a></span>, <span class='object_link'><a href="IO.html#readbyte-instance_method" title="IO#readbyte (method)">#readbyte</a></span>, <span class='object_link'><a href="IO.html#readchar-instance_method" title="IO#readchar (method)">#readchar</a></span>, <span class='object_link'><a href="IO.html#readline-instance_method" title="IO#readline (method)">#readline</a></span>, <span class='object_link'><a href="IO.html#readlines-instance_method" title="IO#readlines (method)">#readlines</a></span>, <span class='object_link'><a href="IO.html#readlines-class_method" title="IO.readlines (method)">readlines</a></span>, <span class='object_link'><a href="IO.html#readpartial-instance_method" title="IO#readpartial (method)">#readpartial</a></span>, <span class='object_link'><a href="IO.html#reopen-instance_method" title="IO#reopen (method)">#reopen</a></span>, <span class='object_link'><a href="IO.html#rewind-instance_method" title="IO#rewind (method)">#rewind</a></span>, <span class='object_link'><a href="IO.html#seek-instance_method" title="IO#seek (method)">#seek</a></span>, <span class='object_link'><a href="IO.html#select-class_method" title="IO.select (method)">select</a></span>, <span class='object_link'><a href="IO.html#set_encoding-instance_method" title="IO#set_encoding (method)">#set_encoding</a></span>, <span class='object_link'><a href="IO.html#stat-instance_method" title="IO#stat (method)">#stat</a></span>, <span class='object_link'><a href="IO.html#sync-instance_method" title="IO#sync (method)">#sync</a></span>, <span class='object_link'><a href="IO.html#sync%3D-instance_method" title="IO#sync= (method)">#sync=</a></span>, <span class='object_link'><a href="IO.html#sysopen-class_method" title="IO.sysopen (method)">sysopen</a></span>, <span class='object_link'><a href="IO.html#sysread-instance_method" title="IO#sysread (method)">#sysread</a></span>, <span class='object_link'><a href="IO.html#sysseek-instance_method" title="IO#sysseek (method)">#sysseek</a></span>, <span class='object_link'><a href="IO.html#syswrite-instance_method" title="IO#syswrite (method)">#syswrite</a></span>, <span class='object_link'><a href="IO.html#tell-instance_method" title="IO#tell (method)">#tell</a></span>, <span class='object_link'><a href="IO.html#to_io-instance_method" title="IO#to_io (method)">#to_io</a></span>, <span class='object_link'><a href="IO.html#try_convert-class_method" title="IO.try_convert (method)">try_convert</a></span>, <span class='object_link'><a href="IO.html#tty%3F-instance_method" title="IO#tty? (method)">#tty?</a></span>, <span class='object_link'><a href="IO.html#ungetbyte-instance_method" title="IO#ungetbyte (method)">#ungetbyte</a></span>, <span class='object_link'><a href="IO.html#ungetc-instance_method" title="IO#ungetc (method)">#ungetc</a></span>, <span class='object_link'><a href="IO.html#write-instance_method" title="IO#write (method)">#write</a></span>, <span class='object_link'><a href="IO.html#write_nonblock-instance_method" title="IO#write_nonblock (method)">#write_nonblock</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></span>, <span class='object_link'><a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></span>, <span class='object_link'><a href="Enumerable.html#chunk-instance_method" title="Enumerable#chunk (method)">#chunk</a></span>, <span class='object_link'><a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></span>, <span class='object_link'><a href="Enumerable.html#collect_concat-instance_method" title="Enumerable#collect_concat (method)">#collect_concat</a></span>, <span class='object_link'><a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></span>, <span class='object_link'><a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></span>, <span class='object_link'><a href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></span>, <span class='object_link'><a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></span>, <span class='object_link'><a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></span>, <span class='object_link'><a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></span>, <span class='object_link'><a href="Enumerable.html#each_entry-instance_method" title="Enumerable#each_entry (method)">#each_entry</a></span>, <span class='object_link'><a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_index-instance_method" title="Enumerable#each_with_index (method)">#each_with_index</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></span>, <span class='object_link'><a href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></span>, <span class='object_link'><a href="Enumerable.html#find-instance_method" title="Enumerable#find (method)">#find</a></span>, <span class='object_link'><a href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></span>, <span class='object_link'><a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></span>, <span class='object_link'><a href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a></span>, <span class='object_link'><a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></span>, <span class='object_link'><a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></span>, <span class='object_link'><a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></span>, <span class='object_link'><a href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a></span>, <span class='object_link'><a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></span>, <span class='object_link'><a href="Enumerable.html#map-instance_method" title="Enumerable#map (method)">#map</a></span>, <span class='object_link'><a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></span>, <span class='object_link'><a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></span>, <span class='object_link'><a href="Enumerable.html#member%3F-instance_method" title="Enumerable#member? (method)">#member?</a></span>, <span class='object_link'><a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></span>, <span class='object_link'><a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></span>, <span class='object_link'><a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></span>, <span class='object_link'><a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></span>, <span class='object_link'><a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></span>, <span class='object_link'><a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></span>, <span class='object_link'><a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></span>, <span class='object_link'><a href="Enumerable.html#reduce-instance_method" title="Enumerable#reduce (method)">#reduce</a></span>, <span class='object_link'><a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a></span>, <span class='object_link'><a href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a></span>, <span class='object_link'><a href="Enumerable.html#select-instance_method" title="Enumerable#select (method)">#select</a></span>, <span class='object_link'><a href="Enumerable.html#slice_before-instance_method" title="Enumerable#slice_before (method)">#slice_before</a></span>, <span class='object_link'><a href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a></span>, <span class='object_link'><a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></span>, <span class='object_link'><a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></span>, <span class='object_link'><a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></span>, <span class='object_link'><a href="Enumerable.html#to_a-instance_method" title="Enumerable#to_a (method)">#to_a</a></span>, <span class='object_link'><a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    
      <span class="overload">- (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>new</strong>(filename, mode = &quot;r&quot;[, opt]) </span>
    
      <span class="overload">- (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>new</strong>(filename[, mode [, perm]][, opt]) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Opens the file named by <em>filename</em> according to <em>mode</em>
(default is ``r&#8217;&#8217;) and returns a new <tt>File</tt> object.
</p>
<h3>Parameters</h3>
<p>
See the description of class <tt>IO</tt> for a description of
<em>mode</em>. The file mode may optionally be specified as a
<tt>Fixnum</tt> by <em>or</em>-ing together the flags (O_RDONLY etc, again
described under <tt>IO</tt>).
</p>
<p>
Optional permission bits may be given in <em>perm</em>. These mode and
permission bits are platform dependent; on Unix systems, see
<tt>open(2)</tt> for details.
</p>
<p>
Optional <em>opt</em> parameter is same as in <code.IO.open</code>.
</p>
<h3>Examples</h3>
<pre class="code">
   f = File.new(&quot;testfile&quot;, &quot;r&quot;)
   f = File.new(&quot;newfile&quot;,  &quot;w+&quot;)
   f = File.new(&quot;newfile&quot;, File::CREAT|File::TRUNC|File::RDWR, 0644)</pre>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>new</strong>(filename, mode = &quot;r&quot;[, opt]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>new</strong>(filename[, mode [, perm]][, opt]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c'</span>

/*
 *  call-seq:
 *     File.new(filename, mode=&quot;r&quot; [, opt])            -&gt; file
 *     File.new(filename [, mode [, perm]] [, opt])    -&gt; file
 *
 *  Opens the file named by _filename_ according to
 *  _mode_ (default is ``r'') and returns a new
 *  &lt;code&gt;File&lt;/code&gt; object.
 *
 *  === Parameters
 *  See the description of class +IO+ for a description of _mode_.
 *  The file mode may optionally be specified as a +Fixnum+
 *  by _or_-ing together the flags (O_RDONLY etc,
 *  again described under +IO+).
 *
 *  Optional permission bits may be given in _perm_.
 *  These mode and permission bits are platform dependent;
 *  on Unix systems, see &lt;code&gt;open(2)&lt;/code&gt; for details.
 *
 *  Optional _opt_ parameter is same as in &lt;code.IO.open&lt;/code&gt;.
 *
 *  === Examples
 *
 *     f = File.new(&quot;testfile&quot;, &quot;r&quot;)
 *     f = File.new(&quot;newfile&quot;,  &quot;w+&quot;)
 *     f = File.new(&quot;newfile&quot;, File::CREAT|File::TRUNC|File::RDWR, 0644)
 */

static VALUE
rb_file_initialize(int argc, VALUE *argv, VALUE io)
{
    if (RFILE(io)-&gt;fptr) {
    rb_raise(rb_eRuntimeError, &quot;reinitializing File&quot;);
    }
    if (0 &lt; argc &amp;&amp; argc &lt; 3) {
    VALUE fd = rb_check_convert_type(argv[0], T_FIXNUM, &quot;Fixnum&quot;, &quot;to_int&quot;);

    if (!NIL_P(fd)) {
        argv[0] = fd;
        return rb_io_initialize(argc, argv, io);
    }
    }
    rb_open_file(argc, argv, io);

    return io;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="absolute_path-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>absolute_path</strong>(file_name[, dir_string]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Converts a pathname to an absolute pathname. Relative paths are referenced
from the current working directory of the process unless
<em>dir_string</em> is given, in which case it will be used as the starting
point. If the given pathname starts with a ``<tt>~</tt>&#8217;&#8217; it is
NOT expanded, it is treated as a normal directory name.
</p>
<pre class="code">
   File.absolute_path(&quot;~oracle/bin&quot;)       #=&gt; &quot;&lt;relative_path&gt;/~oracle/bin&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.absolute_path(file_name [, dir_string] )  -&gt;  abs_file_name
 *
 *  Converts a pathname to an absolute pathname. Relative paths are
 *  referenced from the current working directory of the process unless
 *  &lt;i&gt;dir_string&lt;/i&gt; is given, in which case it will be used as the
 *  starting point. If the given pathname starts with a ``&lt;code&gt;~&lt;/code&gt;''
 *  it is NOT expanded, it is treated as a normal directory name.
 *
 *     File.absolute_path(&quot;~oracle/bin&quot;)       #=&gt; &quot;&lt;relative_path&gt;/~oracle/bin&quot;
 */

VALUE
rb_file_s_absolute_path(int argc, VALUE *argv)
{
    VALUE fname, dname;

    if (argc == 1) {
    return rb_file_absolute_path(argv[0], Qnil);
    }
    rb_scan_args(argc, argv, &quot;11&quot;, &amp;fname, &amp;dname);

    return rb_file_absolute_path(fname, dname);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="atime-class_method">
  
    + (<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>) <strong>atime</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the last access time for the named file as a Time object).
</p>
<pre class="code">
   File.atime(&quot;testfile&quot;)   #=&gt; Wed Apr 09 08:51:48 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.atime(file_name)  -&gt;  time
 *
 *  Returns the last access time for the named file as a Time object).
 *
 *     File.atime(&quot;testfile&quot;)   #=&gt; Wed Apr 09 08:51:48 CDT 2003
 *
 */

static VALUE
rb_file_s_atime(VALUE klass, VALUE fname)
{
    struct stat st;

    if (rb_stat(fname, &amp;st) &lt; 0) {
    FilePathValue(fname);
    rb_sys_fail(RSTRING_PTR(fname));
    }
    return stat_atime(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="basename-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>basename</strong>(file_name[, suffix]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the last component of the filename given in <em>file_name</em>,
which must be formed using forward slashes (``<tt>/</tt>&#8217;&#8217;)
regardless of the separator used on the local file system. If
<em>suffix</em> is given and present at the end of <em>file_name</em>, it
is removed.
</p>
<pre class="code">
   File.basename(&quot;/home/gumby/work/ruby.rb&quot;)          #=&gt; &quot;ruby.rb&quot;
   File.basename(&quot;/home/gumby/work/ruby.rb&quot;, &quot;.rb&quot;)   #=&gt; &quot;ruby&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.basename(file_name [, suffix] )  -&gt;  base_name
 *
 *  Returns the last component of the filename given in &lt;i&gt;file_name&lt;/i&gt;,
 *  which must be formed using forward slashes (``&lt;code&gt;/&lt;/code&gt;'')
 *  regardless of the separator used on the local file system. If
 *  &lt;i&gt;suffix&lt;/i&gt; is given and present at the end of &lt;i&gt;file_name&lt;/i&gt;,
 *  it is removed.
 *
 *     File.basename(&quot;/home/gumby/work/ruby.rb&quot;)          #=&gt; &quot;ruby.rb&quot;
 *     File.basename(&quot;/home/gumby/work/ruby.rb&quot;, &quot;.rb&quot;)   #=&gt; &quot;ruby&quot;
 */

static VALUE
rb_file_s_basename(int argc, VALUE *argv)
{
    VALUE fname, fext, basename;
    const char *name, *p;
    long f, n;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;fname, &amp;fext) == 2) {
    rb_encoding *enc;
    StringValue(fext);
    if (!rb_enc_asciicompat(enc = rb_enc_get(fext))) {
        rb_raise(rb_eEncCompatError, &quot;ascii incompatible character encodings: %s&quot;,
             rb_enc_name(enc));
    }
    }
    FilePathStringValue(fname);
    if (!NIL_P(fext)) rb_enc_check(fname, fext);
    if (RSTRING_LEN(fname) == 0 || !*(name = RSTRING_PTR(fname)))
    return rb_str_new_shared(fname);

    p = ruby_find_basename(name, &amp;f, &amp;n);
    if (n &gt;= 0) {
    if (NIL_P(fext) || !(f = rmext(p, n, StringValueCStr(fext)))) {
        f = n;
    }
    if (f == RSTRING_LEN(fname)) return rb_str_new_shared(fname);
    }

    basename = rb_str_new(p, f);
    rb_enc_copy(basename, fname);
    OBJ_INFECT(basename, fname);
    return basename;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="chmod-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>chmod</strong>(mode_int, file_name, ...) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Changes permission bits on the named file(s) to the bit pattern represented
by <em>mode_int</em>. Actual effects are operating system dependent (see
the beginning of this section). On Unix systems, see <tt>chmod(2)</tt> for
details. Returns the number of files processed.
</p>
<pre class="code">
   File.chmod(0644, &quot;testfile&quot;, &quot;out&quot;)   #=&gt; 2</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.chmod(mode_int, file_name, ... )  -&gt;  integer
 *
 *  Changes permission bits on the named file(s) to the bit pattern
 *  represented by &lt;i&gt;mode_int&lt;/i&gt;. Actual effects are operating system
 *  dependent (see the beginning of this section). On Unix systems, see
 *  &lt;code&gt;chmod(2)&lt;/code&gt; for details. Returns the number of files
 *  processed.
 *
 *     File.chmod(0644, &quot;testfile&quot;, &quot;out&quot;)   #=&gt; 2
 */

static VALUE
rb_file_s_chmod(int argc, VALUE *argv)
{
    VALUE vmode;
    VALUE rest;
    int mode;
    long n;

    rb_secure(2);
    rb_scan_args(argc, argv, &quot;1*&quot;, &amp;vmode, &amp;rest);
    mode = NUM2INT(vmode);

    n = apply2files(chmod_internal, rest, &amp;mode);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="chown-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>chown</strong>(owner_int, group_int, file_name, ...) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Changes the owner and group of the named file(s) to the given numeric owner
and group id&#8217;s. Only a process with superuser privileges may change
the owner of a file. The current owner of a file may change the
file&#8217;s group to any group to which the owner belongs. A <tt>nil</tt>
or -1 owner or group id is ignored. Returns the number of files processed.
</p>
<pre class="code">
   File.chown(nil, 100, &quot;testfile&quot;)</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.chown(owner_int, group_int, file_name,... )  -&gt;  integer
 *
 *  Changes the owner and group of the named file(s) to the given
 *  numeric owner and group id's. Only a process with superuser
 *  privileges may change the owner of a file. The current owner of a
 *  file may change the file's group to any group to which the owner
 *  belongs. A &lt;code&gt;nil&lt;/code&gt; or -1 owner or group id is ignored.
 *  Returns the number of files processed.
 *
 *     File.chown(nil, 100, &quot;testfile&quot;)
 *
 */

static VALUE
rb_file_s_chown(int argc, VALUE *argv)
{
    VALUE o, g, rest;
    struct chown_args arg;
    long n;

    rb_secure(2);
    rb_scan_args(argc, argv, &quot;2*&quot;, &amp;o, &amp;g, &amp;rest);
    if (NIL_P(o)) {
    arg.owner = -1;
    }
    else {
    arg.owner = NUM2UIDT(o);
    }
    if (NIL_P(g)) {
    arg.group = -1;
    }
    else {
    arg.group = NUM2GIDT(g);
    }

    n = apply2files(chown_internal, rest, &amp;arg);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ctime-class_method">
  
    + (<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>) <strong>ctime</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the change time for the named file (the time at which directory
information about the file was changed, not the file itself).
</p>
<pre class="code">
   File.ctime(&quot;testfile&quot;)   #=&gt; Wed Apr 09 08:53:13 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.ctime(file_name)  -&gt; time
 *
 *  Returns the change time for the named file (the time at which
 *  directory information about the file was changed, not the file
 *  itself).
 *
 *     File.ctime(&quot;testfile&quot;)   #=&gt; Wed Apr 09 08:53:13 CDT 2003
 *
 */

static VALUE
rb_file_s_ctime(VALUE klass, VALUE fname)
{
    struct stat st;

    if (rb_stat(fname, &amp;st) &lt; 0) {
    FilePathValue(fname);
    rb_sys_fail(RSTRING_PTR(fname));
    }
    return stat_ctime(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete-class_method">
  
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>delete</strong>(file_name, ...) </span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>unlink</strong>(file_name, ...) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Deletes the named files, returning the number of names passed as arguments.
Raises an exception on any error. See also <tt>Dir::rmdir</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>delete</strong>(file_name, ...) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>unlink</strong>(file_name, ...) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.delete(file_name, ...)  -&gt; integer
 *     File.unlink(file_name, ...)  -&gt; integer
 *
 *  Deletes the named files, returning the number of names
 *  passed as arguments. Raises an exception on any error.
 *  See also &lt;code&gt;Dir::rmdir&lt;/code&gt;.
 */

static VALUE
rb_file_s_unlink(VALUE klass, VALUE args)
{
    long n;

    rb_secure(2);
    n = apply2files(unlink_internal, args, 0);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dirname-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dirname</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns all components of the filename given in <em>file_name</em> except
the last one. The filename must be formed using forward slashes
(``<tt>/</tt>&#8217;&#8217;) regardless of the separator used on the local
file system.
</p>
<pre class="code">
   File.dirname(&quot;/home/gumby/work/ruby.rb&quot;)   #=&gt; &quot;/home/gumby/work&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.dirname(file_name )  -&gt;  dir_name
 *
 *  Returns all components of the filename given in &lt;i&gt;file_name&lt;/i&gt;
 *  except the last one. The filename must be formed using forward
 *  slashes (``&lt;code&gt;/&lt;/code&gt;'') regardless of the separator used on the
 *  local file system.
 *
 *     File.dirname(&quot;/home/gumby/work/ruby.rb&quot;)   #=&gt; &quot;/home/gumby/work&quot;
 */

static VALUE
rb_file_s_dirname(VALUE klass, VALUE fname)
{
    return rb_file_dirname(fname);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="expand_path-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>expand_path</strong>(file_name[, dir_string]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Converts a pathname to an absolute pathname. Relative paths are referenced
from the current working directory of the process unless
<em>dir_string</em> is given, in which case it will be used as the starting
point. The given pathname may start with a ``<tt>~</tt>&#8217;&#8217;,
which expands to the process owner&#8217;s home directory (the environment
variable <tt>HOME</tt> must be set correctly).
``<tt>~</tt><em>user</em>&#8217;&#8217; expands to the named user&#8217;s
home directory.
</p>
<pre class="code">
   File.expand_path(&quot;~oracle/bin&quot;)           #=&gt; &quot;/home/oracle/bin&quot;
   File.expand_path(&quot;../../bin&quot;, &quot;/tmp/x&quot;)   #=&gt; &quot;/bin&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.expand_path(file_name [, dir_string] )  -&gt;  abs_file_name
 *
 *  Converts a pathname to an absolute pathname. Relative paths are
 *  referenced from the current working directory of the process unless
 *  &lt;i&gt;dir_string&lt;/i&gt; is given, in which case it will be used as the
 *  starting point. The given pathname may start with a
 *  ``&lt;code&gt;~&lt;/code&gt;'', which expands to the process owner's home
 *  directory (the environment variable &lt;code&gt;HOME&lt;/code&gt; must be set
 *  correctly). ``&lt;code&gt;~&lt;/code&gt;&lt;i&gt;user&lt;/i&gt;'' expands to the named
 *  user's home directory.
 *
 *     File.expand_path(&quot;~oracle/bin&quot;)           #=&gt; &quot;/home/oracle/bin&quot;
 *     File.expand_path(&quot;../../bin&quot;, &quot;/tmp/x&quot;)   #=&gt; &quot;/bin&quot;
 */

VALUE
rb_file_s_expand_path(int argc, VALUE *argv)
{
    VALUE fname, dname;

    if (argc == 1) {
    return rb_file_expand_path(argv[0], Qnil);
    }
    rb_scan_args(argc, argv, &quot;11&quot;, &amp;fname, &amp;dname);

    return rb_file_expand_path(fname, dname);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extname-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>extname</strong>(path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the extension (the portion of file name in <em>path</em> after the
period).
</p>
<pre class="code">
   File.extname(&quot;test.rb&quot;)         #=&gt; &quot;.rb&quot;
   File.extname(&quot;a/b/d/test.rb&quot;)   #=&gt; &quot;.rb&quot;
   File.extname(&quot;test&quot;)            #=&gt; &quot;&quot;
   File.extname(&quot;.profile&quot;)        #=&gt; &quot;&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.extname(path)  -&gt;  string
 *
 *  Returns the extension (the portion of file name in &lt;i&gt;path&lt;/i&gt;
 *  after the period).
 *
 *     File.extname(&quot;test.rb&quot;)         #=&gt; &quot;.rb&quot;
 *     File.extname(&quot;a/b/d/test.rb&quot;)   #=&gt; &quot;.rb&quot;
 *     File.extname(&quot;test&quot;)            #=&gt; &quot;&quot;
 *     File.extname(&quot;.profile&quot;)        #=&gt; &quot;&quot;
 *
 */

static VALUE
rb_file_s_extname(VALUE klass, VALUE fname)
{
    const char *name, *e;
    long len;
    VALUE extname;

    FilePathStringValue(fname);
    name = StringValueCStr(fname);
    e = ruby_find_extname(name, &amp;len);
    if (len &lt;= 1)
    return rb_str_new(0, 0);
    extname = rb_str_new(e, len);   /* keep the dot, too! */
    rb_enc_copy(extname, fname);
    OBJ_INFECT(extname, fname);
    return extname;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="fnmatch?-class_method">
  
    
      <span class="overload">+ (<tt>Boolean</tt>) <strong>fnmatch</strong>(pattern, path, [flags]) </span>
    
      <span class="overload">+ (<tt>Boolean</tt>) <strong>fnmatch?</strong>(pattern, path, [flags]) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if <em>path</em> matches against <em>pattern</em> The pattern
is not a regular expression; instead it follows rules similar to shell
filename globbing. It may contain the following metacharacters:
</p>
<table>
<tr><td valign="top"><tt>*</tt></td><td><p>
Matches any file. Can be restricted by other values in the glob. <tt>*</tt>
will match all files; <tt>c*</tt> will match all files beginning with
<tt>c</tt>; <tt>*c</tt> will match all files ending with <tt>c</tt>; and
<b><tt>c</tt></b> will match all files that have <tt>c</tt> in them
(including at the beginning or end). Equivalent to <tt>/ .* /x</tt> in
regexp.
</p>
</td></tr>
<tr><td valign="top"><tt>**</tt></td><td><p>
Matches directories recursively or files expansively.
</p>
</td></tr>
<tr><td valign="top"><tt>?</tt></td><td><p>
Matches any one character. Equivalent to <tt>/.{1}/</tt> in regexp.
</p>
</td></tr>
<tr><td valign="top"><tt>[set]</tt></td><td><p>
Matches any one character in <tt>set</tt>. Behaves exactly like character
sets in Regexp, including set negation (<tt>[^a-z]</tt>).
</p>
</td></tr>
<tr><td valign="top"><code></code></td><td><p>
Escapes the next metacharacter.
</p>
</td></tr>
</table>
<p>
<em>flags</em> is a bitwise OR of the <tt>FNM_xxx</tt> parameters. The same
glob pattern and flags are used by <tt>Dir::glob</tt>.
</p>
<pre class="code">
   File.fnmatch('cat',       'cat')        #=&gt; true  # match entire string
   File.fnmatch('cat',       'category')   #=&gt; false # only match partial string
   File.fnmatch('c{at,ub}s', 'cats')       #=&gt; false # { } isn't supported

   File.fnmatch('c?t',     'cat')          #=&gt; true  # '?' match only 1 character
   File.fnmatch('c??t',    'cat')          #=&gt; false # ditto
   File.fnmatch('c*',      'cats')         #=&gt; true  # '*' match 0 or more characters
   File.fnmatch('c*t',     'c/a/b/t')      #=&gt; true  # ditto
   File.fnmatch('ca[a-z]', 'cat')          #=&gt; true  # inclusive bracket expression
   File.fnmatch('ca[^t]',  'cat')          #=&gt; false # exclusive bracket expression ('^' or '!')

   File.fnmatch('cat', 'CAT')                     #=&gt; false # case sensitive
   File.fnmatch('cat', 'CAT', File::FNM_CASEFOLD) #=&gt; true  # case insensitive

   File.fnmatch('?',   '/', File::FNM_PATHNAME)  #=&gt; false # wildcard doesn't match '/' on FNM_PATHNAME
   File.fnmatch('*',   '/', File::FNM_PATHNAME)  #=&gt; false # ditto
   File.fnmatch('[/]', '/', File::FNM_PATHNAME)  #=&gt; false # ditto

   File.fnmatch('\?',   '?')                       #=&gt; true  # escaped wildcard becomes ordinary
   File.fnmatch('\a',   'a')                       #=&gt; true  # escaped ordinary remains ordinary
   File.fnmatch('\a',   '\a', File::FNM_NOESCAPE)  #=&gt; true  # FNM_NOESACPE makes '\' ordinary
   File.fnmatch('[\?]', '?')                       #=&gt; true  # can escape inside bracket expression

   File.fnmatch('*',   '.profile')                      #=&gt; false # wildcard doesn't match leading
   File.fnmatch('*',   '.profile', File::FNM_DOTMATCH)  #=&gt; true  # period by default.
   File.fnmatch('.*',  '.profile')                      #=&gt; true

   rbfiles = '**' '/' '*.rb' # you don't have to do like this. just write in single string.
   File.fnmatch(rbfiles, 'main.rb')                    #=&gt; false
   File.fnmatch(rbfiles, './main.rb')                  #=&gt; false
   File.fnmatch(rbfiles, 'lib/song.rb')                #=&gt; true
   File.fnmatch('**.rb', 'main.rb')                    #=&gt; true
   File.fnmatch('**.rb', './main.rb')                  #=&gt; false
   File.fnmatch('**.rb', 'lib/song.rb')                #=&gt; true
   File.fnmatch('*',           'dave/.profile')                      #=&gt; true

   pattern = '*' '/' '*'
   File.fnmatch(pattern, 'dave/.profile', File::FNM_PATHNAME)  #=&gt; false
   File.fnmatch(pattern, 'dave/.profile', File::FNM_PATHNAME | File::FNM_DOTMATCH) #=&gt; true

   pattern = '**' '/' 'foo'
   File.fnmatch(pattern, 'a/b/c/foo', File::FNM_PATHNAME)     #=&gt; true
   File.fnmatch(pattern, '/a/b/c/foo', File::FNM_PATHNAME)    #=&gt; true
   File.fnmatch(pattern, 'c:/a/b/c/foo', File::FNM_PATHNAME)  #=&gt; true
   File.fnmatch(pattern, 'a/.b/c/foo', File::FNM_PATHNAME)    #=&gt; false
   File.fnmatch(pattern, 'a/.b/c/foo', File::FNM_PATHNAME | File::FNM_DOTMATCH) #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>Boolean</tt>) <strong>fnmatch</strong>(pattern, path, [flags]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>Boolean</tt>) <strong>fnmatch?</strong>(pattern, path, [flags]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'dir.c'</span>

/*
 *  call-seq:
 *     File.fnmatch( pattern, path, [flags] ) -&gt; (true or false)
 *     File.fnmatch?( pattern, path, [flags] ) -&gt; (true or false)
 *
 *  Returns true if &lt;i&gt;path&lt;/i&gt; matches against &lt;i&gt;pattern&lt;/i&gt; The
 *  pattern is not a regular expression; instead it follows rules
 *  similar to shell filename globbing. It may contain the following
 *  metacharacters:
 *
 *  &lt;code&gt;*&lt;/code&gt;::        Matches any file. Can be restricted by
 *                          other values in the glob. &lt;code&gt;*&lt;/code&gt;
 *                          will match all files; &lt;code&gt;c*&lt;/code&gt; will
 *                          match all files beginning with
 *                          &lt;code&gt;c&lt;/code&gt;; &lt;code&gt;*c&lt;/code&gt; will match
 *                          all files ending with &lt;code&gt;c&lt;/code&gt;; and
 *                          &lt;code&gt;*c*&lt;/code&gt; will match all files that
 *                          have &lt;code&gt;c&lt;/code&gt; in them (including at
 *                          the beginning or end). Equivalent to
 *                          &lt;code&gt;/ .* /x&lt;/code&gt; in regexp.
 *  &lt;code&gt;**&lt;/code&gt;::       Matches directories recursively or files
 *                          expansively.
 *  &lt;code&gt;?&lt;/code&gt;::        Matches any one character. Equivalent to
 *                          &lt;code&gt;/.{1}/&lt;/code&gt; in regexp.
 *  &lt;code&gt;[set]&lt;/code&gt;::    Matches any one character in +set+.
 *                          Behaves exactly like character sets in
 *                          Regexp, including set negation
 *                          (&lt;code&gt;[^a-z]&lt;/code&gt;).
 *  &lt;code&gt;\&lt;/code&gt;::        Escapes the next metacharacter.
 *
 *  &lt;i&gt;flags&lt;/i&gt; is a bitwise OR of the &lt;code&gt;FNM_xxx&lt;/code&gt;
 *  parameters. The same glob pattern and flags are used by
 *  &lt;code&gt;Dir::glob&lt;/code&gt;.
 *
 *     File.fnmatch('cat',       'cat')        #=&gt; true  # match entire string
 *     File.fnmatch('cat',       'category')   #=&gt; false # only match partial string
 *     File.fnmatch('c{at,ub}s', 'cats')       #=&gt; false # { } isn't supported
 *
 *     File.fnmatch('c?t',     'cat')          #=&gt; true  # '?' match only 1 character
 *     File.fnmatch('c??t',    'cat')          #=&gt; false # ditto
 *     File.fnmatch('c*',      'cats')         #=&gt; true  # '*' match 0 or more characters
 *     File.fnmatch('c*t',     'c/a/b/t')      #=&gt; true  # ditto
 *     File.fnmatch('ca[a-z]', 'cat')          #=&gt; true  # inclusive bracket expression
 *     File.fnmatch('ca[^t]',  'cat')          #=&gt; false # exclusive bracket expression ('^' or '!')
 *
 *     File.fnmatch('cat', 'CAT')                     #=&gt; false # case sensitive
 *     File.fnmatch('cat', 'CAT', File::FNM_CASEFOLD) #=&gt; true  # case insensitive
 *
 *     File.fnmatch('?',   '/', File::FNM_PATHNAME)  #=&gt; false # wildcard doesn't match '/' on FNM_PATHNAME
 *     File.fnmatch('*',   '/', File::FNM_PATHNAME)  #=&gt; false # ditto
 *     File.fnmatch('[/]', '/', File::FNM_PATHNAME)  #=&gt; false # ditto
 *
 *     File.fnmatch('\?',   '?')                       #=&gt; true  # escaped wildcard becomes ordinary
 *     File.fnmatch('\a',   'a')                       #=&gt; true  # escaped ordinary remains ordinary
 *     File.fnmatch('\a',   '\a', File::FNM_NOESCAPE)  #=&gt; true  # FNM_NOESACPE makes '\' ordinary
 *     File.fnmatch('[\?]', '?')                       #=&gt; true  # can escape inside bracket expression
 *
 *     File.fnmatch('*',   '.profile')                      #=&gt; false # wildcard doesn't match leading
 *     File.fnmatch('*',   '.profile', File::FNM_DOTMATCH)  #=&gt; true  # period by default.
 *     File.fnmatch('.*',  '.profile')                      #=&gt; true
 *
 *     rbfiles = '**' '/' '*.rb' # you don't have to do like this. just write in single string.
 *     File.fnmatch(rbfiles, 'main.rb')                    #=&gt; false
 *     File.fnmatch(rbfiles, './main.rb')                  #=&gt; false
 *     File.fnmatch(rbfiles, 'lib/song.rb')                #=&gt; true
 *     File.fnmatch('**.rb', 'main.rb')                    #=&gt; true
 *     File.fnmatch('**.rb', './main.rb')                  #=&gt; false
 *     File.fnmatch('**.rb', 'lib/song.rb')                #=&gt; true
 *     File.fnmatch('*',           'dave/.profile')                      #=&gt; true
 *
 *     pattern = '*' '/' '*'
 *     File.fnmatch(pattern, 'dave/.profile', File::FNM_PATHNAME)  #=&gt; false
 *     File.fnmatch(pattern, 'dave/.profile', File::FNM_PATHNAME | File::FNM_DOTMATCH) #=&gt; true
 *
 *     pattern = '**' '/' 'foo'
 *     File.fnmatch(pattern, 'a/b/c/foo', File::FNM_PATHNAME)     #=&gt; true
 *     File.fnmatch(pattern, '/a/b/c/foo', File::FNM_PATHNAME)    #=&gt; true
 *     File.fnmatch(pattern, 'c:/a/b/c/foo', File::FNM_PATHNAME)  #=&gt; true
 *     File.fnmatch(pattern, 'a/.b/c/foo', File::FNM_PATHNAME)    #=&gt; false
 *     File.fnmatch(pattern, 'a/.b/c/foo', File::FNM_PATHNAME | File::FNM_DOTMATCH) #=&gt; true
 */
static VALUE
file_s_fnmatch(int argc, VALUE *argv, VALUE obj)
{
    VALUE pattern, path;
    VALUE rflags;
    int flags;

    if (rb_scan_args(argc, argv, &quot;21&quot;, &amp;pattern, &amp;path, &amp;rflags) == 3)
    flags = NUM2INT(rflags);
    else
    flags = 0;

    StringValue(pattern);
    FilePathStringValue(path);

    if (fnmatch(RSTRING_PTR(pattern), rb_enc_get(pattern), RSTRING_PTR(path),
        flags) == 0)
    return Qtrue;

    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ftype-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>ftype</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Identifies the type of the named file; the return string is one of
``<tt>file</tt>&#8217;&#8217;, ``<tt>directory</tt>&#8217;&#8217;,
``<tt>characterSpecial</tt>&#8217;&#8217;,
``<tt>blockSpecial</tt>&#8217;&#8217;, ``<tt>fifo</tt>&#8217;&#8217;,
``<tt>link</tt>&#8217;&#8217;, ``<tt>socket</tt>&#8217;&#8217;, or
``<tt>unknown</tt>&#8217;&#8217;.
</p>
<pre class="code">
   File.ftype(&quot;testfile&quot;)            #=&gt; &quot;file&quot;
   File.ftype(&quot;/dev/tty&quot;)            #=&gt; &quot;characterSpecial&quot;
   File.ftype(&quot;/tmp/.X11-unix/X0&quot;)   #=&gt; &quot;socket&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.ftype(file_name)   -&gt; string
 *
 *  Identifies the type of the named file; the return string is one of
 *  ``&lt;code&gt;file&lt;/code&gt;'', ``&lt;code&gt;directory&lt;/code&gt;'',
 *  ``&lt;code&gt;characterSpecial&lt;/code&gt;'', ``&lt;code&gt;blockSpecial&lt;/code&gt;'',
 *  ``&lt;code&gt;fifo&lt;/code&gt;'', ``&lt;code&gt;link&lt;/code&gt;'',
 *  ``&lt;code&gt;socket&lt;/code&gt;'', or ``&lt;code&gt;unknown&lt;/code&gt;''.
 *
 *     File.ftype(&quot;testfile&quot;)            #=&gt; &quot;file&quot;
 *     File.ftype(&quot;/dev/tty&quot;)            #=&gt; &quot;characterSpecial&quot;
 *     File.ftype(&quot;/tmp/.X11-unix/X0&quot;)   #=&gt; &quot;socket&quot;
 */

static VALUE
rb_file_s_ftype(VALUE klass, VALUE fname)
{
    struct stat st;

    rb_secure(2);
    FilePathValue(fname);
    fname = rb_str_encode_ospath(fname);
    if (lstat(StringValueCStr(fname), &amp;st) == -1) {
    rb_sys_fail(RSTRING_PTR(fname));
    }

    return rb_file_ftype(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="join-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>join</strong>(string, ...) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a new string formed by joining the strings using
<tt>File::SEPARATOR</tt>.
</p>
<pre class="code">
   File.join(&quot;usr&quot;, &quot;mail&quot;, &quot;gumby&quot;)   #=&gt; &quot;usr/mail/gumby&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.join(string, ...)  -&gt;  path
 *
 *  Returns a new string formed by joining the strings using
 *  &lt;code&gt;File::SEPARATOR&lt;/code&gt;.
 *
 *     File.join(&quot;usr&quot;, &quot;mail&quot;, &quot;gumby&quot;)   #=&gt; &quot;usr/mail/gumby&quot;
 *
 */

static VALUE
rb_file_s_join(VALUE klass, VALUE args)
{
    return rb_file_join(args, separator);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="lchmod-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>lchmod</strong>(mode_int, file_name, ...) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Equivalent to <tt>File::chmod</tt>, but does not follow symbolic links (so
it will change the permissions associated with the link, not the file
referenced by the link). Often not available.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.lchmod(mode_int, file_name, ...)  -&gt; integer
 *
 *  Equivalent to &lt;code&gt;File::chmod&lt;/code&gt;, but does not follow symbolic
 *  links (so it will change the permissions associated with the link,
 *  not the file referenced by the link). Often not available.
 *
 */

static VALUE
rb_file_s_lchmod(int argc, VALUE *argv)
{
    VALUE vmode;
    VALUE rest;
    long mode, n;

    rb_secure(2);
    rb_scan_args(argc, argv, &quot;1*&quot;, &amp;vmode, &amp;rest);
    mode = NUM2INT(vmode);

    n = apply2files(lchmod_internal, rest, (void *)(long)mode);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="lchown-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>lchown</strong>(owner_int, group_int, file_name, ..) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Equivalent to <tt>File::chown</tt>, but does not follow symbolic links (so
it will change the owner associated with the link, not the file referenced
by the link). Often not available. Returns number of files in the argument
list.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.lchown(owner_int, group_int, file_name,..) -&gt; integer
 *
 *  Equivalent to &lt;code&gt;File::chown&lt;/code&gt;, but does not follow symbolic
 *  links (so it will change the owner associated with the link, not the
 *  file referenced by the link). Often not available. Returns number
 *  of files in the argument list.
 *
 */

static VALUE
rb_file_s_lchown(int argc, VALUE *argv)
{
    VALUE o, g, rest;
    struct chown_args arg;
    long n;

    rb_secure(2);
    rb_scan_args(argc, argv, &quot;2*&quot;, &amp;o, &amp;g, &amp;rest);
    if (NIL_P(o)) {
    arg.owner = -1;
    }
    else {
    arg.owner = NUM2UIDT(o);
    }
    if (NIL_P(g)) {
    arg.group = -1;
    }
    else {
    arg.group = NUM2GIDT(g);
    }

    n = apply2files(lchown_internal, rest, &amp;arg);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="link-class_method">
  
    + (<tt>0</tt>) <strong>link</strong>(old_name, new_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a new name for an existing file using a hard link. Will not
overwrite <em>new_name</em> if it already exists (raising a subclass of
<tt>SystemCallError</tt>). Not available on all platforms.
</p>
<pre class="code">
   File.link(&quot;testfile&quot;, &quot;.testfile&quot;)   #=&gt; 0
   IO.readlines(&quot;.testfile&quot;)[0]         #=&gt; &quot;This is line one\n&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.link(old_name, new_name)    -&gt; 0
 *
 *  Creates a new name for an existing file using a hard link. Will not
 *  overwrite &lt;i&gt;new_name&lt;/i&gt; if it already exists (raising a subclass
 *  of &lt;code&gt;SystemCallError&lt;/code&gt;). Not available on all platforms.
 *
 *     File.link(&quot;testfile&quot;, &quot;.testfile&quot;)   #=&gt; 0
 *     IO.readlines(&quot;.testfile&quot;)[0]         #=&gt; &quot;This is line one\n&quot;
 */

static VALUE
rb_file_s_link(VALUE klass, VALUE from, VALUE to)
{
    rb_secure(2);
    FilePathValue(from);
    FilePathValue(to);
    from = rb_str_encode_ospath(from);
    to = rb_str_encode_ospath(to);

    if (link(StringValueCStr(from), StringValueCStr(to)) &lt; 0) {
    sys_fail2(from, to);
    }
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="lstat-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>lstat</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same as <tt>File::stat</tt>, but does not follow the last symbolic link.
Instead, reports on the link itself.
</p>
<pre class="code">
   File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
   File.stat(&quot;testfile&quot;).size              #=&gt; 66
   File.lstat(&quot;link2test&quot;).size            #=&gt; 8
   File.stat(&quot;link2test&quot;).size             #=&gt; 66</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.lstat(file_name)   -&gt; stat
 *
 *  Same as &lt;code&gt;File::stat&lt;/code&gt;, but does not follow the last symbolic
 *  link. Instead, reports on the link itself.
 *
 *     File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
 *     File.stat(&quot;testfile&quot;).size              #=&gt; 66
 *     File.lstat(&quot;link2test&quot;).size            #=&gt; 8
 *     File.stat(&quot;link2test&quot;).size             #=&gt; 66
 *
 */

static VALUE
rb_file_s_lstat(VALUE klass, VALUE fname)
{
#ifdef HAVE_LSTAT
    struct stat st;

    rb_secure(2);
    FilePathValue(fname);
    fname = rb_str_encode_ospath(fname);
    if (lstat(StringValueCStr(fname), &amp;st) == -1) {
    rb_sys_fail(RSTRING_PTR(fname));
    }
    return stat_new(&amp;st);
#else
    return rb_file_s_stat(klass, fname);
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mtime-class_method">
  
    + (<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>) <strong>mtime</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the modification time for the named file as a Time object.
</p>
<pre class="code">
   File.mtime(&quot;testfile&quot;)   #=&gt; Tue Apr 08 12:58:04 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.mtime(file_name)  -&gt;  time
 *
 *  Returns the modification time for the named file as a Time object.
 *
 *     File.mtime(&quot;testfile&quot;)   #=&gt; Tue Apr 08 12:58:04 CDT 2003
 *
 */

static VALUE
rb_file_s_mtime(VALUE klass, VALUE fname)
{
    struct stat st;

    if (rb_stat(fname, &amp;st) &lt; 0) {
    FilePathValue(fname);
    rb_sys_fail(RSTRING_PTR(fname));
    }
    return stat_mtime(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="open-class_method">
  
    
      <span class="overload">+ (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>open</strong>(filename, mode = &quot;r&quot;[, opt]) </span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>open</strong>(filename[, mode [, perm]][, opt]) </span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>open</strong>(filename, mode = &quot;r&quot;[, opt]) {|file| ... }</span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>open</strong>(filename[, mode [, perm]][, opt]) {|file| ... }</span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
With no associated block, <tt>open</tt> is a synonym for <tt>File.new</tt>.
If the optional code block is given, it will be passed <em>file</em> as an
argument, and the File object will automatically be closed when the block
terminates. In this instance, <tt>File.open</tt> returns the value of the
block.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>open</strong>(filename, mode = &quot;r&quot;[, opt]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>) <strong>open</strong>(filename[, mode [, perm]][, opt]) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="File (class)">File</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>open</strong>(filename, mode = &quot;r&quot;[, opt]) {|file| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>file</tt>)</span>
      
      
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>open</strong>(filename[, mode [, perm]][, opt]) {|file| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>file</tt>)</span>
      
      
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c'</span>

/*
 *  Document-method: IO::open
 *
 *  call-seq:
 *     IO.open(fd, mode_string=&quot;r&quot; [, opt] )               -&gt; io
 *     IO.open(fd, mode_string=&quot;r&quot; [, opt] ) {|io| block } -&gt; obj
 *
 *  With no associated block, &lt;code&gt;open&lt;/code&gt; is a synonym for
 *  &lt;code&gt;IO.new&lt;/code&gt;. If the optional code block is given, it will
 *  be passed &lt;i&gt;io&lt;/i&gt; as an argument, and the IO object will
 *  automatically be closed when the block terminates. In this instance,
 *  &lt;code&gt;IO.open&lt;/code&gt; returns the value of the block.
 *
 */

static VALUE
rb_io_s_open(int argc, VALUE *argv, VALUE klass)
{
    VALUE io = rb_class_new_instance(argc, argv, klass);

    if (rb_block_given_p()) {
    return rb_ensure(rb_yield, io, io_close, io);
    }

    return io;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="path-class_method">
  
    + (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>path</strong>(path) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the string representation of the path
</p>
<pre class="code">
   File.path(&quot;/dev/null&quot;)          #=&gt; &quot;/dev/null&quot;
   File.path(Pathname.new(&quot;/tmp&quot;)) #=&gt; &quot;/tmp&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.path(path)  -&gt;  string
 *
 *  Returns the string representation of the path
 *
 *     File.path(&quot;/dev/null&quot;)          #=&gt; &quot;/dev/null&quot;
 *     File.path(Pathname.new(&quot;/tmp&quot;)) #=&gt; &quot;/tmp&quot;
 *
 */

static VALUE
rb_file_s_path(VALUE klass, VALUE fname)
{
    return rb_get_path(fname);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readlink-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>readlink</strong>(link_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the name of the file referenced by the given link. Not available on
all platforms.
</p>
<pre class="code">
   File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
   File.readlink(&quot;link2test&quot;)              #=&gt; &quot;testfile&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.readlink(link_name)  -&gt;  file_name
 *
 *  Returns the name of the file referenced by the given link.
 *  Not available on all platforms.
 *
 *     File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
 *     File.readlink(&quot;link2test&quot;)              #=&gt; &quot;testfile&quot;
 */

static VALUE
rb_file_s_readlink(VALUE klass, VALUE path)
{
    char *buf;
    int size = 100;
    ssize_t rv;
    VALUE v;

    rb_secure(2);
    FilePathValue(path);
    path = rb_str_encode_ospath(path);
    buf = xmalloc(size);
    while ((rv = readlink(RSTRING_PTR(path), buf, size)) == size
#ifdef _AIX
        || (rv &lt; 0 &amp;&amp; errno == ERANGE) /* quirky behavior of GPFS */
#endif
    ) {
    size *= 2;
    buf = xrealloc(buf, size);
    }
    if (rv &lt; 0) {
    xfree(buf);
    rb_sys_fail_path(path);
    }
    v = rb_tainted_str_new(buf, rv);
    xfree(buf);

    return v;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="realdirpath-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>realdirpath</strong>(pathname[, dir_string]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the real (absolute) pathname of <em>pathname</em> in the actual
filesystem.
</p>
<pre class="code">
 The real pathname doesn't contain symlinks or useless dots.

 If _dir_string_ is given, it is used as a base directory
 for interpreting relative pathname instead of the current directory.

 The last component of the real pathname can be nonexistent.</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *     File.realdirpath(pathname [, dir_string])  -&gt;  real_pathname
 *
 *  Returns the real (absolute) pathname of _pathname_ in the actual filesystem.
 *  The real pathname doesn't contain symlinks or useless dots.
 *
 *  If _dir_string_ is given, it is used as a base directory
 *  for interpreting relative pathname instead of the current directory.
 *
 *  The last component of the real pathname can be nonexistent.
 */
static VALUE
rb_file_s_realdirpath(int argc, VALUE *argv, VALUE klass)
{
    VALUE path, basedir;
    rb_scan_args(argc, argv, &quot;11&quot;, &amp;path, &amp;basedir);
    return rb_realpath_internal(basedir, path, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="realpath-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>realpath</strong>(pathname[, dir_string]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the real (absolute) pathname of <em>pathname</em> in the actual
</p>
<pre class="code">
 filesystem not containing symlinks or useless dots.

 If _dir_string_ is given, it is used as a base directory
 for interpreting relative pathname instead of the current directory.

 All components of the pathname must exist when this method is
 called.</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *     File.realpath(pathname [, dir_string])  -&gt;  real_pathname
 *
 *  Returns the real (absolute) pathname of _pathname_ in the actual
 *  filesystem not containing symlinks or useless dots.
 *
 *  If _dir_string_ is given, it is used as a base directory
 *  for interpreting relative pathname instead of the current directory.
 *
 *  All components of the pathname must exist when this method is
 *  called.
 */
static VALUE
rb_file_s_realpath(int argc, VALUE *argv, VALUE klass)
{
    VALUE path, basedir;
    rb_scan_args(argc, argv, &quot;11&quot;, &amp;path, &amp;basedir);
    return rb_realpath_internal(basedir, path, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rename-class_method">
  
    + (<tt>0</tt>) <strong>rename</strong>(old_name, new_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Renames the given file to the new name. Raises a <tt>SystemCallError</tt>
if the file cannot be renamed.
</p>
<pre class="code">
   File.rename(&quot;afile&quot;, &quot;afile.bak&quot;)   #=&gt; 0</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.rename(old_name, new_name)   -&gt; 0
 *
 *  Renames the given file to the new name. Raises a
 *  &lt;code&gt;SystemCallError&lt;/code&gt; if the file cannot be renamed.
 *
 *     File.rename(&quot;afile&quot;, &quot;afile.bak&quot;)   #=&gt; 0
 */

static VALUE
rb_file_s_rename(VALUE klass, VALUE from, VALUE to)
{
    const char *src, *dst;
    VALUE f, t;

    rb_secure(2);
    FilePathValue(from);
    FilePathValue(to);
    f = rb_str_encode_ospath(from);
    t = rb_str_encode_ospath(to);
    src = StringValueCStr(f);
    dst = StringValueCStr(t);
#if defined __CYGWIN__
    errno = 0;
#endif
    if (rename(src, dst) &lt; 0) {
#if defined DOSISH
    switch (errno) {
      case EEXIST:
#if defined (__EMX__)
      case EACCES:
#endif
        if (chmod(dst, 0666) == 0 &amp;&amp;
        unlink(dst) == 0 &amp;&amp;
        rename(src, dst) == 0)
        return INT2FIX(0);
    }
#endif
    sys_fail2(from, to);
    }

    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="split-class_method">
  
    + (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>) <strong>split</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Splits the given string into a directory and a file component and returns
them in a two-element array. See also <tt>File::dirname</tt> and
<tt>File::basename</tt>.
</p>
<pre class="code">
   File.split(&quot;/home/gumby/.profile&quot;)   #=&gt; [&quot;/home/gumby&quot;, &quot;.profile&quot;]</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.split(file_name)   -&gt; array
 *
 *  Splits the given string into a directory and a file component and
 *  returns them in a two-element array. See also
 *  &lt;code&gt;File::dirname&lt;/code&gt; and &lt;code&gt;File::basename&lt;/code&gt;.
 *
 *     File.split(&quot;/home/gumby/.profile&quot;)   #=&gt; [&quot;/home/gumby&quot;, &quot;.profile&quot;]
 */

static VALUE
rb_file_s_split(VALUE klass, VALUE path)
{
    FilePathStringValue(path);      /* get rid of converting twice */
    return rb_assoc_new(rb_file_s_dirname(Qnil, path), rb_file_s_basename(1,&amp;path));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="stat-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>stat</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns a <tt>File::Stat</tt> object for the named file (see
<tt>File::Stat</tt>).
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).mtime   #=&gt; Tue Apr 08 12:58:04 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.stat(file_name)   -&gt;  stat
 *
 *  Returns a &lt;code&gt;File::Stat&lt;/code&gt; object for the named file (see
 *  &lt;code&gt;File::Stat&lt;/code&gt;).
 *
 *     File.stat(&quot;testfile&quot;).mtime   #=&gt; Tue Apr 08 12:58:04 CDT 2003
 *
 */

static VALUE
rb_file_s_stat(VALUE klass, VALUE fname)
{
    struct stat st;

    rb_secure(4);
    FilePathValue(fname);
    if (rb_stat(fname, &amp;st) &lt; 0) {
    rb_sys_fail(RSTRING_PTR(fname));
    }
    return stat_new(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="symlink-class_method">
  
    + (<tt>0</tt>) <strong>symlink</strong>(old_name, new_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Creates a symbolic link called <em>new_name</em> for the existing file
<em>old_name</em>. Raises a <tt>NotImplemented</tt> exception on platforms
that do not support symbolic links.
</p>
<pre class="code">
   File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.symlink(old_name, new_name)   -&gt; 0
 *
 *  Creates a symbolic link called &lt;i&gt;new_name&lt;/i&gt; for the existing file
 *  &lt;i&gt;old_name&lt;/i&gt;. Raises a &lt;code&gt;NotImplemented&lt;/code&gt; exception on
 *  platforms that do not support symbolic links.
 *
 *     File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
 *
 */

static VALUE
rb_file_s_symlink(VALUE klass, VALUE from, VALUE to)
{
    rb_secure(2);
    FilePathValue(from);
    FilePathValue(to);
    from = rb_str_encode_ospath(from);
    to = rb_str_encode_ospath(to);

    if (symlink(StringValueCStr(from), StringValueCStr(to)) &lt; 0) {
    sys_fail2(from, to);
    }
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="truncate-class_method">
  
    + (<tt>0</tt>) <strong>truncate</strong>(file_name, integer) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Truncates the file <em>file_name</em> to be at most <em>integer</em> bytes
long. Not available on all platforms.
</p>
<pre class="code">
   f = File.new(&quot;out&quot;, &quot;w&quot;)
   f.write(&quot;1234567890&quot;)     #=&gt; 10
   f.close                   #=&gt; nil
   File.truncate(&quot;out&quot;, 5)   #=&gt; 0
   File.size(&quot;out&quot;)          #=&gt; 5</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.truncate(file_name, integer)  -&gt; 0
 *
 *  Truncates the file &lt;i&gt;file_name&lt;/i&gt; to be at most &lt;i&gt;integer&lt;/i&gt;
 *  bytes long. Not available on all platforms.
 *
 *     f = File.new(&quot;out&quot;, &quot;w&quot;)
 *     f.write(&quot;1234567890&quot;)     #=&gt; 10
 *     f.close                   #=&gt; nil
 *     File.truncate(&quot;out&quot;, 5)   #=&gt; 0
 *     File.size(&quot;out&quot;)          #=&gt; 5
 *
 */

static VALUE
rb_file_s_truncate(VALUE klass, VALUE path, VALUE len)
{
    off_t pos;

    rb_secure(2);
    pos = NUM2OFFT(len);
    FilePathValue(path);
    path = rb_str_encode_ospath(path);
#ifdef HAVE_TRUNCATE
    if (truncate(StringValueCStr(path), pos) &lt; 0)
    rb_sys_fail(RSTRING_PTR(path));
#else /* defined(HAVE_CHSIZE) */
    {
    int tmpfd;

    if ((tmpfd = open(StringValueCStr(path), 0)) &lt; 0) {
        rb_sys_fail(RSTRING_PTR(path));
    }
    if (chsize(tmpfd, pos) &lt; 0) {
        close(tmpfd);
        rb_sys_fail(RSTRING_PTR(path));
    }
    close(tmpfd);
    }
#endif
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="umask-class_method">
  
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>umask</strong> </span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>umask</strong>(integer) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the current umask value for this process. If the optional argument
is given, set the umask to that value and return the previous value. Umask
values are <em>subtracted</em> from the default permissions, so a umask of
<tt>0222</tt> would make a file read-only for everyone.
</p>
<pre class="code">
   File.umask(0006)   #=&gt; 18
   File.umask         #=&gt; 6</pre>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>umask</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>umask</strong>(integer) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.umask()          -&gt; integer
 *     File.umask(integer)   -&gt; integer
 *
 *  Returns the current umask value for this process. If the optional
 *  argument is given, set the umask to that value and return the
 *  previous value. Umask values are &lt;em&gt;subtracted&lt;/em&gt; from the
 *  default permissions, so a umask of &lt;code&gt;0222&lt;/code&gt; would make a
 *  file read-only for everyone.
 *
 *     File.umask(0006)   #=&gt; 18
 *     File.umask         #=&gt; 6
 */

static VALUE
rb_file_s_umask(int argc, VALUE *argv)
{
    int omask = 0;

    rb_secure(2);
    if (argc == 0) {
    omask = umask(0);
    umask(omask);
    }
    else if (argc == 1) {
    omask = umask(NUM2INT(argv[0]));
    }
    else {
    rb_raise(rb_eArgError, &quot;wrong number of arguments (%d for 0..1)&quot;, argc);
    }
    return INT2FIX(omask);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="unlink-class_method">
  
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>delete</strong>(file_name, ...) </span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>unlink</strong>(file_name, ...) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Deletes the named files, returning the number of names passed as arguments.
Raises an exception on any error. See also <tt>Dir::rmdir</tt>.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>delete</strong>(file_name, ...) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>unlink</strong>(file_name, ...) </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     File.delete(file_name, ...)  -&gt; integer
 *     File.unlink(file_name, ...)  -&gt; integer
 *
 *  Deletes the named files, returning the number of names
 *  passed as arguments. Raises an exception on any error.
 *  See also &lt;code&gt;Dir::rmdir&lt;/code&gt;.
 */

static VALUE
rb_file_s_unlink(VALUE klass, VALUE args)
{
    long n;

    rb_secure(2);
    n = apply2files(unlink_internal, args, 0);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="utime-class_method">
  
    + (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>utime</strong>(atime, mtime, file_name, ...) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Sets the access and modification times of each named file to the first two
arguments. Returns the number of file names in the argument list.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *  File.utime(atime, mtime, file_name,...)   -&gt;  integer
 *
 * Sets the access and modification times of each
 * named file to the first two arguments. Returns
 * the number of file names in the argument list.
 */

static VALUE
rb_file_s_utime(int argc, VALUE *argv)
{
    VALUE rest;
    struct utime_args args;
    struct timespec tss[2], *tsp = NULL;
    long n;

    rb_secure(2);
    rb_scan_args(argc, argv, &quot;2*&quot;, &amp;args.atime, &amp;args.mtime, &amp;rest);

    if (!NIL_P(args.atime) || !NIL_P(args.mtime)) {
    tsp = tss;
    tsp[0] = rb_time_timespec(args.atime);
    tsp[1] = rb_time_timespec(args.mtime);
    }
    args.tsp = tsp;

    n = apply2files(utime_internal, rest, &amp;args);
    return LONG2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="atime-instance_method">
  
    - (<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>) <strong>atime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the last access time (a <tt>Time</tt> object)
</p>
<pre class="code">
 for &lt;i&gt;file&lt;/i&gt;, or epoch if &lt;i&gt;file&lt;/i&gt; has not been accessed.

   File.new(&quot;testfile&quot;).atime   #=&gt; Wed Dec 31 18:00:00 CST 1969</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.atime    -&gt; time
 *
 *  Returns the last access time (a &lt;code&gt;Time&lt;/code&gt; object)
 *   for &lt;i&gt;file&lt;/i&gt;, or epoch if &lt;i&gt;file&lt;/i&gt; has not been accessed.
 *
 *     File.new(&quot;testfile&quot;).atime   #=&gt; Wed Dec 31 18:00:00 CST 1969
 *
 */

static VALUE
rb_file_atime(VALUE obj)
{
    rb_io_t *fptr;
    struct stat st;

    GetOpenFile(obj, fptr);
    if (fstat(fptr-&gt;fd, &amp;st) == -1) {
    rb_sys_fail_path(fptr-&gt;pathv);
    }
    return stat_atime(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="chmod-instance_method">
  
    - (<tt>0</tt>) <strong>chmod</strong>(mode_int) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Changes permission bits on <em>file</em> to the bit pattern represented by
<em>mode_int</em>. Actual effects are platform dependent; on Unix systems,
see <tt>chmod(2)</tt> for details. Follows symbolic links. Also see
<tt>File#lchmod</tt>.
</p>
<pre class="code">
   f = File.new(&quot;out&quot;, &quot;w&quot;);
   f.chmod(0644)   #=&gt; 0</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.chmod(mode_int)   -&gt; 0
 *
 *  Changes permission bits on &lt;i&gt;file&lt;/i&gt; to the bit pattern
 *  represented by &lt;i&gt;mode_int&lt;/i&gt;. Actual effects are platform
 *  dependent; on Unix systems, see &lt;code&gt;chmod(2)&lt;/code&gt; for details.
 *  Follows symbolic links. Also see &lt;code&gt;File#lchmod&lt;/code&gt;.
 *
 *     f = File.new(&quot;out&quot;, &quot;w&quot;);
 *     f.chmod(0644)   #=&gt; 0
 */

static VALUE
rb_file_chmod(VALUE obj, VALUE vmode)
{
    rb_io_t *fptr;
    int mode;
#ifndef HAVE_FCHMOD
    VALUE path;
#endif

    rb_secure(2);
    mode = NUM2INT(vmode);

    GetOpenFile(obj, fptr);
#ifdef HAVE_FCHMOD
    if (fchmod(fptr-&gt;fd, mode) == -1)
    rb_sys_fail_path(fptr-&gt;pathv);
#else
    if (NIL_P(fptr-&gt;pathv)) return Qnil;
    path = rb_str_encode_ospath(fptr-&gt;pathv);
    if (chmod(RSTRING_PTR(path), mode) == -1)
    rb_sys_fail_path(fptr-&gt;pathv);
#endif

    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="chown-instance_method">
  
    - (<tt>0</tt>) <strong>chown</strong>(owner_int, group_int) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Changes the owner and group of <em>file</em> to the given numeric owner and
group id&#8217;s. Only a process with superuser privileges may change the
owner of a file. The current owner of a file may change the file&#8217;s
group to any group to which the owner belongs. A <tt>nil</tt> or -1 owner
or group id is ignored. Follows symbolic links. See also
<tt>File#lchown</tt>.
</p>
<pre class="code">
   File.new(&quot;testfile&quot;).chown(502, 1000)</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.chown(owner_int, group_int )   -&gt; 0
 *
 *  Changes the owner and group of &lt;i&gt;file&lt;/i&gt; to the given numeric
 *  owner and group id's. Only a process with superuser privileges may
 *  change the owner of a file. The current owner of a file may change
 *  the file's group to any group to which the owner belongs. A
 *  &lt;code&gt;nil&lt;/code&gt; or -1 owner or group id is ignored. Follows
 *  symbolic links. See also &lt;code&gt;File#lchown&lt;/code&gt;.
 *
 *     File.new(&quot;testfile&quot;).chown(502, 1000)
 *
 */

static VALUE
rb_file_chown(VALUE obj, VALUE owner, VALUE group)
{
    rb_io_t *fptr;
    int o, g;
#ifndef HAVE_FCHOWN
    VALUE path;
#endif

    rb_secure(2);
    o = NIL_P(owner) ? -1 : NUM2INT(owner);
    g = NIL_P(group) ? -1 : NUM2INT(group);
    GetOpenFile(obj, fptr);
#ifndef HAVE_FCHOWN
    if (NIL_P(fptr-&gt;pathv)) return Qnil;
    path = rb_str_encode_ospath(fptr-&gt;pathv);
    if (chown(RSTRING_PTR(path), o, g) == -1)
    rb_sys_fail_path(fptr-&gt;pathv);
#else
    if (fchown(fptr-&gt;fd, o, g) == -1)
    rb_sys_fail_path(fptr-&gt;pathv);
#endif

    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ctime-instance_method">
  
    - (<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>) <strong>ctime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the change time for <em>file</em> (that is, the time directory
information about the file was changed, not the file itself).
</p>
<pre class="code">
   File.new(&quot;testfile&quot;).ctime   #=&gt; Wed Apr 09 08:53:14 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.ctime  -&gt;  time
 *
 *  Returns the change time for &lt;i&gt;file&lt;/i&gt; (that is, the time directory
 *  information about the file was changed, not the file itself).
 *
 *     File.new(&quot;testfile&quot;).ctime   #=&gt; Wed Apr 09 08:53:14 CDT 2003
 *
 */

static VALUE
rb_file_ctime(VALUE obj)
{
    rb_io_t *fptr;
    struct stat st;

    GetOpenFile(obj, fptr);
    if (fstat(fptr-&gt;fd, &amp;st) == -1) {
    rb_sys_fail_path(fptr-&gt;pathv);
    }
    return stat_ctime(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="flock-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>flock</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Locks or unlocks a file according to <em>locking_constant</em> (a logical
<em>or</em> of the values in the table below). Returns <tt>false</tt> if
<tt>File::LOCK_NB</tt> is specified and the operation would otherwise have
blocked. Not available on all platforms.
</p>
<p>
Locking constants (in class File):
</p>
<pre class="code">
   LOCK_EX   | Exclusive lock. Only one process may hold an
             | exclusive lock for a given file at a time.
   ----------+------------------------------------------------
   LOCK_NB   | Don't block when locking. May be combined
             | with other lock options using logical or.
   ----------+------------------------------------------------
   LOCK_SH   | Shared lock. Multiple processes may each hold a
             | shared lock for a given file at the same time.
   ----------+------------------------------------------------
   LOCK_UN   | Unlock.
</pre>
<p>
Example:
</p>
<pre class="code">
   # update a counter using write lock
   # don't use &quot;w&quot; because it truncates the file before lock.
   File.open(&quot;counter&quot;, File::RDWR|File::CREAT, 0644) {|f|
     f.flock(File::LOCK_EX)
     value = f.read.to_i + 1
     f.rewind
     f.write(&quot;#{value}\n&quot;)
     f.flush
     f.truncate(f.pos)
   }

   # read the counter using read lock
   File.open(&quot;counter&quot;, &quot;r&quot;) {|f|
     f.flock(File::LOCK_SH)
     p f.read
   }</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.flock (locking_constant )-&gt; 0 or false
 *
 *  Locks or unlocks a file according to &lt;i&gt;locking_constant&lt;/i&gt; (a
 *  logical &lt;em&gt;or&lt;/em&gt; of the values in the table below).
 *  Returns &lt;code&gt;false&lt;/code&gt; if &lt;code&gt;File::LOCK_NB&lt;/code&gt; is
 *  specified and the operation would otherwise have blocked. Not
 *  available on all platforms.
 *
 *  Locking constants (in class File):
 *
 *     LOCK_EX   | Exclusive lock. Only one process may hold an
 *               | exclusive lock for a given file at a time.
 *     ----------+------------------------------------------------
 *     LOCK_NB   | Don't block when locking. May be combined
 *               | with other lock options using logical or.
 *     ----------+------------------------------------------------
 *     LOCK_SH   | Shared lock. Multiple processes may each hold a
 *               | shared lock for a given file at the same time.
 *     ----------+------------------------------------------------
 *     LOCK_UN   | Unlock.
 *
 *  Example:
 *
 *     # update a counter using write lock
 *     # don't use &quot;w&quot; because it truncates the file before lock.
 *     File.open(&quot;counter&quot;, File::RDWR|File::CREAT, 0644) {|f|
 *       f.flock(File::LOCK_EX)
 *       value = f.read.to_i + 1
 *       f.rewind
 *       f.write(&quot;#{value}\n&quot;)
 *       f.flush
 *       f.truncate(f.pos)
 *     }
 *
 *     # read the counter using read lock
 *     File.open(&quot;counter&quot;, &quot;r&quot;) {|f|
 *       f.flock(File::LOCK_SH)
 *       p f.read
 *     }
 *
 */

static VALUE
rb_file_flock(VALUE obj, VALUE operation)
{
    rb_io_t *fptr;
    int op[2], op1;

    rb_secure(2);
    op[1] = op1 = NUM2INT(operation);
    GetOpenFile(obj, fptr);
    op[0] = fptr-&gt;fd;

    if (fptr-&gt;mode &amp; FMODE_WRITABLE) {
    rb_io_flush(obj);
    }
    while ((int)rb_thread_blocking_region(rb_thread_flock, op, RUBY_UBF_IO, 0) &lt; 0) {
    switch (errno) {
      case EAGAIN:
      case EACCES:
#if defined(EWOULDBLOCK) &amp;&amp; EWOULDBLOCK != EAGAIN
      case EWOULDBLOCK:
#endif
        if (op1 &amp; LOCK_NB) return Qfalse;
        rb_thread_polling();
        rb_io_check_closed(fptr);
        continue;

      case EINTR:
#if defined(ERESTART)
      case ERESTART:
#endif
        break;

      default:
        rb_sys_fail_path(fptr-&gt;pathv);
    }
    }
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="lstat-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>lstat</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same as <tt>IO#stat</tt>, but does not follow the last symbolic link.
Instead, reports on the link itself.
</p>
<pre class="code">
   File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
   File.stat(&quot;testfile&quot;).size              #=&gt; 66
   f = File.new(&quot;link2test&quot;)
   f.lstat.size                            #=&gt; 8
   f.stat.size                             #=&gt; 66</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.lstat   -&gt;  stat
 *
 *  Same as &lt;code&gt;IO#stat&lt;/code&gt;, but does not follow the last symbolic
 *  link. Instead, reports on the link itself.
 *
 *     File.symlink(&quot;testfile&quot;, &quot;link2test&quot;)   #=&gt; 0
 *     File.stat(&quot;testfile&quot;).size              #=&gt; 66
 *     f = File.new(&quot;link2test&quot;)
 *     f.lstat.size                            #=&gt; 8
 *     f.stat.size                             #=&gt; 66
 */

static VALUE
rb_file_lstat(VALUE obj)
{
#ifdef HAVE_LSTAT
    rb_io_t *fptr;
    struct stat st;
    VALUE path;

    rb_secure(2);
    GetOpenFile(obj, fptr);
    if (NIL_P(fptr-&gt;pathv)) return Qnil;
    path = rb_str_encode_ospath(fptr-&gt;pathv);
    if (lstat(RSTRING_PTR(path), &amp;st) == -1) {
    rb_sys_fail_path(fptr-&gt;pathv);
    }
    return stat_new(&amp;st);
#else
    return rb_io_stat(obj);
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mtime-instance_method">
  
    - (<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>) <strong>mtime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the modification time for <em>file</em>.
</p>
<pre class="code">
   File.new(&quot;testfile&quot;).mtime   #=&gt; Wed Apr 09 08:53:14 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.mtime  -&gt;  time
 *
 *  Returns the modification time for &lt;i&gt;file&lt;/i&gt;.
 *
 *     File.new(&quot;testfile&quot;).mtime   #=&gt; Wed Apr 09 08:53:14 CDT 2003
 *
 */

static VALUE
rb_file_mtime(VALUE obj)
{
    rb_io_t *fptr;
    struct stat st;

    GetOpenFile(obj, fptr);
    if (fstat(fptr-&gt;fd, &amp;st) == -1) {
    rb_sys_fail_path(fptr-&gt;pathv);
    }
    return stat_mtime(&amp;st);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the pathname used to create <em>file</em> as a string. Does not
normalize the name.
</p>
<pre class="code">
   File.new(&quot;testfile&quot;).path               #=&gt; &quot;testfile&quot;
   File.new(&quot;/tmp/../tmp/xxx&quot;, &quot;w&quot;).path   #=&gt; &quot;/tmp/../tmp/xxx&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.path  -&gt;  filename
 *
 *  Returns the pathname used to create &lt;i&gt;file&lt;/i&gt; as a string. Does
 *  not normalize the name.
 *
 *     File.new(&quot;testfile&quot;).path               #=&gt; &quot;testfile&quot;
 *     File.new(&quot;/tmp/../tmp/xxx&quot;, &quot;w&quot;).path   #=&gt; &quot;/tmp/../tmp/xxx&quot;
 *
 */

static VALUE
rb_file_path(VALUE obj)
{
    rb_io_t *fptr;

    fptr = RFILE(rb_io_taint_check(obj))-&gt;fptr;
    rb_io_check_initialized(fptr);
    if (NIL_P(fptr-&gt;pathv)) return Qnil;
    return rb_obj_taint(rb_str_dup(fptr-&gt;pathv));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="size-instance_method">
  
    - (<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>size</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the size of <em>file</em> in bytes.
</p>
<pre class="code">
   File.new(&quot;testfile&quot;).size   #=&gt; 66</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.size    -&gt; integer
 *
 *  Returns the size of &lt;i&gt;file&lt;/i&gt; in bytes.
 *
 *     File.new(&quot;testfile&quot;).size   #=&gt; 66
 *
 */

static VALUE
rb_file_size(VALUE obj)
{
    rb_io_t *fptr;
    struct stat st;

    GetOpenFile(obj, fptr);
    if (fptr-&gt;mode &amp; FMODE_WRITABLE) {
    rb_io_flush(obj);
    }
    if (fstat(fptr-&gt;fd, &amp;st) == -1) {
    rb_sys_fail_path(fptr-&gt;pathv);
    }
    return OFFT2NUM(st.st_size);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_path-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the pathname used to create <em>file</em> as a string. Does not
normalize the name.
</p>
<pre class="code">
   File.new(&quot;testfile&quot;).path               #=&gt; &quot;testfile&quot;
   File.new(&quot;/tmp/../tmp/xxx&quot;, &quot;w&quot;).path   #=&gt; &quot;/tmp/../tmp/xxx&quot;</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.path  -&gt;  filename
 *
 *  Returns the pathname used to create &lt;i&gt;file&lt;/i&gt; as a string. Does
 *  not normalize the name.
 *
 *     File.new(&quot;testfile&quot;).path               #=&gt; &quot;testfile&quot;
 *     File.new(&quot;/tmp/../tmp/xxx&quot;, &quot;w&quot;).path   #=&gt; &quot;/tmp/../tmp/xxx&quot;
 *
 */

static VALUE
rb_file_path(VALUE obj)
{
    rb_io_t *fptr;

    fptr = RFILE(rb_io_taint_check(obj))-&gt;fptr;
    rb_io_check_initialized(fptr);
    if (NIL_P(fptr-&gt;pathv)) return Qnil;
    return rb_obj_taint(rb_str_dup(fptr-&gt;pathv));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="truncate-instance_method">
  
    - (<tt>0</tt>) <strong>truncate</strong>(integer) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Truncates <em>file</em> to at most <em>integer</em> bytes. The file must be
opened for writing. Not available on all platforms.
</p>
<pre class="code">
   f = File.new(&quot;out&quot;, &quot;w&quot;)
   f.syswrite(&quot;1234567890&quot;)   #=&gt; 10
   f.truncate(5)              #=&gt; 0
   f.close()                  #=&gt; nil
   File.size(&quot;out&quot;)           #=&gt; 5</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     file.truncate(integer)    -&gt; 0
 *
 *  Truncates &lt;i&gt;file&lt;/i&gt; to at most &lt;i&gt;integer&lt;/i&gt; bytes. The file
 *  must be opened for writing. Not available on all platforms.
 *
 *     f = File.new(&quot;out&quot;, &quot;w&quot;)
 *     f.syswrite(&quot;1234567890&quot;)   #=&gt; 10
 *     f.truncate(5)              #=&gt; 0
 *     f.close()                  #=&gt; nil
 *     File.size(&quot;out&quot;)           #=&gt; 5
 */

static VALUE
rb_file_truncate(VALUE obj, VALUE len)
{
    rb_io_t *fptr;
    off_t pos;

    rb_secure(2);
    pos = NUM2OFFT(len);
    GetOpenFile(obj, fptr);
    if (!(fptr-&gt;mode &amp; FMODE_WRITABLE)) {
    rb_raise(rb_eIOError, &quot;not opened for writing&quot;);
    }
    rb_io_flush(obj);
#ifdef HAVE_FTRUNCATE
    if (ftruncate(fptr-&gt;fd, pos) &lt; 0)
    rb_sys_fail_path(fptr-&gt;pathv);
#else /* defined(HAVE_CHSIZE) */
    if (chsize(fptr-&gt;fd, pos) &lt; 0)
    rb_sys_fail(fptr-&gt;pathv);
#endif
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:06:11 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>