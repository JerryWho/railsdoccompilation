<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: ObjectSpace</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (O)</a> &raquo; 
    
    
    <span class="title">ObjectSpace</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ObjectSpace
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">gc.c</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
The <tt>ObjectSpace</tt> module contains a number of routines that interact
with the garbage collection facility and allow you to traverse all living
objects with an iterator.
</p>
<p>
<tt>ObjectSpace</tt> also provides support for object finalizers, procs
that will be called when a specific object is about to be destroyed by
garbage collection.
</p>
<pre class="code">
   <span class='id include'>include</span> <span class='const'>ObjectSpace</span>

   <span class='id a'>a</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A</span><span class='tstring_end'>&quot;</span></span>
   <span class='id b'>b</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span>
   <span class='id c'>c</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span>

   <span class='id define_finalizer'>define_finalizer</span><span class='lparen'>(</span><span class='id a'>a</span><span class='comma'>,</span> <span class='id proc'>proc</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id id'>id</span><span class='op'>|</span> <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finalizer one on </span><span class='embexpr_beg'>#{</span><span class='id id'>id</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
   <span class='id define_finalizer'>define_finalizer</span><span class='lparen'>(</span><span class='id a'>a</span><span class='comma'>,</span> <span class='id proc'>proc</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id id'>id</span><span class='op'>|</span> <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finalizer two on </span><span class='embexpr_beg'>#{</span><span class='id id'>id</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
   <span class='id define_finalizer'>define_finalizer</span><span class='lparen'>(</span><span class='id b'>b</span><span class='comma'>,</span> <span class='id proc'>proc</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id id'>id</span><span class='op'>|</span> <span class='id puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Finalizer three on </span><span class='embexpr_beg'>#{</span><span class='id id'>id</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
</pre>
<p>
<em>produces:</em>
</p>
<pre class="code">
   <span class='const'>Finalizer</span> <span class='id three'>three</span> <span class='id on'>on</span> <span class='int'>537763470</span>
   <span class='const'>Finalizer</span> <span class='id one'>one</span> <span class='id on'>on</span> <span class='int'>537763480</span>
   <span class='const'>Finalizer</span> <span class='id two'>two</span> <span class='id on'>on</span> <span class='int'>537763480</span></pre>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_id2ref-class_method" title="_id2ref (class method)">+ (Object) <strong>_id2ref</strong>(object_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Converts an object id to a reference to the object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count_objects-class_method" title="count_objects (class method)">+ (Hash) <strong>count_objects</strong>([result_hash]) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Counts objects for each type.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#define_finalizer-class_method" title="define_finalizer (class method)">+ (Object) <strong>define_finalizer</strong>(obj, aProc = proc()) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Adds <em>aProc</em> as a finalizer, to be called after <em>obj</em> was
destroyed.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_object-class_method" title="each_object (class method)">+ (Object) <strong>each_object</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Calls the block once for each living, nonimmediate object in this Ruby
process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#garbage_collect-class_method" title="garbage_collect (class method)">+ (Object) <strong>garbage_collect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Initiates garbage collection, unless manually disabled.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#undefine_finalizer-class_method" title="undefine_finalizer (class method)">+ (Object) <strong>undefine_finalizer</strong>(obj) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Removes all finalizers for <em>obj</em>.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="_id2ref-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>_id2ref</strong>(object_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Converts an object id to a reference to the object. May not be called on an
object id passed as a parameter to a finalizer.
</p>
<pre class="code">
   s = &quot;I am a string&quot;                    #=&gt; &quot;I am a string&quot;
   r = ObjectSpace._id2ref(s.object_id)   #=&gt; &quot;I am a string&quot;
   r == s                                 #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c'</span>

/*
 *  call-seq:
 *     ObjectSpace._id2ref(object_id) -&gt; an_object
 *
 *  Converts an object id to a reference to the object. May not be
 *  called on an object id passed as a parameter to a finalizer.
 *
 *     s = &quot;I am a string&quot;                    #=&gt; &quot;I am a string&quot;
 *     r = ObjectSpace._id2ref(s.object_id)   #=&gt; &quot;I am a string&quot;
 *     r == s                                 #=&gt; true
 *
 */

static VALUE
id2ref(VALUE obj, VALUE objid)
{
#if SIZEOF_LONG == SIZEOF_VOIDP
#define NUM2PTR(x) NUM2ULONG(x)
#elif SIZEOF_LONG_LONG == SIZEOF_VOIDP
#define NUM2PTR(x) NUM2ULL(x)
#endif
    rb_objspace_t *objspace = &amp;rb_objspace;
    VALUE ptr;
    void *p0;

    rb_secure(4);
    ptr = NUM2PTR(objid);
    p0 = (void *)ptr;

    if (ptr == Qtrue) return Qtrue;
    if (ptr == Qfalse) return Qfalse;
    if (ptr == Qnil) return Qnil;
    if (FIXNUM_P(ptr)) return (VALUE)ptr;
    ptr = objid ^ FIXNUM_FLAG;  /* unset FIXNUM_FLAG */

    if ((ptr % sizeof(RVALUE)) == (4 &lt;&lt; 2)) {
        ID symid = ptr / sizeof(RVALUE);
        if (rb_id2name(symid) == 0)
        rb_raise(rb_eRangeError, &quot;%p is not symbol id value&quot;, p0);
    return ID2SYM(symid);
    }

    if (!is_pointer_to_heap(objspace, (void *)ptr) ||
    BUILTIN_TYPE(ptr) &gt; T_FIXNUM || BUILTIN_TYPE(ptr) == T_ICLASS) {
    rb_raise(rb_eRangeError, &quot;%p is not id value&quot;, p0);
    }
    if (BUILTIN_TYPE(ptr) == 0 || RBASIC(ptr)-&gt;klass == 0) {
    rb_raise(rb_eRangeError, &quot;%p is recycled object&quot;, p0);
    }
    return (VALUE)ptr;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="count_objects-class_method">
  
    + (<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>) <strong>count_objects</strong>([result_hash]) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Counts objects for each type.
</p>
<p>
It returns a hash as: {:TOTAL=>10000, :FREE=>3011, :T_OBJECT=>6,
:T_CLASS=>404, &#8230;}
</p>
<p>
If the optional argument, result_hash, is given, it is overwritten and
returned. This is intended to avoid probe effect.
</p>
<p>
The contents of the returned hash is implementation defined. It may be
changed in future.
</p>
<p>
This method is not expected to work except C Ruby.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c'</span>

/*
 *  call-seq:
 *     ObjectSpace.count_objects([result_hash]) -&gt; hash
 *
 *  Counts objects for each type.
 *
 *  It returns a hash as:
 *  {:TOTAL=&gt;10000, :FREE=&gt;3011, :T_OBJECT=&gt;6, :T_CLASS=&gt;404, ...}
 *
 *  If the optional argument, result_hash, is given,
 *  it is overwritten and returned.
 *  This is intended to avoid probe effect.
 *
 *  The contents of the returned hash is implementation defined.
 *  It may be changed in future.
 *
 *  This method is not expected to work except C Ruby.
 *
 */

static VALUE
count_objects(int argc, VALUE *argv, VALUE os)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    size_t counts[T_MASK+1];
    size_t freed = 0;
    size_t total = 0;
    size_t i;
    VALUE hash;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;hash) == 1) {
        if (TYPE(hash) != T_HASH)
            rb_raise(rb_eTypeError, &quot;non-hash given&quot;);
    }

    for (i = 0; i &lt;= T_MASK; i++) {
        counts[i] = 0;
    }

    for (i = 0; i &lt; heaps_used; i++) {
        RVALUE *p, *pend;

        p = heaps[i].slot; pend = p + heaps[i].limit;
        for (;p &lt; pend; p++) {
            if (p-&gt;as.basic.flags) {
                counts[BUILTIN_TYPE(p)]++;
            }
            else {
                freed++;
            }
        }
        total += heaps[i].limit;
    }

    if (hash == Qnil) {
        hash = rb_hash_new();
    }
    else if (!RHASH_EMPTY_P(hash)) {
        st_foreach(RHASH_TBL(hash), set_zero, hash);
    }
    rb_hash_aset(hash, ID2SYM(rb_intern(&quot;TOTAL&quot;)), SIZET2NUM(total));
    rb_hash_aset(hash, ID2SYM(rb_intern(&quot;FREE&quot;)), SIZET2NUM(freed));

    for (i = 0; i &lt;= T_MASK; i++) {
        VALUE type;
        switch (i) {
#define COUNT_TYPE(t) case t: type = ID2SYM(rb_intern(#t)); break;
        COUNT_TYPE(T_NONE);
        COUNT_TYPE(T_OBJECT);
        COUNT_TYPE(T_CLASS);
        COUNT_TYPE(T_MODULE);
        COUNT_TYPE(T_FLOAT);
        COUNT_TYPE(T_STRING);
        COUNT_TYPE(T_REGEXP);
        COUNT_TYPE(T_ARRAY);
        COUNT_TYPE(T_HASH);
        COUNT_TYPE(T_STRUCT);
        COUNT_TYPE(T_BIGNUM);
        COUNT_TYPE(T_FILE);
        COUNT_TYPE(T_DATA);
        COUNT_TYPE(T_MATCH);
        COUNT_TYPE(T_COMPLEX);
        COUNT_TYPE(T_RATIONAL);
        COUNT_TYPE(T_NIL);
        COUNT_TYPE(T_TRUE);
        COUNT_TYPE(T_FALSE);
        COUNT_TYPE(T_SYMBOL);
        COUNT_TYPE(T_FIXNUM);
        COUNT_TYPE(T_UNDEF);
        COUNT_TYPE(T_NODE);
        COUNT_TYPE(T_ICLASS);
        COUNT_TYPE(T_ZOMBIE);
#undef COUNT_TYPE
          default:              type = INT2NUM(i); break;
        }
        if (counts[i])
            rb_hash_aset(hash, type, SIZET2NUM(counts[i]));
    }

    return hash;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="define_finalizer-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>define_finalizer</strong>(obj, aProc = proc()) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Adds <em>aProc</em> as a finalizer, to be called after <em>obj</em> was
destroyed.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c'</span>

/*
 *  call-seq:
 *     ObjectSpace.define_finalizer(obj, aProc=proc())
 *
 *  Adds &lt;i&gt;aProc&lt;/i&gt; as a finalizer, to be called after &lt;i&gt;obj&lt;/i&gt;
 *  was destroyed.
 *
 */

static VALUE
define_final(int argc, VALUE *argv, VALUE os)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    VALUE obj, block, table;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;obj, &amp;block);
    if (OBJ_FROZEN(obj)) rb_error_frozen(&quot;object&quot;);
    if (argc == 1) {
    block = rb_block_proc();
    }
    else if (!rb_respond_to(block, rb_intern(&quot;call&quot;))) {
    rb_raise(rb_eArgError, &quot;wrong type argument %s (should be callable)&quot;,
         rb_obj_classname(block));
    }
    if (!FL_ABLE(obj)) {
    rb_raise(rb_eArgError, &quot;cannot define finalizer for %s&quot;,
         rb_obj_classname(obj));
    }
    RBASIC(obj)-&gt;flags |= FL_FINALIZE;

    block = rb_ary_new3(2, INT2FIX(rb_safe_level()), block);
    OBJ_FREEZE(block);

    if (!finalizer_table) {
    finalizer_table = st_init_numtable();
    }
    if (st_lookup(finalizer_table, obj, &amp;table)) {
    rb_ary_push(table, block);
    }
    else {
    table = rb_ary_new3(1, block);
    RBASIC(table)-&gt;klass = 0;
    st_add_direct(finalizer_table, obj, table);
    }
    return block;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each_object-class_method">
  
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>each_object</strong>([) {|obj| ... }</span>
    
      <span class="overload">+ (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_object</strong>([) </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Calls the block once for each living, nonimmediate object in this Ruby
process. If <em>module</em> is specified, calls the block for only those
classes or modules that match (or are a subclass of) <em>module</em>.
Returns the number of objects found. Immediate objects (<tt>Fixnum</tt>s,
<tt>Symbol</tt>s <tt>true</tt>, <tt>false</tt>, and <tt>nil</tt>) are never
returned. In the example below, <tt>each_object</tt> returns both the
numbers we defined and several constants defined in the <tt>Math</tt>
module.
</p>
<p>
If no block is given, an enumerator is returned instead.
</p>
<pre class="code">
   a = 102.7
   b = 95       # Won't be returned
   c = 12345678987654321
   count = ObjectSpace.each_object(Numeric) {|x| p x }
   puts &quot;Total count: #{count}&quot;
</pre>
<p>
<em>produces:</em>
</p>
<pre class="code">
   12345678987654321
   102.7
   2.71828182845905
   3.14159265358979
   2.22044604925031e-16
   1.7976931348623157e+308
   2.2250738585072e-308
   Total count: 7</pre>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>each_object</strong>([) {|obj| ... }</span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>obj</tt>)</span>
      
      
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c'</span>

/*
 *  call-seq:
 *     ObjectSpace.each_object([module]) {|obj| ... } -&gt; fixnum
 *     ObjectSpace.each_object([module])              -&gt; an_enumerator
 *
 *  Calls the block once for each living, nonimmediate object in this
 *  Ruby process. If &lt;i&gt;module&lt;/i&gt; is specified, calls the block
 *  for only those classes or modules that match (or are a subclass of)
 *  &lt;i&gt;module&lt;/i&gt;. Returns the number of objects found. Immediate
 *  objects (&lt;code&gt;Fixnum&lt;/code&gt;s, &lt;code&gt;Symbol&lt;/code&gt;s
 *  &lt;code&gt;true&lt;/code&gt;, &lt;code&gt;false&lt;/code&gt;, and &lt;code&gt;nil&lt;/code&gt;) are
 *  never returned. In the example below, &lt;code&gt;each_object&lt;/code&gt;
 *  returns both the numbers we defined and several constants defined in
 *  the &lt;code&gt;Math&lt;/code&gt; module.
 *
 *  If no block is given, an enumerator is returned instead.
 *
 *     a = 102.7
 *     b = 95       # Won't be returned
 *     c = 12345678987654321
 *     count = ObjectSpace.each_object(Numeric) {|x| p x }
 *     puts &quot;Total count: #{count}&quot;
 *
 *  &lt;em&gt;produces:&lt;/em&gt;
 *
 *     12345678987654321
 *     102.7
 *     2.71828182845905
 *     3.14159265358979
 *     2.22044604925031e-16
 *     1.7976931348623157e+308
 *     2.2250738585072e-308
 *     Total count: 7
 *
 */

static VALUE
os_each_obj(int argc, VALUE *argv, VALUE os)
{
    VALUE of;

    rb_secure(4);
    if (argc == 0) {
    of = 0;
    }
    else {
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;of);
    }
    RETURN_ENUMERATOR(os, 1, &amp;of);
    return os_obj_of(of);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="garbage_collect-class_method">
  
    
      <span class="overload">+ (<tt>nil</tt>) <strong>start</strong> </span>
    
      <span class="overload">+ (<tt>nil</tt>) <strong>garbage_collect</strong> </span>
    
      <span class="overload">+ (<tt>nil</tt>) <strong>garbage_collect</strong> </span>
    
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Initiates garbage collection, unless manually disabled.
</p>


  </div>
</div>
<div class="tags">
  
  <h3>Overloads:</h3>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>nil</tt>) <strong>start</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>nil</tt>) <strong>garbage_collect</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">+ (<tt>nil</tt>) <strong>garbage_collect</strong> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c'</span>

/*
 *  call-seq:
 *     GC.start                     -&gt; nil
 *     gc.garbage_collect           -&gt; nil
 *     ObjectSpace.garbage_collect  -&gt; nil
 *
 *  Initiates garbage collection, unless manually disabled.
 *
 */

VALUE
rb_gc_start(void)
{
    rb_gc();
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="undefine_finalizer-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>undefine_finalizer</strong>(obj) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Removes all finalizers for <em>obj</em>.
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c'</span>

/*
 *  call-seq:
 *     ObjectSpace.undefine_finalizer(obj)
 *
 *  Removes all finalizers for &lt;i&gt;obj&lt;/i&gt;.
 *
 */

static VALUE
undefine_final(VALUE os, VALUE obj)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    if (OBJ_FROZEN(obj)) rb_error_frozen(&quot;object&quot;);
    if (finalizer_table) {
    st_delete(finalizer_table, (st_data_t*)&amp;obj, 0);
    }
    FL_UNSET(obj, FL_FINALIZE);
    return obj;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:05:57 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>