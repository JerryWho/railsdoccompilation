<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: File::Stat</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../File.html" title="File (class)">File</a></span></span>
     &raquo; 
    <span class="title">Stat</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: File::Stat
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">File::Stat</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="../Comparable.html" title="Comparable (module)">Comparable</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">file.c</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Objects of class <tt>File::Stat</tt> encapsulate common status information
for <tt>File</tt> objects. The information is recorded at the moment the
<tt>File::Stat</tt> object is created; changes made to the file after that
point will not be reflected. <tt>File::Stat</tt> objects are returned by
<tt>IO#stat</tt>, <tt>File::stat</tt>, <tt>File#lstat</tt>, and
<tt>File::lstat</tt>. Many of these methods return platform-specific
values, and not all values are meaningful on all systems. See also
<tt>Kernel#test</tt>.
</p>


  </div>
</div>
<div class="tags">
  
</div>

  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">- (-1, ...) <strong>&lt;=&gt;</strong>(other_stat) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Compares <tt>File::Stat</tt> objects by comparing their respective
modification times.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#atime-instance_method" title="#atime (instance method)">- (Time) <strong>atime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the last access time for this file as an object of class
<tt>Time</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#blksize-instance_method" title="#blksize (instance method)">- (Integer<sup>?</sup>) <strong>blksize</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the native file system&#8217;s block size.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#blockdev%3F-instance_method" title="#blockdev? (instance method)">- (Boolean) <strong>blockdev?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if the file is a block device, <tt>false</tt> if it
isn&#8217;t or if the operating system doesn&#8217;t support this feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#blocks-instance_method" title="#blocks (instance method)">- (Integer<sup>?</sup>) <strong>blocks</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the number of native file system blocks allocated for this file, or
<tt>nil</tt> if the operating system doesn&#8217;t support this feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chardev%3F-instance_method" title="#chardev? (instance method)">- (Boolean) <strong>chardev?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if the file is a character device, <tt>false</tt> if
it isn&#8217;t or if the operating system doesn&#8217;t support this
feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ctime-instance_method" title="#ctime (instance method)">- (Object) <strong>ctime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the change time for <em>stat</em> (that is, the time directory
information about the file was changed, not the file itself).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dev-instance_method" title="#dev (instance method)">- (Fixnum) <strong>dev</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an integer representing the device on which <em>stat</em> resides.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dev_major-instance_method" title="#dev_major (instance method)">- (Fixnum) <strong>dev_major</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the major part of <tt>File_Stat#dev</tt> or <tt>nil</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dev_minor-instance_method" title="#dev_minor (instance method)">- (Fixnum) <strong>dev_minor</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the minor part of <tt>File_Stat#dev</tt> or <tt>nil</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#directory%3F-instance_method" title="#directory? (instance method)">- (Boolean) <strong>directory?</strong>(file_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if the named file is a directory, or a symlink that
points at a directory, and <tt>false</tt> otherwise.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#executable%3F-instance_method" title="#executable? (instance method)">- (Boolean) <strong>executable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is executable or if the operating
system doesn&#8217;t distinguish executable files from nonexecutable files.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#executable_real%3F-instance_method" title="#executable_real? (instance method)">- (Boolean) <strong>executable_real?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Same as <tt>executable?</tt>, but tests using the real owner of the
process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#file%3F-instance_method" title="#file? (instance method)">- (Boolean) <strong>file?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is a regular file (not a device
file, pipe, socket, etc.).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ftype-instance_method" title="#ftype (instance method)">- (String) <strong>ftype</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Identifies the type of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gid-instance_method" title="#gid (instance method)">- (Fixnum) <strong>gid</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the numeric group id of the owner of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#grpowned%3F-instance_method" title="#grpowned? (instance method)">- (Boolean) <strong>grpowned?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns true if the effective group id of the process is the same as the
group id of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#File%3A%3AStat.new-instance_method" title="#File::Stat.new (instance method)">- (Object) <strong>File::Stat.new</strong>(file_name) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Create a File::Stat object for the given file name (raising an exception if
the file doesn&#8217;t exist).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">- (Object) <strong>initialize_copy</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
:nodoc:.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ino-instance_method" title="#ino (instance method)">- (Fixnum) <strong>ino</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the inode number for <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (String) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Produce a nicely formatted description of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mode-instance_method" title="#mode (instance method)">- (Fixnum) <strong>mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an integer representing the permission bits of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mtime-instance_method" title="#mtime (instance method)">- (Object) <strong>mtime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the modification time of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nlink-instance_method" title="#nlink (instance method)">- (Fixnum) <strong>nlink</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the number of hard links to <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#owned%3F-instance_method" title="#owned? (instance method)">- (Boolean) <strong>owned?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if the effective user id of the process is the same
as the owner of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pipe%3F-instance_method" title="#pipe? (instance method)">- (Boolean) <strong>pipe?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if the operating system supports pipes and
<em>stat</em> is a pipe; <tt>false</tt> otherwise.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rdev-instance_method" title="#rdev (instance method)">- (Fixnum<sup>?</sup>) <strong>rdev</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns an integer representing the device type on which <em>stat</em>
resides.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rdev_major-instance_method" title="#rdev_major (instance method)">- (Fixnum) <strong>rdev_major</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the major part of <tt>File_Stat#rdev</tt> or <tt>nil</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rdev_minor-instance_method" title="#rdev_minor (instance method)">- (Fixnum) <strong>rdev_minor</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the minor part of <tt>File_Stat#rdev</tt> or <tt>nil</tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readable%3F-instance_method" title="#readable? (instance method)">- (Boolean) <strong>readable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is readable by the effective user id
of this process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readable_real%3F-instance_method" title="#readable_real? (instance method)">- (Boolean) <strong>readable_real?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is readable by the real user id of
this process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setgid%3F-instance_method" title="#setgid? (instance method)">- (Boolean) <strong>setgid?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> has the set-group-id permission bit
set, <tt>false</tt> if it doesn&#8217;t or if the operating system
doesn&#8217;t support this feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setuid%3F-instance_method" title="#setuid? (instance method)">- (Boolean) <strong>setuid?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> has the set-user-id permission bit
set, <tt>false</tt> if it doesn&#8217;t or if the operating system
doesn&#8217;t support this feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">- (Fixnum) <strong>size</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the size of <em>stat</em> in bytes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">- (Integer) <strong>size</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the size of <em>stat</em> in bytes.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#socket%3F-instance_method" title="#socket? (instance method)">- (Boolean) <strong>socket?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is a socket, <tt>false</tt> if it
isn&#8217;t or if the operating system doesn&#8217;t support this feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sticky%3F-instance_method" title="#sticky? (instance method)">- (Boolean) <strong>sticky?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> has its sticky bit set,
<tt>false</tt> if it doesn&#8217;t or if the operating system doesn&#8217;t
support this feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#symlink%3F-instance_method" title="#symlink? (instance method)">- (Boolean) <strong>symlink?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is a symbolic link, <tt>false</tt>
if it isn&#8217;t or if the operating system doesn&#8217;t support this
feature.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uid-instance_method" title="#uid (instance method)">- (Fixnum) <strong>uid</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the numeric user id of the owner of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#world_readable%3F-instance_method" title="#world_readable? (instance method)">- (Fixnum<sup>?</sup>) <strong>world_readable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
If <em>stat</em> is readable by others, returns an integer representing the
file permission bits of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#world_writable%3F-instance_method" title="#world_writable? (instance method)">- (Fixnum<sup>?</sup>) <strong>world_writable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
If <em>stat</em> is writable by others, returns an integer representing the
file permission bits of <em>stat</em>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#writable%3F-instance_method" title="#writable? (instance method)">- (Boolean) <strong>writable?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is writable by the effective user id
of this process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#writable_real%3F-instance_method" title="#writable_real? (instance method)">- (Boolean) <strong>writable_real?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is writable by the real user id of
this process.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zero%3F-instance_method" title="#zero? (instance method)">- (Boolean) <strong>zero?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns <tt>true</tt> if <em>stat</em> is a zero-length file;
<tt>false</tt> otherwise.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Comparable.html" title="Comparable (module)">Comparable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Comparable.html#%3C-instance_method" title="Comparable#< (method)">#<</a></span>, <span class='object_link'><a href="../Comparable.html#%3C%3D-instance_method" title="Comparable#<= (method)">#<=</a></span>, <span class='object_link'><a href="../Comparable.html#%3D%3D-instance_method" title="Comparable#== (method)">#==</a></span>, <span class='object_link'><a href="../Comparable.html#%3E-instance_method" title="Comparable#> (method)">#></a></span>, <span class='object_link'><a href="../Comparable.html#%3E%3D-instance_method" title="Comparable#>= (method)">#>=</a></span>, <span class='object_link'><a href="../Comparable.html#between%3F-instance_method" title="Comparable#between? (method)">#between?</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>File::Stat.new</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Create a File::Stat object for the given file name (raising an exception if
the file doesn&#8217;t exist).
</p>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *
 *   File::Stat.new(file_name)  -&gt; stat
 *
 * Create a File::Stat object for the given file name (raising an
 * exception if the file doesn't exist).
 */

static VALUE
rb_stat_init(VALUE obj, VALUE fname)
{
    struct stat st, *nst;

    rb_secure(2);
    FilePathValue(fname);
    fname = rb_str_encode_ospath(fname);
    if (STAT(StringValueCStr(fname), &amp;st) == -1) {
    rb_sys_fail(RSTRING_PTR(fname));
    }
    if (DATA_PTR(obj)) {
    xfree(DATA_PTR(obj));
    DATA_PTR(obj) = NULL;
    }
    nst = ALLOC(struct stat);
    *nst = st;
    DATA_PTR(obj) = nst;

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="<=>-instance_method">
  
    - (<tt>-1</tt>, ...) <strong>&lt;=&gt;</strong>(other_stat) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Compares <tt>File::Stat</tt> objects by comparing their respective
modification times.
</p>
<pre class="code">
   f1 = File.new(&quot;f1&quot;, &quot;w&quot;)
   sleep 1
   f2 = File.new(&quot;f2&quot;, &quot;w&quot;)
   f1.stat &lt;=&gt; f2.stat   #=&gt; -1</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>-1</tt>, <tt>0</tt>, <tt>1</tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat &lt;=&gt; other_stat    -&gt; -1, 0, 1, nil
 *
 *  Compares &lt;code&gt;File::Stat&lt;/code&gt; objects by comparing their
 *  respective modification times.
 *
 *     f1 = File.new(&quot;f1&quot;, &quot;w&quot;)
 *     sleep 1
 *     f2 = File.new(&quot;f2&quot;, &quot;w&quot;)
 *     f1.stat &lt;=&gt; f2.stat   #=&gt; -1
 */

static VALUE
rb_stat_cmp(VALUE self, VALUE other)
{
    if (rb_obj_is_kind_of(other, rb_obj_class(self))) {
        struct timespec ts1 = stat_mtimespec(get_stat(self));
        struct timespec ts2 = stat_mtimespec(get_stat(other));
        if (ts1.tv_sec == ts2.tv_sec) {
            if (ts1.tv_nsec == ts2.tv_nsec) return INT2FIX(0);
            if (ts1.tv_nsec &lt; ts2.tv_nsec) return INT2FIX(-1);
            return INT2FIX(1);
        }
        if (ts1.tv_sec &lt; ts2.tv_sec) return INT2FIX(-1);
        return INT2FIX(1);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="atime-instance_method">
  
    - (<tt><span class='object_link'><a href="../Time.html" title="Time (class)">Time</a></span></tt>) <strong>atime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the last access time for this file as an object of class
<tt>Time</tt>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).atime   #=&gt; Wed Dec 31 18:00:00 CST 1969</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Time.html" title="Time (class)">Time</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.atime   -&gt; time
 *
 *  Returns the last access time for this file as an object of class
 *  &lt;code&gt;Time&lt;/code&gt;.
 *
 *     File.stat(&quot;testfile&quot;).atime   #=&gt; Wed Dec 31 18:00:00 CST 1969
 *
 */

static VALUE
rb_stat_atime(VALUE self)
{
    return stat_atime(get_stat(self));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="blksize-instance_method">
  
    - (<tt><span class='object_link'><a href="../Integer.html" title="Integer (class)">Integer</a></span></tt><sup>?</sup>) <strong>blksize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the native file system&#8217;s block size. Will return <tt>nil</tt>
on platforms that don&#8217;t support this information.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).blksize   #=&gt; 4096</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.blksize   -&gt; integer or nil
 *
 *  Returns the native file system's block size. Will return &lt;code&gt;nil&lt;/code&gt;
 *  on platforms that don't support this information.
 *
 *     File.stat(&quot;testfile&quot;).blksize   #=&gt; 4096
 *
 */

static VALUE
rb_stat_blksize(VALUE self)
{
#ifdef HAVE_ST_BLKSIZE
    return ULONG2NUM(get_stat(self)-&gt;st_blksize);
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="blockdev?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>blockdev?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if the file is a block device, <tt>false</tt> if it
isn&#8217;t or if the operating system doesn&#8217;t support this feature.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).blockdev?    #=&gt; false
   File.stat(&quot;/dev/hda1&quot;).blockdev?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.blockdev?   -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if the file is a block device,
 *  &lt;code&gt;false&lt;/code&gt; if it isn't or if the operating system doesn't
 *  support this feature.
 *
 *     File.stat(&quot;testfile&quot;).blockdev?    #=&gt; false
 *     File.stat(&quot;/dev/hda1&quot;).blockdev?   #=&gt; true
 *
 */

static VALUE
rb_stat_b(VALUE obj)
{
#ifdef S_ISBLK
    if (S_ISBLK(get_stat(obj)-&gt;st_mode)) return Qtrue;

#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="blocks-instance_method">
  
    - (<tt><span class='object_link'><a href="../Integer.html" title="Integer (class)">Integer</a></span></tt><sup>?</sup>) <strong>blocks</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the number of native file system blocks allocated for this file, or
<tt>nil</tt> if the operating system doesn&#8217;t support this feature.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).blocks   #=&gt; 2</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.blocks    -&gt; integer or nil
 *
 *  Returns the number of native file system blocks allocated for this
 *  file, or &lt;code&gt;nil&lt;/code&gt; if the operating system doesn't
 *  support this feature.
 *
 *     File.stat(&quot;testfile&quot;).blocks   #=&gt; 2
 */

static VALUE
rb_stat_blocks(VALUE self)
{
#ifdef HAVE_STRUCT_STAT_ST_BLOCKS
# if SIZEOF_STRUCT_STAT_ST_BLOCKS &gt; SIZEOF_LONG
    return ULL2NUM(get_stat(self)-&gt;st_blocks);
# else
    return ULONG2NUM(get_stat(self)-&gt;st_blocks);
# endif
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="chardev?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>chardev?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if the file is a character device, <tt>false</tt> if
it isn&#8217;t or if the operating system doesn&#8217;t support this
feature.
</p>
<pre class="code">
   File.stat(&quot;/dev/tty&quot;).chardev?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.chardev?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if the file is a character device,
 *  &lt;code&gt;false&lt;/code&gt; if it isn't or if the operating system doesn't
 *  support this feature.
 *
 *     File.stat(&quot;/dev/tty&quot;).chardev?   #=&gt; true
 *
 */

static VALUE
rb_stat_c(VALUE obj)
{
    if (S_ISCHR(get_stat(obj)-&gt;st_mode)) return Qtrue;

    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ctime-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ctime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the change time for <em>stat</em> (that is, the time directory
information about the file was changed, not the file itself).
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).ctime   #=&gt; Wed Apr 09 08:53:14 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.ctime  -&gt;  aTime
 *
 *  Returns the change time for &lt;i&gt;stat&lt;/i&gt; (that is, the time
 *  directory information about the file was changed, not the file
 *  itself).
 *
 *     File.stat(&quot;testfile&quot;).ctime   #=&gt; Wed Apr 09 08:53:14 CDT 2003
 *
 */

static VALUE
rb_stat_ctime(VALUE self)
{
    return stat_ctime(get_stat(self));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dev-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>dev</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an integer representing the device on which <em>stat</em> resides.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).dev   #=&gt; 774</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.dev    -&gt; fixnum
 *
 *  Returns an integer representing the device on which &lt;i&gt;stat&lt;/i&gt;
 *  resides.
 *
 *     File.stat(&quot;testfile&quot;).dev   #=&gt; 774
 */

static VALUE
rb_stat_dev(VALUE self)
{
    return INT2NUM(get_stat(self)-&gt;st_dev);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dev_major-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>dev_major</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the major part of <tt>File_Stat#dev</tt> or <tt>nil</tt>.
</p>
<pre class="code">
   File.stat(&quot;/dev/fd1&quot;).dev_major   #=&gt; 2
   File.stat(&quot;/dev/tty&quot;).dev_major   #=&gt; 5</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.dev_major   -&gt; fixnum
 *
 *  Returns the major part of &lt;code&gt;File_Stat#dev&lt;/code&gt; or
 *  &lt;code&gt;nil&lt;/code&gt;.
 *
 *     File.stat(&quot;/dev/fd1&quot;).dev_major   #=&gt; 2
 *     File.stat(&quot;/dev/tty&quot;).dev_major   #=&gt; 5
 */

static VALUE
rb_stat_dev_major(VALUE self)
{
#if defined(major)
    long dev = get_stat(self)-&gt;st_dev;
    return ULONG2NUM(major(dev));
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dev_minor-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>dev_minor</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the minor part of <tt>File_Stat#dev</tt> or <tt>nil</tt>.
</p>
<pre class="code">
   File.stat(&quot;/dev/fd1&quot;).dev_minor   #=&gt; 1
   File.stat(&quot;/dev/tty&quot;).dev_minor   #=&gt; 0</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.dev_minor   -&gt; fixnum
 *
 *  Returns the minor part of &lt;code&gt;File_Stat#dev&lt;/code&gt; or
 *  &lt;code&gt;nil&lt;/code&gt;.
 *
 *     File.stat(&quot;/dev/fd1&quot;).dev_minor   #=&gt; 1
 *     File.stat(&quot;/dev/tty&quot;).dev_minor   #=&gt; 0
 */

static VALUE
rb_stat_dev_minor(VALUE self)
{
#if defined(minor)
    long dev = get_stat(self)-&gt;st_dev;
    return ULONG2NUM(minor(dev));
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="directory?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>directory?</strong>(file_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if the named file is a directory, or a symlink that
points at a directory, and <tt>false</tt> otherwise.
</p>
<pre class="code">
   File.directory?(&quot;.&quot;)</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.directory?   -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is a directory,
 *  &lt;code&gt;false&lt;/code&gt; otherwise.
 *
 *     File.stat(&quot;testfile&quot;).directory?   #=&gt; false
 *     File.stat(&quot;.&quot;).directory?          #=&gt; true
 */

static VALUE
rb_stat_d(VALUE obj)
{
    if (S_ISDIR(get_stat(obj)-&gt;st_mode)) return Qtrue;
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="executable?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>executable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is executable or if the operating
system doesn&#8217;t distinguish executable files from nonexecutable files.
The tests are made using the effective owner of the process.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).executable?   #=&gt; false</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.executable?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is executable or if the
 *  operating system doesn't distinguish executable files from
 *  nonexecutable files. The tests are made using the effective owner of
 *  the process.
 *
 *     File.stat(&quot;testfile&quot;).executable?   #=&gt; false
 *
 */

static VALUE
rb_stat_x(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (geteuid() == 0) {
    return st-&gt;st_mode &amp; S_IXUGO ? Qtrue : Qfalse;
    }
#endif
#ifdef S_IXUSR
    if (rb_stat_owned(obj))
    return st-&gt;st_mode &amp; S_IXUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IXGRP
    if (rb_stat_grpowned(obj))
    return st-&gt;st_mode &amp; S_IXGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IXOTH
    if (!(st-&gt;st_mode &amp; S_IXOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="executable_real?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>executable_real?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Same as <tt>executable?</tt>, but tests using the real owner of the
process.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.executable_real?    -&gt; true or false
 *
 *  Same as &lt;code&gt;executable?&lt;/code&gt;, but tests using the real owner of
 *  the process.
 */

static VALUE
rb_stat_X(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (getuid() == 0) {
    return st-&gt;st_mode &amp; S_IXUGO ? Qtrue : Qfalse;
    }
#endif
#ifdef S_IXUSR
    if (rb_stat_rowned(obj))
    return st-&gt;st_mode &amp; S_IXUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IXGRP
    if (rb_group_member(get_stat(obj)-&gt;st_gid))
    return st-&gt;st_mode &amp; S_IXGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IXOTH
    if (!(st-&gt;st_mode &amp; S_IXOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="file?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>file?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is a regular file (not a device
file, pipe, socket, etc.).
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).file?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.file?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is a regular file (not
 *  a device file, pipe, socket, etc.).
 *
 *     File.stat(&quot;testfile&quot;).file?   #=&gt; true
 *
 */

static VALUE
rb_stat_f(VALUE obj)
{
    if (S_ISREG(get_stat(obj)-&gt;st_mode)) return Qtrue;
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ftype-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>ftype</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Identifies the type of <em>stat</em>. The return string is one of:
``<tt>file</tt>&#8217;&#8217;, ``<tt>directory</tt>&#8217;&#8217;,
``<tt>characterSpecial</tt>&#8217;&#8217;,
``<tt>blockSpecial</tt>&#8217;&#8217;, ``<tt>fifo</tt>&#8217;&#8217;,
``<tt>link</tt>&#8217;&#8217;, ``<tt>socket</tt>&#8217;&#8217;, or
``<tt>unknown</tt>&#8217;&#8217;.
</p>
<pre class="code">
   File.stat(&quot;/dev/tty&quot;).ftype   #=&gt; &quot;characterSpecial&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.ftype   -&gt; string
 *
 *  Identifies the type of &lt;i&gt;stat&lt;/i&gt;. The return string is one of:
 *  ``&lt;code&gt;file&lt;/code&gt;'', ``&lt;code&gt;directory&lt;/code&gt;'',
 *  ``&lt;code&gt;characterSpecial&lt;/code&gt;'', ``&lt;code&gt;blockSpecial&lt;/code&gt;'',
 *  ``&lt;code&gt;fifo&lt;/code&gt;'', ``&lt;code&gt;link&lt;/code&gt;'',
 *  ``&lt;code&gt;socket&lt;/code&gt;'', or ``&lt;code&gt;unknown&lt;/code&gt;''.
 *
 *     File.stat(&quot;/dev/tty&quot;).ftype   #=&gt; &quot;characterSpecial&quot;
 *
 */

static VALUE
rb_stat_ftype(VALUE obj)
{
    return rb_file_ftype(get_stat(obj));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="gid-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>gid</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the numeric group id of the owner of <em>stat</em>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).gid   #=&gt; 500</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.gid   -&gt; fixnum
 *
 *  Returns the numeric group id of the owner of &lt;i&gt;stat&lt;/i&gt;.
 *
 *     File.stat(&quot;testfile&quot;).gid   #=&gt; 500
 *
 */

static VALUE
rb_stat_gid(VALUE self)
{
    return GIDT2NUM(get_stat(self)-&gt;st_gid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="grpowned?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>grpowned?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns true if the effective group id of the process is the same as the
group id of <em>stat</em>. On Windows NT, returns <tt>false</tt>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).grpowned?      #=&gt; true
   File.stat(&quot;/etc/passwd&quot;).grpowned?   #=&gt; false</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.grpowned?   -&gt; true or false
 *
 *  Returns true if the effective group id of the process is the same as
 *  the group id of &lt;i&gt;stat&lt;/i&gt;. On Windows NT, returns &lt;code&gt;false&lt;/code&gt;.
 *
 *     File.stat(&quot;testfile&quot;).grpowned?      #=&gt; true
 *     File.stat(&quot;/etc/passwd&quot;).grpowned?   #=&gt; false
 *
 */

static VALUE
rb_stat_grpowned(VALUE obj)
{
#ifndef _WIN32
    if (rb_group_member(get_stat(obj)-&gt;st_gid)) return Qtrue;
#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="initialize_copy-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>initialize_copy</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:nodoc:
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/* :nodoc: */
static VALUE
rb_stat_init_copy(VALUE copy, VALUE orig)
{
    struct stat *nst;

    if (copy == orig) return orig;
    rb_check_frozen(copy);
    /* need better argument type check */
    if (!rb_obj_is_instance_of(orig, rb_obj_class(copy))) {
    rb_raise(rb_eTypeError, &quot;wrong argument class&quot;);
    }
    if (DATA_PTR(copy)) {
    xfree(DATA_PTR(copy));
    DATA_PTR(copy) = 0;
    }
    if (DATA_PTR(orig)) {
    nst = ALLOC(struct stat);
    *nst = *(struct stat*)DATA_PTR(orig);
    DATA_PTR(copy) = nst;
    }

    return copy;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ino-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>ino</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the inode number for <em>stat</em>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).ino   #=&gt; 1083669</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.ino   -&gt; fixnum
 *
 *  Returns the inode number for &lt;i&gt;stat&lt;/i&gt;.
 *
 *     File.stat(&quot;testfile&quot;).ino   #=&gt; 1083669
 *
 */

static VALUE
rb_stat_ino(VALUE self)
{
#if SIZEOF_STRUCT_STAT_ST_INO &gt; SIZEOF_LONG
    return ULL2NUM(get_stat(self)-&gt;st_ino);
#else
    return ULONG2NUM(get_stat(self)-&gt;st_ino);
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>inspect</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Produce a nicely formatted description of <em>stat</em>.
</p>
<pre class="code">
  File.stat(&quot;/etc/passwd&quot;).inspect
     #=&gt; &quot;#&lt;File::Stat dev=0xe000005, ino=1078078, mode=0100644,
     #    nlink=1, uid=0, gid=0, rdev=0x0, size=1374, blksize=4096,
     #    blocks=8, atime=Wed Dec 10 10:16:12 CST 2003,
     #    mtime=Fri Sep 12 15:41:41 CDT 2003,
     #    ctime=Mon Oct 27 11:20:27 CST 2003&gt;&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *   stat.inspect  -&gt;  string
 *
 * Produce a nicely formatted description of &lt;i&gt;stat&lt;/i&gt;.
 *
 *   File.stat(&quot;/etc/passwd&quot;).inspect
 *      #=&gt; &quot;#&lt;File::Stat dev=0xe000005, ino=1078078, mode=0100644,
 *      #    nlink=1, uid=0, gid=0, rdev=0x0, size=1374, blksize=4096,
 *      #    blocks=8, atime=Wed Dec 10 10:16:12 CST 2003,
 *      #    mtime=Fri Sep 12 15:41:41 CDT 2003,
 *      #    ctime=Mon Oct 27 11:20:27 CST 2003&gt;&quot;
 */

static VALUE
rb_stat_inspect(VALUE self)
{
    VALUE str;
    size_t i;
    static const struct {
    const char *name;
    VALUE (*func)(VALUE);
    } member[] = {
    {&quot;dev&quot;,        rb_stat_dev},
    {&quot;ino&quot;,        rb_stat_ino},
    {&quot;mode&quot;,    rb_stat_mode},
    {&quot;nlink&quot;,   rb_stat_nlink},
    {&quot;uid&quot;,        rb_stat_uid},
    {&quot;gid&quot;,        rb_stat_gid},
    {&quot;rdev&quot;,    rb_stat_rdev},
    {&quot;size&quot;,    rb_stat_size},
    {&quot;blksize&quot;, rb_stat_blksize},
    {&quot;blocks&quot;,  rb_stat_blocks},
    {&quot;atime&quot;,   rb_stat_atime},
    {&quot;mtime&quot;,   rb_stat_mtime},
    {&quot;ctime&quot;,   rb_stat_ctime},
    };

    struct stat* st;
    TypedData_Get_Struct(self, struct stat, &amp;stat_data_type, st);
    if (!st) {
        return rb_sprintf(&quot;#&lt;%s: uninitialized&gt;&quot;, rb_obj_classname(self));
    }

    str = rb_str_buf_new2(&quot;#&lt;&quot;);
    rb_str_buf_cat2(str, rb_obj_classname(self));
    rb_str_buf_cat2(str, &quot; &quot;);

    for (i = 0; i &lt; sizeof(member)/sizeof(member[0]); i++) {
    VALUE v;

    if (i &gt; 0) {
        rb_str_buf_cat2(str, &quot;, &quot;);
    }
    rb_str_buf_cat2(str, member[i].name);
    rb_str_buf_cat2(str, &quot;=&quot;);
    v = (*member[i].func)(self);
    if (i == 2) {      /* mode */
        rb_str_catf(str, &quot;0%lo&quot;, NUM2ULONG(v));
    }
    else if (i == 0 || i == 6) { /* dev/rdev */
        rb_str_catf(str, &quot;0x%lx&quot;, NUM2ULONG(v));
    }
    else {
        rb_str_append(str, rb_inspect(v));
    }
    }
    rb_str_buf_cat2(str, &quot;&gt;&quot;);
    OBJ_INFECT(str, self);

    return str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mode-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>mode</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an integer representing the permission bits of <em>stat</em>. The
meaning of the bits is platform dependent; on Unix systems, see
<tt>stat(2)</tt>.
</p>
<pre class="code">
   File.chmod(0644, &quot;testfile&quot;)   #=&gt; 1
   s = File.stat(&quot;testfile&quot;)
   sprintf(&quot;%o&quot;, s.mode)          #=&gt; &quot;100644&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.mode   -&gt; fixnum
 *
 *  Returns an integer representing the permission bits of
 *  &lt;i&gt;stat&lt;/i&gt;. The meaning of the bits is platform dependent; on
 *  Unix systems, see &lt;code&gt;stat(2)&lt;/code&gt;.
 *
 *     File.chmod(0644, &quot;testfile&quot;)   #=&gt; 1
 *     s = File.stat(&quot;testfile&quot;)
 *     sprintf(&quot;%o&quot;, s.mode)          #=&gt; &quot;100644&quot;
 */

static VALUE
rb_stat_mode(VALUE self)
{
    return UINT2NUM(ST2UINT(get_stat(self)-&gt;st_mode));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mtime-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>mtime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the modification time of <em>stat</em>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).mtime   #=&gt; Wed Apr 09 08:53:14 CDT 2003</pre>


  </div>
</div>
<div class="tags">
  
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.mtime  -&gt;  aTime
 *
 *  Returns the modification time of &lt;i&gt;stat&lt;/i&gt;.
 *
 *     File.stat(&quot;testfile&quot;).mtime   #=&gt; Wed Apr 09 08:53:14 CDT 2003
 *
 */

static VALUE
rb_stat_mtime(VALUE self)
{
    return stat_mtime(get_stat(self));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="nlink-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>nlink</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the number of hard links to <em>stat</em>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).nlink             #=&gt; 1
   File.link(&quot;testfile&quot;, &quot;testfile.bak&quot;)   #=&gt; 0
   File.stat(&quot;testfile&quot;).nlink             #=&gt; 2</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.nlink   -&gt; fixnum
 *
 *  Returns the number of hard links to &lt;i&gt;stat&lt;/i&gt;.
 *
 *     File.stat(&quot;testfile&quot;).nlink             #=&gt; 1
 *     File.link(&quot;testfile&quot;, &quot;testfile.bak&quot;)   #=&gt; 0
 *     File.stat(&quot;testfile&quot;).nlink             #=&gt; 2
 *
 */

static VALUE
rb_stat_nlink(VALUE self)
{
    return UINT2NUM(get_stat(self)-&gt;st_nlink);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="owned?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>owned?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if the effective user id of the process is the same
as the owner of <em>stat</em>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).owned?      #=&gt; true
   File.stat(&quot;/etc/passwd&quot;).owned?   #=&gt; false</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.owned?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if the effective user id of the process is
 *  the same as the owner of &lt;i&gt;stat&lt;/i&gt;.
 *
 *     File.stat(&quot;testfile&quot;).owned?      #=&gt; true
 *     File.stat(&quot;/etc/passwd&quot;).owned?   #=&gt; false
 *
 */

static VALUE
rb_stat_owned(VALUE obj)
{
    if (get_stat(obj)-&gt;st_uid == geteuid()) return Qtrue;
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pipe?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>pipe?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if the operating system supports pipes and
<em>stat</em> is a pipe; <tt>false</tt> otherwise.
</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.pipe?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if the operating system supports pipes and
 *  &lt;i&gt;stat&lt;/i&gt; is a pipe; &lt;code&gt;false&lt;/code&gt; otherwise.
 */

static VALUE
rb_stat_p(VALUE obj)
{
#ifdef S_IFIFO
    if (S_ISFIFO(get_stat(obj)-&gt;st_mode)) return Qtrue;

#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rdev-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>rdev</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns an integer representing the device type on which <em>stat</em>
resides. Returns <tt>nil</tt> if the operating system doesn&#8217;t support
this feature.
</p>
<pre class="code">
   File.stat(&quot;/dev/fd1&quot;).rdev   #=&gt; 513
   File.stat(&quot;/dev/tty&quot;).rdev   #=&gt; 1280</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.rdev   -&gt;  fixnum or nil
 *
 *  Returns an integer representing the device type on which
 *  &lt;i&gt;stat&lt;/i&gt; resides. Returns &lt;code&gt;nil&lt;/code&gt; if the operating
 *  system doesn't support this feature.
 *
 *     File.stat(&quot;/dev/fd1&quot;).rdev   #=&gt; 513
 *     File.stat(&quot;/dev/tty&quot;).rdev   #=&gt; 1280
 */

static VALUE
rb_stat_rdev(VALUE self)
{
#ifdef HAVE_ST_RDEV
    return ULONG2NUM(get_stat(self)-&gt;st_rdev);
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rdev_major-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>rdev_major</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the major part of <tt>File_Stat#rdev</tt> or <tt>nil</tt>.
</p>
<pre class="code">
   File.stat(&quot;/dev/fd1&quot;).rdev_major   #=&gt; 2
   File.stat(&quot;/dev/tty&quot;).rdev_major   #=&gt; 5</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.rdev_major   -&gt; fixnum
 *
 *  Returns the major part of &lt;code&gt;File_Stat#rdev&lt;/code&gt; or
 *  &lt;code&gt;nil&lt;/code&gt;.
 *
 *     File.stat(&quot;/dev/fd1&quot;).rdev_major   #=&gt; 2
 *     File.stat(&quot;/dev/tty&quot;).rdev_major   #=&gt; 5
 */

static VALUE
rb_stat_rdev_major(VALUE self)
{
#if defined(HAVE_ST_RDEV) &amp;&amp; defined(major)
    long rdev = get_stat(self)-&gt;st_rdev;
    return ULONG2NUM(major(rdev));
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rdev_minor-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>rdev_minor</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the minor part of <tt>File_Stat#rdev</tt> or <tt>nil</tt>.
</p>
<pre class="code">
   File.stat(&quot;/dev/fd1&quot;).rdev_minor   #=&gt; 1
   File.stat(&quot;/dev/tty&quot;).rdev_minor   #=&gt; 0</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.rdev_minor   -&gt; fixnum
 *
 *  Returns the minor part of &lt;code&gt;File_Stat#rdev&lt;/code&gt; or
 *  &lt;code&gt;nil&lt;/code&gt;.
 *
 *     File.stat(&quot;/dev/fd1&quot;).rdev_minor   #=&gt; 1
 *     File.stat(&quot;/dev/tty&quot;).rdev_minor   #=&gt; 0
 */

static VALUE
rb_stat_rdev_minor(VALUE self)
{
#if defined(HAVE_ST_RDEV) &amp;&amp; defined(minor)
    long rdev = get_stat(self)-&gt;st_rdev;
    return ULONG2NUM(minor(rdev));
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readable?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>readable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is readable by the effective user id
of this process.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).readable?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.readable?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is readable by the
 *  effective user id of this process.
 *
 *     File.stat(&quot;testfile&quot;).readable?   #=&gt; true
 *
 */

static VALUE
rb_stat_r(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (geteuid() == 0) return Qtrue;
#endif
#ifdef S_IRUSR
    if (rb_stat_owned(obj))
    return st-&gt;st_mode &amp; S_IRUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IRGRP
    if (rb_stat_grpowned(obj))
    return st-&gt;st_mode &amp; S_IRGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IROTH
    if (!(st-&gt;st_mode &amp; S_IROTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="readable_real?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>readable_real?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is readable by the real user id of
this process.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).readable_real?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.readable_real?  -&gt;  true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is readable by the real
 *  user id of this process.
 *
 *     File.stat(&quot;testfile&quot;).readable_real?   #=&gt; true
 *
 */

static VALUE
rb_stat_R(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (getuid() == 0) return Qtrue;
#endif
#ifdef S_IRUSR
    if (rb_stat_rowned(obj))
    return st-&gt;st_mode &amp; S_IRUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IRGRP
    if (rb_group_member(get_stat(obj)-&gt;st_gid))
    return st-&gt;st_mode &amp; S_IRGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IROTH
    if (!(st-&gt;st_mode &amp; S_IROTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setgid?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>setgid?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> has the set-group-id permission bit
set, <tt>false</tt> if it doesn&#8217;t or if the operating system
doesn&#8217;t support this feature.
</p>
<pre class="code">
   File.stat(&quot;/usr/sbin/lpc&quot;).setgid?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.setgid?   -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; has the set-group-id
 *  permission bit set, &lt;code&gt;false&lt;/code&gt; if it doesn't or if the
 *  operating system doesn't support this feature.
 *
 *     File.stat(&quot;/usr/sbin/lpc&quot;).setgid?   #=&gt; true
 *
 */

static VALUE
rb_stat_sgid(VALUE obj)
{
#ifdef S_ISGID
    if (get_stat(obj)-&gt;st_mode &amp; S_ISGID) return Qtrue;
#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setuid?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>setuid?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> has the set-user-id permission bit
set, <tt>false</tt> if it doesn&#8217;t or if the operating system
doesn&#8217;t support this feature.
</p>
<pre class="code">
   File.stat(&quot;/bin/su&quot;).setuid?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.setuid?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; has the set-user-id
 *  permission bit set, &lt;code&gt;false&lt;/code&gt; if it doesn't or if the
 *  operating system doesn't support this feature.
 *
 *     File.stat(&quot;/bin/su&quot;).setuid?   #=&gt; true
 */

static VALUE
rb_stat_suid(VALUE obj)
{
#ifdef S_ISUID
    if (get_stat(obj)-&gt;st_mode &amp; S_ISUID) return Qtrue;
#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="size-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>size</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the size of <em>stat</em> in bytes.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).size   #=&gt; 66</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.size    -&gt; fixnum
 *
 *  Returns the size of &lt;i&gt;stat&lt;/i&gt; in bytes.
 *
 *     File.stat(&quot;testfile&quot;).size   #=&gt; 66
 */

static VALUE
rb_stat_size(VALUE self)
{
    return OFFT2NUM(get_stat(self)-&gt;st_size);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="size?-instance_method">
  
    - (<tt><span class='object_link'><a href="../Integer.html" title="Integer (class)">Integer</a></span></tt>) <strong>size</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the size of <em>stat</em> in bytes.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).size   #=&gt; 66</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     state.size    -&gt; integer
 *
 *  Returns the size of &lt;i&gt;stat&lt;/i&gt; in bytes.
 *
 *     File.stat(&quot;testfile&quot;).size   #=&gt; 66
 *
 */

static VALUE
rb_stat_s(VALUE obj)
{
    off_t size = get_stat(obj)-&gt;st_size;

    if (size == 0) return Qnil;
    return OFFT2NUM(size);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="socket?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>socket?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is a socket, <tt>false</tt> if it
isn&#8217;t or if the operating system doesn&#8217;t support this feature.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).socket?   #=&gt; false</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.socket?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is a socket,
 *  &lt;code&gt;false&lt;/code&gt; if it isn't or if the operating system doesn't
 *  support this feature.
 *
 *     File.stat(&quot;testfile&quot;).socket?   #=&gt; false
 *
 */

static VALUE
rb_stat_S(VALUE obj)
{
#ifdef S_ISSOCK
    if (S_ISSOCK(get_stat(obj)-&gt;st_mode)) return Qtrue;

#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="sticky?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>sticky?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> has its sticky bit set,
<tt>false</tt> if it doesn&#8217;t or if the operating system doesn&#8217;t
support this feature.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).sticky?   #=&gt; false</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.sticky?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; has its sticky bit set,
 *  &lt;code&gt;false&lt;/code&gt; if it doesn't or if the operating system doesn't
 *  support this feature.
 *
 *     File.stat(&quot;testfile&quot;).sticky?   #=&gt; false
 *
 */

static VALUE
rb_stat_sticky(VALUE obj)
{
#ifdef S_ISVTX
    if (get_stat(obj)-&gt;st_mode &amp; S_ISVTX) return Qtrue;
#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="symlink?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>symlink?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is a symbolic link, <tt>false</tt>
if it isn&#8217;t or if the operating system doesn&#8217;t support this
feature. As <tt>File::stat</tt> automatically follows symbolic links,
<tt>symlink?</tt> will always be <tt>false</tt> for an object returned by
<tt>File::stat</tt>.
</p>
<pre class="code">
   File.symlink(&quot;testfile&quot;, &quot;alink&quot;)   #=&gt; 0
   File.stat(&quot;alink&quot;).symlink?         #=&gt; false
   File.lstat(&quot;alink&quot;).symlink?        #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.symlink?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is a symbolic link,
 *  &lt;code&gt;false&lt;/code&gt; if it isn't or if the operating system doesn't
 *  support this feature. As &lt;code&gt;File::stat&lt;/code&gt; automatically
 *  follows symbolic links, &lt;code&gt;symlink?&lt;/code&gt; will always be
 *  &lt;code&gt;false&lt;/code&gt; for an object returned by
 *  &lt;code&gt;File::stat&lt;/code&gt;.
 *
 *     File.symlink(&quot;testfile&quot;, &quot;alink&quot;)   #=&gt; 0
 *     File.stat(&quot;alink&quot;).symlink?         #=&gt; false
 *     File.lstat(&quot;alink&quot;).symlink?        #=&gt; true
 *
 */

static VALUE
rb_stat_l(VALUE obj)
{
#ifdef S_ISLNK
    if (S_ISLNK(get_stat(obj)-&gt;st_mode)) return Qtrue;
#endif
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="uid-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>) <strong>uid</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the numeric user id of the owner of <em>stat</em>.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).uid   #=&gt; 501</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.uid    -&gt; fixnum
 *
 *  Returns the numeric user id of the owner of &lt;i&gt;stat&lt;/i&gt;.
 *
 *     File.stat(&quot;testfile&quot;).uid   #=&gt; 501
 *
 */

static VALUE
rb_stat_uid(VALUE self)
{
    return UIDT2NUM(get_stat(self)-&gt;st_uid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="world_readable?-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>world_readable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
If <em>stat</em> is readable by others, returns an integer representing the
file permission bits of <em>stat</em>. Returns <tt>nil</tt> otherwise. The
meaning of the bits is platform dependent; on Unix systems, see
<tt>stat(2)</tt>.
</p>
<pre class="code">
   m = File.stat(&quot;/etc/passwd&quot;).world_readable?  #=&gt; 420
   sprintf(&quot;%o&quot;, m)                  #=&gt; &quot;644&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *    stat.world_readable? -&gt; fixnum or nil
 *
 * If &lt;i&gt;stat&lt;/i&gt; is readable by others, returns an integer
 * representing the file permission bits of &lt;i&gt;stat&lt;/i&gt;. Returns
 * &lt;code&gt;nil&lt;/code&gt; otherwise. The meaning of the bits is platform
 * dependent; on Unix systems, see &lt;code&gt;stat(2)&lt;/code&gt;.
 *
 *    m = File.stat(&quot;/etc/passwd&quot;).world_readable?  #=&gt; 420
 *    sprintf(&quot;%o&quot;, m)                  #=&gt; &quot;644&quot;
 */

static VALUE
rb_stat_wr(VALUE obj)
{
#ifdef S_IROTH
    if ((get_stat(obj)-&gt;st_mode &amp; (S_IROTH)) == S_IROTH) {
    return UINT2NUM(get_stat(obj)-&gt;st_mode &amp; (S_IRUGO|S_IWUGO|S_IXUGO));
    }
    else {
    return Qnil;
    }
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="world_writable?-instance_method">
  
    - (<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup>) <strong>world_writable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
If <em>stat</em> is writable by others, returns an integer representing the
file permission bits of <em>stat</em>. Returns <tt>nil</tt> otherwise. The
meaning of the bits is platform dependent; on Unix systems, see
<tt>stat(2)</tt>.
</p>
<pre class="code">
   m = File.stat(&quot;/tmp&quot;).world_writable?     #=&gt; 511
   sprintf(&quot;%o&quot;, m)                  #=&gt; &quot;777&quot;</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><span class='object_link'><a href="../Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 * call-seq:
 *    stat.world_writable?  -&gt;  fixnum or nil
 *
 * If &lt;i&gt;stat&lt;/i&gt; is writable by others, returns an integer
 * representing the file permission bits of &lt;i&gt;stat&lt;/i&gt;. Returns
 * &lt;code&gt;nil&lt;/code&gt; otherwise. The meaning of the bits is platform
 * dependent; on Unix systems, see &lt;code&gt;stat(2)&lt;/code&gt;.
 *
 *    m = File.stat(&quot;/tmp&quot;).world_writable?     #=&gt; 511
 *    sprintf(&quot;%o&quot;, m)                  #=&gt; &quot;777&quot;
 */

static VALUE
rb_stat_ww(VALUE obj)
{
#ifdef S_IROTH
    if ((get_stat(obj)-&gt;st_mode &amp; (S_IWOTH)) == S_IWOTH) {
    return UINT2NUM(get_stat(obj)-&gt;st_mode &amp; (S_IRUGO|S_IWUGO|S_IXUGO));
    }
    else {
    return Qnil;
    }
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="writable?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>writable?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is writable by the effective user id
of this process.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).writable?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.writable?  -&gt;  true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is writable by the
 *  effective user id of this process.
 *
 *     File.stat(&quot;testfile&quot;).writable?   #=&gt; true
 *
 */

static VALUE
rb_stat_w(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (geteuid() == 0) return Qtrue;
#endif
#ifdef S_IWUSR
    if (rb_stat_owned(obj))
    return st-&gt;st_mode &amp; S_IWUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IWGRP
    if (rb_stat_grpowned(obj))
    return st-&gt;st_mode &amp; S_IWGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IWOTH
    if (!(st-&gt;st_mode &amp; S_IWOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="writable_real?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>writable_real?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is writable by the real user id of
this process.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).writable_real?   #=&gt; true</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.writable_real?  -&gt;  true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is writable by the real
 *  user id of this process.
 *
 *     File.stat(&quot;testfile&quot;).writable_real?   #=&gt; true
 *
 */

static VALUE
rb_stat_W(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (getuid() == 0) return Qtrue;
#endif
#ifdef S_IWUSR
    if (rb_stat_rowned(obj))
    return st-&gt;st_mode &amp; S_IWUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IWGRP
    if (rb_group_member(get_stat(obj)-&gt;st_gid))
    return st-&gt;st_mode &amp; S_IWGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IWOTH
    if (!(st-&gt;st_mode &amp; S_IWOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="zero?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>zero?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns <tt>true</tt> if <em>stat</em> is a zero-length file;
<tt>false</tt> otherwise.
</p>
<pre class="code">
   File.stat(&quot;testfile&quot;).zero?   #=&gt; false</pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c'</span>

/*
 *  call-seq:
 *     stat.zero?    -&gt; true or false
 *
 *  Returns &lt;code&gt;true&lt;/code&gt; if &lt;i&gt;stat&lt;/i&gt; is a zero-length file;
 *  &lt;code&gt;false&lt;/code&gt; otherwise.
 *
 *     File.stat(&quot;testfile&quot;).zero?   #=&gt; false
 *
 */

static VALUE
rb_stat_z(VALUE obj)
{
    if (get_stat(obj)-&gt;st_size == 0) return Qtrue;
    return Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Oct 14 00:06:13 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>